(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=t(l);fetch(l.href,a)}})();function Fp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zh={exports:{}},_a={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function tz(){if(Dy)return _a;Dy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,l,a){var c=null;if(a!==void 0&&(c=""+a),l.key!==void 0&&(c=""+l.key),"key"in l){a={};for(var u in l)u!=="key"&&(a[u]=l[u])}else a=l;return l=a.ref,{$$typeof:n,type:s,key:c,ref:l!==void 0?l:null,props:a}}return _a.Fragment=e,_a.jsx=t,_a.jsxs=t,_a}var Ry;function nz(){return Ry||(Ry=1,zh.exports=tz()),zh.exports}var d=nz(),Sh={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function sz(){if(Ly)return Ce;Ly=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,N={};function S(T,K,se){this.props=T,this.context=K,this.refs=N,this.updater=se||k}S.prototype.isReactComponent={},S.prototype.setState=function(T,K){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,K,"setState")},S.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function L(){}L.prototype=S.prototype;function Y(T,K,se){this.props=T,this.context=K,this.refs=N,this.updater=se||k}var Q=Y.prototype=new L;Q.constructor=Y,z(Q,S.prototype),Q.isPureReactComponent=!0;var q=Array.isArray;function Z(){}var I={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function Ne(T,K,se){var ae=se.ref;return{$$typeof:n,type:T,key:K,ref:ae!==void 0?ae:null,props:se}}function gt(T,K){return Ne(T.type,K,T.props)}function It(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function Qe(T){var K={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(se){return K[se]})}var Xt=/\/+/g;function xt(T,K){return typeof T=="object"&&T!==null&&T.key!=null?Qe(""+T.key):K.toString(36)}function Ge(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Z,Z):(T.status="pending",T.then(function(K){T.status==="pending"&&(T.status="fulfilled",T.value=K)},function(K){T.status==="pending"&&(T.status="rejected",T.reason=K)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function _(T,K,se,ae,Se){var Re=typeof T;(Re==="undefined"||Re==="boolean")&&(T=null);var qe=!1;if(T===null)qe=!0;else switch(Re){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(T.$$typeof){case n:case e:qe=!0;break;case g:return qe=T._init,_(qe(T._payload),K,se,ae,Se)}}if(qe)return Se=Se(T),qe=ae===""?"."+xt(T,0):ae,q(Se)?(se="",qe!=null&&(se=qe.replace(Xt,"$&/")+"/"),_(Se,K,se,"",function(ti){return ti})):Se!=null&&(It(Se)&&(Se=gt(Se,se+(Se.key==null||T&&T.key===Se.key?"":(""+Se.key).replace(Xt,"$&/")+"/")+qe)),K.push(Se)),1;qe=0;var kt=ae===""?".":ae+":";if(q(T))for(var wt=0;wt<T.length;wt++)ae=T[wt],Re=kt+xt(ae,wt),qe+=_(ae,K,se,Re,Se);else if(wt=w(T),typeof wt=="function")for(T=wt.call(T),wt=0;!(ae=T.next()).done;)ae=ae.value,Re=kt+xt(ae,wt++),qe+=_(ae,K,se,Re,Se);else if(Re==="object"){if(typeof T.then=="function")return _(Ge(T),K,se,ae,Se);throw K=String(T),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return qe}function te(T,K,se){if(T==null)return T;var ae=[],Se=0;return _(T,ae,"","",function(Re){return K.call(se,Re,Se++)}),ae}function we(T){if(T._status===-1){var K=T._result;K=K(),K.then(function(se){(T._status===0||T._status===-1)&&(T._status=1,T._result=se)},function(se){(T._status===0||T._status===-1)&&(T._status=2,T._result=se)}),T._status===-1&&(T._status=0,T._result=K)}if(T._status===1)return T._result.default;throw T._result}var We=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Xe={map:te,forEach:function(T,K,se){te(T,function(){K.apply(this,arguments)},se)},count:function(T){var K=0;return te(T,function(){K++}),K},toArray:function(T){return te(T,function(K){return K})||[]},only:function(T){if(!It(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ce.Activity=y,Ce.Children=Xe,Ce.Component=S,Ce.Fragment=t,Ce.Profiler=l,Ce.PureComponent=Y,Ce.StrictMode=s,Ce.Suspense=h,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(T){return I.H.useMemoCache(T)}},Ce.cache=function(T){return function(){return T.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(T,K,se){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ae=z({},T.props),Se=T.key;if(K!=null)for(Re in K.key!==void 0&&(Se=""+K.key),K)!ie.call(K,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&K.ref===void 0||(ae[Re]=K[Re]);var Re=arguments.length-2;if(Re===1)ae.children=se;else if(1<Re){for(var qe=Array(Re),kt=0;kt<Re;kt++)qe[kt]=arguments[kt+2];ae.children=qe}return Ne(T.type,Se,ae)},Ce.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:a,_context:T},T},Ce.createElement=function(T,K,se){var ae,Se={},Re=null;if(K!=null)for(ae in K.key!==void 0&&(Re=""+K.key),K)ie.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Se[ae]=K[ae]);var qe=arguments.length-2;if(qe===1)Se.children=se;else if(1<qe){for(var kt=Array(qe),wt=0;wt<qe;wt++)kt[wt]=arguments[wt+2];Se.children=kt}if(T&&T.defaultProps)for(ae in qe=T.defaultProps,qe)Se[ae]===void 0&&(Se[ae]=qe[ae]);return Ne(T,Re,Se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(T){return{$$typeof:u,render:T}},Ce.isValidElement=It,Ce.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:we}},Ce.memo=function(T,K){return{$$typeof:p,type:T,compare:K===void 0?null:K}},Ce.startTransition=function(T){var K=I.T,se={};I.T=se;try{var ae=T(),Se=I.S;Se!==null&&Se(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Z,We)}catch(Re){We(Re)}finally{K!==null&&se.types!==null&&(K.types=se.types),I.T=K}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(T){return I.H.use(T)},Ce.useActionState=function(T,K,se){return I.H.useActionState(T,K,se)},Ce.useCallback=function(T,K){return I.H.useCallback(T,K)},Ce.useContext=function(T){return I.H.useContext(T)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(T,K){return I.H.useDeferredValue(T,K)},Ce.useEffect=function(T,K){return I.H.useEffect(T,K)},Ce.useEffectEvent=function(T){return I.H.useEffectEvent(T)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(T,K,se){return I.H.useImperativeHandle(T,K,se)},Ce.useInsertionEffect=function(T,K){return I.H.useInsertionEffect(T,K)},Ce.useLayoutEffect=function(T,K){return I.H.useLayoutEffect(T,K)},Ce.useMemo=function(T,K){return I.H.useMemo(T,K)},Ce.useOptimistic=function(T,K){return I.H.useOptimistic(T,K)},Ce.useReducer=function(T,K,se){return I.H.useReducer(T,K,se)},Ce.useRef=function(T){return I.H.useRef(T)},Ce.useState=function(T){return I.H.useState(T)},Ce.useSyncExternalStore=function(T,K,se){return I.H.useSyncExternalStore(T,K,se)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.3",Ce}var _y;function po(){return _y||(_y=1,Sh.exports=sz()),Sh.exports}var le=po();const Gi=Fp(le);var Ch={exports:{}},Ba={},Mh={exports:{}},Th={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function iz(){return By||(By=1,(function(n){function e(_,te){var we=_.length;_.push(te);e:for(;0<we;){var We=we-1>>>1,Xe=_[We];if(0<l(Xe,te))_[We]=te,_[we]=Xe,we=We;else break e}}function t(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var te=_[0],we=_.pop();if(we!==te){_[0]=we;e:for(var We=0,Xe=_.length,T=Xe>>>1;We<T;){var K=2*(We+1)-1,se=_[K],ae=K+1,Se=_[ae];if(0>l(se,we))ae<Xe&&0>l(Se,se)?(_[We]=Se,_[ae]=we,We=ae):(_[We]=se,_[K]=we,We=K);else if(ae<Xe&&0>l(Se,we))_[We]=Se,_[ae]=we,We=ae;else break e}}return te}function l(_,te){var we=_.sortIndex-te.sortIndex;return we!==0?we:_.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],p=[],g=1,y=null,b=3,w=!1,k=!1,z=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function Q(_){for(var te=t(p);te!==null;){if(te.callback===null)s(p);else if(te.startTime<=_)s(p),te.sortIndex=te.expirationTime,e(h,te);else break;te=t(p)}}function q(_){if(z=!1,Q(_),!k)if(t(h)!==null)k=!0,Z||(Z=!0,Qe());else{var te=t(p);te!==null&&Ge(q,te.startTime-_)}}var Z=!1,I=-1,ie=5,Ne=-1;function gt(){return N?!0:!(n.unstable_now()-Ne<ie)}function It(){if(N=!1,Z){var _=n.unstable_now();Ne=_;var te=!0;try{e:{k=!1,z&&(z=!1,L(I),I=-1),w=!0;var we=b;try{t:{for(Q(_),y=t(h);y!==null&&!(y.expirationTime>_&&gt());){var We=y.callback;if(typeof We=="function"){y.callback=null,b=y.priorityLevel;var Xe=We(y.expirationTime<=_);if(_=n.unstable_now(),typeof Xe=="function"){y.callback=Xe,Q(_),te=!0;break t}y===t(h)&&s(h),Q(_)}else s(h);y=t(h)}if(y!==null)te=!0;else{var T=t(p);T!==null&&Ge(q,T.startTime-_),te=!1}}break e}finally{y=null,b=we,w=!1}te=void 0}}finally{te?Qe():Z=!1}}}var Qe;if(typeof Y=="function")Qe=function(){Y(It)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,xt=Xt.port2;Xt.port1.onmessage=It,Qe=function(){xt.postMessage(null)}}else Qe=function(){S(It,0)};function Ge(_,te){I=S(function(){_(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_){_.callback=null},n.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<_?Math.floor(1e3/_):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(_){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var we=b;b=te;try{return _()}finally{b=we}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(_,te){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var we=b;b=_;try{return te()}finally{b=we}},n.unstable_scheduleCallback=function(_,te,we){var We=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?We+we:We):we=We,_){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=we+Xe,_={id:g++,callback:te,priorityLevel:_,startTime:we,expirationTime:Xe,sortIndex:-1},we>We?(_.sortIndex=we,e(p,_),t(h)===null&&_===t(p)&&(z?(L(I),I=-1):z=!0,Ge(q,we-We))):(_.sortIndex=Xe,e(h,_),k||w||(k=!0,Z||(Z=!0,Qe()))),_},n.unstable_shouldYield=gt,n.unstable_wrapCallback=function(_){var te=b;return function(){var we=b;b=te;try{return _.apply(this,arguments)}finally{b=we}}}})(Th)),Th}var Hy;function rz(){return Hy||(Hy=1,Mh.exports=iz()),Mh.exports}var Eh={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function lz(){if(Uy)return on;Uy=1;var n=po();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function a(h,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:h,containerInfo:p,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(h,p,null,g)},on.flushSync=function(h){var p=c.T,g=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=p,s.p=g,s.d.f()}},on.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(h,p))},on.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},on.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,y=u(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):g==="script"&&s.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=u(p.as,p.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(h)},on.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=u(g,p.crossOrigin);s.d.L(h,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=u(p.as,p.crossOrigin);s.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(h)},on.requestFormReset=function(h){s.d.r(h)},on.unstable_batchedUpdates=function(h,p){return h(p)},on.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.3",on}var Iy;function K1(){if(Iy)return Eh.exports;Iy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Eh.exports=lz(),Eh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function az(){if(Vy)return Ba;Vy=1;var n=rz(),e=po(),t=K1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function u(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(a(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=a(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,f=r;;){var m=o.return;if(m===null)break;var x=m.alternate;if(x===null){if(f=m.return,f!==null){o=f;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===o)return h(m),i;if(x===f)return h(m),r;x=x.sibling}throw Error(s(188))}if(o.return!==f.return)o=m,f=x;else{for(var v=!1,j=m.child;j;){if(j===o){v=!0,o=m,f=x;break}if(j===f){v=!0,f=m,o=x;break}j=j.sibling}if(!v){for(j=x.child;j;){if(j===o){v=!0,o=x,f=m;break}if(j===f){v=!0,f=x,o=m;break}j=j.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==f)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),gt=Symbol.for("react.memo_cache_sentinel"),It=Symbol.iterator;function Qe(i){return i===null||typeof i!="object"?null:(i=It&&i[It]||i["@@iterator"],typeof i=="function"?i:null)}var Xt=Symbol.for("react.client.reference");function xt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Xt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList";case Ne:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case Y:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case Q:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:xt(i.type)||"Memo";case ie:r=i._payload,i=i._init;try{return xt(i(r))}catch{}}return null}var Ge=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},We=[],Xe=-1;function T(i){return{current:i}}function K(i){0>Xe||(i.current=We[Xe],We[Xe]=null,Xe--)}function se(i,r){Xe++,We[Xe]=i.current,i.current=r}var ae=T(null),Se=T(null),Re=T(null),qe=T(null);function kt(i,r){switch(se(Re,r),se(Se,i),se(ae,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?ny(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=ny(r),i=sy(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(ae),se(ae,i)}function wt(){K(ae),K(Se),K(Re)}function ti(i){i.memoizedState!==null&&se(qe,i);var r=ae.current,o=sy(r,i.type);r!==o&&(se(Se,i),se(ae,o))}function ni(i){Se.current===i&&(K(ae),K(Se)),qe.current===i&&(K(qe),Oa._currentValue=we)}var Pl,ns;function zs(i){if(Pl===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Pl=r&&r[1]||"",ns=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pl+i+ns}var ql=!1;function $l(i,r){if(!i||ql)return"";ql=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var R=B}Reflect.construct(i,[],$)}else{try{$.call()}catch(B){R=B}i.call($.prototype)}}else{try{throw Error()}catch(B){R=B}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&R&&typeof B.stack=="string")return[B.stack,R.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),v=x[0],j=x[1];if(v&&j){var C=v.split(`
`),D=j.split(`
`);for(m=f=0;f<C.length&&!C[f].includes("DetermineComponentFrameRoot");)f++;for(;m<D.length&&!D[m].includes("DetermineComponentFrameRoot");)m++;if(f===C.length||m===D.length)for(f=C.length-1,m=D.length-1;1<=f&&0<=m&&C[f]!==D[m];)m--;for(;1<=f&&0<=m;f--,m--)if(C[f]!==D[m]){if(f!==1||m!==1)do if(f--,m--,0>m||C[f]!==D[m]){var H=`
`+C[f].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=f&&0<=m);break}}}finally{ql=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?zs(o):""}function hu(i,r){switch(i.tag){case 26:case 27:case 5:return zs(i.type);case 16:return zs("Lazy");case 13:return i.child!==r&&r!==null?zs("Suspense Fallback"):zs("Suspense");case 19:return zs("SuspenseList");case 0:case 15:return $l(i.type,!1);case 11:return $l(i.type.render,!1);case 1:return $l(i.type,!0);case 31:return zs("Activity");default:return""}}function bo(i){try{var r="",o=null;do r+=hu(i,o),o=i,i=i.return;while(i);return r}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Kl=Object.prototype.hasOwnProperty,Gl=n.unstable_scheduleCallback,Wl=n.unstable_cancelCallback,pu=n.unstable_shouldYield,mu=n.unstable_requestPaint,pn=n.unstable_now,gu=n.unstable_getCurrentPriorityLevel,wo=n.unstable_ImmediatePriority,V=n.unstable_UserBlockingPriority,de=n.unstable_NormalPriority,fe=n.unstable_LowPriority,Ye=n.unstable_IdlePriority,yt=n.log,Ae=n.unstable_setDisableYieldValue,jt=null,lt=null;function mn(i){if(typeof yt=="function"&&Ae(i),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(jt,i)}catch{}}var re=Math.clz32?Math.clz32:ze,je=Math.log,ue=Math.LN2;function ze(i){return i>>>=0,i===0?32:31-(je(i)/ue|0)|0}var Le=256,Vt=262144,Pe=4194304;function Fe(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vt(i,r,o){var f=i.pendingLanes;if(f===0)return 0;var m=0,x=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var j=f&134217727;return j!==0?(f=j&~x,f!==0?m=Fe(f):(v&=j,v!==0?m=Fe(v):o||(o=j&~i,o!==0&&(m=Fe(o))))):(j=f&~x,j!==0?m=Fe(j):v!==0?m=Fe(v):o||(o=f&~i,o!==0&&(m=Fe(o)))),m===0?0:r!==0&&r!==m&&(r&x)===0&&(x=m&-m,o=r&-r,x>=o||x===32&&(o&4194048)!==0)?r:m}function nt(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Me(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var i=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),i}function he(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function At(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function bn(i,r,o,f,m,x){var v=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var j=i.entanglements,C=i.expirationTimes,D=i.hiddenUpdates;for(o=v&~o;0<o;){var H=31-re(o),$=1<<H;j[H]=0,C[H]=-1;var R=D[H];if(R!==null)for(D[H]=null,H=0;H<R.length;H++){var B=R[H];B!==null&&(B.lane&=-536870913)}o&=~$}f!==0&&si(i,f,0),x!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=x&~(v&~r))}function si(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var f=31-re(r);i.entangledLanes|=r,i.entanglements[f]=i.entanglements[f]|1073741824|o&261930}function ii(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var f=31-re(o),m=1<<f;m&r|i[f]&r&&(i[f]|=r),o&=~m}}function Pr(i,r){var o=r&-r;return o=(o&42)!==0?1:qr(o),(o&(i.suspendedLanes|r))!==0?0:o}function qr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Yl(){var i=te.p;return i!==0?i:(i=window.event,i===void 0?32:Sy(i.type))}function E(i,r){var o=te.p;try{return te.p=i,r()}finally{te.p=o}}var G=Math.random().toString(36).slice(2),J="__reactFiber$"+G,ee="__reactProps$"+G,F="__reactContainer$"+G,pe="__reactEvents$"+G,He="__reactListeners$"+G,De="__reactHandles$"+G,an="__reactResources$"+G,ss="__reactMarker$"+G;function hs(i){delete i[J],delete i[ee],delete i[pe],delete i[He],delete i[De]}function ri(i){var r=i[J];if(r)return r;for(var o=i.parentNode;o;){if(r=o[F]||o[J]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=dy(i);i!==null;){if(o=i[J])return o;i=dy(i)}return r}i=o,o=i.parentNode}return null}function Mn(i){if(i=i[J]||i[F]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Fi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function $r(i){var r=i[an];return r||(r=i[an]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function qt(i){i[ss]=!0}var $m=new Set,Km={};function er(i,r){Kr(i,r),Kr(i+"Capture",r)}function Kr(i,r){for(Km[i]=r,i=0;i<r.length;i++)$m.add(r[i])}var Gk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gm={},Wm={};function Wk(i){return Kl.call(Wm,i)?!0:Kl.call(Gm,i)?!1:Gk.test(i)?Wm[i]=!0:(Gm[i]=!0,!1)}function vo(i,r,o){if(Wk(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ko(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ss(i,r,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+f)}}function In(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ym(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yk(i,r,o){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,x=f.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(v){o=""+v,x.call(this,v)}}),Object.defineProperty(i,r,{enumerable:f.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function xu(i){if(!i._valueTracker){var r=Ym(i)?"checked":"value";i._valueTracker=Yk(i,r,""+i[r])}}function Zm(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),f="";return i&&(f=Ym(i)?i.checked?"true":"false":i.value),i=f,i!==o?(r.setValue(i),!0):!1}function jo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zk=/[\n"\\]/g;function Vn(i){return i.replace(Zk,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yu(i,r,o,f,m,x,v,j){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),r!=null?v==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+In(r)):i.value!==""+In(r)&&(i.value=""+In(r)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),r!=null?bu(i,v,In(r)):o!=null?bu(i,v,In(o)):f!=null&&i.removeAttribute("value"),m==null&&x!=null&&(i.defaultChecked=!!x),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?i.name=""+In(j):i.removeAttribute("name")}function Jm(i,r,o,f,m,x,v,j){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),r!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||r!=null)){xu(i);return}o=o!=null?""+In(o):"",r=r!=null?""+In(r):o,j||r===i.value||(i.value=r),i.defaultValue=r}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=j?i.checked:!!f,i.defaultChecked=!!f,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),xu(i)}function bu(i,r,o){r==="number"&&jo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gr(i,r,o,f){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&f&&(i[o].defaultSelected=!0)}else{for(o=""+In(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Qm(i,r,o){if(r!=null&&(r=""+In(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+In(o):""}function Xm(i,r,o,f){if(r==null){if(f!=null){if(o!=null)throw Error(s(92));if(Ge(f)){if(1<f.length)throw Error(s(93));f=f[0]}o=f}o==null&&(o=""),r=o}o=In(r),i.defaultValue=o,f=i.textContent,f===o&&f!==""&&f!==null&&(i.value=f),xu(i)}function Wr(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Jk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fm(i,r,o){var f=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":f?i.setProperty(r,o):typeof o!="number"||o===0||Jk.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function eg(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in r)f=r[m],r.hasOwnProperty(m)&&o[m]!==f&&Fm(i,m,f)}else for(var x in r)r.hasOwnProperty(x)&&Fm(i,x,r[x])}function wu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(i){return Xk.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Cs(){}var vu=null;function ku(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yr=null,Zr=null;function tg(i){var r=Mn(i);if(r&&(i=r.stateNode)){var o=i[ee]||null;e:switch(i=r.stateNode,r.type){case"input":if(yu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var f=o[r];if(f!==i&&f.form===i.form){var m=f[ee]||null;if(!m)throw Error(s(90));yu(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)f=o[r],f.form===i.form&&Zm(f)}break e;case"textarea":Qm(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Gr(i,!!o.multiple,r,!1)}}}var ju=!1;function ng(i,r,o){if(ju)return i(r,o);ju=!0;try{var f=i(r);return f}finally{if(ju=!1,(Yr!==null||Zr!==null)&&(uc(),Yr&&(r=Yr,i=Zr,Zr=Yr=null,tg(r),i)))for(r=0;r<i.length;r++)tg(i[r])}}function Zl(i,r){var o=i.stateNode;if(o===null)return null;var f=o[ee]||null;if(f===null)return null;o=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=!1;if(Ms)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){Nu=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{Nu=!1}var li=null,zu=null,zo=null;function sg(){if(zo)return zo;var i,r=zu,o=r.length,f,m="value"in li?li.value:li.textContent,x=m.length;for(i=0;i<o&&r[i]===m[i];i++);var v=o-i;for(f=1;f<=v&&r[o-f]===m[x-f];f++);return zo=m.slice(i,1<f?1-f:void 0)}function So(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Co(){return!0}function ig(){return!1}function wn(i){function r(o,f,m,x,v){this._reactName=o,this._targetInst=m,this.type=f,this.nativeEvent=x,this.target=v,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(o=i[j],this[j]=o?o(x):x[j]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Co:ig,this.isPropagationStopped=ig,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),r}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=wn(tr),Ql=y({},tr,{view:0,detail:0}),Fk=wn(Ql),Su,Cu,Xl,To=y({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xl&&(Xl&&i.type==="mousemove"?(Su=i.screenX-Xl.screenX,Cu=i.screenY-Xl.screenY):Cu=Su=0,Xl=i),Su)},movementY:function(i){return"movementY"in i?i.movementY:Cu}}),rg=wn(To),ej=y({},To,{dataTransfer:0}),tj=wn(ej),nj=y({},Ql,{relatedTarget:0}),Mu=wn(nj),sj=y({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ij=wn(sj),rj=y({},tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lj=wn(rj),aj=y({},tr,{data:0}),lg=wn(aj),oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=dj[i])?!!r[i]:!1}function Tu(){return uj}var fj=y({},Ql,{key:function(i){if(i.key){var r=oj[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=So(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?cj[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(i){return i.type==="keypress"?So(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?So(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hj=wn(fj),pj=y({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=wn(pj),mj=y({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),gj=wn(mj),xj=y({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yj=wn(xj),bj=y({},To,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wj=wn(bj),vj=y({},tr,{newState:0,oldState:0}),kj=wn(vj),jj=[9,13,27,32],Eu=Ms&&"CompositionEvent"in window,Fl=null;Ms&&"documentMode"in document&&(Fl=document.documentMode);var Nj=Ms&&"TextEvent"in window&&!Fl,og=Ms&&(!Eu||Fl&&8<Fl&&11>=Fl),cg=" ",dg=!1;function ug(i,r){switch(i){case"keyup":return jj.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jr=!1;function zj(i,r){switch(i){case"compositionend":return fg(r);case"keypress":return r.which!==32?null:(dg=!0,cg);case"textInput":return i=r.data,i===cg&&dg?null:i;default:return null}}function Sj(i,r){if(Jr)return i==="compositionend"||!Eu&&ug(i,r)?(i=sg(),zo=zu=li=null,Jr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return og&&r.locale!=="ko"?null:r.data;default:return null}}var Cj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Cj[i.type]:r==="textarea"}function pg(i,r,o,f){Yr?Zr?Zr.push(f):Zr=[f]:Yr=f,r=yc(r,"onChange"),0<r.length&&(o=new Mo("onChange","change",null,o,f),i.push({event:o,listeners:r}))}var ea=null,ta=null;function Mj(i){J0(i,0)}function Eo(i){var r=Fi(i);if(Zm(r))return i}function mg(i,r){if(i==="change")return r}var gg=!1;if(Ms){var Au;if(Ms){var Ou="oninput"in document;if(!Ou){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Ou=typeof xg.oninput=="function"}Au=Ou}else Au=!1;gg=Au&&(!document.documentMode||9<document.documentMode)}function yg(){ea&&(ea.detachEvent("onpropertychange",bg),ta=ea=null)}function bg(i){if(i.propertyName==="value"&&Eo(ta)){var r=[];pg(r,ta,i,ku(i)),ng(Mj,r)}}function Tj(i,r,o){i==="focusin"?(yg(),ea=r,ta=o,ea.attachEvent("onpropertychange",bg)):i==="focusout"&&yg()}function Ej(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Eo(ta)}function Aj(i,r){if(i==="click")return Eo(r)}function Oj(i,r){if(i==="input"||i==="change")return Eo(r)}function Dj(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Tn=typeof Object.is=="function"?Object.is:Dj;function na(i,r){if(Tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),f=Object.keys(r);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var m=o[f];if(!Kl.call(r,m)||!Tn(i[m],r[m]))return!1}return!0}function wg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vg(i,r){var o=wg(i);i=0;for(var f;o;){if(o.nodeType===3){if(f=i+o.textContent.length,i<=r&&f>=r)return{node:o,offset:r-i};i=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wg(o)}}function kg(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?kg(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function jg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=jo(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=jo(i.document)}return r}function Du(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Rj=Ms&&"documentMode"in document&&11>=document.documentMode,Qr=null,Ru=null,sa=null,Lu=!1;function Ng(i,r,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lu||Qr==null||Qr!==jo(f)||(f=Qr,"selectionStart"in f&&Du(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),sa&&na(sa,f)||(sa=f,f=yc(Ru,"onSelect"),0<f.length&&(r=new Mo("onSelect","select",null,r,o),i.push({event:r,listeners:f}),r.target=Qr)))}function nr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Xr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},_u={},zg={};Ms&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function sr(i){if(_u[i])return _u[i];if(!Xr[i])return i;var r=Xr[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in zg)return _u[i]=r[o];return i}var Sg=sr("animationend"),Cg=sr("animationiteration"),Mg=sr("animationstart"),Lj=sr("transitionrun"),_j=sr("transitionstart"),Bj=sr("transitioncancel"),Tg=sr("transitionend"),Eg=new Map,Bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bu.push("scrollEnd");function is(i,r){Eg.set(i,r),er(r,[i])}var Ao=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Pn=[],Fr=0,Hu=0;function Oo(){for(var i=Fr,r=Hu=Fr=0;r<i;){var o=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var m=Pn[r];Pn[r++]=null;var x=Pn[r];if(Pn[r++]=null,f!==null&&m!==null){var v=f.pending;v===null?m.next=m:(m.next=v.next,v.next=m),f.pending=m}x!==0&&Ag(o,m,x)}}function Do(i,r,o,f){Pn[Fr++]=i,Pn[Fr++]=r,Pn[Fr++]=o,Pn[Fr++]=f,Hu|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Uu(i,r,o,f){return Do(i,r,o,f),Ro(i)}function ir(i,r){return Do(i,null,null,r),Ro(i)}function Ag(i,r,o){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o);for(var m=!1,x=i.return;x!==null;)x.childLanes|=o,f=x.alternate,f!==null&&(f.childLanes|=o),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(m=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,m&&r!==null&&(m=31-re(o),i=x.hiddenUpdates,f=i[m],f===null?i[m]=[r]:f.push(r),r.lane=o|536870912),x):null}function Ro(i){if(50<za)throw za=0,Zf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var el={};function Hj(i,r,o,f){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,r,o,f){return new Hj(i,r,o,f)}function Iu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ts(i,r){var o=i.alternate;return o===null?(o=En(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Og(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Lo(i,r,o,f,m,x){var v=0;if(f=i,typeof i=="function")Iu(i)&&(v=1);else if(typeof i=="string")v=qN(i,o,ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Ne:return i=En(31,o,r,m),i.elementType=Ne,i.lanes=x,i;case z:return rr(o.children,m,x,r);case N:v=8,m|=24;break;case S:return i=En(12,o,r,m|2),i.elementType=S,i.lanes=x,i;case q:return i=En(13,o,r,m),i.elementType=q,i.lanes=x,i;case Z:return i=En(19,o,r,m),i.elementType=Z,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:v=10;break e;case L:v=9;break e;case Q:v=11;break e;case I:v=14;break e;case ie:v=16,f=null;break e}v=29,o=Error(s(130,i===null?"null":typeof i,"")),f=null}return r=En(v,o,r,m),r.elementType=i,r.type=f,r.lanes=x,r}function rr(i,r,o,f){return i=En(7,i,f,r),i.lanes=o,i}function Vu(i,r,o){return i=En(6,i,null,r),i.lanes=o,i}function Dg(i){var r=En(18,null,null,0);return r.stateNode=i,r}function Pu(i,r,o){return r=En(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Rg=new WeakMap;function qn(i,r){if(typeof i=="object"&&i!==null){var o=Rg.get(i);return o!==void 0?o:(r={value:i,source:r,stack:bo(r)},Rg.set(i,r),r)}return{value:i,source:r,stack:bo(r)}}var tl=[],nl=0,_o=null,ia=0,$n=[],Kn=0,ai=null,ps=1,ms="";function Es(i,r){tl[nl++]=ia,tl[nl++]=_o,_o=i,ia=r}function Lg(i,r,o){$n[Kn++]=ps,$n[Kn++]=ms,$n[Kn++]=ai,ai=i;var f=ps;i=ms;var m=32-re(f)-1;f&=~(1<<m),o+=1;var x=32-re(r)+m;if(30<x){var v=m-m%5;x=(f&(1<<v)-1).toString(32),f>>=v,m-=v,ps=1<<32-re(r)+m|o<<m|f,ms=x+i}else ps=1<<x|o<<m|f,ms=i}function qu(i){i.return!==null&&(Es(i,1),Lg(i,1,0))}function $u(i){for(;i===_o;)_o=tl[--nl],tl[nl]=null,ia=tl[--nl],tl[nl]=null;for(;i===ai;)ai=$n[--Kn],$n[Kn]=null,ms=$n[--Kn],$n[Kn]=null,ps=$n[--Kn],$n[Kn]=null}function _g(i,r){$n[Kn++]=ps,$n[Kn++]=ms,$n[Kn++]=ai,ps=r.id,ms=r.overflow,ai=i}var Ft=null,ut=null,Ve=!1,oi=null,Gn=!1,Ku=Error(s(519));function ci(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ra(qn(r,i)),Ku}function Bg(i){var r=i.stateNode,o=i.type,f=i.memoizedProps;switch(r[J]=i,r[ee]=f,o){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<Ca.length;o++)Be(Ca[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),Jm(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),Xm(r,f.value,f.defaultValue,f.children)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||f.suppressHydrationWarning===!0||ey(r.textContent,o)?(f.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),f.onScroll!=null&&Be("scroll",r),f.onScrollEnd!=null&&Be("scrollend",r),f.onClick!=null&&(r.onclick=Cs),r=!0):r=!1,r||ci(i,!0)}function Hg(i){for(Ft=i.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ft=Ft.return}}function sl(i){if(i!==Ft)return!1;if(!Ve)return Hg(i),Ve=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||dh(i.type,i.memoizedProps)),o=!o),o&&ut&&ci(i),Hg(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ut=cy(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ut=cy(i)}else r===27?(r=ut,ji(i.type)?(i=mh,mh=null,ut=i):ut=r):ut=Ft?Yn(i.stateNode.nextSibling):null;return!0}function lr(){ut=Ft=null,Ve=!1}function Gu(){var i=oi;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),oi=null),i}function ra(i){oi===null?oi=[i]:oi.push(i)}var Wu=T(null),ar=null,As=null;function di(i,r,o){se(Wu,r._currentValue),r._currentValue=o}function Os(i){i._currentValue=Wu.current,K(Wu)}function Yu(i,r,o){for(;i!==null;){var f=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),i===o)break;i=i.return}}function Zu(i,r,o,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var x=m.dependencies;if(x!==null){var v=m.child;x=x.firstContext;e:for(;x!==null;){var j=x;x=m;for(var C=0;C<r.length;C++)if(j.context===r[C]){x.lanes|=o,j=x.alternate,j!==null&&(j.lanes|=o),Yu(x.return,o,i),f||(v=null);break e}x=j.next}}else if(m.tag===18){if(v=m.return,v===null)throw Error(s(341));v.lanes|=o,x=v.alternate,x!==null&&(x.lanes|=o),Yu(v,o,i),v=null}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}}function il(i,r,o,f){i=null;for(var m=r,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var v=m.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var j=m.type;Tn(m.pendingProps.value,v.value)||(i!==null?i.push(j):i=[j])}}else if(m===qe.current){if(v=m.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Oa):i=[Oa])}m=m.return}i!==null&&Zu(r,i,o,f),r.flags|=262144}function Bo(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function or(i){ar=i,As=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function en(i){return Ug(ar,i)}function Ho(i,r){return ar===null&&or(i),Ug(i,r)}function Ug(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},As===null){if(i===null)throw Error(s(308));As=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else As=As.next=r;return o}var Uj=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,f){i.push(f)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},Ij=n.unstable_scheduleCallback,Vj=n.unstable_NormalPriority,Rt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new Uj,data:new Map,refCount:0}}function la(i){i.refCount--,i.refCount===0&&Ij(Vj,function(){i.controller.abort()})}var aa=null,Qu=0,rl=0,ll=null;function Pj(i,r){if(aa===null){var o=aa=[];Qu=0,rl=th(),ll={status:"pending",value:void 0,then:function(f){o.push(f)}}}return Qu++,r.then(Ig,Ig),r}function Ig(){if(--Qu===0&&aa!==null){ll!==null&&(ll.status="fulfilled");var i=aa;aa=null,rl=0,ll=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function qj(i,r){var o=[],f={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){f.status="fulfilled",f.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(f.status="rejected",f.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),f}var Vg=_.S;_.S=function(i,r){N0=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Pj(i,r),Vg!==null&&Vg(i,r)};var cr=T(null);function Xu(){var i=cr.current;return i!==null?i:at.pooledCache}function Uo(i,r){r===null?se(cr,cr.current):se(cr,r.pool)}function Pg(){var i=Xu();return i===null?null:{parent:Rt._currentValue,pool:i}}var al=Error(s(460)),Fu=Error(s(474)),Io=Error(s(542)),Vo={then:function(){}};function qg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $g(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Cs,Cs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gg(i),i;default:if(typeof r.status=="string")r.then(Cs,Cs);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(f){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=f}},function(f){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gg(i),i}throw ur=r,al}}function dr(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ur=o,al):o}}var ur=null;function Kg(){if(ur===null)throw Error(s(459));var i=ur;return ur=null,i}function Gg(i){if(i===al||i===Io)throw Error(s(483))}var ol=null,oa=0;function Po(i){var r=oa;return oa+=1,ol===null&&(ol=[]),$g(ol,i,r)}function ca(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function qo(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Wg(i){function r(A,M){if(i){var O=A.deletions;O===null?(A.deletions=[M],A.flags|=16):O.push(M)}}function o(A,M){if(!i)return null;for(;M!==null;)r(A,M),M=M.sibling;return null}function f(A){for(var M=new Map;A!==null;)A.key!==null?M.set(A.key,A):M.set(A.index,A),A=A.sibling;return M}function m(A,M){return A=Ts(A,M),A.index=0,A.sibling=null,A}function x(A,M,O){return A.index=O,i?(O=A.alternate,O!==null?(O=O.index,O<M?(A.flags|=67108866,M):O):(A.flags|=67108866,M)):(A.flags|=1048576,M)}function v(A){return i&&A.alternate===null&&(A.flags|=67108866),A}function j(A,M,O,U){return M===null||M.tag!==6?(M=Vu(O,A.mode,U),M.return=A,M):(M=m(M,O),M.return=A,M)}function C(A,M,O,U){var ge=O.type;return ge===z?H(A,M,O.props.children,U,O.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ie&&dr(ge)===M.type)?(M=m(M,O.props),ca(M,O),M.return=A,M):(M=Lo(O.type,O.key,O.props,null,A.mode,U),ca(M,O),M.return=A,M)}function D(A,M,O,U){return M===null||M.tag!==4||M.stateNode.containerInfo!==O.containerInfo||M.stateNode.implementation!==O.implementation?(M=Pu(O,A.mode,U),M.return=A,M):(M=m(M,O.children||[]),M.return=A,M)}function H(A,M,O,U,ge){return M===null||M.tag!==7?(M=rr(O,A.mode,U,ge),M.return=A,M):(M=m(M,O),M.return=A,M)}function $(A,M,O){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Vu(""+M,A.mode,O),M.return=A,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return O=Lo(M.type,M.key,M.props,null,A.mode,O),ca(O,M),O.return=A,O;case k:return M=Pu(M,A.mode,O),M.return=A,M;case ie:return M=dr(M),$(A,M,O)}if(Ge(M)||Qe(M))return M=rr(M,A.mode,O,null),M.return=A,M;if(typeof M.then=="function")return $(A,Po(M),O);if(M.$$typeof===Y)return $(A,Ho(A,M),O);qo(A,M)}return null}function R(A,M,O,U){var ge=M!==null?M.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ge!==null?null:j(A,M,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return O.key===ge?C(A,M,O,U):null;case k:return O.key===ge?D(A,M,O,U):null;case ie:return O=dr(O),R(A,M,O,U)}if(Ge(O)||Qe(O))return ge!==null?null:H(A,M,O,U,null);if(typeof O.then=="function")return R(A,M,Po(O),U);if(O.$$typeof===Y)return R(A,M,Ho(A,O),U);qo(A,O)}return null}function B(A,M,O,U,ge){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return A=A.get(O)||null,j(M,A,""+U,ge);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return A=A.get(U.key===null?O:U.key)||null,C(M,A,U,ge);case k:return A=A.get(U.key===null?O:U.key)||null,D(M,A,U,ge);case ie:return U=dr(U),B(A,M,O,U,ge)}if(Ge(U)||Qe(U))return A=A.get(O)||null,H(M,A,U,ge,null);if(typeof U.then=="function")return B(A,M,O,Po(U),ge);if(U.$$typeof===Y)return B(A,M,O,Ho(M,U),ge);qo(M,U)}return null}function oe(A,M,O,U){for(var ge=null,$e=null,ce=M,Ee=M=0,Ie=null;ce!==null&&Ee<O.length;Ee++){ce.index>Ee?(Ie=ce,ce=null):Ie=ce.sibling;var Ke=R(A,ce,O[Ee],U);if(Ke===null){ce===null&&(ce=Ie);break}i&&ce&&Ke.alternate===null&&r(A,ce),M=x(Ke,M,Ee),$e===null?ge=Ke:$e.sibling=Ke,$e=Ke,ce=Ie}if(Ee===O.length)return o(A,ce),Ve&&Es(A,Ee),ge;if(ce===null){for(;Ee<O.length;Ee++)ce=$(A,O[Ee],U),ce!==null&&(M=x(ce,M,Ee),$e===null?ge=ce:$e.sibling=ce,$e=ce);return Ve&&Es(A,Ee),ge}for(ce=f(ce);Ee<O.length;Ee++)Ie=B(ce,A,Ee,O[Ee],U),Ie!==null&&(i&&Ie.alternate!==null&&ce.delete(Ie.key===null?Ee:Ie.key),M=x(Ie,M,Ee),$e===null?ge=Ie:$e.sibling=Ie,$e=Ie);return i&&ce.forEach(function(Mi){return r(A,Mi)}),Ve&&Es(A,Ee),ge}function be(A,M,O,U){if(O==null)throw Error(s(151));for(var ge=null,$e=null,ce=M,Ee=M=0,Ie=null,Ke=O.next();ce!==null&&!Ke.done;Ee++,Ke=O.next()){ce.index>Ee?(Ie=ce,ce=null):Ie=ce.sibling;var Mi=R(A,ce,Ke.value,U);if(Mi===null){ce===null&&(ce=Ie);break}i&&ce&&Mi.alternate===null&&r(A,ce),M=x(Mi,M,Ee),$e===null?ge=Mi:$e.sibling=Mi,$e=Mi,ce=Ie}if(Ke.done)return o(A,ce),Ve&&Es(A,Ee),ge;if(ce===null){for(;!Ke.done;Ee++,Ke=O.next())Ke=$(A,Ke.value,U),Ke!==null&&(M=x(Ke,M,Ee),$e===null?ge=Ke:$e.sibling=Ke,$e=Ke);return Ve&&Es(A,Ee),ge}for(ce=f(ce);!Ke.done;Ee++,Ke=O.next())Ke=B(ce,A,Ee,Ke.value,U),Ke!==null&&(i&&Ke.alternate!==null&&ce.delete(Ke.key===null?Ee:Ke.key),M=x(Ke,M,Ee),$e===null?ge=Ke:$e.sibling=Ke,$e=Ke);return i&&ce.forEach(function(ez){return r(A,ez)}),Ve&&Es(A,Ee),ge}function rt(A,M,O,U){if(typeof O=="object"&&O!==null&&O.type===z&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case w:e:{for(var ge=O.key;M!==null;){if(M.key===ge){if(ge=O.type,ge===z){if(M.tag===7){o(A,M.sibling),U=m(M,O.props.children),U.return=A,A=U;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ie&&dr(ge)===M.type){o(A,M.sibling),U=m(M,O.props),ca(U,O),U.return=A,A=U;break e}o(A,M);break}else r(A,M);M=M.sibling}O.type===z?(U=rr(O.props.children,A.mode,U,O.key),U.return=A,A=U):(U=Lo(O.type,O.key,O.props,null,A.mode,U),ca(U,O),U.return=A,A=U)}return v(A);case k:e:{for(ge=O.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===O.containerInfo&&M.stateNode.implementation===O.implementation){o(A,M.sibling),U=m(M,O.children||[]),U.return=A,A=U;break e}else{o(A,M);break}else r(A,M);M=M.sibling}U=Pu(O,A.mode,U),U.return=A,A=U}return v(A);case ie:return O=dr(O),rt(A,M,O,U)}if(Ge(O))return oe(A,M,O,U);if(Qe(O)){if(ge=Qe(O),typeof ge!="function")throw Error(s(150));return O=ge.call(O),be(A,M,O,U)}if(typeof O.then=="function")return rt(A,M,Po(O),U);if(O.$$typeof===Y)return rt(A,M,Ho(A,O),U);qo(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,M!==null&&M.tag===6?(o(A,M.sibling),U=m(M,O),U.return=A,A=U):(o(A,M),U=Vu(O,A.mode,U),U.return=A,A=U),v(A)):o(A,M)}return function(A,M,O,U){try{oa=0;var ge=rt(A,M,O,U);return ol=null,ge}catch(ce){if(ce===al||ce===Io)throw ce;var $e=En(29,ce,null,A.mode);return $e.lanes=U,$e.return=A,$e}finally{}}}var fr=Wg(!0),Yg=Wg(!1),ui=!1;function ef(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hi(i,r,o){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ze&2)!==0){var m=f.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),f.pending=r,r=Ro(i),Ag(i,null,o),r}return Do(i,f,r,o),Ro(i)}function da(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var f=r.lanes;f&=i.pendingLanes,o|=f,r.lanes=o,ii(i,o)}}function nf(i,r){var o=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var m=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?m=x=v:x=x.next=v,o=o.next}while(o!==null);x===null?m=x=r:x=x.next=r}else m=x=r;o={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var sf=!1;function ua(){if(sf){var i=ll;if(i!==null)throw i}}function fa(i,r,o,f){sf=!1;var m=i.updateQueue;ui=!1;var x=m.firstBaseUpdate,v=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var C=j,D=C.next;C.next=null,v===null?x=D:v.next=D,v=C;var H=i.alternate;H!==null&&(H=H.updateQueue,j=H.lastBaseUpdate,j!==v&&(j===null?H.firstBaseUpdate=D:j.next=D,H.lastBaseUpdate=C))}if(x!==null){var $=m.baseState;v=0,H=D=C=null,j=x;do{var R=j.lane&-536870913,B=R!==j.lane;if(B?(Ue&R)===R:(f&R)===R){R!==0&&R===rl&&(sf=!0),H!==null&&(H=H.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var oe=i,be=j;R=r;var rt=o;switch(be.tag){case 1:if(oe=be.payload,typeof oe=="function"){$=oe.call(rt,$,R);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=be.payload,R=typeof oe=="function"?oe.call(rt,$,R):oe,R==null)break e;$=y({},$,R);break e;case 2:ui=!0}}R=j.callback,R!==null&&(i.flags|=64,B&&(i.flags|=8192),B=m.callbacks,B===null?m.callbacks=[R]:B.push(R))}else B={lane:R,tag:j.tag,payload:j.payload,callback:j.callback,next:null},H===null?(D=H=B,C=$):H=H.next=B,v|=R;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;B=j,j=B.next,B.next=null,m.lastBaseUpdate=B,m.shared.pending=null}}while(!0);H===null&&(C=$),m.baseState=C,m.firstBaseUpdate=D,m.lastBaseUpdate=H,x===null&&(m.shared.lanes=0),yi|=v,i.lanes=v,i.memoizedState=$}}function Zg(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Jg(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Zg(o[i],r)}var cl=T(null),$o=T(0);function Qg(i,r){i=Vs,se($o,i),se(cl,r),Vs=i|r.baseLanes}function rf(){se($o,Vs),se(cl,cl.current)}function lf(){Vs=$o.current,K(cl),K($o)}var An=T(null),Wn=null;function pi(i){var r=i.alternate;se(Ot,Ot.current&1),se(An,i),Wn===null&&(r===null||cl.current!==null||r.memoizedState!==null)&&(Wn=i)}function af(i){se(Ot,Ot.current),se(An,i),Wn===null&&(Wn=i)}function Xg(i){i.tag===22?(se(Ot,Ot.current),se(An,i),Wn===null&&(Wn=i)):mi()}function mi(){se(Ot,Ot.current),se(An,An.current)}function On(i){K(An),Wn===i&&(Wn=null),K(Ot)}var Ot=T(0);function Ko(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||hh(o)||ph(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ds=0,Te=null,st=null,Lt=null,Go=!1,dl=!1,hr=!1,Wo=0,ha=0,ul=null,$j=0;function Nt(){throw Error(s(321))}function of(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Tn(i[o],r[o]))return!1;return!0}function cf(i,r,o,f,m,x){return Ds=x,Te=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_.H=i===null||i.memoizedState===null?Lx:Nf,hr=!1,x=o(f,m),hr=!1,dl&&(x=ex(r,o,f,m)),Fg(i),x}function Fg(i){_.H=ga;var r=st!==null&&st.next!==null;if(Ds=0,Lt=st=Te=null,Go=!1,ha=0,ul=null,r)throw Error(s(300));i===null||_t||(i=i.dependencies,i!==null&&Bo(i)&&(_t=!0))}function ex(i,r,o,f){Te=i;var m=0;do{if(dl&&(ul=null),ha=0,dl=!1,25<=m)throw Error(s(301));if(m+=1,Lt=st=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}_.H=_x,x=r(o,f)}while(dl);return x}function Kj(){var i=_.H,r=i.useState()[0];return r=typeof r.then=="function"?pa(r):r,i=i.useState()[0],(st!==null?st.memoizedState:null)!==i&&(Te.flags|=1024),r}function df(){var i=Wo!==0;return Wo=0,i}function uf(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ff(i){if(Go){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Go=!1}Ds=0,Lt=st=Te=null,dl=!1,ha=Wo=0,ul=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Te.memoizedState=Lt=i:Lt=Lt.next=i,Lt}function Dt(){if(st===null){var i=Te.alternate;i=i!==null?i.memoizedState:null}else i=st.next;var r=Lt===null?Te.memoizedState:Lt.next;if(r!==null)Lt=r,st=i;else{if(i===null)throw Te.alternate===null?Error(s(467)):Error(s(310));st=i,i={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Lt===null?Te.memoizedState=Lt=i:Lt=Lt.next=i}return Lt}function Yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pa(i){var r=ha;return ha+=1,ul===null&&(ul=[]),i=$g(ul,i,r),r=Te,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,_.H=r===null||r.memoizedState===null?Lx:Nf),i}function Zo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return pa(i);if(i.$$typeof===Y)return en(i)}throw Error(s(438,String(i)))}function hf(i){var r=null,o=Te.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var f=Te.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Yo(),Te.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),f=0;f<i;f++)o[f]=gt;return r.index++,o}function Rs(i,r){return typeof r=="function"?r(i):r}function Jo(i){var r=Dt();return pf(r,st,i)}function pf(i,r,o){var f=i.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=o;var m=i.baseQueue,x=f.pending;if(x!==null){if(m!==null){var v=m.next;m.next=x.next,x.next=v}r.baseQueue=m=x,f.pending=null}if(x=i.baseState,m===null)i.memoizedState=x;else{r=m.next;var j=v=null,C=null,D=r,H=!1;do{var $=D.lane&-536870913;if($!==D.lane?(Ue&$)===$:(Ds&$)===$){var R=D.revertLane;if(R===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),$===rl&&(H=!0);else if((Ds&R)===R){D=D.next,R===rl&&(H=!0);continue}else $={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(j=C=$,v=x):C=C.next=$,Te.lanes|=R,yi|=R;$=D.action,hr&&o(x,$),x=D.hasEagerState?D.eagerState:o(x,$)}else R={lane:$,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(j=C=R,v=x):C=C.next=R,Te.lanes|=$,yi|=$;D=D.next}while(D!==null&&D!==r);if(C===null?v=x:C.next=j,!Tn(x,i.memoizedState)&&(_t=!0,H&&(o=ll,o!==null)))throw o;i.memoizedState=x,i.baseState=v,i.baseQueue=C,f.lastRenderedState=x}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function mf(i){var r=Dt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var f=o.dispatch,m=o.pending,x=r.memoizedState;if(m!==null){o.pending=null;var v=m=m.next;do x=i(x,v.action),v=v.next;while(v!==m);Tn(x,r.memoizedState)||(_t=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),o.lastRenderedState=x}return[x,f]}function tx(i,r,o){var f=Te,m=Dt(),x=Ve;if(x){if(o===void 0)throw Error(s(407));o=o()}else o=r();var v=!Tn((st||m).memoizedState,o);if(v&&(m.memoizedState=o,_t=!0),m=m.queue,yf(ix.bind(null,f,m,i),[i]),m.getSnapshot!==r||v||Lt!==null&&Lt.memoizedState.tag&1){if(f.flags|=2048,fl(9,{destroy:void 0},sx.bind(null,f,m,o,r),null),at===null)throw Error(s(349));x||(Ds&127)!==0||nx(f,r,o)}return o}function nx(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Te.updateQueue,r===null?(r=Yo(),Te.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function sx(i,r,o,f){r.value=o,r.getSnapshot=f,rx(r)&&lx(i)}function ix(i,r,o){return o(function(){rx(r)&&lx(i)})}function rx(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Tn(i,o)}catch{return!0}}function lx(i){var r=ir(i,2);r!==null&&zn(r,i,2)}function gf(i){var r=gn();if(typeof i=="function"){var o=i;if(i=o(),hr){mn(!0);try{o()}finally{mn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:i},r}function ax(i,r,o,f){return i.baseState=o,pf(i,st,typeof f=="function"?f:Rs)}function Gj(i,r,o,f,m){if(Fo(i))throw Error(s(485));if(i=r.action,i!==null){var x={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){x.listeners.push(v)}};_.T!==null?o(!0):x.isTransition=!1,f(x),o=r.pending,o===null?(x.next=r.pending=x,ox(r,x)):(x.next=o.next,r.pending=o.next=x)}}function ox(i,r){var o=r.action,f=r.payload,m=i.state;if(r.isTransition){var x=_.T,v={};_.T=v;try{var j=o(m,f),C=_.S;C!==null&&C(v,j),cx(i,r,j)}catch(D){xf(i,r,D)}finally{x!==null&&v.types!==null&&(x.types=v.types),_.T=x}}else try{x=o(m,f),cx(i,r,x)}catch(D){xf(i,r,D)}}function cx(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){dx(i,r,f)},function(f){return xf(i,r,f)}):dx(i,r,o)}function dx(i,r,o){r.status="fulfilled",r.value=o,ux(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,ox(i,o)))}function xf(i,r,o){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=o,ux(r),r=r.next;while(r!==f)}i.action=null}function ux(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function fx(i,r){return r}function hx(i,r){if(Ve){var o=at.formState;if(o!==null){e:{var f=Te;if(Ve){if(ut){t:{for(var m=ut,x=Gn;m.nodeType!==8;){if(!x){m=null;break t}if(m=Yn(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){ut=Yn(m.nextSibling),f=m.data==="F!";break e}}ci(f)}f=!1}f&&(r=o[0])}}return o=gn(),o.memoizedState=o.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fx,lastRenderedState:r},o.queue=f,o=Ox.bind(null,Te,f),f.dispatch=o,f=gf(!1),x=jf.bind(null,Te,!1,f.queue),f=gn(),m={state:r,dispatch:null,action:i,pending:null},f.queue=m,o=Gj.bind(null,Te,m,x,o),m.dispatch=o,f.memoizedState=i,[r,o,!1]}function px(i){var r=Dt();return mx(r,st,i)}function mx(i,r,o){if(r=pf(i,r,fx)[0],i=Jo(Rs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=pa(r)}catch(v){throw v===al?Io:v}else f=r;r=Dt();var m=r.queue,x=m.dispatch;return o!==r.memoizedState&&(Te.flags|=2048,fl(9,{destroy:void 0},Wj.bind(null,m,o),null)),[f,x,i]}function Wj(i,r){i.action=r}function gx(i){var r=Dt(),o=st;if(o!==null)return mx(r,o,i);Dt(),r=r.memoizedState,o=Dt();var f=o.queue.dispatch;return o.memoizedState=i,[r,f,!1]}function fl(i,r,o,f){return i={tag:i,create:o,deps:f,inst:r,next:null},r=Te.updateQueue,r===null&&(r=Yo(),Te.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(f=o.next,o.next=i,i.next=f,r.lastEffect=i),i}function xx(){return Dt().memoizedState}function Qo(i,r,o,f){var m=gn();Te.flags|=i,m.memoizedState=fl(1|r,{destroy:void 0},o,f===void 0?null:f)}function Xo(i,r,o,f){var m=Dt();f=f===void 0?null:f;var x=m.memoizedState.inst;st!==null&&f!==null&&of(f,st.memoizedState.deps)?m.memoizedState=fl(r,x,o,f):(Te.flags|=i,m.memoizedState=fl(1|r,x,o,f))}function yx(i,r){Qo(8390656,8,i,r)}function yf(i,r){Xo(2048,8,i,r)}function Yj(i){Te.flags|=4;var r=Te.updateQueue;if(r===null)r=Yo(),Te.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function bx(i){var r=Dt().memoizedState;return Yj({ref:r,nextImpl:i}),function(){if((Ze&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function wx(i,r){return Xo(4,2,i,r)}function vx(i,r){return Xo(4,4,i,r)}function kx(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function jx(i,r,o){o=o!=null?o.concat([i]):null,Xo(4,4,kx.bind(null,r,i),o)}function bf(){}function Nx(i,r){var o=Dt();r=r===void 0?null:r;var f=o.memoizedState;return r!==null&&of(r,f[1])?f[0]:(o.memoizedState=[i,r],i)}function zx(i,r){var o=Dt();r=r===void 0?null:r;var f=o.memoizedState;if(r!==null&&of(r,f[1]))return f[0];if(f=i(),hr){mn(!0);try{i()}finally{mn(!1)}}return o.memoizedState=[f,r],f}function wf(i,r,o){return o===void 0||(Ds&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=S0(),Te.lanes|=i,yi|=i,o)}function Sx(i,r,o,f){return Tn(o,r)?o:cl.current!==null?(i=wf(i,o,f),Tn(i,r)||(_t=!0),i):(Ds&42)===0||(Ds&1073741824)!==0&&(Ue&261930)===0?(_t=!0,i.memoizedState=o):(i=S0(),Te.lanes|=i,yi|=i,r)}function Cx(i,r,o,f,m){var x=te.p;te.p=x!==0&&8>x?x:8;var v=_.T,j={};_.T=j,jf(i,!1,r,o);try{var C=m(),D=_.S;if(D!==null&&D(j,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=qj(C,f);ma(i,r,H,Ln(i))}else ma(i,r,f,Ln(i))}catch($){ma(i,r,{then:function(){},status:"rejected",reason:$},Ln())}finally{te.p=x,v!==null&&j.types!==null&&(v.types=j.types),_.T=v}}function Zj(){}function vf(i,r,o,f){if(i.tag!==5)throw Error(s(476));var m=Mx(i).queue;Cx(i,m,r,we,o===null?Zj:function(){return Tx(i),o(f)})}function Mx(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:we},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Tx(i){var r=Mx(i);r.next===null&&(r=i.alternate.memoizedState),ma(i,r.next.queue,{},Ln())}function kf(){return en(Oa)}function Ex(){return Dt().memoizedState}function Ax(){return Dt().memoizedState}function Jj(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=fi(o);var f=hi(r,i,o);f!==null&&(zn(f,r,o),da(f,r,o)),r={cache:Ju()},i.payload=r;return}r=r.return}}function Qj(i,r,o){var f=Ln();o={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fo(i)?Dx(r,o):(o=Uu(i,r,o,f),o!==null&&(zn(o,i,f),Rx(o,r,f)))}function Ox(i,r,o){var f=Ln();ma(i,r,o,f)}function ma(i,r,o,f){var m={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fo(i))Dx(r,m);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var v=r.lastRenderedState,j=x(v,o);if(m.hasEagerState=!0,m.eagerState=j,Tn(j,v))return Do(i,r,m,0),at===null&&Oo(),!1}catch{}finally{}if(o=Uu(i,r,m,f),o!==null)return zn(o,i,f),Rx(o,r,f),!0}return!1}function jf(i,r,o,f){if(f={lane:2,revertLane:th(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Fo(i)){if(r)throw Error(s(479))}else r=Uu(i,o,f,2),r!==null&&zn(r,i,2)}function Fo(i){var r=i.alternate;return i===Te||r!==null&&r===Te}function Dx(i,r){dl=Go=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Rx(i,r,o){if((o&4194048)!==0){var f=r.lanes;f&=i.pendingLanes,o|=f,r.lanes=o,ii(i,o)}}var ga={readContext:en,use:Zo,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};ga.useEffectEvent=Nt;var Lx={readContext:en,use:Zo,useCallback:function(i,r){return gn().memoizedState=[i,r===void 0?null:r],i},useContext:en,useEffect:yx,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Qo(4194308,4,kx.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Qo(4194308,4,i,r)},useInsertionEffect:function(i,r){Qo(4,2,i,r)},useMemo:function(i,r){var o=gn();r=r===void 0?null:r;var f=i();if(hr){mn(!0);try{i()}finally{mn(!1)}}return o.memoizedState=[f,r],f},useReducer:function(i,r,o){var f=gn();if(o!==void 0){var m=o(r);if(hr){mn(!0);try{o(r)}finally{mn(!1)}}}else m=r;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=Qj.bind(null,Te,i),[f.memoizedState,i]},useRef:function(i){var r=gn();return i={current:i},r.memoizedState=i},useState:function(i){i=gf(i);var r=i.queue,o=Ox.bind(null,Te,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:bf,useDeferredValue:function(i,r){var o=gn();return wf(o,i,r)},useTransition:function(){var i=gf(!1);return i=Cx.bind(null,Te,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var f=Te,m=gn();if(Ve){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),at===null)throw Error(s(349));(Ue&127)!==0||nx(f,r,o)}m.memoizedState=o;var x={value:o,getSnapshot:r};return m.queue=x,yx(ix.bind(null,f,x,i),[i]),f.flags|=2048,fl(9,{destroy:void 0},sx.bind(null,f,x,o,r),null),o},useId:function(){var i=gn(),r=at.identifierPrefix;if(Ve){var o=ms,f=ps;o=(f&~(1<<32-re(f)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Wo++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=$j++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:kf,useFormState:hx,useActionState:hx,useOptimistic:function(i){var r=gn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=jf.bind(null,Te,!0,o),o.dispatch=r,[i,r]},useMemoCache:hf,useCacheRefresh:function(){return gn().memoizedState=Jj.bind(null,Te)},useEffectEvent:function(i){var r=gn(),o={impl:i};return r.memoizedState=o,function(){if((Ze&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Nf={readContext:en,use:Zo,useCallback:Nx,useContext:en,useEffect:yf,useImperativeHandle:jx,useInsertionEffect:wx,useLayoutEffect:vx,useMemo:zx,useReducer:Jo,useRef:xx,useState:function(){return Jo(Rs)},useDebugValue:bf,useDeferredValue:function(i,r){var o=Dt();return Sx(o,st.memoizedState,i,r)},useTransition:function(){var i=Jo(Rs)[0],r=Dt().memoizedState;return[typeof i=="boolean"?i:pa(i),r]},useSyncExternalStore:tx,useId:Ex,useHostTransitionStatus:kf,useFormState:px,useActionState:px,useOptimistic:function(i,r){var o=Dt();return ax(o,st,i,r)},useMemoCache:hf,useCacheRefresh:Ax};Nf.useEffectEvent=bx;var _x={readContext:en,use:Zo,useCallback:Nx,useContext:en,useEffect:yf,useImperativeHandle:jx,useInsertionEffect:wx,useLayoutEffect:vx,useMemo:zx,useReducer:mf,useRef:xx,useState:function(){return mf(Rs)},useDebugValue:bf,useDeferredValue:function(i,r){var o=Dt();return st===null?wf(o,i,r):Sx(o,st.memoizedState,i,r)},useTransition:function(){var i=mf(Rs)[0],r=Dt().memoizedState;return[typeof i=="boolean"?i:pa(i),r]},useSyncExternalStore:tx,useId:Ex,useHostTransitionStatus:kf,useFormState:gx,useActionState:gx,useOptimistic:function(i,r){var o=Dt();return st!==null?ax(o,st,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Ax};_x.useEffectEvent=bx;function zf(i,r,o,f){r=i.memoizedState,o=o(f,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Sf={enqueueSetState:function(i,r,o){i=i._reactInternals;var f=Ln(),m=fi(f);m.payload=r,o!=null&&(m.callback=o),r=hi(i,m,f),r!==null&&(zn(r,i,f),da(r,i,f))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var f=Ln(),m=fi(f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=hi(i,m,f),r!==null&&(zn(r,i,f),da(r,i,f))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),f=fi(o);f.tag=2,r!=null&&(f.callback=r),r=hi(i,f,o),r!==null&&(zn(r,i,o),da(r,i,o))}};function Bx(i,r,o,f,m,x,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,x,v):r.prototype&&r.prototype.isPureReactComponent?!na(o,f)||!na(m,x):!0}function Hx(i,r,o,f){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,f),r.state!==i&&Sf.enqueueReplaceState(r,r.state,null)}function pr(i,r){var o=r;if("ref"in r){o={};for(var f in r)f!=="ref"&&(o[f]=r[f])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function Ux(i){Ao(i)}function Ix(i){console.error(i)}function Vx(i){Ao(i)}function ec(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function Px(i,r,o){try{var f=i.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Cf(i,r,o){return o=fi(o),o.tag=3,o.payload={element:null},o.callback=function(){ec(i,r)},o}function qx(i){return i=fi(i),i.tag=3,i}function $x(i,r,o,f){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var x=f.value;i.payload=function(){return m(x)},i.callback=function(){Px(r,o,f)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Px(r,o,f),typeof m!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})})}function Xj(i,r,o,f,m){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=o.alternate,r!==null&&il(r,o,m,!0),o=An.current,o!==null){switch(o.tag){case 31:case 13:return Wn===null?fc():o.alternate===null&&zt===0&&(zt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,f===Vo?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([f]):r.add(f),Xf(i,f,m)),!1;case 22:return o.flags|=65536,f===Vo?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([f]):o.add(f)),Xf(i,f,m)),!1}throw Error(s(435,o.tag))}return Xf(i,f,m),fc(),!1}if(Ve)return r=An.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,f!==Ku&&(i=Error(s(422),{cause:f}),ra(qn(i,o)))):(f!==Ku&&(r=Error(s(423),{cause:f}),ra(qn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=qn(f,o),m=Cf(i.stateNode,f,m),nf(i,m),zt!==4&&(zt=2)),!1;var x=Error(s(520),{cause:f});if(x=qn(x,o),Na===null?Na=[x]:Na.push(x),zt!==4&&(zt=2),r===null)return!0;f=qn(f,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Cf(o.stateNode,f,i),nf(o,i),!1;case 1:if(r=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(bi===null||!bi.has(x))))return o.flags|=65536,m&=-m,o.lanes|=m,m=qx(m),$x(m,i,o,f),nf(o,m),!1}o=o.return}while(o!==null);return!1}var Mf=Error(s(461)),_t=!1;function tn(i,r,o,f){r.child=i===null?Yg(r,null,o,f):fr(r,i.child,o,f)}function Kx(i,r,o,f,m){o=o.render;var x=r.ref;if("ref"in f){var v={};for(var j in f)j!=="ref"&&(v[j]=f[j])}else v=f;return or(r),f=cf(i,r,o,v,x,m),j=df(),i!==null&&!_t?(uf(i,r,m),Ls(i,r,m)):(Ve&&j&&qu(r),r.flags|=1,tn(i,r,f,m),r.child)}function Gx(i,r,o,f,m){if(i===null){var x=o.type;return typeof x=="function"&&!Iu(x)&&x.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=x,Wx(i,r,x,f,m)):(i=Lo(o.type,null,f,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(x=i.child,!_f(i,m)){var v=x.memoizedProps;if(o=o.compare,o=o!==null?o:na,o(v,f)&&i.ref===r.ref)return Ls(i,r,m)}return r.flags|=1,i=Ts(x,f),i.ref=r.ref,i.return=r,r.child=i}function Wx(i,r,o,f,m){if(i!==null){var x=i.memoizedProps;if(na(x,f)&&i.ref===r.ref)if(_t=!1,r.pendingProps=f=x,_f(i,m))(i.flags&131072)!==0&&(_t=!0);else return r.lanes=i.lanes,Ls(i,r,m)}return Tf(i,r,o,f,m)}function Yx(i,r,o,f){var m=f.children,x=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((r.flags&128)!==0){if(x=x!==null?x.baseLanes|o:o,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;f=m&~x}else f=0,r.child=null;return Zx(i,r,x,o,f)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uo(r,x!==null?x.cachePool:null),x!==null?Qg(r,x):rf(),Xg(r);else return f=r.lanes=536870912,Zx(i,r,x!==null?x.baseLanes|o:o,o,f)}else x!==null?(Uo(r,x.cachePool),Qg(r,x),mi(),r.memoizedState=null):(i!==null&&Uo(r,null),rf(),mi());return tn(i,r,m,o),r.child}function xa(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Zx(i,r,o,f,m){var x=Xu();return x=x===null?null:{parent:Rt._currentValue,pool:x},r.memoizedState={baseLanes:o,cachePool:x},i!==null&&Uo(r,null),rf(),Xg(r),i!==null&&il(i,r,f,!0),r.childLanes=m,null}function tc(i,r){return r=sc({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Jx(i,r,o){return fr(r,i.child,null,o),i=tc(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function Fj(i,r,o){var f=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ve){if(f.mode==="hidden")return i=tc(r,f),r.lanes=536870912,xa(null,i);if(af(r),(i=ut)?(i=oy(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ai!==null?{id:ps,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=Dg(i),o.return=r,r.child=o,Ft=r,ut=null)):i=null,i===null)throw ci(r);return r.lanes=536870912,null}return tc(r,f)}var x=i.memoizedState;if(x!==null){var v=x.dehydrated;if(af(r),m)if(r.flags&256)r.flags&=-257,r=Jx(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(_t||il(i,r,o,!1),m=(o&i.childLanes)!==0,_t||m){if(f=at,f!==null&&(v=Pr(f,o),v!==0&&v!==x.retryLane))throw x.retryLane=v,ir(i,v),zn(f,i,v),Mf;fc(),r=Jx(i,r,o)}else i=x.treeContext,ut=Yn(v.nextSibling),Ft=r,Ve=!0,oi=null,Gn=!1,i!==null&&_g(r,i),r=tc(r,f),r.flags|=4096;return r}return i=Ts(i.child,{mode:f.mode,children:f.children}),i.ref=r.ref,r.child=i,i.return=r,i}function nc(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Tf(i,r,o,f,m){return or(r),o=cf(i,r,o,f,void 0,m),f=df(),i!==null&&!_t?(uf(i,r,m),Ls(i,r,m)):(Ve&&f&&qu(r),r.flags|=1,tn(i,r,o,m),r.child)}function Qx(i,r,o,f,m,x){return or(r),r.updateQueue=null,o=ex(r,f,o,m),Fg(i),f=df(),i!==null&&!_t?(uf(i,r,x),Ls(i,r,x)):(Ve&&f&&qu(r),r.flags|=1,tn(i,r,o,x),r.child)}function Xx(i,r,o,f,m){if(or(r),r.stateNode===null){var x=el,v=o.contextType;typeof v=="object"&&v!==null&&(x=en(v)),x=new o(f,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Sf,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=f,x.state=r.memoizedState,x.refs={},ef(r),v=o.contextType,x.context=typeof v=="object"&&v!==null?en(v):el,x.state=r.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(zf(r,o,v,f),x.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(v=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),v!==x.state&&Sf.enqueueReplaceState(x,x.state,null),fa(r,f,x,m),ua(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(i===null){x=r.stateNode;var j=r.memoizedProps,C=pr(o,j);x.props=C;var D=x.context,H=o.contextType;v=el,typeof H=="object"&&H!==null&&(v=en(H));var $=o.getDerivedStateFromProps;H=typeof $=="function"||typeof x.getSnapshotBeforeUpdate=="function",j=r.pendingProps!==j,H||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j||D!==v)&&Hx(r,x,f,v),ui=!1;var R=r.memoizedState;x.state=R,fa(r,f,x,m),ua(),D=r.memoizedState,j||R!==D||ui?(typeof $=="function"&&(zf(r,o,$,f),D=r.memoizedState),(C=ui||Bx(r,o,C,f,R,D,v))?(H||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=D),x.props=f,x.state=D,x.context=v,f=C):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{x=r.stateNode,tf(i,r),v=r.memoizedProps,H=pr(o,v),x.props=H,$=r.pendingProps,R=x.context,D=o.contextType,C=el,typeof D=="object"&&D!==null&&(C=en(D)),j=o.getDerivedStateFromProps,(D=typeof j=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(v!==$||R!==C)&&Hx(r,x,f,C),ui=!1,R=r.memoizedState,x.state=R,fa(r,f,x,m),ua();var B=r.memoizedState;v!==$||R!==B||ui||i!==null&&i.dependencies!==null&&Bo(i.dependencies)?(typeof j=="function"&&(zf(r,o,j,f),B=r.memoizedState),(H=ui||Bx(r,o,H,f,R,B,C)||i!==null&&i.dependencies!==null&&Bo(i.dependencies))?(D||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,B,C),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,B,C)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||v===i.memoizedProps&&R===i.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&R===i.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=B),x.props=f,x.state=B,x.context=C,f=H):(typeof x.componentDidUpdate!="function"||v===i.memoizedProps&&R===i.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&R===i.memoizedState||(r.flags|=1024),f=!1)}return x=f,nc(i,r),f=(r.flags&128)!==0,x||f?(x=r.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,i!==null&&f?(r.child=fr(r,i.child,null,m),r.child=fr(r,null,o,m)):tn(i,r,o,m),r.memoizedState=x.state,i=r.child):i=Ls(i,r,m),i}function Fx(i,r,o,f){return lr(),r.flags|=256,tn(i,r,o,f),r.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(i){return{baseLanes:i,cachePool:Pg()}}function Of(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Rn),i}function e0(i,r,o){var f=r.pendingProps,m=!1,x=(r.flags&128)!==0,v;if((v=x)||(v=i!==null&&i.memoizedState===null?!1:(Ot.current&2)!==0),v&&(m=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ve){if(m?pi(r):mi(),(i=ut)?(i=oy(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ai!==null?{id:ps,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=Dg(i),o.return=r,r.child=o,Ft=r,ut=null)):i=null,i===null)throw ci(r);return ph(i)?r.lanes=32:r.lanes=536870912,null}var j=f.children;return f=f.fallback,m?(mi(),m=r.mode,j=sc({mode:"hidden",children:j},m),f=rr(f,m,o,null),j.return=r,f.return=r,j.sibling=f,r.child=j,f=r.child,f.memoizedState=Af(o),f.childLanes=Of(i,v,o),r.memoizedState=Ef,xa(null,f)):(pi(r),Df(r,j))}var C=i.memoizedState;if(C!==null&&(j=C.dehydrated,j!==null)){if(x)r.flags&256?(pi(r),r.flags&=-257,r=Rf(i,r,o)):r.memoizedState!==null?(mi(),r.child=i.child,r.flags|=128,r=null):(mi(),j=f.fallback,m=r.mode,f=sc({mode:"visible",children:f.children},m),j=rr(j,m,o,null),j.flags|=2,f.return=r,j.return=r,f.sibling=j,r.child=f,fr(r,i.child,null,o),f=r.child,f.memoizedState=Af(o),f.childLanes=Of(i,v,o),r.memoizedState=Ef,r=xa(null,f));else if(pi(r),ph(j)){if(v=j.nextSibling&&j.nextSibling.dataset,v)var D=v.dgst;v=D,f=Error(s(419)),f.stack="",f.digest=v,ra({value:f,source:null,stack:null}),r=Rf(i,r,o)}else if(_t||il(i,r,o,!1),v=(o&i.childLanes)!==0,_t||v){if(v=at,v!==null&&(f=Pr(v,o),f!==0&&f!==C.retryLane))throw C.retryLane=f,ir(i,f),zn(v,i,f),Mf;hh(j)||fc(),r=Rf(i,r,o)}else hh(j)?(r.flags|=192,r.child=i.child,r=null):(i=C.treeContext,ut=Yn(j.nextSibling),Ft=r,Ve=!0,oi=null,Gn=!1,i!==null&&_g(r,i),r=Df(r,f.children),r.flags|=4096);return r}return m?(mi(),j=f.fallback,m=r.mode,C=i.child,D=C.sibling,f=Ts(C,{mode:"hidden",children:f.children}),f.subtreeFlags=C.subtreeFlags&65011712,D!==null?j=Ts(D,j):(j=rr(j,m,o,null),j.flags|=2),j.return=r,f.return=r,f.sibling=j,r.child=f,xa(null,f),f=r.child,j=i.child.memoizedState,j===null?j=Af(o):(m=j.cachePool,m!==null?(C=Rt._currentValue,m=m.parent!==C?{parent:C,pool:C}:m):m=Pg(),j={baseLanes:j.baseLanes|o,cachePool:m}),f.memoizedState=j,f.childLanes=Of(i,v,o),r.memoizedState=Ef,xa(i.child,f)):(pi(r),o=i.child,i=o.sibling,o=Ts(o,{mode:"visible",children:f.children}),o.return=r,o.sibling=null,i!==null&&(v=r.deletions,v===null?(r.deletions=[i],r.flags|=16):v.push(i)),r.child=o,r.memoizedState=null,o)}function Df(i,r){return r=sc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function sc(i,r){return i=En(22,i,null,r),i.lanes=0,i}function Rf(i,r,o){return fr(r,i.child,null,o),i=Df(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function t0(i,r,o){i.lanes|=r;var f=i.alternate;f!==null&&(f.lanes|=r),Yu(i.return,r,o)}function Lf(i,r,o,f,m,x){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:m,treeForkCount:x}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=o,v.tailMode=m,v.treeForkCount=x)}function n0(i,r,o){var f=r.pendingProps,m=f.revealOrder,x=f.tail;f=f.children;var v=Ot.current,j=(v&2)!==0;if(j?(v=v&1|2,r.flags|=128):v&=1,se(Ot,v),tn(i,r,f,o),f=Ve?ia:0,!j&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t0(i,o,r);else if(i.tag===19)t0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Ko(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Lf(r,!1,m,o,x,f);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Ko(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Lf(r,!0,o,null,x,f);break;case"together":Lf(r,!1,null,null,void 0,f);break;default:r.memoizedState=null}return r.child}function Ls(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),yi|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(il(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ts(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ts(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function _f(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Bo(i)))}function eN(i,r,o){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),di(r,Rt,i.memoizedState.cache),lr();break;case 27:case 5:ti(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:di(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,af(r),null;break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(pi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?e0(i,r,o):(pi(r),i=Ls(i,r,o),i!==null?i.sibling:null);pi(r);break;case 19:var m=(i.flags&128)!==0;if(f=(o&r.childLanes)!==0,f||(il(i,r,o,!1),f=(o&r.childLanes)!==0),m){if(f)return n0(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),se(Ot,Ot.current),f)break;return null;case 22:return r.lanes=0,Yx(i,r,o,r.pendingProps);case 24:di(r,Rt,i.memoizedState.cache)}return Ls(i,r,o)}function s0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)_t=!0;else{if(!_f(i,o)&&(r.flags&128)===0)return _t=!1,eN(i,r,o);_t=(i.flags&131072)!==0}else _t=!1,Ve&&(r.flags&1048576)!==0&&Lg(r,ia,r.index);switch(r.lanes=0,r.tag){case 16:e:{var f=r.pendingProps;if(i=dr(r.elementType),r.type=i,typeof i=="function")Iu(i)?(f=pr(i,f),r.tag=1,r=Xx(null,r,i,f,o)):(r.tag=0,r=Tf(null,r,i,f,o));else{if(i!=null){var m=i.$$typeof;if(m===Q){r.tag=11,r=Kx(null,r,i,f,o);break e}else if(m===I){r.tag=14,r=Gx(null,r,i,f,o);break e}}throw r=xt(i)||i,Error(s(306,r,""))}}return r;case 0:return Tf(i,r,r.type,r.pendingProps,o);case 1:return f=r.type,m=pr(f,r.pendingProps),Xx(i,r,f,m,o);case 3:e:{if(kt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));f=r.pendingProps;var x=r.memoizedState;m=x.element,tf(i,r),fa(r,f,null,o);var v=r.memoizedState;if(f=v.cache,di(r,Rt,f),f!==x.cache&&Zu(r,[Rt],o,!0),ua(),f=v.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=Fx(i,r,f,o);break e}else if(f!==m){m=qn(Error(s(424)),r),ra(m),r=Fx(i,r,f,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ut=Yn(i.firstChild),Ft=r,Ve=!0,oi=null,Gn=!0,o=Yg(r,null,f,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(lr(),f===m){r=Ls(i,r,o);break e}tn(i,r,f,o)}r=r.child}return r;case 26:return nc(i,r),i===null?(o=py(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ve||(o=r.type,i=r.pendingProps,f=bc(Re.current).createElement(o),f[J]=r,f[ee]=i,nn(f,o,i),qt(f),r.stateNode=f):r.memoizedState=py(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ti(r),i===null&&Ve&&(f=r.stateNode=uy(r.type,r.pendingProps,Re.current),Ft=r,Gn=!0,m=ut,ji(r.type)?(mh=m,ut=Yn(f.firstChild)):ut=m),tn(i,r,r.pendingProps.children,o),nc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ve&&((m=f=ut)&&(f=EN(f,r.type,r.pendingProps,Gn),f!==null?(r.stateNode=f,Ft=r,ut=Yn(f.firstChild),Gn=!1,m=!0):m=!1),m||ci(r)),ti(r),m=r.type,x=r.pendingProps,v=i!==null?i.memoizedProps:null,f=x.children,dh(m,x)?f=null:v!==null&&dh(m,v)&&(r.flags|=32),r.memoizedState!==null&&(m=cf(i,r,Kj,null,null,o),Oa._currentValue=m),nc(i,r),tn(i,r,f,o),r.child;case 6:return i===null&&Ve&&((i=o=ut)&&(o=AN(o,r.pendingProps,Gn),o!==null?(r.stateNode=o,Ft=r,ut=null,i=!0):i=!1),i||ci(r)),null;case 13:return e0(i,r,o);case 4:return kt(r,r.stateNode.containerInfo),f=r.pendingProps,i===null?r.child=fr(r,null,f,o):tn(i,r,f,o),r.child;case 11:return Kx(i,r,r.type,r.pendingProps,o);case 7:return tn(i,r,r.pendingProps,o),r.child;case 8:return tn(i,r,r.pendingProps.children,o),r.child;case 12:return tn(i,r,r.pendingProps.children,o),r.child;case 10:return f=r.pendingProps,di(r,r.type,f.value),tn(i,r,f.children,o),r.child;case 9:return m=r.type._context,f=r.pendingProps.children,or(r),m=en(m),f=f(m),r.flags|=1,tn(i,r,f,o),r.child;case 14:return Gx(i,r,r.type,r.pendingProps,o);case 15:return Wx(i,r,r.type,r.pendingProps,o);case 19:return n0(i,r,o);case 31:return Fj(i,r,o);case 22:return Yx(i,r,o,r.pendingProps);case 24:return or(r),f=en(Rt),i===null?(m=Xu(),m===null&&(m=at,x=Ju(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=o),m=x),r.memoizedState={parent:f,cache:m},ef(r),di(r,Rt,m)):((i.lanes&o)!==0&&(tf(i,r),fa(r,null,null,o),ua()),m=i.memoizedState,x=r.memoizedState,m.parent!==f?(m={parent:f,cache:f},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),di(r,Rt,f)):(f=x.cache,di(r,Rt,f),f!==m.cache&&Zu(r,[Rt],o,!0))),tn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function _s(i){i.flags|=4}function Bf(i,r,o,f,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(E0())i.flags|=8192;else throw ur=Vo,Fu}else i.flags&=-16777217}function i0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!by(r))if(E0())i.flags|=8192;else throw ur=Vo,Fu}function ic(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?P():536870912,i.lanes|=r,gl|=r)}function ya(i,r){if(!Ve)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,f=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=o,r}function tN(i,r,o){var f=r.pendingProps;switch($u(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Os(Rt),wt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(sl(r)?_s(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Gu())),ft(r),null;case 26:var m=r.type,x=r.memoizedState;return i===null?(_s(r),x!==null?(ft(r),i0(r,x)):(ft(r),Bf(r,m,null,f,o))):x?x!==i.memoizedState?(_s(r),ft(r),i0(r,x)):(ft(r),r.flags&=-16777217):(i=i.memoizedProps,i!==f&&_s(r),ft(r),Bf(r,m,i,f,o)),null;case 27:if(ni(r),o=Re.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&_s(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return ft(r),null}i=ae.current,sl(r)?Bg(r):(i=uy(m,f,o),r.stateNode=i,_s(r))}return ft(r),null;case 5:if(ni(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&_s(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return ft(r),null}if(x=ae.current,sl(r))Bg(r);else{var v=bc(Re.current);switch(x){case 1:x=v.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:x=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":x=v.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":x=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":x=v.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?x.multiple=!0:f.size&&(x.size=f.size);break;default:x=typeof f.is=="string"?v.createElement(m,{is:f.is}):v.createElement(m)}}x[J]=r,x[ee]=f;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)x.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=x;e:switch(nn(x,m,f),m){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&_s(r)}}return ft(r),Bf(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==f&&_s(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(s(166));if(i=Re.current,sl(r)){if(i=r.stateNode,o=r.memoizedProps,f=null,m=Ft,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[J]=r,i=!!(i.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||ey(i.nodeValue,o)),i||ci(r,!0)}else i=bc(i).createTextNode(f),i[J]=r,r.stateNode=i}return ft(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(f=sl(r),o!==null){if(i===null){if(!f)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[J]=r}else lr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),i=!1}else o=Gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ft(r),null;case 13:if(f=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=sl(r),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[J]=r}else lr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),m=!1}else m=Gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=f!==null,i=i!==null&&i.memoizedState!==null,o&&(f=r.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==m&&(f.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),ic(r,r.updateQueue),ft(r),null);case 4:return wt(),i===null&&rh(r.stateNode.containerInfo),ft(r),null;case 10:return Os(r.type),ft(r),null;case 19:if(K(Ot),f=r.memoizedState,f===null)return ft(r),null;if(m=(r.flags&128)!==0,x=f.rendering,x===null)if(m)ya(f,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(x=Ko(i),x!==null){for(r.flags|=128,ya(f,!1),i=x.updateQueue,r.updateQueue=i,ic(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Og(o,i),o=o.sibling;return se(Ot,Ot.current&1|2),Ve&&Es(r,f.treeForkCount),r.child}i=i.sibling}f.tail!==null&&pn()>cc&&(r.flags|=128,m=!0,ya(f,!1),r.lanes=4194304)}else{if(!m)if(i=Ko(x),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,ic(r,i),ya(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!Ve)return ft(r),null}else 2*pn()-f.renderingStartTime>cc&&o!==536870912&&(r.flags|=128,m=!0,ya(f,!1),r.lanes=4194304);f.isBackwards?(x.sibling=r.child,r.child=x):(i=f.last,i!==null?i.sibling=x:r.child=x,f.last=x)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=pn(),i.sibling=null,o=Ot.current,se(Ot,m?o&1|2:o&1),Ve&&Es(r,f.treeForkCount),i):(ft(r),null);case 22:case 23:return On(r),lf(),f=r.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&ic(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==o&&(r.flags|=2048),i!==null&&K(cr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Os(Rt),ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function nN(i,r){switch($u(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Os(Rt),wt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ni(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));lr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));lr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return K(Ot),null;case 4:return wt(),null;case 10:return Os(r.type),null;case 22:case 23:return On(r),lf(),i!==null&&K(cr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Os(Rt),null;case 25:return null;default:return null}}function r0(i,r){switch($u(r),r.tag){case 3:Os(Rt),wt();break;case 26:case 27:case 5:ni(r);break;case 4:wt();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:K(Ot);break;case 10:Os(r.type);break;case 22:case 23:On(r),lf(),i!==null&&K(cr);break;case 24:Os(Rt)}}function ba(i,r){try{var o=r.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&i)===i){f=void 0;var x=o.create,v=o.inst;f=x(),v.destroy=f}o=o.next}while(o!==m)}}catch(j){tt(r,r.return,j)}}function gi(i,r,o){try{var f=r.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var x=m.next;f=x;do{if((f.tag&i)===i){var v=f.inst,j=v.destroy;if(j!==void 0){v.destroy=void 0,m=r;var C=o,D=j;try{D()}catch(H){tt(m,C,H)}}}f=f.next}while(f!==x)}}catch(H){tt(r,r.return,H)}}function l0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Jg(r,o)}catch(f){tt(i,i.return,f)}}}function a0(i,r,o){o.props=pr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(f){tt(i,r,f)}}function wa(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(m){tt(i,r,m)}}function gs(i,r){var o=i.ref,f=i.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(m){tt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){tt(i,r,m)}else o.current=null}function o0(i){var r=i.type,o=i.memoizedProps,f=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(m){tt(i,i.return,m)}}function Hf(i,r,o){try{var f=i.stateNode;NN(f,i.type,o,r),f[ee]=r}catch(m){tt(i,i.return,m)}}function c0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ji(i.type)||i.tag===4}function Uf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ji(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function If(i,r,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Cs));else if(f!==4&&(f===27&&ji(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(If(i,r,o),i=i.sibling;i!==null;)If(i,r,o),i=i.sibling}function rc(i,r,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(f!==4&&(f===27&&ji(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(rc(i,r,o),i=i.sibling;i!==null;)rc(i,r,o),i=i.sibling}function d0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var f=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);nn(r,f,o),r[J]=i,r[ee]=o}catch(x){tt(i,i.return,x)}}var Bs=!1,Bt=!1,Vf=!1,u0=typeof WeakSet=="function"?WeakSet:Set,$t=null;function sN(i,r){if(i=i.containerInfo,oh=Sc,i=jg(i),Du(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var m=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var v=0,j=-1,C=-1,D=0,H=0,$=i,R=null;t:for(;;){for(var B;$!==o||m!==0&&$.nodeType!==3||(j=v+m),$!==x||f!==0&&$.nodeType!==3||(C=v+f),$.nodeType===3&&(v+=$.nodeValue.length),(B=$.firstChild)!==null;)R=$,$=B;for(;;){if($===i)break t;if(R===o&&++D===m&&(j=v),R===x&&++H===f&&(C=v),(B=$.nextSibling)!==null)break;$=R,R=$.parentNode}$=B}o=j===-1||C===-1?null:{start:j,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(ch={focusedElem:i,selectionRange:o},Sc=!1,$t=r;$t!==null;)if(r=$t,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,$t=i;else for(;$t!==null;){switch(r=$t,x=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,o=r,m=x.memoizedProps,x=x.memoizedState,f=o.stateNode;try{var oe=pr(o.type,m);i=f.getSnapshotBeforeUpdate(oe,x),f.__reactInternalSnapshotBeforeUpdate=i}catch(be){tt(o,o.return,be)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)fh(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,$t=i;break}$t=r.return}}function f0(i,r,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:Us(i,o),f&4&&ba(5,o);break;case 1:if(Us(i,o),f&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(v){tt(o,o.return,v)}else{var m=pr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(o,o.return,v)}}f&64&&l0(o),f&512&&wa(o,o.return);break;case 3:if(Us(i,o),f&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Jg(i,r)}catch(v){tt(o,o.return,v)}}break;case 27:r===null&&f&4&&d0(o);case 26:case 5:Us(i,o),r===null&&f&4&&o0(o),f&512&&wa(o,o.return);break;case 12:Us(i,o);break;case 31:Us(i,o),f&4&&m0(i,o);break;case 13:Us(i,o),f&4&&g0(i,o),f&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=fN.bind(null,o),ON(i,o))));break;case 22:if(f=o.memoizedState!==null||Bs,!f){r=r!==null&&r.memoizedState!==null||Bt,m=Bs;var x=Bt;Bs=f,(Bt=r)&&!x?Is(i,o,(o.subtreeFlags&8772)!==0):Us(i,o),Bs=m,Bt=x}break;case 30:break;default:Us(i,o)}}function h0(i){var r=i.alternate;r!==null&&(i.alternate=null,h0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&hs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var bt=null,vn=!1;function Hs(i,r,o){for(o=o.child;o!==null;)p0(i,r,o),o=o.sibling}function p0(i,r,o){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(jt,o)}catch{}switch(o.tag){case 26:Bt||gs(o,r),Hs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||gs(o,r);var f=bt,m=vn;ji(o.type)&&(bt=o.stateNode,vn=!1),Hs(i,r,o),Ta(o.stateNode),bt=f,vn=m;break;case 5:Bt||gs(o,r);case 6:if(f=bt,m=vn,bt=null,Hs(i,r,o),bt=f,vn=m,bt!==null)if(vn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(x){tt(o,r,x)}else try{bt.removeChild(o.stateNode)}catch(x){tt(o,r,x)}break;case 18:bt!==null&&(vn?(i=bt,ly(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Nl(i)):ly(bt,o.stateNode));break;case 4:f=bt,m=vn,bt=o.stateNode.containerInfo,vn=!0,Hs(i,r,o),bt=f,vn=m;break;case 0:case 11:case 14:case 15:gi(2,o,r),Bt||gi(4,o,r),Hs(i,r,o);break;case 1:Bt||(gs(o,r),f=o.stateNode,typeof f.componentWillUnmount=="function"&&a0(o,r,f)),Hs(i,r,o);break;case 21:Hs(i,r,o);break;case 22:Bt=(f=Bt)||o.memoizedState!==null,Hs(i,r,o),Bt=f;break;default:Hs(i,r,o)}}function m0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Nl(i)}catch(o){tt(r,r.return,o)}}}function g0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nl(i)}catch(o){tt(r,r.return,o)}}function iN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new u0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new u0),r;default:throw Error(s(435,i.tag))}}function lc(i,r){var o=iN(i);r.forEach(function(f){if(!o.has(f)){o.add(f);var m=hN.bind(null,i,f);f.then(m,m)}})}function kn(i,r){var o=r.deletions;if(o!==null)for(var f=0;f<o.length;f++){var m=o[f],x=i,v=r,j=v;e:for(;j!==null;){switch(j.tag){case 27:if(ji(j.type)){bt=j.stateNode,vn=!1;break e}break;case 5:bt=j.stateNode,vn=!1;break e;case 3:case 4:bt=j.stateNode.containerInfo,vn=!0;break e}j=j.return}if(bt===null)throw Error(s(160));p0(x,v,m),bt=null,vn=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)x0(r,i),r=r.sibling}var rs=null;function x0(i,r){var o=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:kn(r,i),jn(i),f&4&&(gi(3,i,i.return),ba(3,i),gi(5,i,i.return));break;case 1:kn(r,i),jn(i),f&512&&(Bt||o===null||gs(o,o.return)),f&64&&Bs&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var m=rs;if(kn(r,i),jn(i),f&512&&(Bt||o===null||gs(o,o.return)),f&4){var x=o!==null?o.memoizedState:null;if(f=i.memoizedState,o===null)if(f===null)if(i.stateNode===null){e:{f=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":x=m.getElementsByTagName("title")[0],(!x||x[ss]||x[J]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(f),m.head.insertBefore(x,m.querySelector("head > title"))),nn(x,f,o),x[J]=i,qt(x),f=x;break e;case"link":var v=xy("link","href",m).get(f+(o.href||""));if(v){for(var j=0;j<v.length;j++)if(x=v[j],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(j,1);break t}}x=m.createElement(f),nn(x,f,o),m.head.appendChild(x);break;case"meta":if(v=xy("meta","content",m).get(f+(o.content||""))){for(j=0;j<v.length;j++)if(x=v[j],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(j,1);break t}}x=m.createElement(f),nn(x,f,o),m.head.appendChild(x);break;default:throw Error(s(468,f))}x[J]=i,qt(x),f=x}i.stateNode=f}else yy(m,i.type,i.stateNode);else i.stateNode=gy(m,f,i.memoizedProps);else x!==f?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,f===null?yy(m,i.type,i.stateNode):gy(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Hf(i,i.memoizedProps,o.memoizedProps)}break;case 27:kn(r,i),jn(i),f&512&&(Bt||o===null||gs(o,o.return)),o!==null&&f&4&&Hf(i,i.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,i),jn(i),f&512&&(Bt||o===null||gs(o,o.return)),i.flags&32){m=i.stateNode;try{Wr(m,"")}catch(oe){tt(i,i.return,oe)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,Hf(i,m,o!==null?o.memoizedProps:m)),f&1024&&(Vf=!0);break;case 6:if(kn(r,i),jn(i),f&4){if(i.stateNode===null)throw Error(s(162));f=i.memoizedProps,o=i.stateNode;try{o.nodeValue=f}catch(oe){tt(i,i.return,oe)}}break;case 3:if(kc=null,m=rs,rs=wc(r.containerInfo),kn(r,i),rs=m,jn(i),f&4&&o!==null&&o.memoizedState.isDehydrated)try{Nl(r.containerInfo)}catch(oe){tt(i,i.return,oe)}Vf&&(Vf=!1,y0(i));break;case 4:f=rs,rs=wc(i.stateNode.containerInfo),kn(r,i),jn(i),rs=f;break;case 12:kn(r,i),jn(i);break;case 31:kn(r,i),jn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,lc(i,f)));break;case 13:kn(r,i),jn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(oc=pn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,lc(i,f)));break;case 22:m=i.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,D=Bs,H=Bt;if(Bs=D||m,Bt=H||C,kn(r,i),Bt=H,Bs=D,jn(i),f&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||C||Bs||Bt||mr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){C=o=r;try{if(x=C.stateNode,m)v=x.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{j=C.stateNode;var $=C.memoizedProps.style,R=$!=null&&$.hasOwnProperty("display")?$.display:null;j.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(oe){tt(C,C.return,oe)}}}else if(r.tag===6){if(o===null){C=r;try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(oe){tt(C,C.return,oe)}}}else if(r.tag===18){if(o===null){C=r;try{var B=C.stateNode;m?ay(B,!0):ay(C.stateNode,!1)}catch(oe){tt(C,C.return,oe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=i.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,lc(i,o))));break;case 19:kn(r,i),jn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,lc(i,f)));break;case 30:break;case 21:break;default:kn(r,i),jn(i)}}function jn(i){var r=i.flags;if(r&2){try{for(var o,f=i.return;f!==null;){if(c0(f)){o=f;break}f=f.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,x=Uf(i);rc(i,x,m);break;case 5:var v=o.stateNode;o.flags&32&&(Wr(v,""),o.flags&=-33);var j=Uf(i);rc(i,j,v);break;case 3:case 4:var C=o.stateNode.containerInfo,D=Uf(i);If(i,D,C);break;default:throw Error(s(161))}}catch(H){tt(i,i.return,H)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function y0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;y0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Us(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)f0(i,r.alternate,r),r=r.sibling}function mr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:gi(4,r,r.return),mr(r);break;case 1:gs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&a0(r,r.return,o),mr(r);break;case 27:Ta(r.stateNode);case 26:case 5:gs(r,r.return),mr(r);break;case 22:r.memoizedState===null&&mr(r);break;case 30:mr(r);break;default:mr(r)}i=i.sibling}}function Is(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,m=i,x=r,v=x.flags;switch(x.tag){case 0:case 11:case 15:Is(m,x,o),ba(4,x);break;case 1:if(Is(m,x,o),f=x,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(D){tt(f,f.return,D)}if(f=x,m=f.updateQueue,m!==null){var j=f.stateNode;try{var C=m.shared.hiddenCallbacks;if(C!==null)for(m.shared.hiddenCallbacks=null,m=0;m<C.length;m++)Zg(C[m],j)}catch(D){tt(f,f.return,D)}}o&&v&64&&l0(x),wa(x,x.return);break;case 27:d0(x);case 26:case 5:Is(m,x,o),o&&f===null&&v&4&&o0(x),wa(x,x.return);break;case 12:Is(m,x,o);break;case 31:Is(m,x,o),o&&v&4&&m0(m,x);break;case 13:Is(m,x,o),o&&v&4&&g0(m,x);break;case 22:x.memoizedState===null&&Is(m,x,o),wa(x,x.return);break;case 30:break;default:Is(m,x,o)}r=r.sibling}}function Pf(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&la(o))}function qf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&la(i))}function ls(i,r,o,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b0(i,r,o,f),r=r.sibling}function b0(i,r,o,f){var m=r.flags;switch(r.tag){case 0:case 11:case 15:ls(i,r,o,f),m&2048&&ba(9,r);break;case 1:ls(i,r,o,f);break;case 3:ls(i,r,o,f),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&la(i)));break;case 12:if(m&2048){ls(i,r,o,f),i=r.stateNode;try{var x=r.memoizedProps,v=x.id,j=x.onPostCommit;typeof j=="function"&&j(v,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(C){tt(r,r.return,C)}}else ls(i,r,o,f);break;case 31:ls(i,r,o,f);break;case 13:ls(i,r,o,f);break;case 23:break;case 22:x=r.stateNode,v=r.alternate,r.memoizedState!==null?x._visibility&2?ls(i,r,o,f):va(i,r):x._visibility&2?ls(i,r,o,f):(x._visibility|=2,hl(i,r,o,f,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Pf(v,r);break;case 24:ls(i,r,o,f),m&2048&&qf(r.alternate,r);break;default:ls(i,r,o,f)}}function hl(i,r,o,f,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var x=i,v=r,j=o,C=f,D=v.flags;switch(v.tag){case 0:case 11:case 15:hl(x,v,j,C,m),ba(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?hl(x,v,j,C,m):va(x,v):(H._visibility|=2,hl(x,v,j,C,m)),m&&D&2048&&Pf(v.alternate,v);break;case 24:hl(x,v,j,C,m),m&&D&2048&&qf(v.alternate,v);break;default:hl(x,v,j,C,m)}r=r.sibling}}function va(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,f=r,m=f.flags;switch(f.tag){case 22:va(o,f),m&2048&&Pf(f.alternate,f);break;case 24:va(o,f),m&2048&&qf(f.alternate,f);break;default:va(o,f)}r=r.sibling}}var ka=8192;function pl(i,r,o){if(i.subtreeFlags&ka)for(i=i.child;i!==null;)w0(i,r,o),i=i.sibling}function w0(i,r,o){switch(i.tag){case 26:pl(i,r,o),i.flags&ka&&i.memoizedState!==null&&$N(o,rs,i.memoizedState,i.memoizedProps);break;case 5:pl(i,r,o);break;case 3:case 4:var f=rs;rs=wc(i.stateNode.containerInfo),pl(i,r,o),rs=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=ka,ka=16777216,pl(i,r,o),ka=f):pl(i,r,o));break;default:pl(i,r,o)}}function v0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ja(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var f=r[o];$t=f,j0(f,i)}v0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k0(i),i=i.sibling}function k0(i){switch(i.tag){case 0:case 11:case 15:ja(i),i.flags&2048&&gi(9,i,i.return);break;case 3:ja(i);break;case 12:ja(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ac(i)):ja(i);break;default:ja(i)}}function ac(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var f=r[o];$t=f,j0(f,i)}v0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:gi(8,r,r.return),ac(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ac(r));break;default:ac(r)}i=i.sibling}}function j0(i,r){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:gi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:la(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,$t=f;else e:for(o=i;$t!==null;){f=$t;var m=f.sibling,x=f.return;if(h0(f),f===o){$t=null;break e}if(m!==null){m.return=x,$t=m;break e}$t=x}}}var rN={getCacheForType:function(i){var r=en(Rt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return en(Rt).controller.signal}},lN=typeof WeakMap=="function"?WeakMap:Map,Ze=0,at=null,_e=null,Ue=0,et=0,Dn=null,xi=!1,ml=!1,$f=!1,Vs=0,zt=0,yi=0,gr=0,Kf=0,Rn=0,gl=0,Na=null,Nn=null,Gf=!1,oc=0,N0=0,cc=1/0,dc=null,bi=null,Pt=0,wi=null,xl=null,Ps=0,Wf=0,Yf=null,z0=null,za=0,Zf=null;function Ln(){return(Ze&2)!==0&&Ue!==0?Ue&-Ue:_.T!==null?th():Yl()}function S0(){if(Rn===0)if((Ue&536870912)===0||Ve){var i=Vt;Vt<<=1,(Vt&3932160)===0&&(Vt=262144),Rn=i}else Rn=536870912;return i=An.current,i!==null&&(i.flags|=32),Rn}function zn(i,r,o){(i===at&&(et===2||et===9)||i.cancelPendingCommit!==null)&&(yl(i,0),vi(i,Ue,Rn,!1)),At(i,o),((Ze&2)===0||i!==at)&&(i===at&&((Ze&2)===0&&(gr|=o),zt===4&&vi(i,Ue,Rn,!1)),xs(i))}function C0(i,r,o){if((Ze&6)!==0)throw Error(s(327));var f=!o&&(r&127)===0&&(r&i.expiredLanes)===0||nt(i,r),m=f?cN(i,r):Qf(i,r,!0),x=f;do{if(m===0){ml&&!f&&vi(i,r,0,!1);break}else{if(o=i.current.alternate,x&&!aN(o)){m=Qf(i,r,!1),x=!1;continue}if(m===2){if(x=r,i.errorRecoveryDisabledLanes&x)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var j=i;m=Na;var C=j.current.memoizedState.isDehydrated;if(C&&(yl(j,v).flags|=256),v=Qf(j,v,!1),v!==2){if($f&&!C){j.errorRecoveryDisabledLanes|=x,gr|=x,m=4;break e}x=Nn,Nn=m,x!==null&&(Nn===null?Nn=x:Nn.push.apply(Nn,x))}m=v}if(x=!1,m!==2)continue}}if(m===1){yl(i,0),vi(i,r,0,!0);break}e:{switch(f=i,x=m,x){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:vi(f,r,Rn,!xi);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=oc+300-pn(),10<m)){if(vi(f,r,Rn,!xi),vt(f,0,!0)!==0)break e;Ps=r,f.timeoutHandle=iy(M0.bind(null,f,o,Nn,dc,Gf,r,Rn,gr,gl,xi,x,"Throttled",-0,0),m);break e}M0(f,o,Nn,dc,Gf,r,Rn,gr,gl,xi,x,null,-0,0)}}break}while(!0);xs(i)}function M0(i,r,o,f,m,x,v,j,C,D,H,$,R,B){if(i.timeoutHandle=-1,$=r.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cs},w0(r,x,$);var oe=(x&62914560)===x?oc-pn():(x&4194048)===x?N0-pn():0;if(oe=KN($,oe),oe!==null){Ps=x,i.cancelPendingCommit=oe(_0.bind(null,i,r,x,o,f,m,v,j,C,H,$,null,R,B)),vi(i,x,v,!D);return}}_0(i,r,x,o,f,m,v,j,C)}function aN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var m=o[f],x=m.getSnapshot;m=m.value;try{if(!Tn(x(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function vi(i,r,o,f){r&=~Kf,r&=~gr,i.suspendedLanes|=r,i.pingedLanes&=~r,f&&(i.warmLanes|=r),f=i.expirationTimes;for(var m=r;0<m;){var x=31-re(m),v=1<<x;f[x]=-1,m&=~v}o!==0&&si(i,o,r)}function uc(){return(Ze&6)===0?(Sa(0),!1):!0}function Jf(){if(_e!==null){if(et===0)var i=_e.return;else i=_e,As=ar=null,ff(i),ol=null,oa=0,i=_e;for(;i!==null;)r0(i.alternate,i),i=i.return;_e=null}}function yl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,CN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ps=0,Jf(),at=i,_e=o=Ts(i.current,null),Ue=r,et=0,Dn=null,xi=!1,ml=nt(i,r),$f=!1,gl=Rn=Kf=gr=yi=zt=0,Nn=Na=null,Gf=!1,(r&8)!==0&&(r|=r&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=r;0<f;){var m=31-re(f),x=1<<m;r|=i[m],f&=~x}return Vs=r,Oo(),o}function T0(i,r){Te=null,_.H=ga,r===al||r===Io?(r=Kg(),et=3):r===Fu?(r=Kg(),et=4):et=r===Mf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,_e===null&&(zt=1,ec(i,qn(r,i.current)))}function E0(){var i=An.current;return i===null?!0:(Ue&4194048)===Ue?Wn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===Wn:!1}function A0(){var i=_.H;return _.H=ga,i===null?ga:i}function O0(){var i=_.A;return _.A=rN,i}function fc(){zt=4,xi||(Ue&4194048)!==Ue&&An.current!==null||(ml=!0),(yi&134217727)===0&&(gr&134217727)===0||at===null||vi(at,Ue,Rn,!1)}function Qf(i,r,o){var f=Ze;Ze|=2;var m=A0(),x=O0();(at!==i||Ue!==r)&&(dc=null,yl(i,r)),r=!1;var v=zt;e:do try{if(et!==0&&_e!==null){var j=_e,C=Dn;switch(et){case 8:Jf(),v=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(r=!0);var D=et;if(et=0,Dn=null,bl(i,j,C,D),o&&ml){v=0;break e}break;default:D=et,et=0,Dn=null,bl(i,j,C,D)}}oN(),v=zt;break}catch(H){T0(i,H)}while(!0);return r&&i.shellSuspendCounter++,As=ar=null,Ze=f,_.H=m,_.A=x,_e===null&&(at=null,Ue=0,Oo()),v}function oN(){for(;_e!==null;)D0(_e)}function cN(i,r){var o=Ze;Ze|=2;var f=A0(),m=O0();at!==i||Ue!==r?(dc=null,cc=pn()+500,yl(i,r)):ml=nt(i,r);e:do try{if(et!==0&&_e!==null){r=_e;var x=Dn;t:switch(et){case 1:et=0,Dn=null,bl(i,r,x,1);break;case 2:case 9:if(qg(x)){et=0,Dn=null,R0(r);break}r=function(){et!==2&&et!==9||at!==i||(et=7),xs(i)},x.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:qg(x)?(et=0,Dn=null,R0(r)):(et=0,Dn=null,bl(i,r,x,7));break;case 5:var v=null;switch(_e.tag){case 26:v=_e.memoizedState;case 5:case 27:var j=_e;if(v?by(v):j.stateNode.complete){et=0,Dn=null;var C=j.sibling;if(C!==null)_e=C;else{var D=j.return;D!==null?(_e=D,hc(D)):_e=null}break t}}et=0,Dn=null,bl(i,r,x,5);break;case 6:et=0,Dn=null,bl(i,r,x,6);break;case 8:Jf(),zt=6;break e;default:throw Error(s(462))}}dN();break}catch(H){T0(i,H)}while(!0);return As=ar=null,_.H=f,_.A=m,Ze=o,_e!==null?0:(at=null,Ue=0,Oo(),zt)}function dN(){for(;_e!==null&&!pu();)D0(_e)}function D0(i){var r=s0(i.alternate,i,Vs);i.memoizedProps=i.pendingProps,r===null?hc(i):_e=r}function R0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Qx(o,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Qx(o,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:ff(r);default:r0(o,r),r=_e=Og(r,Vs),r=s0(o,r,Vs)}i.memoizedProps=i.pendingProps,r===null?hc(i):_e=r}function bl(i,r,o,f){As=ar=null,ff(r),ol=null,oa=0;var m=r.return;try{if(Xj(i,m,r,o,Ue)){zt=1,ec(i,qn(o,i.current)),_e=null;return}}catch(x){if(m!==null)throw _e=m,x;zt=1,ec(i,qn(o,i.current)),_e=null;return}r.flags&32768?(Ve||f===1?i=!0:ml||(Ue&536870912)!==0?i=!1:(xi=i=!0,(f===2||f===9||f===3||f===6)&&(f=An.current,f!==null&&f.tag===13&&(f.flags|=16384))),L0(r,i)):hc(r)}function hc(i){var r=i;do{if((r.flags&32768)!==0){L0(r,xi);return}i=r.return;var o=tN(r.alternate,r,Vs);if(o!==null){_e=o;return}if(r=r.sibling,r!==null){_e=r;return}_e=r=i}while(r!==null);zt===0&&(zt=5)}function L0(i,r){do{var o=nN(i.alternate,i);if(o!==null){o.flags&=32767,_e=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){_e=i;return}_e=i=o}while(i!==null);zt=6,_e=null}function _0(i,r,o,f,m,x,v,j,C){i.cancelPendingCommit=null;do pc();while(Pt!==0);if((Ze&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(x=r.lanes|r.childLanes,x|=Hu,bn(i,o,x,v,j,C),i===at&&(_e=at=null,Ue=0),xl=r,wi=i,Ps=o,Wf=x,Yf=m,z0=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,pN(de,function(){return V0(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=_.T,_.T=null,m=te.p,te.p=2,v=Ze,Ze|=4;try{sN(i,r,o)}finally{Ze=v,te.p=m,_.T=f}}Pt=1,B0(),H0(),U0()}}function B0(){if(Pt===1){Pt=0;var i=wi,r=xl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=_.T,_.T=null;var f=te.p;te.p=2;var m=Ze;Ze|=4;try{x0(r,i);var x=ch,v=jg(i.containerInfo),j=x.focusedElem,C=x.selectionRange;if(v!==j&&j&&j.ownerDocument&&kg(j.ownerDocument.documentElement,j)){if(C!==null&&Du(j)){var D=C.start,H=C.end;if(H===void 0&&(H=D),"selectionStart"in j)j.selectionStart=D,j.selectionEnd=Math.min(H,j.value.length);else{var $=j.ownerDocument||document,R=$&&$.defaultView||window;if(R.getSelection){var B=R.getSelection(),oe=j.textContent.length,be=Math.min(C.start,oe),rt=C.end===void 0?be:Math.min(C.end,oe);!B.extend&&be>rt&&(v=rt,rt=be,be=v);var A=vg(j,be),M=vg(j,rt);if(A&&M&&(B.rangeCount!==1||B.anchorNode!==A.node||B.anchorOffset!==A.offset||B.focusNode!==M.node||B.focusOffset!==M.offset)){var O=$.createRange();O.setStart(A.node,A.offset),B.removeAllRanges(),be>rt?(B.addRange(O),B.extend(M.node,M.offset)):(O.setEnd(M.node,M.offset),B.addRange(O))}}}}for($=[],B=j;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<$.length;j++){var U=$[j];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Sc=!!oh,ch=oh=null}finally{Ze=m,te.p=f,_.T=o}}i.current=r,Pt=2}}function H0(){if(Pt===2){Pt=0;var i=wi,r=xl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=_.T,_.T=null;var f=te.p;te.p=2;var m=Ze;Ze|=4;try{f0(i,r.alternate,r)}finally{Ze=m,te.p=f,_.T=o}}Pt=3}}function U0(){if(Pt===4||Pt===3){Pt=0,mu();var i=wi,r=xl,o=Ps,f=z0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,xl=wi=null,I0(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(bi=null),Xi(o),r=r.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(jt,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=_.T,m=te.p,te.p=2,_.T=null;try{for(var x=i.onRecoverableError,v=0;v<f.length;v++){var j=f[v];x(j.value,{componentStack:j.stack})}}finally{_.T=r,te.p=m}}(Ps&3)!==0&&pc(),xs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Zf?za++:(za=0,Zf=i):za=0,Sa(0)}}function I0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,la(r)))}function pc(){return B0(),H0(),U0(),V0()}function V0(){if(Pt!==5)return!1;var i=wi,r=Wf;Wf=0;var o=Xi(Ps),f=_.T,m=te.p;try{te.p=32>o?32:o,_.T=null,o=Yf,Yf=null;var x=wi,v=Ps;if(Pt=0,xl=wi=null,Ps=0,(Ze&6)!==0)throw Error(s(331));var j=Ze;if(Ze|=4,k0(x.current),b0(x,x.current,v,o),Ze=j,Sa(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(jt,x)}catch{}return!0}finally{te.p=m,_.T=f,I0(i,r)}}function P0(i,r,o){r=qn(o,r),r=Cf(i.stateNode,r,2),i=hi(i,r,2),i!==null&&(At(i,2),xs(i))}function tt(i,r,o){if(i.tag===3)P0(i,i,o);else for(;r!==null;){if(r.tag===3){P0(r,i,o);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(bi===null||!bi.has(f))){i=qn(o,i),o=qx(2),f=hi(r,o,2),f!==null&&($x(o,f,r,i),At(f,2),xs(f));break}}r=r.return}}function Xf(i,r,o){var f=i.pingCache;if(f===null){f=i.pingCache=new lN;var m=new Set;f.set(r,m)}else m=f.get(r),m===void 0&&(m=new Set,f.set(r,m));m.has(o)||($f=!0,m.add(o),i=uN.bind(null,i,r,o),r.then(i,i))}function uN(i,r,o){var f=i.pingCache;f!==null&&f.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,at===i&&(Ue&o)===o&&(zt===4||zt===3&&(Ue&62914560)===Ue&&300>pn()-oc?(Ze&2)===0&&yl(i,0):Kf|=o,gl===Ue&&(gl=0)),xs(i)}function q0(i,r){r===0&&(r=P()),i=ir(i,r),i!==null&&(At(i,r),xs(i))}function fN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),q0(i,o)}function hN(i,r){var o=0;switch(i.tag){case 31:case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(r),q0(i,o)}function pN(i,r){return Gl(i,r)}var mc=null,wl=null,Ff=!1,gc=!1,eh=!1,ki=0;function xs(i){i!==wl&&i.next===null&&(wl===null?mc=wl=i:wl=wl.next=i),gc=!0,Ff||(Ff=!0,gN())}function Sa(i,r){if(!eh&&gc){eh=!0;do for(var o=!1,f=mc;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var x=0;else{var v=f.suspendedLanes,j=f.pingedLanes;x=(1<<31-re(42|i)+1)-1,x&=m&~(v&~j),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,W0(f,x))}else x=Ue,x=vt(f,f===at?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||nt(f,x)||(o=!0,W0(f,x));f=f.next}while(o);eh=!1}}function mN(){$0()}function $0(){gc=Ff=!1;var i=0;ki!==0&&SN()&&(i=ki);for(var r=pn(),o=null,f=mc;f!==null;){var m=f.next,x=K0(f,r);x===0?(f.next=null,o===null?mc=m:o.next=m,m===null&&(wl=o)):(o=f,(i!==0||(x&3)!==0)&&(gc=!0)),f=m}Pt!==0&&Pt!==5||Sa(i),ki!==0&&(ki=0)}function K0(i,r){for(var o=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var v=31-re(x),j=1<<v,C=m[v];C===-1?((j&o)===0||(j&f)!==0)&&(m[v]=Me(j,r)):C<=r&&(i.expiredLanes|=j),x&=~j}if(r=at,o=Ue,o=vt(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,o===0||i===r&&(et===2||et===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Wl(f),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||nt(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(f!==null&&Wl(f),Xi(o)){case 2:case 8:o=V;break;case 32:o=de;break;case 268435456:o=Ye;break;default:o=de}return f=G0.bind(null,i),o=Gl(o,f),i.callbackPriority=r,i.callbackNode=o,r}return f!==null&&f!==null&&Wl(f),i.callbackPriority=2,i.callbackNode=null,2}function G0(i,r){if(Pt!==0&&Pt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(pc()&&i.callbackNode!==o)return null;var f=Ue;return f=vt(i,i===at?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(C0(i,f,r),K0(i,pn()),i.callbackNode!=null&&i.callbackNode===o?G0.bind(null,i):null)}function W0(i,r){if(pc())return null;C0(i,r,!0)}function gN(){MN(function(){(Ze&6)!==0?Gl(wo,mN):$0()})}function th(){if(ki===0){var i=rl;i===0&&(i=Le,Le<<=1,(Le&261888)===0&&(Le=256)),ki=i}return ki}function Y0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:No(""+i)}function Z0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function xN(i,r,o,f,m){if(r==="submit"&&o&&o.stateNode===m){var x=Y0((m[ee]||null).action),v=f.submitter;v&&(r=(r=v[ee]||null)?Y0(r.formAction):v.getAttribute("formAction"),r!==null&&(x=r,v=null));var j=new Mo("action","action",null,f,m);i.push({event:j,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ki!==0){var C=v?Z0(m,v):new FormData(m);vf(o,{pending:!0,data:C,method:m.method,action:x},null,C)}}else typeof x=="function"&&(j.preventDefault(),C=v?Z0(m,v):new FormData(m),vf(o,{pending:!0,data:C,method:m.method,action:x},x,C))},currentTarget:m}]})}}for(var nh=0;nh<Bu.length;nh++){var sh=Bu[nh],yN=sh.toLowerCase(),bN=sh[0].toUpperCase()+sh.slice(1);is(yN,"on"+bN)}is(Sg,"onAnimationEnd"),is(Cg,"onAnimationIteration"),is(Mg,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Lj,"onTransitionRun"),is(_j,"onTransitionStart"),is(Bj,"onTransitionCancel"),is(Tg,"onTransitionEnd"),Kr("onMouseEnter",["mouseout","mouseover"]),Kr("onMouseLeave",["mouseout","mouseover"]),Kr("onPointerEnter",["pointerout","pointerover"]),Kr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function J0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var f=i[o],m=f.event;f=f.listeners;e:{var x=void 0;if(r)for(var v=f.length-1;0<=v;v--){var j=f[v],C=j.instance,D=j.currentTarget;if(j=j.listener,C!==x&&m.isPropagationStopped())break e;x=j,m.currentTarget=D;try{x(m)}catch(H){Ao(H)}m.currentTarget=null,x=C}else for(v=0;v<f.length;v++){if(j=f[v],C=j.instance,D=j.currentTarget,j=j.listener,C!==x&&m.isPropagationStopped())break e;x=j,m.currentTarget=D;try{x(m)}catch(H){Ao(H)}m.currentTarget=null,x=C}}}}function Be(i,r){var o=r[pe];o===void 0&&(o=r[pe]=new Set);var f=i+"__bubble";o.has(f)||(Q0(r,i,2,!1),o.add(f))}function ih(i,r,o){var f=0;r&&(f|=4),Q0(o,i,f,r)}var xc="_reactListening"+Math.random().toString(36).slice(2);function rh(i){if(!i[xc]){i[xc]=!0,$m.forEach(function(o){o!=="selectionchange"&&(wN.has(o)||ih(o,!1,i),ih(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[xc]||(r[xc]=!0,ih("selectionchange",!1,r))}}function Q0(i,r,o,f){switch(Sy(r)){case 2:var m=YN;break;case 8:m=ZN;break;default:m=wh}o=m.bind(null,r,o,i),m=void 0,!Nu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function lh(i,r,o,f,m){var x=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var v=f.tag;if(v===3||v===4){var j=f.stateNode.containerInfo;if(j===m)break;if(v===4)for(v=f.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===m)return;v=v.return}for(;j!==null;){if(v=ri(j),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){f=x=v;continue e}j=j.parentNode}}f=f.return}ng(function(){var D=x,H=ku(o),$=[];e:{var R=Eg.get(i);if(R!==void 0){var B=Mo,oe=i;switch(i){case"keypress":if(So(o)===0)break e;case"keydown":case"keyup":B=hj;break;case"focusin":oe="focus",B=Mu;break;case"focusout":oe="blur",B=Mu;break;case"beforeblur":case"afterblur":B=Mu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=tj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=gj;break;case Sg:case Cg:case Mg:B=ij;break;case Tg:B=yj;break;case"scroll":case"scrollend":B=Fk;break;case"wheel":B=wj;break;case"copy":case"cut":case"paste":B=lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ag;break;case"toggle":case"beforetoggle":B=kj}var be=(r&4)!==0,rt=!be&&(i==="scroll"||i==="scrollend"),A=be?R!==null?R+"Capture":null:R;be=[];for(var M=D,O;M!==null;){var U=M;if(O=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||O===null||A===null||(U=Zl(M,A),U!=null&&be.push(Ma(M,U,O))),rt)break;M=M.return}0<be.length&&(R=new B(R,oe,null,o,H),$.push({event:R,listeners:be}))}}if((r&7)===0){e:{if(R=i==="mouseover"||i==="pointerover",B=i==="mouseout"||i==="pointerout",R&&o!==vu&&(oe=o.relatedTarget||o.fromElement)&&(ri(oe)||oe[F]))break e;if((B||R)&&(R=H.window===H?H:(R=H.ownerDocument)?R.defaultView||R.parentWindow:window,B?(oe=o.relatedTarget||o.toElement,B=D,oe=oe?ri(oe):null,oe!==null&&(rt=a(oe),be=oe.tag,oe!==rt||be!==5&&be!==27&&be!==6)&&(oe=null)):(B=null,oe=D),B!==oe)){if(be=rg,U="onMouseLeave",A="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(be=ag,U="onPointerLeave",A="onPointerEnter",M="pointer"),rt=B==null?R:Fi(B),O=oe==null?R:Fi(oe),R=new be(U,M+"leave",B,o,H),R.target=rt,R.relatedTarget=O,U=null,ri(H)===D&&(be=new be(A,M+"enter",oe,o,H),be.target=O,be.relatedTarget=rt,U=be),rt=U,B&&oe)t:{for(be=vN,A=B,M=oe,O=0,U=A;U;U=be(U))O++;U=0;for(var ge=M;ge;ge=be(ge))U++;for(;0<O-U;)A=be(A),O--;for(;0<U-O;)M=be(M),U--;for(;O--;){if(A===M||M!==null&&A===M.alternate){be=A;break t}A=be(A),M=be(M)}be=null}else be=null;B!==null&&X0($,R,B,be,!1),oe!==null&&rt!==null&&X0($,rt,oe,be,!0)}}e:{if(R=D?Fi(D):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var $e=mg;else if(hg(R))if(gg)$e=Oj;else{$e=Ej;var ce=Tj}else B=R.nodeName,!B||B.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?D&&wu(D.elementType)&&($e=mg):$e=Aj;if($e&&($e=$e(i,D))){pg($,$e,o,H);break e}ce&&ce(i,R,D),i==="focusout"&&D&&R.type==="number"&&D.memoizedProps.value!=null&&bu(R,"number",R.value)}switch(ce=D?Fi(D):window,i){case"focusin":(hg(ce)||ce.contentEditable==="true")&&(Qr=ce,Ru=D,sa=null);break;case"focusout":sa=Ru=Qr=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,Ng($,o,H);break;case"selectionchange":if(Rj)break;case"keydown":case"keyup":Ng($,o,H)}var Ee;if(Eu)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Jr?ug(i,o)&&(Ie="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ie="onCompositionStart");Ie&&(og&&o.locale!=="ko"&&(Jr||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Jr&&(Ee=sg()):(li=H,zu="value"in li?li.value:li.textContent,Jr=!0)),ce=yc(D,Ie),0<ce.length&&(Ie=new lg(Ie,i,null,o,H),$.push({event:Ie,listeners:ce}),Ee?Ie.data=Ee:(Ee=fg(o),Ee!==null&&(Ie.data=Ee)))),(Ee=Nj?zj(i,o):Sj(i,o))&&(Ie=yc(D,"onBeforeInput"),0<Ie.length&&(ce=new lg("onBeforeInput","beforeinput",null,o,H),$.push({event:ce,listeners:Ie}),ce.data=Ee)),xN($,i,D,o,H)}J0($,r)})}function Ma(i,r,o){return{instance:i,listener:r,currentTarget:o}}function yc(i,r){for(var o=r+"Capture",f=[];i!==null;){var m=i,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Zl(i,o),m!=null&&f.unshift(Ma(i,m,x)),m=Zl(i,r),m!=null&&f.push(Ma(i,m,x))),i.tag===3)return f;i=i.return}return[]}function vN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X0(i,r,o,f,m){for(var x=r._reactName,v=[];o!==null&&o!==f;){var j=o,C=j.alternate,D=j.stateNode;if(j=j.tag,C!==null&&C===f)break;j!==5&&j!==26&&j!==27||D===null||(C=D,m?(D=Zl(o,x),D!=null&&v.unshift(Ma(o,D,C))):m||(D=Zl(o,x),D!=null&&v.push(Ma(o,D,C)))),o=o.return}v.length!==0&&i.push({event:r,listeners:v})}var kN=/\r\n?/g,jN=/\u0000|\uFFFD/g;function F0(i){return(typeof i=="string"?i:""+i).replace(kN,`
`).replace(jN,"")}function ey(i,r){return r=F0(r),F0(i)===r}function it(i,r,o,f,m,x){switch(o){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||Wr(i,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&Wr(i,""+f);break;case"className":ko(i,"class",f);break;case"tabIndex":ko(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ko(i,o,f);break;case"style":eg(i,f,x);break;case"data":if(r!=="object"){ko(i,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=No(""+f),i.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(r!=="input"&&it(i,r,"name",m.name,m,null),it(i,r,"formEncType",m.formEncType,m,null),it(i,r,"formMethod",m.formMethod,m,null),it(i,r,"formTarget",m.formTarget,m,null)):(it(i,r,"encType",m.encType,m,null),it(i,r,"method",m.method,m,null),it(i,r,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=No(""+f),i.setAttribute(o,f);break;case"onClick":f!=null&&(i.onclick=Cs);break;case"onScroll":f!=null&&Be("scroll",i);break;case"onScrollEnd":f!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(o=f.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}o=No(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""+f):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":f===!0?i.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,f):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(o,f):i.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(o):i.setAttribute(o,f);break;case"popover":Be("beforetoggle",i),Be("toggle",i),vo(i,"popover",f);break;case"xlinkActuate":Ss(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ss(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ss(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ss(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ss(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ss(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ss(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ss(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ss(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":vo(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Qk.get(o)||o,vo(i,o,f))}}function ah(i,r,o,f,m,x){switch(o){case"style":eg(i,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(o=f.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof f=="string"?Wr(i,f):(typeof f=="number"||typeof f=="bigint")&&Wr(i,""+f);break;case"onScroll":f!=null&&Be("scroll",i);break;case"onScrollEnd":f!=null&&Be("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Km.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),x=i[ee]||null,x=x!=null?x[o]:null,typeof x=="function"&&i.removeEventListener(r,x,m),typeof f=="function")){typeof x!="function"&&x!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,f,m);break e}o in i?i[o]=f:f===!0?i.setAttribute(o,""):vo(i,o,f)}}}function nn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var f=!1,m=!1,x;for(x in o)if(o.hasOwnProperty(x)){var v=o[x];if(v!=null)switch(x){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(i,r,x,v,o,null)}}m&&it(i,r,"srcSet",o.srcSet,o,null),f&&it(i,r,"src",o.src,o,null);return;case"input":Be("invalid",i);var j=x=v=m=null,C=null,D=null;for(f in o)if(o.hasOwnProperty(f)){var H=o[f];if(H!=null)switch(f){case"name":m=H;break;case"type":v=H;break;case"checked":C=H;break;case"defaultChecked":D=H;break;case"value":x=H;break;case"defaultValue":j=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:it(i,r,f,H,o,null)}}Jm(i,x,j,C,D,v,m,!1);return;case"select":Be("invalid",i),f=v=x=null;for(m in o)if(o.hasOwnProperty(m)&&(j=o[m],j!=null))switch(m){case"value":x=j;break;case"defaultValue":v=j;break;case"multiple":f=j;default:it(i,r,m,j,o,null)}r=x,o=v,i.multiple=!!f,r!=null?Gr(i,!!f,r,!1):o!=null&&Gr(i,!!f,o,!0);return;case"textarea":Be("invalid",i),x=m=f=null;for(v in o)if(o.hasOwnProperty(v)&&(j=o[v],j!=null))switch(v){case"value":f=j;break;case"defaultValue":m=j;break;case"children":x=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:it(i,r,v,j,o,null)}Xm(i,f,m,x);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(f=o[C],f!=null))switch(C){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:it(i,r,C,f,o,null)}return;case"dialog":Be("beforetoggle",i),Be("toggle",i),Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(f=0;f<Ca.length;f++)Be(Ca[f],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(f=o[D],f!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(i,r,D,f,o,null)}return;default:if(wu(r)){for(H in o)o.hasOwnProperty(H)&&(f=o[H],f!==void 0&&ah(i,r,H,f,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(f=o[j],f!=null&&it(i,r,j,f,o,null))}function NN(i,r,o,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,v=null,j=null,C=null,D=null,H=null;for(B in o){var $=o[B];if(o.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=$;default:f.hasOwnProperty(B)||it(i,r,B,null,f,$)}}for(var R in f){var B=f[R];if($=o[R],f.hasOwnProperty(R)&&(B!=null||$!=null))switch(R){case"type":x=B;break;case"name":m=B;break;case"checked":D=B;break;case"defaultChecked":H=B;break;case"value":v=B;break;case"defaultValue":j=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:B!==$&&it(i,r,R,B,f,$)}}yu(i,v,j,C,D,H,x,m);return;case"select":B=v=j=R=null;for(x in o)if(C=o[x],o.hasOwnProperty(x)&&C!=null)switch(x){case"value":break;case"multiple":B=C;default:f.hasOwnProperty(x)||it(i,r,x,null,f,C)}for(m in f)if(x=f[m],C=o[m],f.hasOwnProperty(m)&&(x!=null||C!=null))switch(m){case"value":R=x;break;case"defaultValue":j=x;break;case"multiple":v=x;default:x!==C&&it(i,r,m,x,f,C)}r=j,o=v,f=B,R!=null?Gr(i,!!o,R,!1):!!f!=!!o&&(r!=null?Gr(i,!!o,r,!0):Gr(i,!!o,o?[]:"",!1));return;case"textarea":B=R=null;for(j in o)if(m=o[j],o.hasOwnProperty(j)&&m!=null&&!f.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:it(i,r,j,null,f,m)}for(v in f)if(m=f[v],x=o[v],f.hasOwnProperty(v)&&(m!=null||x!=null))switch(v){case"value":R=m;break;case"defaultValue":B=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==x&&it(i,r,v,m,f,x)}Qm(i,R,B);return;case"option":for(var oe in o)if(R=o[oe],o.hasOwnProperty(oe)&&R!=null&&!f.hasOwnProperty(oe))switch(oe){case"selected":i.selected=!1;break;default:it(i,r,oe,null,f,R)}for(C in f)if(R=f[C],B=o[C],f.hasOwnProperty(C)&&R!==B&&(R!=null||B!=null))switch(C){case"selected":i.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:it(i,r,C,R,f,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)R=o[be],o.hasOwnProperty(be)&&R!=null&&!f.hasOwnProperty(be)&&it(i,r,be,null,f,R);for(D in f)if(R=f[D],B=o[D],f.hasOwnProperty(D)&&R!==B&&(R!=null||B!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,r));break;default:it(i,r,D,R,f,B)}return;default:if(wu(r)){for(var rt in o)R=o[rt],o.hasOwnProperty(rt)&&R!==void 0&&!f.hasOwnProperty(rt)&&ah(i,r,rt,void 0,f,R);for(H in f)R=f[H],B=o[H],!f.hasOwnProperty(H)||R===B||R===void 0&&B===void 0||ah(i,r,H,R,f,B);return}}for(var A in o)R=o[A],o.hasOwnProperty(A)&&R!=null&&!f.hasOwnProperty(A)&&it(i,r,A,null,f,R);for($ in f)R=f[$],B=o[$],!f.hasOwnProperty($)||R===B||R==null&&B==null||it(i,r,$,R,f,B)}function ty(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),f=0;f<o.length;f++){var m=o[f],x=m.transferSize,v=m.initiatorType,j=m.duration;if(x&&j&&ty(v)){for(v=0,j=m.responseEnd,f+=1;f<o.length;f++){var C=o[f],D=C.startTime;if(D>j)break;var H=C.transferSize,$=C.initiatorType;H&&ty($)&&(C=C.responseEnd,v+=H*(C<j?1:(j-D)/(C-D)))}if(--f,r+=8*(x+v)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var oh=null,ch=null;function bc(i){return i.nodeType===9?i:i.ownerDocument}function ny(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sy(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function dh(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var uh=null;function SN(){var i=window.event;return i&&i.type==="popstate"?i===uh?!1:(uh=i,!0):(uh=null,!1)}var iy=typeof setTimeout=="function"?setTimeout:void 0,CN=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,MN=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(i){return ry.resolve(null).then(i).catch(TN)}:iy;function TN(i){setTimeout(function(){throw i})}function ji(i){return i==="head"}function ly(i,r){var o=r,f=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(f===0){i.removeChild(m),Nl(r);return}f--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")f++;else if(o==="html")Ta(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ta(o);for(var x=o.firstChild;x;){var v=x.nextSibling,j=x.nodeName;x[ss]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=v}}else o==="body"&&Ta(i.ownerDocument.body);o=m}while(o);Nl(r)}function ay(i,r){var o=i;i=0;do{var f=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=f}while(o)}function fh(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fh(o),hs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function EN(i,r,o,f){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ss])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function AN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Yn(i.nextSibling),i===null))return null;return i}function oy(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Yn(i.nextSibling),i===null))return null;return i}function hh(i){return i.data==="$?"||i.data==="$~"}function ph(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ON(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var f=function(){r(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Yn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var mh=null;function cy(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Yn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function dy(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function uy(i,r,o){switch(r=bc(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ta(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);hs(i)}var Zn=new Map,fy=new Set;function wc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var qs=te.d;te.d={f:DN,r:RN,D:LN,C:_N,L:BN,m:HN,X:IN,S:UN,M:VN};function DN(){var i=qs.f(),r=uc();return i||r}function RN(i){var r=Mn(i);r!==null&&r.tag===5&&r.type==="form"?Tx(r):qs.r(i)}var vl=typeof document>"u"?null:document;function hy(i,r,o){var f=vl;if(f&&typeof r=="string"&&r){var m=Vn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),fy.has(m)||(fy.add(m),i={rel:i,crossOrigin:o,href:r},f.querySelector(m)===null&&(r=f.createElement("link"),nn(r,"link",i),qt(r),f.head.appendChild(r)))}}function LN(i){qs.D(i),hy("dns-prefetch",i,null)}function _N(i,r){qs.C(i,r),hy("preconnect",i,r)}function BN(i,r,o){qs.L(i,r,o);var f=vl;if(f&&i&&r){var m='link[rel="preload"][as="'+Vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Vn(o.imageSizes)+'"]')):m+='[href="'+Vn(i)+'"]';var x=m;switch(r){case"style":x=kl(i);break;case"script":x=jl(i)}Zn.has(x)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Zn.set(x,i),f.querySelector(m)!==null||r==="style"&&f.querySelector(Ea(x))||r==="script"&&f.querySelector(Aa(x))||(r=f.createElement("link"),nn(r,"link",i),qt(r),f.head.appendChild(r)))}}function HN(i,r){qs.m(i,r);var o=vl;if(o&&i){var f=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Vn(f)+'"][href="'+Vn(i)+'"]',x=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=jl(i)}if(!Zn.has(x)&&(i=y({rel:"modulepreload",href:i},r),Zn.set(x,i),o.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Aa(x)))return}f=o.createElement("link"),nn(f,"link",i),qt(f),o.head.appendChild(f)}}}function UN(i,r,o){qs.S(i,r,o);var f=vl;if(f&&i){var m=$r(f).hoistableStyles,x=kl(i);r=r||"default";var v=m.get(x);if(!v){var j={loading:0,preload:null};if(v=f.querySelector(Ea(x)))j.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Zn.get(x))&&gh(i,o);var C=v=f.createElement("link");qt(C),nn(C,"link",i),C._p=new Promise(function(D,H){C.onload=D,C.onerror=H}),C.addEventListener("load",function(){j.loading|=1}),C.addEventListener("error",function(){j.loading|=2}),j.loading|=4,vc(v,r,f)}v={type:"stylesheet",instance:v,count:1,state:j},m.set(x,v)}}}function IN(i,r){qs.X(i,r);var o=vl;if(o&&i){var f=$r(o).hoistableScripts,m=jl(i),x=f.get(m);x||(x=o.querySelector(Aa(m)),x||(i=y({src:i,async:!0},r),(r=Zn.get(m))&&xh(i,r),x=o.createElement("script"),qt(x),nn(x,"link",i),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(m,x))}}function VN(i,r){qs.M(i,r);var o=vl;if(o&&i){var f=$r(o).hoistableScripts,m=jl(i),x=f.get(m);x||(x=o.querySelector(Aa(m)),x||(i=y({src:i,async:!0,type:"module"},r),(r=Zn.get(m))&&xh(i,r),x=o.createElement("script"),qt(x),nn(x,"link",i),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(m,x))}}function py(i,r,o,f){var m=(m=Re.current)?wc(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=kl(o.href),o=$r(m).hoistableStyles,f=o.get(r),f||(f={type:"style",instance:null,count:0,state:null},o.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=kl(o.href);var x=$r(m).hoistableStyles,v=x.get(i);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,v),(x=m.querySelector(Ea(i)))&&!x._p&&(v.instance=x,v.state.loading=5),Zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(i,o),x||PN(m,i,o,v.state))),r&&f===null)throw Error(s(528,""));return v}if(r&&f!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jl(o),o=$r(m).hoistableScripts,f=o.get(r),f||(f={type:"script",instance:null,count:0,state:null},o.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function kl(i){return'href="'+Vn(i)+'"'}function Ea(i){return'link[rel="stylesheet"]['+i+"]"}function my(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function PN(i,r,o,f){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=i.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),nn(r,"link",o),qt(r),i.head.appendChild(r))}function jl(i){return'[src="'+Vn(i)+'"]'}function Aa(i){return"script[async]"+i}function gy(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var f=i.querySelector('style[data-href~="'+Vn(o.href)+'"]');if(f)return r.instance=f,qt(f),f;var m=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),qt(f),nn(f,"style",m),vc(f,o.precedence,i),r.instance=f;case"stylesheet":m=kl(o.href);var x=i.querySelector(Ea(m));if(x)return r.state.loading|=4,r.instance=x,qt(x),x;f=my(o),(m=Zn.get(m))&&gh(f,m),x=(i.ownerDocument||i).createElement("link"),qt(x);var v=x;return v._p=new Promise(function(j,C){v.onload=j,v.onerror=C}),nn(x,"link",f),r.state.loading|=4,vc(x,o.precedence,i),r.instance=x;case"script":return x=jl(o.src),(m=i.querySelector(Aa(x)))?(r.instance=m,qt(m),m):(f=o,(m=Zn.get(x))&&(f=y({},o),xh(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),qt(m),nn(m,"link",f),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,vc(f,o.precedence,i));return r.instance}function vc(i,r,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,x=m,v=0;v<f.length;v++){var j=f[v];if(j.dataset.precedence===r)x=j;else if(x!==m)break}x?x.parentNode.insertBefore(i,x.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function gh(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function xh(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var kc=null;function xy(i,r,o){if(kc===null){var f=new Map,m=kc=new Map;m.set(o,f)}else m=kc,f=m.get(o),f||(f=new Map,m.set(o,f));if(f.has(i))return f;for(f.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var x=o[m];if(!(x[ss]||x[J]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var v=x.getAttribute(r)||"";v=i+v;var j=f.get(v);j?j.push(x):f.set(v,[x])}}return f}function yy(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function qN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function by(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function $N(i,r,o,f){if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=kl(f.href),x=r.querySelector(Ea(m));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=jc.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=x,qt(x);return}x=r.ownerDocument||r,f=my(f),(m=Zn.get(m))&&gh(f,m),x=x.createElement("link"),qt(x);var v=x;v._p=new Promise(function(j,C){v.onload=j,v.onerror=C}),nn(x,"link",f),o.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=jc.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var yh=0;function KN(i,r){return i.stylesheets&&i.count===0&&zc(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var f=setTimeout(function(){if(i.stylesheets&&zc(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+r);0<i.imgBytes&&yh===0&&(yh=62500*zN());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&zc(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>yh?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(m)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nc=null;function zc(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nc=new Map,r.forEach(GN,i),Nc=null,jc.call(i))}function GN(i,r){if(!(r.state.loading&4)){var o=Nc.get(i);if(o)var f=o.get(null);else{o=new Map,Nc.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var v=m[x];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),f=v)}f&&o.set(null,f)}m=r.instance,v=m.getAttribute("data-precedence"),x=o.get(v)||f,x===f&&o.set(null,m),o.set(v,m),this.count++,f=jc.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),x?x.parentNode.insertBefore(m,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Oa={$$typeof:Y,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function WN(i,r,o,f,m,x,v,j,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=he(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=he(0),this.hiddenUpdates=he(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function wy(i,r,o,f,m,x,v,j,C,D,H,$){return i=new WN(i,r,o,v,C,D,H,$,j),r=1,x===!0&&(r|=24),x=En(3,null,null,r),i.current=x,x.stateNode=i,r=Ju(),r.refCount++,i.pooledCache=r,r.refCount++,x.memoizedState={element:f,isDehydrated:o,cache:r},ef(x),i}function vy(i){return i?(i=el,i):el}function ky(i,r,o,f,m,x){m=vy(m),f.context===null?f.context=m:f.pendingContext=m,f=fi(r),f.payload={element:o},x=x===void 0?null:x,x!==null&&(f.callback=x),o=hi(i,f,r),o!==null&&(zn(o,i,r),da(o,i,r))}function jy(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function bh(i,r){jy(i,r),(i=i.alternate)&&jy(i,r)}function Ny(i){if(i.tag===13||i.tag===31){var r=ir(i,67108864);r!==null&&zn(r,i,67108864),bh(i,67108864)}}function zy(i){if(i.tag===13||i.tag===31){var r=Ln();r=qr(r);var o=ir(i,r);o!==null&&zn(o,i,r),bh(i,r)}}var Sc=!0;function YN(i,r,o,f){var m=_.T;_.T=null;var x=te.p;try{te.p=2,wh(i,r,o,f)}finally{te.p=x,_.T=m}}function ZN(i,r,o,f){var m=_.T;_.T=null;var x=te.p;try{te.p=8,wh(i,r,o,f)}finally{te.p=x,_.T=m}}function wh(i,r,o,f){if(Sc){var m=vh(f);if(m===null)lh(i,r,f,Cc,o),Cy(i,f);else if(QN(m,i,r,o,f))f.stopPropagation();else if(Cy(i,f),r&4&&-1<JN.indexOf(i)){for(;m!==null;){var x=Mn(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var v=Fe(x.pendingLanes);if(v!==0){var j=x;for(j.pendingLanes|=2,j.entangledLanes|=2;v;){var C=1<<31-re(v);j.entanglements[1]|=C,v&=~C}xs(x),(Ze&6)===0&&(cc=pn()+500,Sa(0))}}break;case 31:case 13:j=ir(x,2),j!==null&&zn(j,x,2),uc(),bh(x,2)}if(x=vh(f),x===null&&lh(i,r,f,Cc,o),x===m)break;m=x}m!==null&&f.stopPropagation()}else lh(i,r,f,null,o)}}function vh(i){return i=ku(i),kh(i)}var Cc=null;function kh(i){if(Cc=null,i=ri(i),i!==null){var r=a(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=u(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Cc=i,null}function Sy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gu()){case wo:return 2;case V:return 8;case de:case fe:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var jh=!1,Ni=null,zi=null,Si=null,Da=new Map,Ra=new Map,Ci=[],JN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(i,r){switch(i){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Da.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(r.pointerId)}}function La(i,r,o,f,m,x){return i===null||i.nativeEvent!==x?(i={blockedOn:r,domEventName:o,eventSystemFlags:f,nativeEvent:x,targetContainers:[m]},r!==null&&(r=Mn(r),r!==null&&Ny(r)),i):(i.eventSystemFlags|=f,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function QN(i,r,o,f,m){switch(r){case"focusin":return Ni=La(Ni,i,r,o,f,m),!0;case"dragenter":return zi=La(zi,i,r,o,f,m),!0;case"mouseover":return Si=La(Si,i,r,o,f,m),!0;case"pointerover":var x=m.pointerId;return Da.set(x,La(Da.get(x)||null,i,r,o,f,m)),!0;case"gotpointercapture":return x=m.pointerId,Ra.set(x,La(Ra.get(x)||null,i,r,o,f,m)),!0}return!1}function My(i){var r=ri(i.target);if(r!==null){var o=a(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,E(i.priority,function(){zy(o)});return}}else if(r===31){if(r=u(o),r!==null){i.blockedOn=r,E(i.priority,function(){zy(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=vh(i.nativeEvent);if(o===null){o=i.nativeEvent;var f=new o.constructor(o.type,o);vu=f,o.target.dispatchEvent(f),vu=null}else return r=Mn(o),r!==null&&Ny(r),i.blockedOn=o,!1;r.shift()}return!0}function Ty(i,r,o){Mc(i)&&o.delete(r)}function XN(){jh=!1,Ni!==null&&Mc(Ni)&&(Ni=null),zi!==null&&Mc(zi)&&(zi=null),Si!==null&&Mc(Si)&&(Si=null),Da.forEach(Ty),Ra.forEach(Ty)}function Tc(i,r){i.blockedOn===r&&(i.blockedOn=null,jh||(jh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XN)))}var Ec=null;function Ey(i){Ec!==i&&(Ec=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ec===i&&(Ec=null);for(var r=0;r<i.length;r+=3){var o=i[r],f=i[r+1],m=i[r+2];if(typeof f!="function"){if(kh(f||o)===null)continue;break}var x=Mn(o);x!==null&&(i.splice(r,3),r-=3,vf(x,{pending:!0,data:m,method:o.method,action:f},f,m))}}))}function Nl(i){function r(C){return Tc(C,i)}Ni!==null&&Tc(Ni,i),zi!==null&&Tc(zi,i),Si!==null&&Tc(Si,i),Da.forEach(r),Ra.forEach(r);for(var o=0;o<Ci.length;o++){var f=Ci[o];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ci.length&&(o=Ci[0],o.blockedOn===null);)My(o),o.blockedOn===null&&Ci.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var m=o[f],x=o[f+1],v=m[ee]||null;if(typeof x=="function")v||Ey(o);else if(v){var j=null;if(x&&x.hasAttribute("formAction")){if(m=x,v=x[ee]||null)j=v.formAction;else if(kh(m)!==null)continue}else j=v.action;typeof j=="function"?o[f+1]=j:(o.splice(f,3),f-=3),Ey(o)}}}function Ay(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(v){return m=v})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),f||setTimeout(o,20)}function o(){if(!f&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Nh(i){this._internalRoot=i}Ac.prototype.render=Nh.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,f=Ln();ky(o,f,i,r,null,null)},Ac.prototype.unmount=Nh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ky(i.current,2,null,i,null,null),uc(),r[F]=null}};function Ac(i){this._internalRoot=i}Ac.prototype.unstable_scheduleHydration=function(i){if(i){var r=Yl();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ci.length&&r!==0&&r<Ci[o].priority;o++);Ci.splice(o,0,i),o===0&&My(i)}};var Oy=e.version;if(Oy!=="19.2.3")throw Error(s(527,Oy,"19.2.3"));te.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var FN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{jt=Oc.inject(FN),lt=Oc}catch{}}return Ba.createRoot=function(i,r){if(!l(i))throw Error(s(299));var o=!1,f="",m=Ux,x=Ix,v=Vx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=wy(i,1,!1,null,null,o,f,null,m,x,v,Ay),i[F]=r.current,rh(i),new Nh(r)},Ba.hydrateRoot=function(i,r,o){if(!l(i))throw Error(s(299));var f=!1,m="",x=Ux,v=Ix,j=Vx,C=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),r=wy(i,1,!0,r,o??null,f,m,C,x,v,j,Ay),r.context=vy(null),o=r.current,f=Ln(),f=qr(f),m=fi(f),m.callback=null,hi(o,m,f),o=f,r.current.lanes=o,At(r,o),xs(r),i[F]=r.current,rh(i),new Ac(r)},Ba.version="19.2.3",Ba}var Py;function oz(){if(Py)return Ch.exports;Py=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ch.exports=az(),Ch.exports}var cz=oz();const dz=Fp(cz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fz=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),qy=n=>{const e=fz(n);return e.charAt(0).toUpperCase()+e.slice(1)},G1=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),hz=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=le.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:a,iconNode:c,...u},h)=>le.createElement("svg",{ref:h,...pz,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:G1("lucide",l),...!a&&!hz(u)&&{"aria-hidden":"true"},...u},[...c.map(([p,g])=>le.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(n,e)=>{const t=le.forwardRef(({className:s,...l},a)=>le.createElement(mz,{ref:a,iconNode:e,className:G1(`lucide-${uz(qy(n))}`,`lucide-${n}`,s),...l}));return t.displayName=qy(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$y=ke("arrow-right",gz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ky=ke("award",xz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],bz=ke("bold",yz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Dc=ke("book-open",wz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kz=ke("calendar",vz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Xc=ke("chart-column",jz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zz=ke("chevron-down",Nz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kt=ke("chevron-right",Sz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fc=ke("circle-alert",Cz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cn=ke("circle-check-big",Mz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ez=ke("circle-play",Tz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gy=ke("circle-question-mark",Az);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xr=ke("clock",Oz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Rz=ke("code",Dz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ah=ke("download",Lz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Bz=ke("ellipsis-vertical",_z);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oh=ke("eye",Hz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dh=ke("file-text",Uz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Vz=ke("globe",Iz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Js=ke("graduation-cap",Pz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Wy=ke("hard-hat",qz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Kz=ke("image",$z);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wz=ke("info",Gz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Zz=ke("italic",Yz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Qz=ke("link",Jz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Fz=ke("list-ordered",Xz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],t2=ke("list",e2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yy=ke("lock",n2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zy=ke("mail",s2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],r2=ke("map-pin",i2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],W1=ke("menu",l2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Rh=ke("monitor-play",a2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gp=ke("phone",o2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Jy=ke("play",c2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Rc=ke("printer",d2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],f2=ke("quote",u2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lc=ke("settings",h2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],m2=ke("shield-check",p2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ha=ke("square-pen",g2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],y2=ke("star",x2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],w2=ke("table",b2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ys=ke("trash-2",v2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Qy=ke("trophy",k2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Li=ke("truck",j2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ad=ke("user",N2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yr=ke("users",z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Lh=ke("wrench",S2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wr=ke("x",C2),kr=n=>`/multiserwis-kutno/${n}`.replace("//","/"),Y1={PL:{nav:{home:"Start",catalog:"Szkolenia",rentals:"Wynajem",contact:"Kontakt",admin:"Panel Managera",lms:"Strefa Kursanta"},hero:{badge:"Nowe terminy szkole 2026",title:"Zdobd uprawnienia operatora",subtitle:"online i stacjonarnie",desc:"Kompleksowe kursy UDT z dostpem do teorii w e-learningu. Praktyka na nowoczesnym sprzcie.",cta1:"Przegldaj szkolenia",cta2:"Usugi serwisowe"}},EN:{nav:{home:"Home",catalog:"Courses",rentals:"Rentals",contact:"Contact",admin:"Manager Panel",lms:"Student Zone"},hero:{badge:"New training dates 2026",title:"Get operator certification",subtitle:"online and on-site",desc:"Comprehensive UDT courses with e-learning theory access. Practice on modern equipment.",cta1:"Browse Courses",cta2:"Service & Repairs"}},DE:{nav:{home:"Startseite",catalog:"Schulungen",rentals:"Vermietung",contact:"Kontakt",admin:"Manager-Panel",lms:"Studentenzone"},hero:{badge:"Neue Schulungstermine 2026",title:"Holen Sie sich das Zertifikat",subtitle:"online und vor Ort",desc:"Umfassende UDT-Kurse mit Zugang zur E-Learning-Theorie. Praxis an modernen Gerten.",cta1:"Kurse durchsuchen",cta2:"Serviceleistungen"}}},M2={PL:{title:"Kurs na adowarki Teleskopowe UDT (I WJO) | MultiSerwis Kutno",description:"Zrb uprawnienia na adowarki teleskopowe w Kutnie. Teoria online, egzamin pastwowy UDT. Najwysza zdawalno w regionie.",keywords:"kurs adowarki teleskopowe, szkolenia udt kutno, uprawnienia na adowarki, operator adowarki cena",ogTitle:"Zdobd uprawnienia na adowarki Teleskopowe - Szybko i Skutecznie",ogDescription:"Szkolenie hybrydowe: teoria w domu, praktyka na placu. Zapisz si ju dzi!"},EN:{title:"Telescopic Handler Training UDT (I WJO) | MultiSerwis Poland",description:"Get certified for telescopic loaders in Kutno, Poland. Online theory, UDT state exam. Highest pass rate in the region.",keywords:"telescopic handler training, udt poland, loader certification, heavy machinery course",ogTitle:"Get your Telescopic Loader License - Fast & Effective",ogDescription:"Hybrid training: theory at home, practice on site. Sign up today!"},DE:{title:"Teleskoplader Ausbildung UDT (I WJO) | MultiSerwis Polen",description:"Zertifizierung fr Teleskoplader in Kutno. Online-Theorie, staatliche UDT-Prfung. Hchste Bestehensquote.",keywords:"teleskoplader schulung, udt polen, staplerschein, baumaschinenkurs",ogTitle:"Erhalten Sie Ihren Teleskoplader-Fhrerschein",ogDescription:"Hybrides Training: Theorie zu Hause, Praxis vor Ort. Melden Sie sich heute an!"}},_n=[{id:"c1",title:"Operator Wzkw Widowych (I WJO)",category:"UDT",duration:"35h",price:"650 PLN",image:kr("operator-wozki-widlowe.webp"),isPopular:!0,description:"Ucz si teorii w domu, przyjed tylko na egzamin praktyczny. Oszczd czas i pienidze dziki naszej platformie e-learningowej. Gwarantujemy materiay wideo 4K, testy prbne identyczne z pastwowymi oraz 100% wsparcia instruktora."},{id:"c2",title:"adowarki Teleskopowe - Pene Uprawnienia",category:"UDT",duration:"40h",price:"850 PLN",image:kr("ladowarki-teleskopowe.webp"),isPopular:!0,description:"Szkolenie na wielozadaniowe noniki osprztu. Najbardziej poszukiwane uprawnienia w budownictwie."},{id:"c3",title:"Uprawnienia Energetyczne G1 (Eksploatacja)",category:"SEP",duration:"8h",price:"400 PLN",image:kr("uprawnienia-energetyczne-g1.webp"),description:"Kurs przygotowawczy do egzaminu kwalifikacyjnego na stanowisku Eksploatacji."},{id:"c4",title:"Suwnice i Wcigniki",category:"UDT",duration:"24h",price:"600 PLN",image:kr("suwnice-wciagniki.webp"),description:"Obsuga suwnic sterowanych z poziomu roboczego oraz kabiny."}],Xy=[{id:"m1",name:"Manitou MRT 2150",type:"adowarka Teleskopowa",specs:{height:"21m",capacity:"5000kg"},image:kr("manitou-mrt-2150.webp")},{id:"m2",name:"Genie Z-45/25J",type:"Podnonik Przegubowy",specs:{height:"16m",weight:"6500kg"},image:kr("genie-z-4525j.webp")},{id:"m3",name:"JCB 3CX",type:"Koparko-adowarka",specs:{weight:"8000kg",capacity:"1.2m"},image:kr("jcb-3cx.webp")}],T2=[{id:"uc1",courseId:"c1",progress:45,status:"active",nextLesson:"Bezpieczestwo wymiany butli LPG"},{id:"uc2",courseId:"c3",progress:100,status:"completed",nextLesson:"Egzamin zakoczony"}],Ti=[{id:"c1m1",courseId:"c1",title:"Modu 1: Budowa i Zasady Pracy",lessons:[{id:"c1l1",title:"Wprowadzenie i typy wzkw widowych",duration:"15:00",isCompleted:!0,isLocked:!1,type:"video"},{id:"c1l2",title:"Ukad napdowy i mechanizm podnoszenia",duration:"22:30",isCompleted:!0,isLocked:!1,type:"video"},{id:"c1l6a",title:"Przepisy BHP i normy bezpieczestwa",duration:"8:00",isCompleted:!1,isLocked:!1,type:"text"},{id:"c1l7",title:"Test wiedzy - Modu 1",duration:"8 pyta",isCompleted:!1,isLocked:!1,type:"test",questions:[{id:"q1",question:"Jakie bezpieczestwo jest najwaniejsze przy wymianie butli LPG?",type:"single",options:["Bezpieczestwo elektryczne","Bezpieczestwo mechaniczne","Bezpieczestwo chemiczne","Wszystkie wyej wymienione"],correctAnswer:3,explanation:"Przy wymianie butli LPG wszystkie rodzaje bezpieczestwa s wane."},{id:"q2",question:"Wybierz wszystkie czynnoci, ktre naley wykona przed rozpoczciem pracy:",type:"multiple",options:["Sprawdzi hamulce","Sprawdzi stan psychiczny operatora","Sprawdzi widoczno","Sprawdzi opony","Zatankowa paliwo"],correctAnswer:[0,2,3],explanation:"Naley sprawdzi hamulce, widoczno i opony. Stan psychiczny i tankowanie nie s czci rutynowej kontroli przedstartowej."},{id:"q3",question:"Opisz procedur bezpiecznego zatrzymania wzka widowego:",type:"open",explanation:"Prawidowa odpowied powinna zawiera: redukcj prdkoci, pynne hamowanie, obnienie adunku do poziomu jazdy i wyczenie silnika."},{id:"q4",question:"Ile wynosi maksymalny kt nachylenia terenu, na ktrym mona bezpiecznie pracowa wzkiem widowym?",type:"single",options:["5 stopni","10 stopni","15 stopni","20 stopni"],correctAnswer:1,explanation:"Maksymalny bezpieczny kt nachylenia terenu to okoo 10 stopni, aby unikn przechylenia wzka."}]}]},{id:"c1m2",courseId:"c1",title:"Modu 2: Eksploatacja i Dokumentacja",lessons:[{id:"c1l4",title:"Czynnoci przed rozpoczciem pracy",duration:"12:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l5",title:"Bezpieczestwo wymiany butli LPG",duration:"25:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l6b",title:"Dokumentacja techniczna wzka",duration:"5:00",isCompleted:!1,isLocked:!1,type:"text"},{id:"c1l6",title:"Diagram udwigu - czytanie wykresw",duration:"30:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l2test",title:"Test wiedzy - Modu 2",duration:"10 pyta",isCompleted:!1,isLocked:!1,type:"test",questions:[{id:"q2_1",question:"Jak czsto naley wykonywa przegld przed rozpoczciem pracy?",type:"single",options:["Raz w tygodniu","Przed kad zmian robocz","Raz w miesicu","Tylko gdy pojawi si usterka"],correctAnswer:1,explanation:"Przegld przedstartowy naley wykonywa przed kad zmian robocz, aby zapewni bezpieczn eksploatacj."},{id:"q2_2",question:"Wybierz wszystkie elementy, ktre naley sprawdzi przed wymian butli LPG:",type:"multiple",options:["Szczelno instalacji","Kolor butli","Stan zaworw","Dat wanoci butli","Mark butli"],correctAnswer:[0,2,3],explanation:"Naley sprawdzi szczelno instalacji, stan zaworw i dat wanoci butli. Kolor i marka nie s kluczowe dla bezpieczestwa."},{id:"q2_3",question:"Opisz, co oznaczaj poszczeglne linie na wykresie diagramu udwigu:",type:"open",explanation:"Diagram udwigu przedstawia maksymalne obcienie w zalenoci od wysokoci podnoszenia i odlegoci rodka cikoci adunku. Linie pokazuj granice bezpiecznego udwigu."}]}]},{id:"c1m3",courseId:"c1",title:"Modu 3: Dozr Techniczny i Egzamin",lessons:[{id:"c1l8",title:"Przepisy prawne i obowizki pracodawcy",duration:"20:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l8a",title:"Wymagania formalne i prawne UDT",duration:"10:00",isCompleted:!1,isLocked:!1,type:"text"},{id:"c1l9",title:"Dokumentacja techniczno-ruchowa",duration:"15:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l10",title:"Egzamin kocowy",duration:"12 pyta",isCompleted:!1,isLocked:!1,type:"test",questions:[{id:"eq1",question:"Ktre przepisy prawne reguluj obsug wzkw widowych w Polsce?",type:"multiple",options:["Kodeks pracy","Przepisy BHP","Rozporzdzenie Ministra Gospodarki","Ustawa o ochronie konkurencji","Norma PN-EN 16307-1"],correctAnswer:[0,1,2,4],explanation:"Obsug wzkw widowych reguluj Kodeks pracy, przepisy BHP, rozporzdzenie Ministra Gospodarki oraz norma PN-EN 16307-1. Ustawa o ochronie konkurencji nie dotyczy tej kwestii."},{id:"eq2",question:"Co zawiera dokumentacja techniczno-ruchowa wzka widowego?",type:"single",options:["Tylko map tras jazdy","Dane techniczne, histori remontw i przegldy","Tylko aktualne przegldy UDT","Numer seryjny i kolor"],correctAnswer:1,explanation:"Dokumentacja techniczno-ruchowa zawiera pene dane techniczne, histori przeprowadzonych remontw i wszystkie wykonane przegldy."},{id:"eq3",question:"Opisz rol inspektora UDT przy zatwierdzaniu wzka do pracy:",type:"open",explanation:"Inspektor UDT sprawdza stan techniczny wzka, weryfikuje bezpieczestwo eksploatacji i zgodno z obowizujcymi normami. Po pozytywnym wyniku kontroli wydaje zawiadczenie o przydatnoci do uytkowania."},{id:"eq4",question:"Jaki jest okres wanoci przegldu UDT dla wzkw widowych objtych dozorem?",type:"single",options:["6 miesicy","1 rok","2 lata","3 lata"],correctAnswer:1,explanation:"Przegld UDT dla wzkw widowych objtych dozorem technicznym naley przeprowadza co 12 miesicy."},{id:"eq5",question:"Wybierz wszystkie dokumenty, ktre powinny towarzyszy wzkowi widowemu objtemu dozorem:",type:"multiple",options:["Dowd rejestracyjny pojazdu","Karta przegldu okresowego","Zawiadczenie UDT o dopuszczeniu do eksploatacji","Karta tankowania paliwa","Ksika rewizyjna UDT"],correctAnswer:[1,2,4],explanation:"Wzkowi objtemu dozorem powinny towarzyszy: karta przegldu okresowego, zawiadczenie UDT i ksika rewizyjna. Dowd rejestracyjny dotyczy pojazdw drogowych, a karta tankowania nie jest dokumentem obowizkowym."},{id:"eq6",question:"Od jakiego wieku mona uzyska uprawnienia do obsugi wzkw widowych?",type:"single",options:["16 lat","18 lat","21 lat","25 lat"],correctAnswer:1,explanation:"Minimalna wymagana wiek do uzyskania uprawnie to 18 lat (dla niektrych kategorii wzkw moe by wymagane 21 lat)."},{id:"eq7",question:"Jakie badania musi przej kandydat na operatora wzka widowego?",type:"multiple",options:["Badania lekarskie","Badania psychologiczne","Badania techniczne","Badania chemiczne","Test wiedzy teoretycznej"],correctAnswer:[0,1,4],explanation:"Kandydat musi przej badania lekarskie, psychologiczne oraz test wiedzy teoretycznej. Badania techniczne i chemiczne nie s wymagane."},{id:"eq8",question:"Wyjanij, co to jest tabela znamionowa wzka widowego i jakie informacje zawiera:",type:"open",explanation:"Tabela znamionowa to trwale przymocowana tabliczka zawierajca kluczowe dane: nazw producenta, typ, numer seryjny, rok produkcji, udwig nominalny (Q), odlego rodka cikoci adunku (c), maksymaln wysoko podnoszenia i mas wasn wzka. Jest to podstawowy dokument identyfikacyjny."}]}]},{id:"c2m1",courseId:"c2",title:"Modu 1: Budowa i Funkcje",lessons:[{id:"c2l1",title:"Wprowadzenie do adowarek teleskopowych",duration:"20:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l2",title:"Ukad hydrauliczny i teleskop",duration:"28:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l3",title:"Wymienne osprzty",duration:"22:00",isCompleted:!1,isLocked:!1,type:"video"}]},{id:"c2m2",courseId:"c2",title:"Modu 2: Obsuga i Bezpieczestwo",lessons:[{id:"c2l4",title:"Zasady bezpiecznej pracy",duration:"18:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l5",title:"Stabilno adowarki",duration:"24:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l6",title:"Praca na wysokoci",duration:"26:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l7",title:"Test praktyczny - symulacja",duration:"30 min",isCompleted:!1,isLocked:!1,type:"test"}]},{id:"c2m3",courseId:"c2",title:"Modu 3: Konserwacja",lessons:[{id:"c2l8",title:"Przegldy okresowe",duration:"16:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l9",title:"Typowe awarie i ich eliminacja",duration:"20:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l10",title:"Egzamin kocowy",duration:"25 pyta",isCompleted:!1,isLocked:!1,type:"quiz"}]},{id:"c3m1",courseId:"c3",title:"Modu 1: Podstawy Elektrotechniki",lessons:[{id:"c3l1",title:"Prawo Ohma i Kirchhoffa",duration:"25:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l2",title:"Obwody prdu staego i zmiennego",duration:"30:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l3",title:"Bezpieczestwo pracy z prdem",duration:"35:00",isCompleted:!1,isLocked:!1,type:"video"}]},{id:"c3m2",courseId:"c3",title:"Modu 2: Urzdzenia i Instalacje",lessons:[{id:"c3l4",title:"Rozdzielnice i tablice",duration:"28:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l5",title:"Zabezpieczenia nadprdowe",duration:"32:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l6",title:"Ochrona przeciwporaeniowa",duration:"40:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l7",title:"Test wiedzy - Modu 2",duration:"20 pyta",isCompleted:!1,isLocked:!1,type:"quiz"}]},{id:"c3m3",courseId:"c3",title:"Modu 3: Eksploatacja",lessons:[{id:"c3l8",title:"Przepisy i normy",duration:"22:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l9",title:"Pomiary elektryczne",duration:"35:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l10",title:"Dokumentacja eksploatacyjna",duration:"18:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l11",title:"Egzamin kocowy",duration:"30 pyta",isCompleted:!1,isLocked:!1,type:"quiz"}]},{id:"c4m1",courseId:"c4",title:"Modu 1: Budowa Suwnic",lessons:[{id:"c4l1",title:"Typy i konstrukcja suwnic",duration:"24:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l2",title:"Mechanizmy podnoszenia",duration:"28:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l3",title:"Wcigniki i zawiesia",duration:"20:00",isCompleted:!1,isLocked:!1,type:"video"}]},{id:"c4m2",courseId:"c4",title:"Modu 2: Obsuga Suwnic",lessons:[{id:"c4l4",title:"Sterowanie i manewrowanie",duration:"26:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l5",title:"Bezpieczestwo przy podnoszeniu",duration:"30:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l6",title:"Sygnay i komunikacja",duration:"16:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l7",title:"Test praktyczny",duration:"25 min",isCompleted:!1,isLocked:!1,type:"test"}]},{id:"c4m3",courseId:"c4",title:"Modu 3: Konserwacja i UDT",lessons:[{id:"c4l8",title:"Przegldy techniczne",duration:"22:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l9",title:"Przepisy UDT dla dwignic",duration:"28:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l10",title:"Egzamin kocowy",duration:"25 pyta",isCompleted:!1,isLocked:!1,type:"quiz"}]}],as=[{id:"s1",name:"Adam Nowak",email:"adam.n@firma.pl",company:"LogiTrans Sp. z o.o.",course:"c1",progress:85,expirationDays:12,status:"active",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5","c1l6","c1l7","c1l8","c1l9"]},{id:"s1-c3",name:"Adam Nowak",email:"adam.n@firma.pl",company:"LogiTrans Sp. z o.o.",course:"c3",progress:35,expirationDays:45,status:"active",completedLessons:["c3l1","c3l2","c3l3"]},{id:"s3",name:"Anna Winiewska",email:"a.wisniewska@logistics.com",company:"DHL Supply Chain",course:"c1",progress:95,expirationDays:2,status:"warning",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5","c1l6","c1l7","c1l8","c1l9"]},{id:"s6",name:"Tomasz Lewandowski",email:"t.lewandowski@magazyn.pl",company:"Amazon Fulfillment Poland",course:"c1",progress:45,expirationDays:28,status:"active",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5"]},{id:"s7",name:"Katarzyna Kaczmarek",email:"k.kaczmarek@transport.eu",company:"Trans-Evropa Sp. z o.o.",course:"c1",progress:100,expirationDays:90,status:"active",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5","c1l6","c1l7","c1l8","c1l9","c1l10"]},{id:"s7-c2",name:"Katarzyna Kaczmarek",email:"k.kaczmarek@transport.eu",company:"Trans-Evropa Sp. z o.o.",course:"c2",progress:60,expirationDays:85,status:"active",completedLessons:["c2l1","c2l2","c2l3","c2l4","c2l5","c2l6"]},{id:"s8",name:"Micha Szymaski",email:"m.szymanski@logistyka.com",company:"LogiTrans Sp. z o.o.",course:"c1",progress:30,expirationDays:55,status:"active",completedLessons:["c1l1","c1l2","c1l3"]},{id:"s2",name:"Krzysztof Kowalczyk",email:"k.kowalczyk@budimex.pl",company:"Budimex S.A.",course:"c2",progress:20,expirationDays:45,status:"active",completedLessons:["c2l1","c2l2"]},{id:"s2-c4",name:"Krzysztof Kowalczyk",email:"k.kowalczyk@budimex.pl",company:"Budimex S.A.",course:"c4",progress:15,expirationDays:60,status:"active",completedLessons:["c4l1"]},{id:"s9",name:"Pawe Woniak",email:"p.wozniak@budowa.pl",company:"DHL Supply Chain",course:"c2",progress:70,expirationDays:18,status:"active",completedLessons:["c2l1","c2l2","c2l3","c2l4","c2l5","c2l6","c2l7"]},{id:"s10",name:"Magdalena Dbrowska",email:"m.dabrowska@construction.eu",company:"LogiTrans Sp. z o.o.",course:"c2",progress:55,expirationDays:34,status:"active",completedLessons:["c2l1","c2l2","c2l3","c2l4","c2l5"]},{id:"s11",name:"Bartosz Kamiski",email:"b.kaminski@sprzet.com",company:"Trans-Evropa Sp. z o.o.",course:"c2",progress:100,expirationDays:75,status:"active",completedLessons:["c2l1","c2l2","c2l3","c2l4","c2l5","c2l6","c2l7","c2l8","c2l9","c2l10"]},{id:"s11-c1",name:"Bartosz Kamiski",email:"b.kaminski@sprzet.com",company:"Trans-Evropa Sp. z o.o.",course:"c1",progress:100,expirationDays:120,status:"active",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5","c1l6","c1l7","c1l8","c1l9","c1l10"]},{id:"s4",name:"Piotr Zieliski",email:"p.zielinski@serwis.pl",company:"DHL Supply Chain",course:"c3",progress:0,expirationDays:60,status:"active",completedLessons:[]},{id:"s12",name:"ukasz Jankowski",email:"l.jankowski@elektro.pl",company:"Amazon Fulfillment Poland",course:"c3",progress:80,expirationDays:25,status:"active",completedLessons:["c3l1","c3l2","c3l3","c3l4","c3l5","c3l6","c3l7","c3l8","c3l9"]},{id:"s13",name:"Joanna Mazur",email:"j.mazur@energetyka.com",company:"Budimex S.A.",course:"c3",progress:40,expirationDays:48,status:"active",completedLessons:["c3l1","c3l2","c3l3","c3l4"]},{id:"s14",name:"Robert Wieczorek",email:"r.wieczorek@zakad.pl",company:"Tauron Dystrybucja",course:"c3",progress:90,expirationDays:3,status:"warning",completedLessons:["c3l1","c3l2","c3l3","c3l4","c3l5","c3l6","c3l7","c3l8","c3l9","c3l10"]},{id:"s15",name:"Grzegorz Piotrowski",email:"g.piotrowski@przemysl.pl",company:"ArcelorMittal Poland",course:"c4",progress:65,expirationDays:40,status:"active",completedLessons:["c4l1","c4l2","c4l3","c4l4","c4l5","c4l6"]},{id:"s16",name:"Ewa Grabowska",email:"e.grabowska@fabryka.com",company:"KGHM Polska Mied",course:"c4",progress:100,expirationDays:120,status:"active",completedLessons:["c4l1","c4l2","c4l3","c4l4","c4l5","c4l6","c4l7","c4l8","c4l9","c4l10"]},{id:"s16-c3",name:"Ewa Grabowska",email:"e.grabowska@fabryka.com",company:"KGHM Polska Mied",course:"c3",progress:55,expirationDays:100,status:"active",completedLessons:["c3l1","c3l2","c3l3","c3l4","c3l5","c3l6"]},{id:"s17",name:"Daniel Krl",email:"d.krol@hala.eu",company:"Volkswagen Pozna",course:"c4",progress:25,expirationDays:50,status:"active",completedLessons:["c4l1","c4l2"]},{id:"s18",name:"Monika Sikora",email:"m.sikora@magazyn.pl",company:"Indywidualny",course:"c4",progress:0,expirationDays:0,status:"expired",completedLessons:[]}],_h=[{name:"Wzki Widowe",value:45,color:"#003d4d"},{name:"adowarki",value:30,color:"#ff6600"},{name:"Koparki",value:15,color:"#005c73"},{name:"SEP",value:10,color:"#94a3b8"}],E2=n=>`/multiserwis-kutno/${n}`.replace("//","/"),A2=({children:n,currentView:e,setView:t,language:s,setLanguage:l,setCatalogCategory:a,onShowLoginModal:c,isLoggedIn:u,userName:h,onLogout:p})=>{const[g,y]=le.useState(!1),[b,w]=le.useState(!1),[k,z]=le.useState(!1),[N,S]=le.useState(!1),[L,Y]=le.useState(!1),Q=Y1[s].nav;le.useEffect(()=>{const Z=()=>{y(window.scrollY>20)};return window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)},[]);const q=Z=>`
    cursor-pointer text-sm font-bold uppercase tracking-wider transition-colors duration-300
    ${e===Z?"text-brand-accent":"text-white hover:text-brand-accent"}
  `;return d.jsxs("div",{className:"min-h-screen flex flex-col bg-brand-surface text-slate-800",children:[d.jsx("div",{className:"bg-brand-dark text-slate-400 py-2 px-4 text-xs md:text-sm border-b border-brand-secondary/30 relative z-[60]",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[d.jsxs("div",{className:"flex space-x-6",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(gp,{size:14,className:"text-brand-accent"})," +48 730 101 000"]}),d.jsxs("span",{className:"flex items-center gap-2 hidden md:flex",children:[d.jsx(Zy,{size:14,className:"text-brand-accent"})," biuro@multiserwis.pl"]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"font-semibold text-brand-accent uppercase tracking-wide hidden sm:block",children:"Profesjonalne Szkolenia UDT"}),d.jsxs("div",{className:"relative hidden md:block",children:[d.jsxs("button",{onClick:()=>z(!k),className:"flex items-center gap-1 text-white hover:text-brand-accent transition-colors font-bold",children:[d.jsx(Vz,{size:14})," ",s," ",d.jsx(Kt,{size:10,className:`transform transition-transform ${k?"rotate-90":""}`})]}),k&&d.jsx("div",{className:"absolute right-0 top-full mt-2 w-24 bg-white rounded shadow-lg border border-slate-200 py-1 z-50",children:["PL","EN","DE"].map(Z=>d.jsxs("div",{onClick:()=>{l(Z),z(!1)},className:`
                          px-4 py-2 text-xs font-bold cursor-pointer hover:bg-slate-50 flex items-center justify-between
                          ${s===Z?"text-brand-accent":"text-slate-600"}
                        `,children:[Z," ",s===Z&&d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-brand-accent"})]},Z))})]})]})]})}),d.jsxs("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${g?"bg-brand-primary shadow-xl py-3":"bg-brand-primary/95 backdrop-blur-sm py-5"}`,children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>t("HOME"),children:[d.jsx("div",{className:"w-10 h-10 bg-brand-accent rounded-sm flex items-center justify-center transform group-hover:rotate-45 transition-transform duration-300 p-1",children:d.jsx("img",{src:E2("logo.svg"),alt:"MultiSerwis Logo",className:"w-full h-full scale-[0.85] group-hover:scale-100 transform group-hover:-rotate-45 transition-transform duration-300"})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"text-2xl font-heading font-extrabold text-white leading-none tracking-tight",children:["MULTI",d.jsx("span",{className:"text-brand-accent",children:"SERWIS"})]}),d.jsx("span",{className:"text-[10px] text-slate-300 font-medium tracking-[0.2em] uppercase leading-none mt-1",children:"Szkolenia & Maszyny"})]})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[d.jsx("span",{onClick:()=>t("HOME"),className:q("HOME"),children:Q.home}),d.jsxs("div",{className:"relative group",onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),children:[d.jsxs("span",{onClick:()=>t("CATALOG"),className:`${q("CATALOG")} flex items-center gap-1`,children:[Q.catalog," ",d.jsx(Kt,{size:14,className:`transform transition-transform ${L?"rotate-90":""}`})]}),L&&d.jsx("div",{className:"absolute left-0 top-full pt-2 w-56 z-50",children:d.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-slate-200 overflow-hidden",children:[d.jsxs("div",{onClick:()=>{a("Wszystkie"),t("CATALOG"),Y(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2",children:[d.jsx(Js,{size:16})," Wszystkie szkolenia"]}),d.jsx("div",{className:"border-t border-slate-100"}),[{name:"UDT",label:"Urzdzenia UDT"},{name:"SEP",label:"Uprawnienia SEP"},{name:"BHP",label:"BHP i PPO"},{name:"Inne",label:"Maszyny Budowlane"}].map(Z=>d.jsxs("div",{onClick:()=>{a(Z.label),t("CATALOG"),Y(!1)},className:"px-4 py-2 text-sm text-slate-600 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors",children:["Szkolenia ",Z.name]},Z.name))]})})]}),d.jsxs("div",{className:"relative group",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:[d.jsxs("span",{className:`cursor-pointer text-sm font-bold uppercase tracking-wider transition-colors duration-300 ${e==="RENTALS"||e==="SERVICES"?"text-brand-accent":"text-white hover:text-brand-accent"} flex items-center gap-1`,children:["Usugi ",d.jsx(Kt,{size:14,className:`transform transition-transform ${N?"rotate-90":""}`})]}),N&&d.jsx("div",{className:"absolute left-0 top-full pt-2 w-56 z-50",children:d.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-slate-200 overflow-hidden",children:[d.jsxs("div",{onClick:()=>{t("RENTALS"),S(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2",children:[d.jsx(Li,{size:16})," Wynajem maszyn"]}),d.jsxs("div",{onClick:()=>{t("SERVICES"),S(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2",children:[d.jsx(Wy,{size:16})," Serwis i konserwacja"]})]})})]}),d.jsx("span",{onClick:()=>t("CONTACT"),className:q("CONTACT"),children:Q.contact}),d.jsx("span",{onClick:()=>t("ADMIN"),className:q("ADMIN"),children:Q.admin}),u?d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"text-white text-sm font-bold",children:h}),d.jsx("button",{onClick:p,className:"px-4 py-2 rounded-sm font-bold text-xs uppercase tracking-wide bg-red-600 text-white hover:bg-red-700 transition-colors",children:"Wyloguj"})]}):d.jsxs("button",{onClick:c,className:"px-5 py-2 rounded-sm font-bold text-sm uppercase tracking-wide transition-all bg-brand-accent text-white hover:bg-brand-accentHover shadow-lg",children:[d.jsx(ad,{size:16,className:"inline mr-2"}),"Zaloguj"]}),d.jsxs("button",{onClick:()=>t("LMS"),className:`
                flex items-center gap-2 px-5 py-2 rounded-sm font-bold text-sm uppercase tracking-wide transition-all
                ${e==="LMS"?"bg-blue-600 text-white shadow-lg":"bg-white/10 text-white hover:bg-white/20 border border-white/20"}
              `,children:[d.jsx(Js,{size:16}),Q.lms]})]}),d.jsx("div",{className:"md:hidden text-white",onClick:()=>w(!b),children:b?d.jsx(wr,{size:28}):d.jsx(W1,{size:28})})]}),b&&d.jsx("div",{className:"md:hidden absolute top-full left-0 w-full bg-brand-primary border-t border-brand-secondary/50 shadow-2xl",children:d.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[d.jsx("span",{onClick:()=>{t("HOME"),w(!1)},className:"text-white font-bold py-2 border-b border-brand-secondary/30",children:Q.home}),d.jsxs("div",{className:"border-b border-brand-secondary/30",children:[d.jsxs("div",{onClick:()=>Y(!L),className:"text-white font-bold py-2 flex items-center justify-between cursor-pointer",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Js,{size:16})," ",Q.catalog]}),d.jsx(Kt,{size:16,className:`transform transition-transform ${L?"rotate-90":""}`})]}),L&&d.jsxs("div",{className:"pl-6 py-2 space-y-2",children:[d.jsx("div",{onClick:()=>{a("Wszystkie"),t("CATALOG"),w(!1)},className:"text-slate-300 text-sm py-1",children:"Wszystkie szkolenia"}),[{name:"UDT",label:"Urzdzenia UDT"},{name:"SEP",label:"Uprawnienia SEP"},{name:"BHP",label:"BHP i PPO"},{name:"Inne",label:"Maszyny Budowlane"}].map(Z=>d.jsxs("div",{onClick:()=>{a(Z.label),t("CATALOG"),w(!1)},className:"text-slate-300 text-sm py-1",children:["Szkolenia ",Z.name]},Z.name))]})]}),d.jsxs("div",{className:"border-b border-brand-secondary/30",children:[d.jsxs("div",{onClick:()=>S(!N),className:"text-white font-bold py-2 flex items-center justify-between cursor-pointer",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Li,{size:16})," Usugi"]}),d.jsx(Kt,{size:16,className:`transform transition-transform ${N?"rotate-90":""}`})]}),N&&d.jsxs("div",{className:"pl-6 py-2 space-y-2",children:[d.jsxs("div",{onClick:()=>{t("RENTALS"),w(!1)},className:"text-slate-300 text-sm py-1 flex items-center gap-2",children:[d.jsx(Li,{size:14})," Wynajem maszyn"]}),d.jsxs("div",{onClick:()=>{t("SERVICES"),w(!1)},className:"text-slate-300 text-sm py-1 flex items-center gap-2",children:[d.jsx(Wy,{size:14})," Serwis i konserwacja"]})]})]}),d.jsxs("span",{onClick:()=>{t("ADMIN"),w(!1)},className:"text-white font-bold py-2 border-b border-brand-secondary/30 flex items-center gap-2",children:[d.jsx(Xc,{size:16})," ",Q.admin]}),d.jsxs("span",{onClick:()=>{t("LMS"),w(!1)},className:"text-brand-accent font-bold py-2 border-b border-brand-secondary/30 flex items-center gap-2",children:[d.jsx(ad,{size:16})," ",Q.lms]}),d.jsx("span",{onClick:()=>{t("CONTACT"),w(!1)},className:"text-white font-bold py-2",children:Q.contact}),d.jsx("div",{className:"flex gap-4 pt-2 justify-center",children:["PL","EN","DE"].map(Z=>d.jsx("span",{onClick:()=>l(Z),className:`text-sm font-bold p-2 rounded ${s===Z?"bg-brand-accent text-white":"text-slate-400 bg-brand-dark/30"}`,children:Z},Z))})]})})]}),d.jsx("main",{className:"flex-grow",children:n}),d.jsxs("footer",{className:"bg-brand-dark text-white pt-16 pb-8 border-t-4 border-brand-accent",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 grid grid-cols-1 md:grid-cols-4 gap-12",children:[d.jsxs("div",{className:"col-span-1 md:col-span-1",children:[d.jsx("div",{className:"flex flex-col mb-6",children:d.jsxs("span",{className:"text-2xl font-heading font-extrabold text-white leading-none tracking-tight",children:["MULTI",d.jsx("span",{className:"text-brand-accent",children:"SERWIS"})]})}),d.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-6",children:"Lider szkole zawodowych i wynajmu maszyn budowlanych. Dostarczamy najwysz jako usug, certyfikowane szkolenia UDT oraz niezawodny sprzt."}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-8 h-8 bg-brand-secondary/50 rounded flex items-center justify-center hover:bg-brand-accent transition-colors cursor-pointer",children:"F"}),d.jsx("div",{className:"w-8 h-8 bg-brand-secondary/50 rounded flex items-center justify-center hover:bg-brand-accent transition-colors cursor-pointer",children:"I"}),d.jsx("div",{className:"w-8 h-8 bg-brand-secondary/50 rounded flex items-center justify-center hover:bg-brand-accent transition-colors cursor-pointer",children:"L"})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-heading font-bold text-lg mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-brand-accent block"})," Usugi"]}),d.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[d.jsx("li",{className:"hover:text-brand-accent cursor-pointer transition-colors",children:"Szkolenia UDT"}),d.jsx("li",{className:"hover:text-brand-accent cursor-pointer transition-colors",children:"Wynajem adowarek"}),d.jsx("li",{className:"hover:text-brand-accent cursor-pointer transition-colors",children:"Serwis Maszyn"}),d.jsx("li",{className:"hover:text-brand-accent cursor-pointer transition-colors",children:"Uprawnienia SEP"})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-heading font-bold text-lg mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-brand-accent block"})," Kontakt"]}),d.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"mt-1",children:d.jsx(gp,{size:14,className:"text-brand-accent"})}),d.jsxs("div",{children:["+48 730 101 000",d.jsx("br",{}),d.jsx("span",{className:"text-xs text-slate-500",children:"Pn-Pt 8:00 - 16:00"})]})]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(Zy,{size:14,className:"text-brand-accent"})," biuro@multiserwis.pl"]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"mt-1",children:""}),d.jsxs("div",{children:["ul. Siemieradzkiego 18",d.jsx("br",{}),"99-300 Kutno"]})]})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-heading font-bold text-lg mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-brand-accent block"})," Certyfikaty"]}),d.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10 flex flex-col items-center justify-center",children:[d.jsx("div",{className:"text-2xl font-bold mb-1 tracking-widest text-slate-200",children:"ISO 9001"}),d.jsx("div",{className:"text-[10px] uppercase text-slate-500",children:"System Zarzdzania Jakoci"})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mt-16 pt-8 border-t border-brand-secondary/30 flex flex-col md:flex-row justify-between items-center text-xs text-slate-500",children:[d.jsx("p",{children:" 2026 MultiSerwis. Wszelkie prawa zastrzeone."}),d.jsxs("div",{className:"flex gap-6 mt-4 md:mt-0",children:[d.jsx("span",{className:"hover:text-white cursor-pointer",children:"Polityka Prywatnoci"}),d.jsx("span",{className:"hover:text-white cursor-pointer",children:"Regulamin"})]})]})]})]})};var O2=K1();const D2=Fp(O2);var Bh={exports:{}},Hh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function R2(){if(Fy)return Hh;Fy=1;var n=po();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,s=n.useState,l=n.useEffect,a=n.useLayoutEffect,c=n.useDebugValue;function u(y,b){var w=b(),k=s({inst:{value:w,getSnapshot:b}}),z=k[0].inst,N=k[1];return a(function(){z.value=w,z.getSnapshot=b,h(z)&&N({inst:z})},[y,w,b]),l(function(){return h(z)&&N({inst:z}),y(function(){h(z)&&N({inst:z})})},[y]),c(w),w}function h(y){var b=y.getSnapshot;y=y.value;try{var w=b();return!t(y,w)}catch{return!0}}function p(y,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Hh.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,Hh}var eb;function Z1(){return eb||(eb=1,Bh.exports=R2()),Bh.exports}var J1=Z1();function sn(n){this.content=n}sn.prototype={constructor:sn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var s=t&&t!=n?this.remove(t):this,l=s.find(n),a=s.content.slice();return l==-1?a.push(t||n,e):(a[l+1]=e,t&&(a[l]=t)),new sn(a)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new sn(t)},addToStart:function(n,e){return new sn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new sn(t)},addBefore:function(n,e,t){var s=this.remove(e),l=s.content.slice(),a=s.find(n);return l.splice(a==-1?l.length:a,0,e,t),new sn(l)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=sn.from(n),n.size?new sn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=sn.from(n),n.size?new sn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=sn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};sn.from=function(n){if(n instanceof sn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new sn(e)};function Q1(n,e,t){for(let s=0;;s++){if(s==n.childCount||s==e.childCount)return n.childCount==e.childCount?null:t;let l=n.child(s),a=e.child(s);if(l==a){t+=l.nodeSize;continue}if(!l.sameMarkup(a))return t;if(l.isText&&l.text!=a.text){for(let c=0;l.text[c]==a.text[c];c++)t++;return t}if(l.content.size||a.content.size){let c=Q1(l.content,a.content,t+1);if(c!=null)return c}t+=l.nodeSize}}function X1(n,e,t,s){for(let l=n.childCount,a=e.childCount;;){if(l==0||a==0)return l==a?null:{a:t,b:s};let c=n.child(--l),u=e.child(--a),h=c.nodeSize;if(c==u){t-=h,s-=h;continue}if(!c.sameMarkup(u))return{a:t,b:s};if(c.isText&&c.text!=u.text){let p=0,g=Math.min(c.text.length,u.text.length);for(;p<g&&c.text[c.text.length-p-1]==u.text[u.text.length-p-1];)p++,t--,s--;return{a:t,b:s}}if(c.content.size||u.content.size){let p=X1(c.content,u.content,t-1,s-1);if(p)return p}t-=h,s-=h}}class W{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,t,s,l=0,a){for(let c=0,u=0;u<t;c++){let h=this.content[c],p=u+h.nodeSize;if(p>e&&s(h,l+u,a||null,c)!==!1&&h.content.size){let g=u+1;h.nodesBetween(Math.max(0,e-g),Math.min(h.content.size,t-g),s,l+g)}u=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,s,l){let a="",c=!0;return this.nodesBetween(e,t,(u,h)=>{let p=u.isText?u.text.slice(Math.max(e,h)-h,t-h):u.isLeaf?l?typeof l=="function"?l(u):l:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&p||u.isTextblock)&&s&&(c?c=!1:a+=s),a+=p},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,s=e.firstChild,l=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(s)&&(l[l.length-1]=t.withText(t.text+s.text),a=1);a<e.content.length;a++)l.push(e.content[a]);return new W(l,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let s=[],l=0;if(t>e)for(let a=0,c=0;c<t;a++){let u=this.content[a],h=c+u.nodeSize;h>e&&((c<e||h>t)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,t-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,t-c-1))),s.push(u),l+=u.nodeSize),c=h}return new W(s,l)}cutByIndex(e,t){return e==t?W.empty:e==0&&t==this.content.length?this:new W(this.content.slice(e,t))}replaceChild(e,t){let s=this.content[e];if(s==t)return this;let l=this.content.slice(),a=this.size+t.nodeSize-s.nodeSize;return l[e]=t,new W(l,a)}addToStart(e){return new W([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new W(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,s=0;t<this.content.length;t++){let l=this.content[t];e(l,s,t),s+=l.nodeSize}}findDiffStart(e,t=0){return Q1(this,e,t)}findDiffEnd(e,t=this.size,s=e.size){return X1(this,e,t,s)}findIndex(e){if(e==0)return _c(0,e);if(e==this.size)return _c(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,s=0;;t++){let l=this.child(t),a=s+l.nodeSize;if(a>=e)return a==e?_c(t+1,a):_c(t,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return W.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new W(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return W.empty;let t,s=0;for(let l=0;l<e.length;l++){let a=e[l];s+=a.nodeSize,l&&a.isText&&e[l-1].sameMarkup(a)?(t||(t=e.slice(0,l)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new W(t||e,s)}static from(e){if(!e)return W.empty;if(e instanceof W)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new W([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}W.empty=new W([],0);const Uh={index:0,offset:0};function _c(n,e){return Uh.index=n,Uh.offset=e,Uh}function od(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(!od(n[s],e[s]))return!1}else{for(let s in n)if(!(s in e)||!od(n[s],e[s]))return!1;for(let s in e)if(!(s in n))return!1}return!0}let ot=class xp{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,s=!1;for(let l=0;l<e.length;l++){let a=e[l];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,l));else{if(a.type.excludes(this.type))return e;!s&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,l)),t.push(this),s=!0),t&&t.push(a)}}return t||(t=e.slice()),s||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&od(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[t.type];if(!s)throw new RangeError(`There is no mark type ${t.type} in this schema`);let l=s.create(t.attrs);return s.checkAttrs(l.attrs),l}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(t[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return xp.none;if(e instanceof xp)return[e];let t=e.slice();return t.sort((s,l)=>s.type.rank-l.type.rank),t}};ot.none=[];class cd extends Error{}class ne{constructor(e,t,s){this.content=e,this.openStart=t,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let s=ew(this.content,e+this.openStart,t);return s&&new ne(s,this.openStart,this.openEnd)}removeBetween(e,t){return new ne(F1(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ne.empty;let s=t.openStart||0,l=t.openEnd||0;if(typeof s!="number"||typeof l!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ne(W.fromJSON(e,t.content),s,l)}static maxOpen(e,t=!0){let s=0,l=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)s++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)l++;return new ne(e,s,l)}}ne.empty=new ne(W.empty,0,0);function F1(n,e,t){let{index:s,offset:l}=n.findIndex(e),a=n.maybeChild(s),{index:c,offset:u}=n.findIndex(t);if(l==e||a.isText){if(u!=t&&!n.child(c).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(s!=c)throw new RangeError("Removing non-flat range");return n.replaceChild(s,a.copy(F1(a.content,e-l-1,t-l-1)))}function ew(n,e,t,s){let{index:l,offset:a}=n.findIndex(e),c=n.maybeChild(l);if(a==e||c.isText)return s&&!s.canReplace(l,l,t)?null:n.cut(0,e).append(t).append(n.cut(e));let u=ew(c.content,e-a-1,t,c);return u&&n.replaceChild(l,c.copy(u))}function L2(n,e,t){if(t.openStart>n.depth)throw new cd("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new cd("Inconsistent open depths");return tw(n,e,t,0)}function tw(n,e,t,s){let l=n.index(s),a=n.node(s);if(l==e.index(s)&&s<n.depth-t.openStart){let c=tw(n,e,t,s+1);return a.copy(a.content.replaceChild(l,c))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==s&&e.depth==s){let c=n.parent,u=c.content;return Mr(c,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=_2(t,n);return Mr(a,sw(n,c,u,e,s))}else return Mr(a,dd(n,e,s))}function nw(n,e){if(!e.type.compatibleContent(n.type))throw new cd("Cannot join "+e.type.name+" onto "+n.type.name)}function yp(n,e,t){let s=n.node(t);return nw(s,e.node(t)),s}function Cr(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Ga(n,e,t,s){let l=(e||n).node(t),a=0,c=e?e.index(t):l.childCount;n&&(a=n.index(t),n.depth>t?a++:n.textOffset&&(Cr(n.nodeAfter,s),a++));for(let u=a;u<c;u++)Cr(l.child(u),s);e&&e.depth==t&&e.textOffset&&Cr(e.nodeBefore,s)}function Mr(n,e){return n.type.checkContent(e),n.copy(e)}function sw(n,e,t,s,l){let a=n.depth>l&&yp(n,e,l+1),c=s.depth>l&&yp(t,s,l+1),u=[];return Ga(null,n,l,u),a&&c&&e.index(l)==t.index(l)?(nw(a,c),Cr(Mr(a,sw(n,e,t,s,l+1)),u)):(a&&Cr(Mr(a,dd(n,e,l+1)),u),Ga(e,t,l,u),c&&Cr(Mr(c,dd(t,s,l+1)),u)),Ga(s,null,l,u),new W(u)}function dd(n,e,t){let s=[];if(Ga(null,n,t,s),n.depth>t){let l=yp(n,e,t+1);Cr(Mr(l,dd(n,e,t+1)),s)}return Ga(e,null,t,s),new W(s)}function _2(n,e){let t=e.depth-n.openStart,l=e.node(t).copy(n.content);for(let a=t-1;a>=0;a--)l=e.node(a).copy(W.from(l));return{start:l.resolveNoCache(n.openStart+t),end:l.resolveNoCache(l.content.size-n.openEnd-t)}}class no{constructor(e,t,s){this.pos=e,this.path=t,this.parentOffset=s,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],l=e.child(t);return s?e.child(t).cut(s):l}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let s=this.path[t*3],l=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)l+=s.child(a).nodeSize;return l}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return ot.none;if(this.textOffset)return e.child(t).marks;let s=e.maybeChild(t-1),l=e.maybeChild(t);if(!s){let u=s;s=l,l=u}let a=s.marks;for(var c=0;c<a.length;c++)a[c].type.spec.inclusive===!1&&(!l||!a[c].isInSet(l.marks))&&(a=a[c--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let s=t.marks,l=e.parent.maybeChild(e.index());for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!l||!s[a].isInSet(l.marks))&&(s=s[a--].removeFromSet(s));return s}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!t||t(this.node(s))))return new ud(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let s=[],l=0,a=t;for(let c=e;;){let{index:u,offset:h}=c.content.findIndex(a),p=a-h;if(s.push(c,u,l+h),!p||(c=c.child(u),c.isText))break;a=p-1,l+=h+1}return new no(t,s,a)}static resolveCached(e,t){let s=tb.get(e);if(s)for(let a=0;a<s.elts.length;a++){let c=s.elts[a];if(c.pos==t)return c}else tb.set(e,s=new B2);let l=s.elts[s.i]=no.resolve(e,t);return s.i=(s.i+1)%H2,l}}class B2{constructor(){this.elts=[],this.i=0}}const H2=12,tb=new WeakMap;class ud{constructor(e,t,s){this.$from=e,this.$to=t,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const U2=Object.create(null);class us{constructor(e,t,s,l=ot.none){this.type=e,this.attrs=t,this.marks=l,this.content=s||W.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,s,l=0){this.content.nodesBetween(e,t,s,l,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,s,l){return this.content.textBetween(e,t,s,l)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,s){return this.type==e&&od(this.attrs,t||e.defaultAttrs||U2)&&ot.sameSet(this.marks,s||ot.none)}copy(e=null){return e==this.content?this:new us(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new us(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,s=!1){if(e==t)return ne.empty;let l=this.resolve(e),a=this.resolve(t),c=s?0:l.sharedDepth(t),u=l.start(c),p=l.node(c).content.cut(l.pos-u,a.pos-u);return new ne(p,l.depth-c,a.depth-c)}replace(e,t,s){return L2(this.resolve(e),this.resolve(t),s)}nodeAt(e){for(let t=this;;){let{index:s,offset:l}=t.content.findIndex(e);if(t=t.maybeChild(s),!t)return null;if(l==e||t.isText)return t;e-=l+1}}childAfter(e){let{index:t,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(t),index:t,offset:s};let l=this.content.child(t-1);return{node:l,index:t-1,offset:s-l.nodeSize}}resolve(e){return no.resolveCached(this,e)}resolveNoCache(e){return no.resolve(this,e)}rangeHasMark(e,t,s){let l=!1;return t>e&&this.nodesBetween(e,t,a=>(s.isInSet(a.marks)&&(l=!0),!l)),l}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),iw(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,s=W.empty,l=0,a=s.childCount){let c=this.contentMatchAt(e).matchFragment(s,l,a),u=c&&c.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let h=l;h<a;h++)if(!this.type.allowsMarks(s.child(h).marks))return!1;return!0}canReplaceWith(e,t,s,l){if(l&&!this.type.allowsMarks(l))return!1;let a=this.contentMatchAt(e).matchType(s),c=a&&a.matchFragment(this.content,t);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ot.none;for(let t=0;t<this.marks.length;t++){let s=this.marks[t];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!ot.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let s;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,s)}let l=W.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,l,s);return a.type.checkAttrs(a.attrs),a}}us.prototype.text=void 0;class fd extends us{constructor(e,t,s,l){if(super(e,t,null,l),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):iw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new fd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new fd(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function iw(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Or{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let s=new I2(e,t);if(s.next==null)return Or.empty;let l=rw(s);s.next&&s.err("Unexpected trailing text");let a=W2(G2(l));return Y2(a,s),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,s=e.childCount){let l=this;for(let a=t;l&&a<s;a++)l=l.matchType(e.child(a).type);return l}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let s=0;s<e.next.length;s++)if(this.next[t].type==e.next[s].type)return!0;return!1}fillBefore(e,t=!1,s=0){let l=[this];function a(c,u){let h=c.matchFragment(e,s);if(h&&(!t||h.validEnd))return W.from(u.map(p=>p.createAndFill()));for(let p=0;p<c.next.length;p++){let{type:g,next:y}=c.next[p];if(!(g.isText||g.hasRequiredAttrs())&&l.indexOf(y)==-1){l.push(y);let b=a(y,u.concat(g));if(b)return b}}return null}return a(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let l=s.shift(),a=l.match;if(a.matchType(e)){let c=[];for(let u=l;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<a.next.length;c++){let{type:u,next:h}=a.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!l.type||h.validEnd)&&(s.push({match:u.contentMatch,type:u,via:l}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(s){e.push(s);for(let l=0;l<s.next.length;l++)e.indexOf(s.next[l].next)==-1&&t(s.next[l].next)}return t(this),e.map((s,l)=>{let a=l+(s.validEnd?"*":" ")+" ";for(let c=0;c<s.next.length;c++)a+=(c?", ":"")+s.next[c].type.name+"->"+e.indexOf(s.next[c].next);return a}).join(`
`)}}Or.empty=new Or(!0);class I2{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function rw(n){let e=[];do e.push(V2(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function V2(n){let e=[];do e.push(P2(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function P2(n){let e=K2(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=q2(n,e);else break;return e}function nb(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function q2(n,e){let t=nb(n),s=t;return n.eat(",")&&(n.next!="}"?s=nb(n):s=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:s,expr:e}}function $2(n,e){let t=n.nodeTypes,s=t[e];if(s)return[s];let l=[];for(let a in t){let c=t[a];c.isInGroup(e)&&l.push(c)}return l.length==0&&n.err("No node type or group '"+e+"' found"),l}function K2(n){if(n.eat("(")){let e=rw(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=$2(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function G2(n){let e=[[]];return l(a(n,0),t()),e;function t(){return e.push([])-1}function s(c,u,h){let p={term:h,to:u};return e[c].push(p),p}function l(c,u){c.forEach(h=>h.to=u)}function a(c,u){if(c.type=="choice")return c.exprs.reduce((h,p)=>h.concat(a(p,u)),[]);if(c.type=="seq")for(let h=0;;h++){let p=a(c.exprs[h],u);if(h==c.exprs.length-1)return p;l(p,u=t())}else if(c.type=="star"){let h=t();return s(u,h),l(a(c.expr,h),h),[s(h)]}else if(c.type=="plus"){let h=t();return l(a(c.expr,u),h),l(a(c.expr,h),h),[s(h)]}else{if(c.type=="opt")return[s(u)].concat(a(c.expr,u));if(c.type=="range"){let h=u;for(let p=0;p<c.min;p++){let g=t();l(a(c.expr,h),g),h=g}if(c.max==-1)l(a(c.expr,h),h);else for(let p=c.min;p<c.max;p++){let g=t();s(h,g),l(a(c.expr,h),g),h=g}return[s(h)]}else{if(c.type=="name")return[s(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function lw(n,e){return e-n}function sb(n,e){let t=[];return s(e),t.sort(lw);function s(l){let a=n[l];if(a.length==1&&!a[0].term)return s(a[0].to);t.push(l);for(let c=0;c<a.length;c++){let{term:u,to:h}=a[c];!u&&t.indexOf(h)==-1&&s(h)}}}function W2(n){let e=Object.create(null);return t(sb(n,0));function t(s){let l=[];s.forEach(c=>{n[c].forEach(({term:u,to:h})=>{if(!u)return;let p;for(let g=0;g<l.length;g++)l[g][0]==u&&(p=l[g][1]);sb(n,h).forEach(g=>{p||l.push([u,p=[]]),p.indexOf(g)==-1&&p.push(g)})})});let a=e[s.join(",")]=new Or(s.indexOf(n.length-1)>-1);for(let c=0;c<l.length;c++){let u=l[c][1].sort(lw);a.next.push({type:l[c][0],next:e[u.join(",")]||t(u)})}return a}}function Y2(n,e){for(let t=0,s=[n];t<s.length;t++){let l=s[t],a=!l.validEnd,c=[];for(let u=0;u<l.next.length;u++){let{type:h,next:p}=l.next[u];c.push(h.name),a&&!(h.isText||h.hasRequiredAttrs())&&(a=!1),s.indexOf(p)==-1&&s.push(p)}a&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function aw(n){let e=Object.create(null);for(let t in n){let s=n[t];if(!s.hasDefault)return null;e[t]=s.default}return e}function ow(n,e){let t=Object.create(null);for(let s in n){let l=e&&e[s];if(l===void 0){let a=n[s];if(a.hasDefault)l=a.default;else throw new RangeError("No value supplied for attribute "+s)}t[s]=l}return t}function cw(n,e,t,s){for(let l in e)if(!(l in n))throw new RangeError(`Unsupported attribute ${l} for ${t} of type ${l}`);for(let l in n){let a=n[l];a.validate&&a.validate(e[l])}}function dw(n,e){let t=Object.create(null);if(e)for(let s in e)t[s]=new J2(n,s,e[s]);return t}let ib=class uw{constructor(e,t,s){this.name=e,this.schema=t,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=dw(e,s.attrs),this.defaultAttrs=aw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Or.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:ow(this.attrs,e)}create(e=null,t,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new us(this,this.computeAttrs(e),W.from(t),ot.setFrom(s))}createChecked(e=null,t,s){return t=W.from(t),this.checkContent(t),new us(this,this.computeAttrs(e),t,ot.setFrom(s))}createAndFill(e=null,t,s){if(e=this.computeAttrs(e),t=W.from(t),t.size){let c=this.contentMatch.fillBefore(t);if(!c)return null;t=c.append(t)}let l=this.contentMatch.matchFragment(t),a=l&&l.fillBefore(W.empty,!0);return a?new us(this,e,t.append(a),ot.setFrom(s)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){cw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?t&&t.push(e[s]):t||(t=e.slice(0,s));return t?t.length?t:ot.none:e}static compile(e,t){let s=Object.create(null);e.forEach((a,c)=>s[a]=new uw(a,t,c));let l=t.spec.topNode||"doc";if(!s[l])throw new RangeError("Schema is missing its top node type ('"+l+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let a in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function Z2(n,e,t){let s=t.split("|");return l=>{let a=l===null?"null":typeof l;if(s.indexOf(a)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${n}, got ${a}`)}}class J2{constructor(e,t,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?Z2(e,t,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class Qd{constructor(e,t,s,l){this.name=e,this.rank=t,this.schema=s,this.spec=l,this.attrs=dw(e,l.attrs),this.excluded=null;let a=aw(this.attrs);this.instance=a?new ot(this,a):null}create(e=null){return!e&&this.instance?this.instance:new ot(this,ow(this.attrs,e))}static compile(e,t){let s=Object.create(null),l=0;return e.forEach((a,c)=>s[a]=new Qd(a,l++,t,c)),s}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){cw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class fw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let l in e)t[l]=e[l];t.nodes=sn.from(e.nodes),t.marks=sn.from(e.marks||{}),this.nodes=ib.compile(this.spec.nodes,this),this.marks=Qd.compile(this.spec.marks,this);let s=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");let a=this.nodes[l],c=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=s[c]||(s[c]=Or.parse(c,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?rb(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let l in this.marks){let a=this.marks[l],c=a.spec.excludes;a.excluded=c==null?[a]:c==""?[]:rb(this,c.split(" "))}this.nodeFromJSON=l=>us.fromJSON(this,l),this.markFromJSON=l=>ot.fromJSON(this,l),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,s,l){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ib){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,s,l)}text(e,t){let s=this.nodes.text;return new fd(s,s.defaultAttrs,e,ot.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function rb(n,e){let t=[];for(let s=0;s<e.length;s++){let l=e[s],a=n.marks[l],c=a;if(a)t.push(a);else for(let u in n.marks){let h=n.marks[u];(l=="_"||h.spec.group&&h.spec.group.split(" ").indexOf(l)>-1)&&t.push(c=h)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return t}function Q2(n){return n.tag!=null}function X2(n){return n.style!=null}class Pi{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let s=this.matchedStyles=[];t.forEach(l=>{if(Q2(l))this.tags.push(l);else if(X2(l)){let a=/[^=]*/.exec(l.style)[0];s.indexOf(a)<0&&s.push(a),this.styles.push(l)}}),this.normalizeLists=!this.tags.some(l=>{if(!/^(ul|ol)\b/.test(l.tag)||!l.node)return!1;let a=e.nodes[l.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let s=new ab(this,t,!1);return s.addAll(e,ot.none,t.from,t.to),s.finish()}parseSlice(e,t={}){let s=new ab(this,t,!0);return s.addAll(e,ot.none,t.from,t.to),ne.maxOpen(s.finish())}matchTag(e,t,s){for(let l=s?this.tags.indexOf(s)+1:0;l<this.tags.length;l++){let a=this.tags[l];if(tS(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let c=a.getAttrs(e);if(c===!1)continue;a.attrs=c||void 0}return a}}}matchStyle(e,t,s,l){for(let a=l?this.styles.indexOf(l)+1:0;a<this.styles.length;a++){let c=this.styles[a],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!s.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(c.getAttrs){let h=c.getAttrs(t);if(h===!1)continue;c.attrs=h||void 0}return c}}}static schemaRules(e){let t=[];function s(l){let a=l.priority==null?50:l.priority,c=0;for(;c<t.length;c++){let u=t[c];if((u.priority==null?50:u.priority)<a)break}t.splice(c,0,l)}for(let l in e.marks){let a=e.marks[l].spec.parseDOM;a&&a.forEach(c=>{s(c=ob(c)),c.mark||c.ignore||c.clearMark||(c.mark=l)})}for(let l in e.nodes){let a=e.nodes[l].spec.parseDOM;a&&a.forEach(c=>{s(c=ob(c)),c.node||c.ignore||c.mark||(c.node=l)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Pi(e,Pi.schemaRules(e)))}}const hw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},F2={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pw={ol:!0,ul:!0},so=1,bp=2,Wa=4;function lb(n,e,t){return e!=null?(e?so:0)|(e==="full"?bp:0):n&&n.whitespace=="pre"?so|bp:t&~Wa}class Bc{constructor(e,t,s,l,a,c){this.type=e,this.attrs=t,this.marks=s,this.solid=l,this.options=c,this.content=[],this.activeMarks=ot.none,this.match=a||(c&Wa?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(W.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let s=this.type.contentMatch,l;return(l=s.findWrapping(e.type))?(this.match=s,l):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&so)){let s=this.content[this.content.length-1],l;if(s&&s.isText&&(l=/[ \t\r\n\u000c]+$/.exec(s.text))){let a=s;s.text.length==l[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-l[0].length))}}let t=W.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(W.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!hw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ab{constructor(e,t,s){this.parser=e,this.options=t,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let l=t.topNode,a,c=lb(null,t.preserveWhitespace,0)|(s?Wa:0);l?a=new Bc(l.type,l.attrs,ot.none,!0,t.topMatch||l.type.contentMatch,c):s?a=new Bc(null,null,ot.none,!0,null,c):a=new Bc(e.schema.topNodeType,null,ot.none,!0,null,c),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let s=e.nodeValue,l=this.top,a=l.options&bp?"full":this.localPreserveWS||(l.options&so)>0,{schema:c}=this.parser;if(a==="full"||l.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(a)if(a==="full")s=s.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=s.split(/\r?\n|\r/);for(let h=0;h<u.length;h++)h&&this.insertNode(c.linebreakReplacement.create(),t,!0),u[h]&&this.insertNode(c.text(u[h]),t,!/\S/.test(u[h]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let u=l.content[l.content.length-1],h=e.previousSibling;(!u||h&&h.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(s=s.slice(1))}s&&this.insertNode(c.text(s),t,!/\S/.test(s)),this.findInText(e)}else this.findInside(e)}addElement(e,t,s){let l=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;pw.hasOwnProperty(c)&&this.parser.normalizeLists&&eS(e);let h=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,s));e:if(h?h.ignore:F2.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,t);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(e=h.skip);let p,g=this.needsBlock;if(hw.hasOwnProperty(c))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),p=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=h&&h.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),p&&this.sync(a),this.needsBlock=g}else{let p=this.readStyles(e,t);p&&this.addElementByRule(e,h,p,h.consuming===!1?u:void 0)}this.localPreserveWS=l}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let s=e.style;if(s&&s.length)for(let l=0;l<this.parser.matchedStyles.length;l++){let a=this.parser.matchedStyles[l],c=s.getPropertyValue(a);if(c)for(let u=void 0;;){let h=this.parser.matchStyle(a,c,this,u);if(!h)break;if(h.ignore)return null;if(h.clearMark?t=t.filter(p=>!h.clearMark(p)):t=t.concat(this.parser.schema.marks[h.mark].create(h.attrs)),h.consuming===!1)u=h;else break}}return t}addElementByRule(e,t,s,l){let a,c;if(t.node)if(c=this.parser.schema.nodes[t.node],c.isLeaf)this.insertNode(c.create(t.attrs),s,e.nodeName=="BR")||this.leafFallback(e,s);else{let h=this.enter(c,t.attrs||null,s,t.preserveWhitespace);h&&(a=!0,s=h)}else{let h=this.parser.schema.marks[t.mark];s=s.concat(h.create(t.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(l)this.addElement(e,s,l);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(h=>this.insertNode(h,s,!1));else{let h=e;typeof t.contentElement=="string"?h=e.querySelector(t.contentElement):typeof t.contentElement=="function"?h=t.contentElement(e):t.contentElement&&(h=t.contentElement),this.findAround(e,h,!0),this.addAll(h,s),this.findAround(e,h,!1)}a&&this.sync(u)&&this.open--}addAll(e,t,s,l){let a=s||0;for(let c=s?e.childNodes[s]:e.firstChild,u=l==null?null:e.childNodes[l];c!=u;c=c.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(c,t);this.findAtPoint(e,a)}findPlace(e,t,s){let l,a;for(let c=this.open,u=0;c>=0;c--){let h=this.nodes[c],p=h.findWrapping(e);if(p&&(!l||l.length>p.length+u)&&(l=p,a=h,!p.length))break;if(h.solid){if(s)break;u+=2}}if(!l)return null;this.sync(a);for(let c=0;c<l.length;c++)t=this.enterInner(l[c],null,t,!1);return t}insertNode(e,t,s){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let l=this.findPlace(e,t,s);if(l){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let c=ot.none;for(let u of l.concat(e.marks))(a.type?a.type.allowsMarkType(u.type):cb(u.type,e.type))&&(c=u.addToSet(c));return a.content.push(e.mark(c)),!0}return!1}enter(e,t,s,l){let a=this.findPlace(e.create(t),s,!1);return a&&(a=this.enterInner(e,t,s,!0,l)),a}enterInner(e,t,s,l=!1,a){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=lb(e,a,c.options);c.options&Wa&&c.content.length==0&&(u|=Wa);let h=ot.none;return s=s.filter(p=>(c.type?c.type.allowsMarkType(p.type):cb(p.type,e))?(h=p.addToSet(h),!1):!0),this.nodes.push(new Bc(e,t,h,l,null,u)),this.open++,s}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=so)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let s=this.nodes[t].content;for(let l=s.length-1;l>=0;l--)e+=s[l].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==t&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,s){if(e!=t&&this.find)for(let l=0;l<this.find.length;l++)this.find[l].pos==null&&e.nodeType==1&&e.contains(this.find[l].node)&&t.compareDocumentPosition(this.find[l].node)&(s?2:4)&&(this.find[l].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),s=this.options.context,l=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),a=-(s?s.depth+1:0)+(l?0:1),c=(u,h)=>{for(;u>=0;u--){let p=t[u];if(p==""){if(u==t.length-1||u==0)continue;for(;h>=a;h--)if(c(u-1,h))return!0;return!1}else{let g=h>0||h==0&&l?this.nodes[h].type:s&&h>=a?s.node(h-a).type:null;if(!g||g.name!=p&&!g.isInGroup(p))return!1;h--}}return!0};return c(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let t in this.parser.schema.nodes){let s=this.parser.schema.nodes[t];if(s.isTextblock&&s.defaultAttrs)return s}}}function eS(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&pw.hasOwnProperty(s)&&t?(t.appendChild(e),e=t):s=="li"?t=e:s&&(t=null)}}function tS(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function ob(n){let e={};for(let t in n)e[t]=n[t];return e}function cb(n,e){let t=e.schema.nodes;for(let s in t){let l=t[s];if(!l.allowsMarkType(n))continue;let a=[],c=u=>{a.push(u);for(let h=0;h<u.edgeCount;h++){let{type:p,next:g}=u.edge(h);if(p==e||a.indexOf(g)<0&&c(g))return!0}};if(c(l.contentMatch))return!0}}class Ur{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},s){s||(s=Ih(t).createDocumentFragment());let l=s,a=[];return e.forEach(c=>{if(a.length||c.marks.length){let u=0,h=0;for(;u<a.length&&h<c.marks.length;){let p=c.marks[h];if(!this.marks[p.type.name]){h++;continue}if(!p.eq(a[u][0])||p.type.spec.spanning===!1)break;u++,h++}for(;u<a.length;)l=a.pop()[1];for(;h<c.marks.length;){let p=c.marks[h++],g=this.serializeMark(p,c.isInline,t);g&&(a.push([p,l]),l.appendChild(g.dom),l=g.contentDOM||g.dom)}}l.appendChild(this.serializeNodeInner(c,t))}),s}serializeNodeInner(e,t){let{dom:s,contentDOM:l}=ed(Ih(t),this.nodes[e.type.name](e),null,e.attrs);if(l){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,l)}return s}serializeNode(e,t={}){let s=this.serializeNodeInner(e,t);for(let l=e.marks.length-1;l>=0;l--){let a=this.serializeMark(e.marks[l],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(s),s=a.dom)}return s}serializeMark(e,t,s={}){let l=this.marks[e.type.name];return l&&ed(Ih(s),l(e,t),null,e.attrs)}static renderSpec(e,t,s=null,l){return ed(e,t,s,l)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ur(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=db(e.nodes);return t.text||(t.text=s=>s.text),t}static marksFromSchema(e){return db(e.marks)}}function db(n){let e={};for(let t in n){let s=n[t].spec.toDOM;s&&(e[t]=s)}return e}function Ih(n){return n.document||window.document}const ub=new WeakMap;function nS(n){let e=ub.get(n);return e===void 0&&ub.set(n,e=sS(n)),e}function sS(n){let e=null;function t(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let l=0;l<s.length;l++)t(s[l]);else for(let l in s)t(s[l])}return t(n),e}function ed(n,e,t,s){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let l=e[0],a;if(typeof l!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(a=nS(s))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=l.indexOf(" ");c>0&&(t=l.slice(0,c),l=l.slice(c+1));let u,h=t?n.createElementNS(t,l):n.createElement(l),p=e[1],g=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){g=2;for(let y in p)if(p[y]!=null){let b=y.indexOf(" ");b>0?h.setAttributeNS(y.slice(0,b),y.slice(b+1),p[y]):y=="style"&&h.style?h.style.cssText=p[y]:h.setAttribute(y,p[y])}}for(let y=g;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>g)throw new RangeError("Content hole must be the only child of its parent node");return{dom:h,contentDOM:h}}else{let{dom:w,contentDOM:k}=ed(n,b,t,s);if(h.appendChild(w),k){if(u)throw new RangeError("Multiple content holes");u=k}}}return{dom:h,contentDOM:u}}const mw=65535,gw=Math.pow(2,16);function iS(n,e){return n+e*gw}function fb(n){return n&mw}function rS(n){return(n-(n&mw))/gw}const xw=1,yw=2,td=4,bw=8;class wp{constructor(e,t,s){this.pos=e,this.delInfo=t,this.recover=s}get deleted(){return(this.delInfo&bw)>0}get deletedBefore(){return(this.delInfo&(xw|td))>0}get deletedAfter(){return(this.delInfo&(yw|td))>0}get deletedAcross(){return(this.delInfo&td)>0}}class Bn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Bn.empty)return Bn.empty}recover(e){let t=0,s=fb(e);if(!this.inverted)for(let l=0;l<s;l++)t+=this.ranges[l*3+2]-this.ranges[l*3+1];return this.ranges[s*3]+t+rS(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,s){let l=0,a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?l:0);if(h>e)break;let p=this.ranges[u+a],g=this.ranges[u+c],y=h+p;if(e<=y){let b=p?e==h?-1:e==y?1:t:t,w=h+l+(b<0?0:g);if(s)return w;let k=e==(t<0?h:y)?null:iS(u/3,e-h),z=e==h?yw:e==y?xw:td;return(t<0?e!=h:e!=y)&&(z|=bw),new wp(w,z,k)}l+=g-p}return s?e+l:new wp(e+l,0,null)}touches(e,t){let s=0,l=fb(t),a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?s:0);if(h>e)break;let p=this.ranges[u+a],g=h+p;if(e<=g&&u==l*3)return!0;s+=this.ranges[u+c]-p}return!1}forEach(e){let t=this.inverted?2:1,s=this.inverted?1:2;for(let l=0,a=0;l<this.ranges.length;l+=3){let c=this.ranges[l],u=c-(this.inverted?a:0),h=c+(this.inverted?0:a),p=this.ranges[l+t],g=this.ranges[l+s];e(u,u+p,h,h+g),a+=g-p}}invert(){return new Bn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Bn.empty:new Bn(e<0?[0,-e,0]:[0,0,e])}}Bn.empty=new Bn([]);class io{constructor(e,t,s=0,l=e?e.length:0){this.mirror=t,this.from=s,this.to=l,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new io(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,s=this._maps.length;t<e._maps.length;t++){let l=e.getMirror(t);this.appendMap(e._maps[t],l!=null&&l<t?s+l:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,s=this._maps.length+e._maps.length;t>=0;t--){let l=e.getMirror(t);this.appendMap(e._maps[t].invert(),l!=null&&l>t?s-l-1:void 0)}}invert(){let e=new io;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let s=this.from;s<this.to;s++)e=this._maps[s].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,s){let l=0;for(let a=this.from;a<this.to;a++){let c=this._maps[a],u=c.mapResult(e,t);if(u.recover!=null){let h=this.getMirror(a);if(h!=null&&h>a&&h<this.to){a=h,e=this._maps[h].recover(u.recover);continue}}l|=u.delInfo,e=u.pos}return s?e:new wp(e,l,null)}}const Vh=Object.create(null);class hn{getMap(){return Bn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=Vh[t.stepType];if(!s)throw new RangeError(`No step type ${t.stepType} defined`);return s.fromJSON(e,t)}static jsonID(e,t){if(e in Vh)throw new RangeError("Duplicate use of step JSON ID "+e);return Vh[e]=t,t.prototype.jsonID=e,t}}class Ht{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ht(e,null)}static fail(e){return new Ht(null,e)}static fromReplace(e,t,s,l){try{return Ht.ok(e.replace(t,s,l))}catch(a){if(a instanceof cd)return Ht.fail(a.message);throw a}}}function em(n,e,t){let s=[];for(let l=0;l<n.childCount;l++){let a=n.child(l);a.content.size&&(a=a.copy(em(a.content,e,a))),a.isInline&&(a=e(a,t,l)),s.push(a)}return W.fromArray(s)}class Ui extends hn{constructor(e,t,s){super(),this.from=e,this.to=t,this.mark=s}apply(e){let t=e.slice(this.from,this.to),s=e.resolve(this.from),l=s.node(s.sharedDepth(this.to)),a=new ne(em(t.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),l),t.openStart,t.openEnd);return Ht.fromReplace(e,this.from,this.to,a)}invert(){return new ds(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deleted&&s.deleted||t.pos>=s.pos?null:new Ui(t.pos,s.pos,this.mark)}merge(e){return e instanceof Ui&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ui(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ui(t.from,t.to,e.markFromJSON(t.mark))}}hn.jsonID("addMark",Ui);class ds extends hn{constructor(e,t,s){super(),this.from=e,this.to=t,this.mark=s}apply(e){let t=e.slice(this.from,this.to),s=new ne(em(t.content,l=>l.mark(this.mark.removeFromSet(l.marks)),e),t.openStart,t.openEnd);return Ht.fromReplace(e,this.from,this.to,s)}invert(){return new Ui(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deleted&&s.deleted||t.pos>=s.pos?null:new ds(t.pos,s.pos,this.mark)}merge(e){return e instanceof ds&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ds(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ds(t.from,t.to,e.markFromJSON(t.mark))}}hn.jsonID("removeMark",ds);class Ii extends hn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ht.fail("No node at mark step's position");let s=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ht.fromReplace(e,this.pos,this.pos+1,new ne(W.from(s),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let s=this.mark.addToSet(t.marks);if(s.length==t.marks.length){for(let l=0;l<t.marks.length;l++)if(!t.marks[l].isInSet(s))return new Ii(this.pos,t.marks[l]);return new Ii(this.pos,this.mark)}}return new Dr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ii(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ii(t.pos,e.markFromJSON(t.mark))}}hn.jsonID("addNodeMark",Ii);class Dr extends hn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ht.fail("No node at mark step's position");let s=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ht.fromReplace(e,this.pos,this.pos+1,new ne(W.from(s),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ii(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Dr(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Dr(t.pos,e.markFromJSON(t.mark))}}hn.jsonID("removeNodeMark",Dr);class Gt extends hn{constructor(e,t,s,l=!1){super(),this.from=e,this.to=t,this.slice=s,this.structure=l}apply(e){return this.structure&&vp(e,this.from,this.to)?Ht.fail("Structure replace would overwrite content"):Ht.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Bn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Gt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deletedAcross&&s.deletedAcross?null:new Gt(t.pos,Math.max(t.pos,s.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Gt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ne.empty:new ne(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Gt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ne.empty:new ne(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Gt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Gt(t.from,t.to,ne.fromJSON(e,t.slice),!!t.structure)}}hn.jsonID("replace",Gt);class Zt extends hn{constructor(e,t,s,l,a,c,u=!1){super(),this.from=e,this.to=t,this.gapFrom=s,this.gapTo=l,this.slice=a,this.insert=c,this.structure=u}apply(e){if(this.structure&&(vp(e,this.from,this.gapFrom)||vp(e,this.gapTo,this.to)))return Ht.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ht.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,t.content);return s?Ht.fromReplace(e,this.from,this.to,s):Ht.fail("Content does not fit in gap")}getMap(){return new Bn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Zt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),l=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return t.deletedAcross&&s.deletedAcross||l<t.pos||a>s.pos?null:new Zt(t.pos,s.pos,l,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Zt(t.from,t.to,t.gapFrom,t.gapTo,ne.fromJSON(e,t.slice),t.insert,!!t.structure)}}hn.jsonID("replaceAround",Zt);function vp(n,e,t){let s=n.resolve(e),l=t-e,a=s.depth;for(;l>0&&a>0&&s.indexAfter(a)==s.node(a).childCount;)a--,l--;if(l>0){let c=s.node(a).maybeChild(s.indexAfter(a));for(;l>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,l--}}return!1}function lS(n,e,t,s){let l=[],a=[],c,u;n.doc.nodesBetween(e,t,(h,p,g)=>{if(!h.isInline)return;let y=h.marks;if(!s.isInSet(y)&&g.type.allowsMarkType(s.type)){let b=Math.max(p,e),w=Math.min(p+h.nodeSize,t),k=s.addToSet(y);for(let z=0;z<y.length;z++)y[z].isInSet(k)||(c&&c.to==b&&c.mark.eq(y[z])?c.to=w:l.push(c=new ds(b,w,y[z])));u&&u.to==b?u.to=w:a.push(u=new Ui(b,w,s))}}),l.forEach(h=>n.step(h)),a.forEach(h=>n.step(h))}function aS(n,e,t,s){let l=[],a=0;n.doc.nodesBetween(e,t,(c,u)=>{if(!c.isInline)return;a++;let h=null;if(s instanceof Qd){let p=c.marks,g;for(;g=s.isInSet(p);)(h||(h=[])).push(g),p=g.removeFromSet(p)}else s?s.isInSet(c.marks)&&(h=[s]):h=c.marks;if(h&&h.length){let p=Math.min(u+c.nodeSize,t);for(let g=0;g<h.length;g++){let y=h[g],b;for(let w=0;w<l.length;w++){let k=l[w];k.step==a-1&&y.eq(l[w].style)&&(b=k)}b?(b.to=p,b.step=a):l.push({style:y,from:Math.max(u,e),to:p,step:a})}}}),l.forEach(c=>n.step(new ds(c.from,c.to,c.style)))}function tm(n,e,t,s=t.contentMatch,l=!0){let a=n.doc.nodeAt(e),c=[],u=e+1;for(let h=0;h<a.childCount;h++){let p=a.child(h),g=u+p.nodeSize,y=s.matchType(p.type);if(!y)c.push(new Gt(u,g,ne.empty));else{s=y;for(let b=0;b<p.marks.length;b++)t.allowsMarkType(p.marks[b].type)||n.step(new ds(u,g,p.marks[b]));if(l&&p.isText&&t.whitespace!="pre"){let b,w=/\r?\n|\r/g,k;for(;b=w.exec(p.text);)k||(k=new ne(W.from(t.schema.text(" ",t.allowedMarks(p.marks))),0,0)),c.push(new Gt(u+b.index,u+b.index+b[0].length,k))}}u=g}if(!s.validEnd){let h=s.fillBefore(W.empty,!0);n.replace(u,u,new ne(h,0,0))}for(let h=c.length-1;h>=0;h--)n.step(c[h])}function oS(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Vl(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let s=n.depth,l=0,a=0;;--s){let c=n.$from.node(s),u=n.$from.index(s)+l,h=n.$to.indexAfter(s)-a;if(s<n.depth&&c.canReplace(u,h,t))return s;if(s==0||c.type.spec.isolating||!oS(c,u,h))break;u&&(l=1),h<c.childCount&&(a=1)}return null}function cS(n,e,t){let{$from:s,$to:l,depth:a}=e,c=s.before(a+1),u=l.after(a+1),h=c,p=u,g=W.empty,y=0;for(let k=a,z=!1;k>t;k--)z||s.index(k)>0?(z=!0,g=W.from(s.node(k).copy(g)),y++):h--;let b=W.empty,w=0;for(let k=a,z=!1;k>t;k--)z||l.after(k+1)<l.end(k)?(z=!0,b=W.from(l.node(k).copy(b)),w++):p++;n.step(new Zt(h,p,c,u,new ne(g.append(b),y,w),g.size-y,!0))}function nm(n,e,t=null,s=n){let l=dS(n,e),a=l&&uS(s,e);return a?l.map(hb).concat({type:e,attrs:t}).concat(a.map(hb)):null}function hb(n){return{type:n,attrs:null}}function dS(n,e){let{parent:t,startIndex:s,endIndex:l}=n,a=t.contentMatchAt(s).findWrapping(e);if(!a)return null;let c=a.length?a[0]:e;return t.canReplaceWith(s,l,c)?a:null}function uS(n,e){let{parent:t,startIndex:s,endIndex:l}=n,a=t.child(s),c=e.contentMatch.findWrapping(a.type);if(!c)return null;let h=(c.length?c[c.length-1]:e).contentMatch;for(let p=s;h&&p<l;p++)h=h.matchType(t.child(p).type);return!h||!h.validEnd?null:c}function fS(n,e,t){let s=W.empty;for(let c=t.length-1;c>=0;c--){if(s.size){let u=t[c].type.contentMatch.matchFragment(s);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=W.from(t[c].type.create(t[c].attrs,s))}let l=e.start,a=e.end;n.step(new Zt(l,a,l,a,new ne(s,0,0),t.length,!0))}function hS(n,e,t,s,l){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=n.steps.length;n.doc.nodesBetween(e,t,(c,u)=>{let h=typeof l=="function"?l(c):l;if(c.isTextblock&&!c.hasMarkup(s,h)&&pS(n.doc,n.mapping.slice(a).map(u),s)){let p=null;if(s.schema.linebreakReplacement){let w=s.whitespace=="pre",k=!!s.contentMatch.matchType(s.schema.linebreakReplacement);w&&!k?p=!1:!w&&k&&(p=!0)}p===!1&&vw(n,c,u,a),tm(n,n.mapping.slice(a).map(u,1),s,void 0,p===null);let g=n.mapping.slice(a),y=g.map(u,1),b=g.map(u+c.nodeSize,1);return n.step(new Zt(y,b,y+1,b-1,new ne(W.from(s.create(h,null,c.marks)),0,0),1,!0)),p===!0&&ww(n,c,u,a),!1}})}function ww(n,e,t,s){e.forEach((l,a)=>{if(l.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(l.text);){let h=n.mapping.slice(s).map(t+1+a+c.index);n.replaceWith(h,h+1,e.type.schema.linebreakReplacement.create())}}})}function vw(n,e,t,s){e.forEach((l,a)=>{if(l.type==l.type.schema.linebreakReplacement){let c=n.mapping.slice(s).map(t+1+a);n.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function pS(n,e,t){let s=n.resolve(e),l=s.index();return s.parent.canReplaceWith(l,l+1,t)}function mS(n,e,t,s,l){let a=n.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let c=t.create(s,null,l||a.marks);if(a.isLeaf)return n.replaceWith(e,e+a.nodeSize,c);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Zt(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ne(W.from(c),0,0),1,!0))}function Xs(n,e,t=1,s){let l=n.resolve(e),a=l.depth-t,c=s&&s[s.length-1]||l.parent;if(a<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!c.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(let p=l.depth-1,g=t-2;p>a;p--,g--){let y=l.node(p),b=l.index(p);if(y.type.spec.isolating)return!1;let w=y.content.cutByIndex(b,y.childCount),k=s&&s[g+1];k&&(w=w.replaceChild(0,k.type.create(k.attrs)));let z=s&&s[g]||y;if(!y.canReplace(b+1,y.childCount)||!z.type.validContent(w))return!1}let u=l.indexAfter(a),h=s&&s[0];return l.node(a).canReplaceWith(u,u,h?h.type:l.node(a+1).type)}function gS(n,e,t=1,s){let l=n.doc.resolve(e),a=W.empty,c=W.empty;for(let u=l.depth,h=l.depth-t,p=t-1;u>h;u--,p--){a=W.from(l.node(u).copy(a));let g=s&&s[p];c=W.from(g?g.type.create(g.attrs,c):l.node(u).copy(c))}n.step(new Gt(e,e,new ne(a.append(c),t,t),!0))}function Zi(n,e){let t=n.resolve(e),s=t.index();return kw(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(s,s+1)}function xS(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:s}=n.type.schema;for(let l=0;l<e.childCount;l++){let a=e.child(l),c=a.type==s?n.type.schema.nodes.text:a.type;if(t=t.matchType(c),!t||!n.type.allowsMarks(a.marks))return!1}return t.validEnd}function kw(n,e){return!!(n&&e&&!n.isLeaf&&xS(n,e))}function Xd(n,e,t=-1){let s=n.resolve(e);for(let l=s.depth;;l--){let a,c,u=s.index(l);if(l==s.depth?(a=s.nodeBefore,c=s.nodeAfter):t>0?(a=s.node(l+1),u++,c=s.node(l).maybeChild(u)):(a=s.node(l).maybeChild(u-1),c=s.node(l+1)),a&&!a.isTextblock&&kw(a,c)&&s.node(l).canReplace(u,u+1))return e;if(l==0)break;e=t<0?s.before(l):s.after(l)}}function yS(n,e,t){let s=null,{linebreakReplacement:l}=n.doc.type.schema,a=n.doc.resolve(e-t),c=a.node().type;if(l&&c.inlineContent){let g=c.whitespace=="pre",y=!!c.contentMatch.matchType(l);g&&!y?s=!1:!g&&y&&(s=!0)}let u=n.steps.length;if(s===!1){let g=n.doc.resolve(e+t);vw(n,g.node(),g.before(),u)}c.inlineContent&&tm(n,e+t-1,c,a.node().contentMatchAt(a.index()),s==null);let h=n.mapping.slice(u),p=h.map(e-t);if(n.step(new Gt(p,h.map(e+t,-1),ne.empty,!0)),s===!0){let g=n.doc.resolve(p);ww(n,g.node(),g.before(),n.steps.length)}return n}function bS(n,e,t){let s=n.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),t))return e;if(s.parentOffset==0)for(let l=s.depth-1;l>=0;l--){let a=s.index(l);if(s.node(l).canReplaceWith(a,a,t))return s.before(l+1);if(a>0)return null}if(s.parentOffset==s.parent.content.size)for(let l=s.depth-1;l>=0;l--){let a=s.indexAfter(l);if(s.node(l).canReplaceWith(a,a,t))return s.after(l+1);if(a<s.node(l).childCount)return null}return null}function jw(n,e,t){let s=n.resolve(e);if(!t.content.size)return e;let l=t.content;for(let a=0;a<t.openStart;a++)l=l.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let c=s.depth;c>=0;c--){let u=c==s.depth?0:s.pos<=(s.start(c+1)+s.end(c+1))/2?-1:1,h=s.index(c)+(u>0?1:0),p=s.node(c),g=!1;if(a==1)g=p.canReplace(h,h,l);else{let y=p.contentMatchAt(h).findWrapping(l.firstChild.type);g=y&&p.canReplaceWith(h,h,y[0])}if(g)return u==0?s.pos:u<0?s.before(c+1):s.after(c+1)}return null}function Fd(n,e,t=e,s=ne.empty){if(e==t&&!s.size)return null;let l=n.resolve(e),a=n.resolve(t);return Nw(l,a,s)?new Gt(e,t,s):new wS(l,a,s).fit()}function Nw(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class wS{constructor(e,t,s){this.$from=e,this.$to=t,this.unplaced=s,this.frontier=[],this.placed=W.empty;for(let l=0;l<=e.depth;l++){let a=e.node(l);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(l))})}for(let l=e.depth;l>0;l--)this.placed=W.from(e.node(l).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,s=this.$from,l=this.close(e<0?this.$to:s.doc.resolve(e));if(!l)return null;let a=this.placed,c=s.depth,u=l.depth;for(;c&&u&&a.childCount==1;)a=a.firstChild.content,c--,u--;let h=new ne(a,c,u);return e>-1?new Zt(s.pos,e,this.$to.pos,this.$to.end(),h,t):h.size||s.pos!=this.$to.pos?new Gt(s.pos,l.pos,h):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,s=0,l=this.unplaced.openEnd;s<e;s++){let a=t.firstChild;if(t.childCount>1&&(l=0),a.type.spec.isolating&&l<=s){e=s;break}t=a.content}for(let t=1;t<=2;t++)for(let s=t==1?e:this.unplaced.openStart;s>=0;s--){let l,a=null;s?(a=Ph(this.unplaced.content,s-1).firstChild,l=a.content):l=this.unplaced.content;let c=l.firstChild;for(let u=this.depth;u>=0;u--){let{type:h,match:p}=this.frontier[u],g,y=null;if(t==1&&(c?p.matchType(c.type)||(y=p.fillBefore(W.from(c),!1)):a&&h.compatibleContent(a.type)))return{sliceDepth:s,frontierDepth:u,parent:a,inject:y};if(t==2&&c&&(g=p.findWrapping(c.type)))return{sliceDepth:s,frontierDepth:u,parent:a,wrap:g};if(a&&p.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:s}=this.unplaced,l=Ph(e,t);return!l.childCount||l.firstChild.isLeaf?!1:(this.unplaced=new ne(e,t+1,Math.max(s,l.size+t>=e.size-s?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:s}=this.unplaced,l=Ph(e,t);if(l.childCount<=1&&t>0){let a=e.size-t<=t+l.size;this.unplaced=new ne(Pa(e,t-1,1),t-1,a?t-1:s)}else this.unplaced=new ne(Pa(e,t,1),t,s)}placeNodes({sliceDepth:e,frontierDepth:t,parent:s,inject:l,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let z=0;z<a.length;z++)this.openFrontierNode(a[z]);let c=this.unplaced,u=s?s.content:c.content,h=c.openStart-e,p=0,g=[],{match:y,type:b}=this.frontier[t];if(l){for(let z=0;z<l.childCount;z++)g.push(l.child(z));y=y.matchFragment(l)}let w=u.size+e-(c.content.size-c.openEnd);for(;p<u.childCount;){let z=u.child(p),N=y.matchType(z.type);if(!N)break;p++,(p>1||h==0||z.content.size)&&(y=N,g.push(zw(z.mark(b.allowedMarks(z.marks)),p==1?h:0,p==u.childCount?w:-1)))}let k=p==u.childCount;k||(w=-1),this.placed=qa(this.placed,t,W.from(g)),this.frontier[t].match=y,k&&w<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let z=0,N=u;z<w;z++){let S=N.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),N=S.content}this.unplaced=k?e==0?ne.empty:new ne(Pa(c.content,e-1,1),e-1,w<0?c.openEnd:e-1):new ne(Pa(c.content,e,p),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!qh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:s}=this.$to,l=this.$to.after(s);for(;s>1&&l==this.$to.end(--s);)++l;return l}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:s,type:l}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),c=qh(e,t,l,s,a);if(c){for(let u=t-1;u>=0;u--){let{match:h,type:p}=this.frontier[u],g=qh(e,u,p,h,!0);if(!g||g.childCount)continue e}return{depth:t,fit:c,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=qa(this.placed,t.depth,t.fit)),e=t.move;for(let s=t.depth+1;s<=e.depth;s++){let l=e.node(s),a=l.type.contentMatch.fillBefore(l.content,!0,e.index(s));this.openFrontierNode(l.type,l.attrs,a)}return e}openFrontierNode(e,t=null,s){let l=this.frontier[this.depth];l.match=l.match.matchType(e),this.placed=qa(this.placed,this.depth,W.from(e.create(t,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(W.empty,!0);t.childCount&&(this.placed=qa(this.placed,this.frontier.length,t))}}function Pa(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Pa(n.firstChild.content,e-1,t)))}function qa(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(qa(n.lastChild.content,e-1,t)))}function Ph(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function zw(n,e,t){if(e<=0)return n;let s=n.content;return e>1&&(s=s.replaceChild(0,zw(s.firstChild,e-1,s.childCount==1?t-1:0))),e>0&&(s=n.type.contentMatch.fillBefore(s).append(s),t<=0&&(s=s.append(n.type.contentMatch.matchFragment(s).fillBefore(W.empty,!0)))),n.copy(s)}function qh(n,e,t,s,l){let a=n.node(e),c=l?n.indexAfter(e):n.index(e);if(c==a.childCount&&!t.compatibleContent(a.type))return null;let u=s.fillBefore(a.content,!0,c);return u&&!vS(t,a.content,c)?u:null}function vS(n,e,t){for(let s=t;s<e.childCount;s++)if(!n.allowsMarks(e.child(s).marks))return!0;return!1}function kS(n){return n.spec.defining||n.spec.definingForContent}function jS(n,e,t,s){if(!s.size)return n.deleteRange(e,t);let l=n.doc.resolve(e),a=n.doc.resolve(t);if(Nw(l,a,s))return n.step(new Gt(e,t,s));let c=Cw(l,a);c[c.length-1]==0&&c.pop();let u=-(l.depth+1);c.unshift(u);for(let b=l.depth,w=l.pos-1;b>0;b--,w--){let k=l.node(b).type.spec;if(k.defining||k.definingAsContext||k.isolating)break;c.indexOf(b)>-1?u=b:l.before(b)==w&&c.splice(1,0,-b)}let h=c.indexOf(u),p=[],g=s.openStart;for(let b=s.content,w=0;;w++){let k=b.firstChild;if(p.push(k),w==s.openStart)break;b=k.content}for(let b=g-1;b>=0;b--){let w=p[b],k=kS(w.type);if(k&&!w.sameMarkup(l.node(Math.abs(u)-1)))g=b;else if(k||!w.type.isTextblock)break}for(let b=s.openStart;b>=0;b--){let w=(b+g+1)%(s.openStart+1),k=p[w];if(k)for(let z=0;z<c.length;z++){let N=c[(z+h)%c.length],S=!0;N<0&&(S=!1,N=-N);let L=l.node(N-1),Y=l.index(N-1);if(L.canReplaceWith(Y,Y,k.type,k.marks))return n.replace(l.before(N),S?a.after(N):t,new ne(Sw(s.content,0,s.openStart,w),w,s.openEnd))}}let y=n.steps.length;for(let b=c.length-1;b>=0&&(n.replace(e,t,s),!(n.steps.length>y));b--){let w=c[b];w<0||(e=l.before(w),t=a.after(w))}}function Sw(n,e,t,s,l){if(e<t){let a=n.firstChild;n=n.replaceChild(0,a.copy(Sw(a.content,e+1,t,s,a)))}if(e>s){let a=l.contentMatchAt(0),c=a.fillBefore(n).append(n);n=c.append(a.matchFragment(c).fillBefore(W.empty,!0))}return n}function NS(n,e,t,s){if(!s.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let l=bS(n.doc,e,s.type);l!=null&&(e=t=l)}n.replaceRange(e,t,new ne(W.from(s),0,0))}function zS(n,e,t){let s=n.doc.resolve(e),l=n.doc.resolve(t),a=Cw(s,l);for(let c=0;c<a.length;c++){let u=a[c],h=c==a.length-1;if(h&&u==0||s.node(u).type.contentMatch.validEnd)return n.delete(s.start(u),l.end(u));if(u>0&&(h||s.node(u-1).canReplace(s.index(u-1),l.indexAfter(u-1))))return n.delete(s.before(u),l.after(u))}for(let c=1;c<=s.depth&&c<=l.depth;c++)if(e-s.start(c)==s.depth-c&&t>s.end(c)&&l.end(c)-t!=l.depth-c&&s.start(c-1)==l.start(c-1)&&s.node(c-1).canReplace(s.index(c-1),l.index(c-1)))return n.delete(s.before(c),t);n.delete(e,t)}function Cw(n,e){let t=[],s=Math.min(n.depth,e.depth);for(let l=s;l>=0;l--){let a=n.start(l);if(a<n.pos-(n.depth-l)||e.end(l)>e.pos+(e.depth-l)||n.node(l).type.spec.isolating||e.node(l).type.spec.isolating)break;(a==e.start(l)||l==n.depth&&l==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&l&&e.start(l-1)==a-1)&&t.push(l)}return t}class Ol extends hn{constructor(e,t,s){super(),this.pos=e,this.attr=t,this.value=s}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ht.fail("No node at attribute step's position");let s=Object.create(null);for(let a in t.attrs)s[a]=t.attrs[a];s[this.attr]=this.value;let l=t.type.create(s,null,t.marks);return Ht.fromReplace(e,this.pos,this.pos+1,new ne(W.from(l),0,t.isLeaf?0:1))}getMap(){return Bn.empty}invert(e){return new Ol(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ol(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ol(t.pos,t.attr,t.value)}}hn.jsonID("attr",Ol);class ro extends hn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let l in e.attrs)t[l]=e.attrs[l];t[this.attr]=this.value;let s=e.type.create(t,e.content,e.marks);return Ht.ok(s)}getMap(){return Bn.empty}invert(e){return new ro(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ro(t.attr,t.value)}}hn.jsonID("docAttr",ro);let Rl=class extends Error{};Rl=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Rl.prototype=Object.create(Error.prototype);Rl.prototype.constructor=Rl;Rl.prototype.name="TransformError";class sm{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new io}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Rl(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,s=ne.empty){let l=Fd(this.doc,e,t,s);return l&&this.step(l),this}replaceWith(e,t,s){return this.replace(e,t,new ne(W.from(s),0,0))}delete(e,t){return this.replace(e,t,ne.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,s){return jS(this,e,t,s),this}replaceRangeWith(e,t,s){return NS(this,e,t,s),this}deleteRange(e,t){return zS(this,e,t),this}lift(e,t){return cS(this,e,t),this}join(e,t=1){return yS(this,e,t),this}wrap(e,t){return fS(this,e,t),this}setBlockType(e,t=e,s,l=null){return hS(this,e,t,s,l),this}setNodeMarkup(e,t,s=null,l){return mS(this,e,t,s,l),this}setNodeAttribute(e,t,s){return this.step(new Ol(e,t,s)),this}setDocAttribute(e,t){return this.step(new ro(e,t)),this}addNodeMark(e,t){return this.step(new Ii(e,t)),this}removeNodeMark(e,t){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(t instanceof ot)t.isInSet(s.marks)&&this.step(new Dr(e,t));else{let l=s.marks,a,c=[];for(;a=t.isInSet(l);)c.push(new Dr(e,a)),l=a.removeFromSet(l);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,t=1,s){return gS(this,e,t,s),this}addMark(e,t,s){return lS(this,e,t,s),this}removeMark(e,t,s){return aS(this,e,t,s),this}clearIncompatible(e,t,s){return tm(this,e,t,s),this}}const $h=Object.create(null);class ve{constructor(e,t,s){this.$anchor=e,this.$head=t,this.ranges=s||[new Mw(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ne.empty){let s=t.content.lastChild,l=null;for(let u=0;u<t.openEnd;u++)l=s,s=s.lastChild;let a=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:h,$to:p}=c[u],g=e.mapping.slice(a);e.replaceRange(g.map(h.pos),g.map(p.pos),u?ne.empty:t),u==0&&gb(e,a,(s?s.isInline:l&&l.isTextblock)?-1:1)}}replaceWith(e,t){let s=e.steps.length,l=this.ranges;for(let a=0;a<l.length;a++){let{$from:c,$to:u}=l[a],h=e.mapping.slice(s),p=h.map(c.pos),g=h.map(u.pos);a?e.deleteRange(p,g):(e.replaceRangeWith(p,g,t),gb(e,s,t.isInline?-1:1))}}static findFrom(e,t,s=!1){let l=e.parent.inlineContent?new ye(e):Cl(e.node(0),e.parent,e.pos,e.index(),t,s);if(l)return l;for(let a=e.depth-1;a>=0;a--){let c=t<0?Cl(e.node(0),e.node(a),e.before(a+1),e.index(a),t,s):Cl(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,s);if(c)return c}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Un(e.node(0))}static atStart(e){return Cl(e,e,0,0,1)||new Un(e)}static atEnd(e){return Cl(e,e,e.content.size,e.childCount,-1)||new Un(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=$h[t.type];if(!s)throw new RangeError(`No selection type ${t.type} defined`);return s.fromJSON(e,t)}static jsonID(e,t){if(e in $h)throw new RangeError("Duplicate use of selection JSON ID "+e);return $h[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}ve.prototype.visible=!0;class Mw{constructor(e,t){this.$from=e,this.$to=t}}let pb=!1;function mb(n){!pb&&!n.parent.inlineContent&&(pb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ye extends ve{constructor(e,t=e){mb(e),mb(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let s=e.resolve(t.map(this.head));if(!s.parent.inlineContent)return ve.near(s);let l=e.resolve(t.map(this.anchor));return new ye(l.parent.inlineContent?l:s,s)}replace(e,t=ne.empty){if(super.replace(e,t),t==ne.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new eu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,s=t){let l=e.resolve(t);return new this(l,s==t?l:e.resolve(s))}static between(e,t,s){let l=e.pos-t.pos;if((!s||l)&&(s=l>=0?1:-1),!t.parent.inlineContent){let a=ve.findFrom(t,s,!0)||ve.findFrom(t,-s,!0);if(a)t=a.$head;else return ve.near(t,s)}return e.parent.inlineContent||(l==0?e=t:(e=(ve.findFrom(e,-s,!0)||ve.findFrom(e,s,!0)).$anchor,e.pos<t.pos!=l<0&&(e=t))),new ye(e,t)}}ve.jsonID("text",ye);class eu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new eu(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class xe extends ve{constructor(e){let t=e.nodeAfter,s=e.node(0).resolve(e.pos+t.nodeSize);super(e,s),this.node=t}map(e,t){let{deleted:s,pos:l}=t.mapResult(this.anchor),a=e.resolve(l);return s?ve.near(a):new xe(a)}content(){return new ne(W.from(this.node),0,0)}eq(e){return e instanceof xe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new im(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new xe(e.resolve(t.anchor))}static create(e,t){return new xe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}xe.prototype.visible=!1;ve.jsonID("node",xe);class im{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:s}=e.mapResult(this.anchor);return t?new eu(s,s):new im(s)}resolve(e){let t=e.resolve(this.anchor),s=t.nodeAfter;return s&&xe.isSelectable(s)?new xe(t):ve.near(t)}}class Un extends ve{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ne.empty){if(t==ne.empty){e.delete(0,e.doc.content.size);let s=ve.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Un(e)}map(e){return new Un(e)}eq(e){return e instanceof Un}getBookmark(){return SS}}ve.jsonID("all",Un);const SS={map(){return this},resolve(n){return new Un(n)}};function Cl(n,e,t,s,l,a=!1){if(e.inlineContent)return ye.create(n,t);for(let c=s-(l>0?0:1);l>0?c<e.childCount:c>=0;c+=l){let u=e.child(c);if(u.isAtom){if(!a&&xe.isSelectable(u))return xe.create(n,t-(l<0?u.nodeSize:0))}else{let h=Cl(n,u,t+l,l<0?u.childCount:0,l,a);if(h)return h}t+=u.nodeSize*l}return null}function gb(n,e,t){let s=n.steps.length-1;if(s<e)return;let l=n.steps[s];if(!(l instanceof Gt||l instanceof Zt))return;let a=n.mapping.maps[s],c;a.forEach((u,h,p,g)=>{c==null&&(c=g)}),n.setSelection(ve.near(n.doc.resolve(c),t))}const xb=1,Hc=2,yb=4;class CS extends sm{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|xb)&~Hc,this.storedMarks=null,this}get selectionSet(){return(this.updated&xb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Hc,this}ensureMarks(e){return ot.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Hc)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Hc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let s=this.selection;return t&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||ot.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,s){let l=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(l.text(e),!0):this.deleteSelection();{if(s==null&&(s=t),!e)return this.deleteRange(t,s);let a=this.storedMarks;if(!a){let c=this.doc.resolve(t);a=s==t?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(t,s,l.text(e,a)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(ve.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=yb,this}get scrolledIntoView(){return(this.updated&yb)>0}}function bb(n,e){return!e||!n?n:n.bind(e)}class $a{constructor(e,t,s){this.name=e,this.init=bb(t.init,s),this.apply=bb(t.apply,s)}}const MS=[new $a("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new $a("selection",{init(n,e){return n.selection||ve.atStart(e.doc)},apply(n){return n.selection}}),new $a("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,s){return s.selection.$cursor?n.storedMarks:null}}),new $a("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Kh{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=MS.slice(),t&&t.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new $a(s.key,s.spec.state,s))})}}class Al{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=t){let l=this.config.plugins[s];if(l.spec.filterTransaction&&!l.spec.filterTransaction.call(l,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],s=this.applyInner(e),l=null;for(;;){let a=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let h=l?l[c].n:0,p=l?l[c].state:this,g=h<t.length&&u.spec.appendTransaction.call(u,h?t.slice(h):t,p,s);if(g&&s.filterTransaction(g,c)){if(g.setMeta("appendedTransaction",e),!l){l=[];for(let y=0;y<this.config.plugins.length;y++)l.push(y<c?{state:s,n:t.length}:{state:this,n:0})}t.push(g),s=s.applyInner(g),a=!0}l&&(l[c]={state:s,n:t.length})}}if(!a)return{state:s,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Al(this.config),s=this.config.fields;for(let l=0;l<s.length;l++){let a=s[l];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new CS(this)}static create(e){let t=new Kh(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new Al(t);for(let l=0;l<t.fields.length;l++)s[t.fields[l].name]=t.fields[l].init(e,s);return s}reconfigure(e){let t=new Kh(this.schema,e.plugins),s=t.fields,l=new Al(t);for(let a=0;a<s.length;a++){let c=s[a].name;l[c]=this.hasOwnProperty(c)?this[c]:s[a].init(e,l)}return l}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let l=e[s],a=l.spec.state;a&&a.toJSON&&(t[s]=a.toJSON.call(l,this[l.key]))}return t}static fromJSON(e,t,s){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let l=new Kh(e.schema,e.plugins),a=new Al(l);return l.fields.forEach(c=>{if(c.name=="doc")a.doc=us.fromJSON(e.schema,t.doc);else if(c.name=="selection")a.selection=ve.fromJSON(a.doc,t.selection);else if(c.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let u in s){let h=s[u],p=h.spec.state;if(h.key==c.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){a[c.name]=p.fromJSON.call(h,e,t[u],a);return}}a[c.name]=c.init(e,a)}}),a}}function Tw(n,e,t){for(let s in n){let l=n[s];l instanceof Function?l=l.bind(e):s=="handleDOMEvents"&&(l=Tw(l,e,{})),t[s]=l}return t}class mt{constructor(e){this.spec=e,this.props={},e.props&&Tw(e.props,this,this.props),this.key=e.key?e.key.key:Ew("plugin")}getState(e){return e[this.key]}}const Gh=Object.create(null);function Ew(n){return n in Gh?n+"$"+ ++Gh[n]:(Gh[n]=0,n+"$")}class Tt{constructor(e="key"){this.key=Ew(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rm=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Aw(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Ow=(n,e,t)=>{let s=Aw(n,t);if(!s)return!1;let l=lm(s);if(!l){let c=s.blockRange(),u=c&&Vl(c);return u==null?!1:(e&&e(n.tr.lift(c,u).scrollIntoView()),!0)}let a=l.nodeBefore;if(Vw(n,l,e,-1))return!0;if(s.parent.content.size==0&&(Ll(a,"end")||xe.isSelectable(a)))for(let c=s.depth;;c--){let u=Fd(n.doc,s.before(c),s.after(c),ne.empty);if(u&&u.slice.size<u.to-u.from){if(e){let h=n.tr.step(u);h.setSelection(Ll(a,"end")?ve.findFrom(h.doc.resolve(h.mapping.map(l.pos,-1)),-1):xe.create(h.doc,l.pos-a.nodeSize)),e(h.scrollIntoView())}return!0}if(c==1||s.node(c-1).childCount>1)break}return a.isAtom&&l.depth==s.depth-1?(e&&e(n.tr.delete(l.pos-a.nodeSize,l.pos).scrollIntoView()),!0):!1},TS=(n,e,t)=>{let s=Aw(n,t);if(!s)return!1;let l=lm(s);return l?Dw(n,l,e):!1},ES=(n,e,t)=>{let s=Lw(n,t);if(!s)return!1;let l=am(s);return l?Dw(n,l,e):!1};function Dw(n,e,t){let s=e.nodeBefore,l=s,a=e.pos-1;for(;!l.isTextblock;a--){if(l.type.spec.isolating)return!1;let g=l.lastChild;if(!g)return!1;l=g}let c=e.nodeAfter,u=c,h=e.pos+1;for(;!u.isTextblock;h++){if(u.type.spec.isolating)return!1;let g=u.firstChild;if(!g)return!1;u=g}let p=Fd(n.doc,a,h,ne.empty);if(!p||p.from!=a||p instanceof Gt&&p.slice.size>=h-a)return!1;if(t){let g=n.tr.step(p);g.setSelection(ye.create(g.doc,a)),t(g.scrollIntoView())}return!0}function Ll(n,e,t=!1){for(let s=n;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(t&&s.childCount!=1)return!1}return!1}const Rw=(n,e,t)=>{let{$head:s,empty:l}=n.selection,a=s;if(!l)return!1;if(s.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):s.parentOffset>0)return!1;a=lm(s)}let c=a&&a.nodeBefore;return!c||!xe.isSelectable(c)?!1:(e&&e(n.tr.setSelection(xe.create(n.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)};function lm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Lw(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const _w=(n,e,t)=>{let s=Lw(n,t);if(!s)return!1;let l=am(s);if(!l)return!1;let a=l.nodeAfter;if(Vw(n,l,e,1))return!0;if(s.parent.content.size==0&&(Ll(a,"start")||xe.isSelectable(a))){let c=Fd(n.doc,s.before(),s.after(),ne.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=n.tr.step(c);u.setSelection(Ll(a,"start")?ve.findFrom(u.doc.resolve(u.mapping.map(l.pos)),1):xe.create(u.doc,u.mapping.map(l.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&l.depth==s.depth-1?(e&&e(n.tr.delete(l.pos,l.pos+a.nodeSize).scrollIntoView()),!0):!1},Bw=(n,e,t)=>{let{$head:s,empty:l}=n.selection,a=s;if(!l)return!1;if(s.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):s.parentOffset<s.parent.content.size)return!1;a=am(s)}let c=a&&a.nodeAfter;return!c||!xe.isSelectable(c)?!1:(e&&e(n.tr.setSelection(xe.create(n.doc,a.pos)).scrollIntoView()),!0)};function am(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const AS=(n,e)=>{let t=n.selection,s=t instanceof xe,l;if(s){if(t.node.isTextblock||!Zi(n.doc,t.from))return!1;l=t.from}else if(l=Xd(n.doc,t.from,-1),l==null)return!1;if(e){let a=n.tr.join(l);s&&a.setSelection(xe.create(a.doc,l-n.doc.resolve(l).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},OS=(n,e)=>{let t=n.selection,s;if(t instanceof xe){if(t.node.isTextblock||!Zi(n.doc,t.to))return!1;s=t.to}else if(s=Xd(n.doc,t.to,1),s==null)return!1;return e&&e(n.tr.join(s).scrollIntoView()),!0},DS=(n,e)=>{let{$from:t,$to:s}=n.selection,l=t.blockRange(s),a=l&&Vl(l);return a==null?!1:(e&&e(n.tr.lift(l,a).scrollIntoView()),!0)},Hw=(n,e)=>{let{$head:t,$anchor:s}=n.selection;return!t.parent.type.spec.code||!t.sameParent(s)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function om(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const RS=(n,e)=>{let{$head:t,$anchor:s}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(s))return!1;let l=t.node(-1),a=t.indexAfter(-1),c=om(l.contentMatchAt(a));if(!c||!l.canReplaceWith(a,a,c))return!1;if(e){let u=t.after(),h=n.tr.replaceWith(u,u,c.createAndFill());h.setSelection(ve.near(h.doc.resolve(u),1)),e(h.scrollIntoView())}return!0},Uw=(n,e)=>{let t=n.selection,{$from:s,$to:l}=t;if(t instanceof Un||s.parent.inlineContent||l.parent.inlineContent)return!1;let a=om(l.parent.contentMatchAt(l.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let c=(!s.parentOffset&&l.index()<l.parent.childCount?s:l).pos,u=n.tr.insert(c,a.createAndFill());u.setSelection(ye.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},Iw=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(Xs(n.doc,a))return e&&e(n.tr.split(a).scrollIntoView()),!0}let s=t.blockRange(),l=s&&Vl(s);return l==null?!1:(e&&e(n.tr.lift(s,l).scrollIntoView()),!0)};function LS(n){return(e,t)=>{let{$from:s,$to:l}=e.selection;if(e.selection instanceof xe&&e.selection.node.isBlock)return!s.parentOffset||!Xs(e.doc,s.pos)?!1:(t&&t(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let a=[],c,u,h=!1,p=!1;for(let w=s.depth;;w--)if(s.node(w).isBlock){h=s.end(w)==s.pos+(s.depth-w),p=s.start(w)==s.pos-(s.depth-w),u=om(s.node(w-1).contentMatchAt(s.indexAfter(w-1))),a.unshift(h&&u?{type:u}:null),c=w;break}else{if(w==1)return!1;a.unshift(null)}let g=e.tr;(e.selection instanceof ye||e.selection instanceof Un)&&g.deleteSelection();let y=g.mapping.map(s.pos),b=Xs(g.doc,y,a.length,a);if(b||(a[0]=u?{type:u}:null,b=Xs(g.doc,y,a.length,a)),!b)return!1;if(g.split(y,a.length,a),!h&&p&&s.node(c).type!=u){let w=g.mapping.map(s.before(c)),k=g.doc.resolve(w);u&&s.node(c-1).canReplaceWith(k.index(),k.index()+1,u)&&g.setNodeMarkup(g.mapping.map(s.before(c)),u)}return t&&t(g.scrollIntoView()),!0}}const _S=LS(),BS=(n,e)=>{let{$from:t,to:s}=n.selection,l,a=t.sharedDepth(s);return a==0?!1:(l=t.before(a),e&&e(n.tr.setSelection(xe.create(n.doc,l))),!0)};function HS(n,e,t){let s=e.nodeBefore,l=e.nodeAfter,a=e.index();return!s||!l||!s.type.compatibleContent(l.type)?!1:!s.content.size&&e.parent.canReplace(a-1,a)?(t&&t(n.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(l.isTextblock||Zi(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Vw(n,e,t,s){let l=e.nodeBefore,a=e.nodeAfter,c,u,h=l.type.spec.isolating||a.type.spec.isolating;if(!h&&HS(n,e,t))return!0;let p=!h&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(c=(u=l.contentMatchAt(l.childCount)).findWrapping(a.type))&&u.matchType(c[0]||a.type).validEnd){if(t){let w=e.pos+a.nodeSize,k=W.empty;for(let S=c.length-1;S>=0;S--)k=W.from(c[S].create(null,k));k=W.from(l.copy(k));let z=n.tr.step(new Zt(e.pos-1,w,e.pos,w,new ne(k,1,0),c.length,!0)),N=z.doc.resolve(w+2*c.length);N.nodeAfter&&N.nodeAfter.type==l.type&&Zi(z.doc,N.pos)&&z.join(N.pos),t(z.scrollIntoView())}return!0}let g=a.type.spec.isolating||s>0&&h?null:ve.findFrom(e,1),y=g&&g.$from.blockRange(g.$to),b=y&&Vl(y);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(y,b).scrollIntoView()),!0;if(p&&Ll(a,"start",!0)&&Ll(l,"end")){let w=l,k=[];for(;k.push(w),!w.isTextblock;)w=w.lastChild;let z=a,N=1;for(;!z.isTextblock;z=z.firstChild)N++;if(w.canReplace(w.childCount,w.childCount,z.content)){if(t){let S=W.empty;for(let Y=k.length-1;Y>=0;Y--)S=W.from(k[Y].copy(S));let L=n.tr.step(new Zt(e.pos-k.length,e.pos+a.nodeSize,e.pos+N,e.pos+a.nodeSize-N,new ne(S,k.length,0),0,!0));t(L.scrollIntoView())}return!0}}return!1}function Pw(n){return function(e,t){let s=e.selection,l=n<0?s.$from:s.$to,a=l.depth;for(;l.node(a).isInline;){if(!a)return!1;a--}return l.node(a).isTextblock?(t&&t(e.tr.setSelection(ye.create(e.doc,n<0?l.start(a):l.end(a)))),!0):!1}}const US=Pw(-1),IS=Pw(1);function VS(n,e=null){return function(t,s){let{$from:l,$to:a}=t.selection,c=l.blockRange(a),u=c&&nm(c,n,e);return u?(s&&s(t.tr.wrap(c,u).scrollIntoView()),!0):!1}}function wb(n,e=null){return function(t,s){let l=!1;for(let a=0;a<t.selection.ranges.length&&!l;a++){let{$from:{pos:c},$to:{pos:u}}=t.selection.ranges[a];t.doc.nodesBetween(c,u,(h,p)=>{if(l)return!1;if(!(!h.isTextblock||h.hasMarkup(n,e)))if(h.type==n)l=!0;else{let g=t.doc.resolve(p),y=g.index();l=g.parent.canReplaceWith(y,y+1,n)}})}if(!l)return!1;if(s){let a=t.tr;for(let c=0;c<t.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:h}}=t.selection.ranges[c];a.setBlockType(u,h,n,e)}s(a.scrollIntoView())}return!0}}function cm(...n){return function(e,t,s){for(let l=0;l<n.length;l++)if(n[l](e,t,s))return!0;return!1}}cm(rm,Ow,Rw);cm(rm,_w,Bw);cm(Hw,Uw,Iw,_S);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function PS(n,e=null){return function(t,s){let{$from:l,$to:a}=t.selection,c=l.blockRange(a);if(!c)return!1;let u=s?t.tr:null;return qS(u,c,n,e)?(s&&s(u.scrollIntoView()),!0):!1}}function qS(n,e,t,s=null){let l=!1,a=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let h=c.resolve(e.start-2);a=new ud(h,h,e.depth),e.endIndex<e.parent.childCount&&(e=new ud(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),l=!0}let u=nm(a,t,s,e);return u?(n&&$S(n,e,u,l,t),!0):!1}function $S(n,e,t,s,l){let a=W.empty;for(let g=t.length-1;g>=0;g--)a=W.from(t[g].type.create(t[g].attrs,a));n.step(new Zt(e.start-(s?2:0),e.end,e.start,e.end,new ne(a,0,0),t.length,!0));let c=0;for(let g=0;g<t.length;g++)t[g].type==l&&(c=g+1);let u=t.length-c,h=e.start+t.length-(s?2:0),p=e.parent;for(let g=e.startIndex,y=e.endIndex,b=!0;g<y;g++,b=!1)!b&&Xs(n.doc,h,u)&&(n.split(h,u),h+=2*u),h+=p.child(g).nodeSize;return n}function KS(n){return function(e,t){let{$from:s,$to:l}=e.selection,a=s.blockRange(l,c=>c.childCount>0&&c.firstChild.type==n);return a?t?s.node(a.depth-1).type==n?GS(e,t,n,a):WS(e,t,a):!0:!1}}function GS(n,e,t,s){let l=n.tr,a=s.end,c=s.$to.end(s.depth);a<c&&(l.step(new Zt(a-1,c,a,c,new ne(W.from(t.create(null,s.parent.copy())),1,0),1,!0)),s=new ud(l.doc.resolve(s.$from.pos),l.doc.resolve(c),s.depth));const u=Vl(s);if(u==null)return!1;l.lift(s,u);let h=l.doc.resolve(l.mapping.map(a,-1)-1);return Zi(l.doc,h.pos)&&h.nodeBefore.type==h.nodeAfter.type&&l.join(h.pos),e(l.scrollIntoView()),!0}function WS(n,e,t){let s=n.tr,l=t.parent;for(let w=t.end,k=t.endIndex-1,z=t.startIndex;k>z;k--)w-=l.child(k).nodeSize,s.delete(w-1,w+1);let a=s.doc.resolve(t.start),c=a.nodeAfter;if(s.mapping.map(t.end)!=t.start+a.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,h=t.endIndex==l.childCount,p=a.node(-1),g=a.index(-1);if(!p.canReplace(g+(u?0:1),g+1,c.content.append(h?W.empty:W.from(l))))return!1;let y=a.pos,b=y+c.nodeSize;return s.step(new Zt(y-(u?1:0),b+(h?1:0),y+1,b-1,new ne((u?W.empty:W.from(l.copy(W.empty))).append(h?W.empty:W.from(l.copy(W.empty))),u?0:1,h?0:1),u?0:1)),e(s.scrollIntoView()),!0}function YS(n){return function(e,t){let{$from:s,$to:l}=e.selection,a=s.blockRange(l,p=>p.childCount>0&&p.firstChild.type==n);if(!a)return!1;let c=a.startIndex;if(c==0)return!1;let u=a.parent,h=u.child(c-1);if(h.type!=n)return!1;if(t){let p=h.lastChild&&h.lastChild.type==u.type,g=W.from(p?n.create():null),y=new ne(W.from(n.create(null,W.from(u.type.create(null,g)))),p?3:1,0),b=a.start,w=a.end;t(e.tr.step(new Zt(b-(p?3:1),w,b,w,y,1,!0)).scrollIntoView())}return!0}}const rn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},_l=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let kp=null;const Zs=function(n,e,t){let s=kp||(kp=document.createRange());return s.setEnd(n,t??n.nodeValue.length),s.setStart(n,e||0),s},ZS=function(){kp=null},Rr=function(n,e,t,s){return t&&(vb(n,e,t,s,-1)||vb(n,e,t,s,1))},JS=/^(img|br|input|textarea|hr)$/i;function vb(n,e,t,s,l){for(var a;;){if(n==t&&e==s)return!0;if(e==(l<0?0:Fn(n))){let c=n.parentNode;if(!c||c.nodeType!=1||mo(n)||JS.test(n.nodeName)||n.contentEditable=="false")return!1;e=rn(n)+(l<0?0:1),n=c}else if(n.nodeType==1){let c=n.childNodes[e+(l<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((a=c.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=l;else return!1;else n=c,e=l<0?Fn(n):0}else return!1}}function Fn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function QS(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Fn(n)}else if(n.parentNode&&!mo(n))e=rn(n),n=n.parentNode;else return null}}function XS(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!mo(n))e=rn(n)+1,n=n.parentNode;else return null}}function FS(n,e,t){for(let s=e==0,l=e==Fn(n);s||l;){if(n==t)return!0;let a=rn(n);if(n=n.parentNode,!n)return!1;s=s&&a==0,l=l&&a==Fn(n)}}function mo(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const tu=function(n){return n.focusNode&&Rr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function vr(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function eC(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function tC(n,e,t){if(n.caretPositionFromPoint)try{let s=n.caretPositionFromPoint(e,t);if(s)return{node:s.offsetNode,offset:Math.min(Fn(s.offsetNode),s.offset)}}catch{}if(n.caretRangeFromPoint){let s=n.caretRangeFromPoint(e,t);if(s)return{node:s.startContainer,offset:Math.min(Fn(s.startContainer),s.startOffset)}}}const ks=typeof navigator<"u"?navigator:null,kb=typeof document<"u"?document:null,Ji=ks&&ks.userAgent||"",jp=/Edge\/(\d+)/.exec(Ji),qw=/MSIE \d/.exec(Ji),Np=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ji),Cn=!!(qw||Np||jp),qi=qw?document.documentMode:Np?+Np[1]:jp?+jp[1]:0,es=!Cn&&/gecko\/(\d+)/i.test(Ji);es&&+(/Firefox\/(\d+)/.exec(Ji)||[0,0])[1];const zp=!Cn&&/Chrome\/(\d+)/.exec(Ji),Wt=!!zp,$w=zp?+zp[1]:0,un=!Cn&&!!ks&&/Apple Computer/.test(ks.vendor),Bl=un&&(/Mobile\/\w+/.test(Ji)||!!ks&&ks.maxTouchPoints>2),Xn=Bl||(ks?/Mac/.test(ks.platform):!1),Kw=ks?/Win/.test(ks.platform):!1,Qs=/Android \d/.test(Ji),go=!!kb&&"webkitFontSmoothing"in kb.documentElement.style,nC=go?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function sC(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function $s(n,e){return typeof n=="number"?n:n[e]}function iC(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,s=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*s}}function jb(n,e,t){let s=n.someProp("scrollThreshold")||0,l=n.someProp("scrollMargin")||5,a=n.dom.ownerDocument;for(let c=t||n.dom;c;){if(c.nodeType!=1){c=_l(c);continue}let u=c,h=u==a.body,p=h?sC(a):iC(u),g=0,y=0;if(e.top<p.top+$s(s,"top")?y=-(p.top-e.top+$s(l,"top")):e.bottom>p.bottom-$s(s,"bottom")&&(y=e.bottom-e.top>p.bottom-p.top?e.top+$s(l,"top")-p.top:e.bottom-p.bottom+$s(l,"bottom")),e.left<p.left+$s(s,"left")?g=-(p.left-e.left+$s(l,"left")):e.right>p.right-$s(s,"right")&&(g=e.right-p.right+$s(l,"right")),g||y)if(h)a.defaultView.scrollBy(g,y);else{let w=u.scrollLeft,k=u.scrollTop;y&&(u.scrollTop+=y),g&&(u.scrollLeft+=g);let z=u.scrollLeft-w,N=u.scrollTop-k;e={left:e.left-z,top:e.top-N,right:e.right-z,bottom:e.bottom-N}}let b=h?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(b))break;c=b=="absolute"?c.offsetParent:_l(c)}}function rC(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),s,l;for(let a=(e.left+e.right)/2,c=t+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=n.root.elementFromPoint(a,c);if(!u||u==n.dom||!n.dom.contains(u))continue;let h=u.getBoundingClientRect();if(h.top>=t-20){s=u,l=h.top;break}}return{refDOM:s,refTop:l,stack:Gw(n.dom)}}function Gw(n){let e=[],t=n.ownerDocument;for(let s=n;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),n!=t);s=_l(s));return e}function lC({refDOM:n,refTop:e,stack:t}){let s=n?n.getBoundingClientRect().top:0;Ww(t,s==0?0:s-e)}function Ww(n,e){for(let t=0;t<n.length;t++){let{dom:s,top:l,left:a}=n[t];s.scrollTop!=l+e&&(s.scrollTop=l+e),s.scrollLeft!=a&&(s.scrollLeft=a)}}let zl=null;function aC(n){if(n.setActive)return n.setActive();if(zl)return n.focus(zl);let e=Gw(n);n.focus(zl==null?{get preventScroll(){return zl={preventScroll:!0},!0}}:void 0),zl||(zl=!1,Ww(e,0))}function Yw(n,e){let t,s=2e8,l,a=0,c=e.top,u=e.top,h,p;for(let g=n.firstChild,y=0;g;g=g.nextSibling,y++){let b;if(g.nodeType==1)b=g.getClientRects();else if(g.nodeType==3)b=Zs(g).getClientRects();else continue;for(let w=0;w<b.length;w++){let k=b[w];if(k.top<=c&&k.bottom>=u){c=Math.max(k.bottom,c),u=Math.min(k.top,u);let z=k.left>e.left?k.left-e.left:k.right<e.left?e.left-k.right:0;if(z<s){t=g,s=z,l=z&&t.nodeType==3?{left:k.right<e.left?k.right:k.left,top:e.top}:e,g.nodeType==1&&z&&(a=y+(e.left>=(k.left+k.right)/2?1:0));continue}}else k.top>e.top&&!h&&k.left<=e.left&&k.right>=e.left&&(h=g,p={left:Math.max(k.left,Math.min(k.right,e.left)),top:k.top});!t&&(e.left>=k.right&&e.top>=k.top||e.left>=k.left&&e.top>=k.bottom)&&(a=y+1)}}return!t&&h&&(t=h,l=p,s=0),t&&t.nodeType==3?oC(t,l):!t||s&&t.nodeType==1?{node:n,offset:a}:Yw(t,l)}function oC(n,e){let t=n.nodeValue.length,s=document.createRange(),l;for(let a=0;a<t;a++){s.setEnd(n,a+1),s.setStart(n,a);let c=Ai(s,1);if(c.top!=c.bottom&&dm(e,c)){l={node:n,offset:a+(e.left>=(c.left+c.right)/2?1:0)};break}}return s.detach(),l||{node:n,offset:0}}function dm(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function cC(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function dC(n,e,t){let{node:s,offset:l}=Yw(e,t),a=-1;if(s.nodeType==1&&!s.firstChild){let c=s.getBoundingClientRect();a=c.left!=c.right&&t.left>(c.left+c.right)/2?1:-1}return n.docView.posFromDOM(s,l,a)}function uC(n,e,t,s){let l=-1;for(let a=e,c=!1;a!=n.dom;){let u=n.docView.nearestDesc(a,!0),h;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((h=u.dom.getBoundingClientRect()).width||h.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&h.left>s.left||h.top>s.top?l=u.posBefore:(!c&&h.right<s.left||h.bottom<s.top)&&(l=u.posAfter),c=!0),!u.contentDOM&&l<0&&!u.node.isText))return(u.node.isBlock?s.top<(h.top+h.bottom)/2:s.left<(h.left+h.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return l>-1?l:n.docView.posFromDOM(e,t,-1)}function Zw(n,e,t){let s=n.childNodes.length;if(s&&t.top<t.bottom)for(let l=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-t.top)/(t.bottom-t.top))-2)),a=l;;){let c=n.childNodes[a];if(c.nodeType==1){let u=c.getClientRects();for(let h=0;h<u.length;h++){let p=u[h];if(dm(e,p))return Zw(c,e,p)}}if((a=(a+1)%s)==l)break}return n}function fC(n,e){let t=n.dom.ownerDocument,s,l=0,a=tC(t,e.left,e.top);a&&({node:s,offset:l}=a);let c=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!c||!n.dom.contains(c.nodeType!=1?c.parentNode:c)){let p=n.dom.getBoundingClientRect();if(!dm(e,p)||(c=Zw(n.dom,e,p),!c))return null}if(un)for(let p=c;s&&p;p=_l(p))p.draggable&&(s=void 0);if(c=cC(c,e),s){if(es&&s.nodeType==1&&(l=Math.min(l,s.childNodes.length),l<s.childNodes.length)){let g=s.childNodes[l],y;g.nodeName=="IMG"&&(y=g.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&l++}let p;go&&l&&s.nodeType==1&&(p=s.childNodes[l-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&l--,s==n.dom&&l==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(l==0||s.nodeType!=1||s.childNodes[l-1].nodeName!="BR")&&(u=uC(n,s,l,e))}u==null&&(u=dC(n,c,e));let h=n.docView.nearestDesc(c,!0);return{pos:u,inside:h?h.posAtStart-h.border:-1}}function Nb(n){return n.top<n.bottom||n.left<n.right}function Ai(n,e){let t=n.getClientRects();if(t.length){let s=t[e<0?0:t.length-1];if(Nb(s))return s}return Array.prototype.find.call(t,Nb)||n.getBoundingClientRect()}const hC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Jw(n,e,t){let{node:s,offset:l,atom:a}=n.docView.domFromPos(e,t<0?-1:1),c=go||es;if(s.nodeType==3)if(c&&(hC.test(s.nodeValue)||(t<0?!l:l==s.nodeValue.length))){let h=Ai(Zs(s,l,l),t);if(es&&l&&/\s/.test(s.nodeValue[l-1])&&l<s.nodeValue.length){let p=Ai(Zs(s,l-1,l-1),-1);if(p.top==h.top){let g=Ai(Zs(s,l,l+1),-1);if(g.top!=h.top)return Ua(g,g.left<p.left)}}return h}else{let h=l,p=l,g=t<0?1:-1;return t<0&&!l?(p++,g=-1):t>=0&&l==s.nodeValue.length?(h--,g=1):t<0?h--:p++,Ua(Ai(Zs(s,h,p),g),g<0)}if(!n.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&l&&(t<0||l==Fn(s))){let h=s.childNodes[l-1];if(h.nodeType==1)return Wh(h.getBoundingClientRect(),!1)}if(a==null&&l<Fn(s)){let h=s.childNodes[l];if(h.nodeType==1)return Wh(h.getBoundingClientRect(),!0)}return Wh(s.getBoundingClientRect(),t>=0)}if(a==null&&l&&(t<0||l==Fn(s))){let h=s.childNodes[l-1],p=h.nodeType==3?Zs(h,Fn(h)-(c?0:1)):h.nodeType==1&&(h.nodeName!="BR"||!h.nextSibling)?h:null;if(p)return Ua(Ai(p,1),!1)}if(a==null&&l<Fn(s)){let h=s.childNodes[l];for(;h.pmViewDesc&&h.pmViewDesc.ignoreForCoords;)h=h.nextSibling;let p=h?h.nodeType==3?Zs(h,0,c?0:1):h.nodeType==1?h:null:null;if(p)return Ua(Ai(p,-1),!0)}return Ua(Ai(s.nodeType==3?Zs(s):s,-t),t>=0)}function Ua(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Wh(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Qw(n,e,t){let s=n.state,l=n.root.activeElement;s!=e&&n.updateState(e),l!=n.dom&&n.focus();try{return t()}finally{s!=e&&n.updateState(s),l!=n.dom&&l&&l.focus()}}function pC(n,e,t){let s=e.selection,l=t=="up"?s.$from:s.$to;return Qw(n,e,()=>{let{node:a}=n.docView.domFromPos(l.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let c=Jw(n,l.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Zs(u,0,u.nodeValue.length).getClientRects();else continue;for(let p=0;p<h.length;p++){let g=h[p];if(g.bottom>g.top+1&&(t=="up"?c.top-g.top>(g.bottom-c.top)*2:g.bottom-c.bottom>(c.bottom-g.top)*2))return!1}}return!0})}const mC=/[\u0590-\u08ac]/;function gC(n,e,t){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let l=s.parentOffset,a=!l,c=l==s.parent.content.size,u=n.domSelection();return u?!mC.test(s.parent.textContent)||!u.modify?t=="left"||t=="backward"?a:c:Qw(n,e,()=>{let{focusNode:h,focusOffset:p,anchorNode:g,anchorOffset:y}=n.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",t,"character");let w=s.depth?n.docView.domAfterPos(s.before()):n.dom,{focusNode:k,focusOffset:z}=n.domSelectionRange(),N=k&&!w.contains(k.nodeType==1?k:k.parentNode)||h==k&&p==z;try{u.collapse(g,y),h&&(h!=g||p!=y)&&u.extend&&u.extend(h,p)}catch{}return b!=null&&(u.caretBidiLevel=b),N}):s.pos==s.start()||s.pos==s.end()}let zb=null,Sb=null,Cb=!1;function xC(n,e,t){return zb==e&&Sb==t?Cb:(zb=e,Sb=t,Cb=t=="up"||t=="down"?pC(n,e,t):gC(n,e,t))}const ts=0,Mb=1,jr=2,js=3;class xo{constructor(e,t,s,l){this.parent=e,this.children=t,this.dom=s,this.contentDOM=l,this.dirty=ts,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,s=this.posAtStart;;t++){let l=this.children[t];if(l==e)return s;s+=l.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let a,c;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(c)+c.size:this.posAtStart}else{let a,c;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(c):this.posAtEnd}let l;if(e==this.dom&&this.contentDOM)l=t>rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){l=!1;break}if(a.previousSibling)break}if(l==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){l=!0;break}if(a.nextSibling)break}}return l??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let s=!0,l=e;l;l=l.parentNode){let a=this.getDesc(l),c;if(a&&(!t||a.node))if(s&&(c=a.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))s=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let s=t;s;s=s.parent)if(s==this)return t}posFromDOM(e,t,s){for(let l=e;l;l=l.parentNode){let a=this.getDesc(l);if(a)return a.localPosFromDOM(e,t,s)}return-1}descAt(e){for(let t=0,s=0;t<this.children.length;t++){let l=this.children[t],a=s+l.size;if(s==e&&a!=s){for(;!l.border&&l.children.length;)for(let c=0;c<l.children.length;c++){let u=l.children[c];if(u.size){l=u;break}}return l}if(e<a)return l.descAt(e-s-l.border);s=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,l=0;for(let a=0;s<this.children.length;s++){let c=this.children[s],u=a+c.size;if(u>e||c instanceof Fw){l=e-a;break}a=u}if(l)return this.children[s].domFromPos(l-this.children[s].border,t);for(let a;s&&!(a=this.children[s-1]).size&&a instanceof Xw&&a.side>=0;s--);if(t<=0){let a,c=!0;for(;a=s?this.children[s-1]:null,!(!a||a.dom.parentNode==this.contentDOM);s--,c=!1);return a&&t&&c&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?rn(a.dom)+1:0}}else{let a,c=!0;for(;a=s<this.children.length?this.children[s]:null,!(!a||a.dom.parentNode==this.contentDOM);s++,c=!1);return a&&c&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?rn(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let l=-1,a=-1;for(let c=s,u=0;;u++){let h=this.children[u],p=c+h.size;if(l==-1&&e<=p){let g=c+h.border;if(e>=g&&t<=p-h.border&&h.node&&h.contentDOM&&this.contentDOM.contains(h.contentDOM))return h.parseRange(e,t,g);e=c;for(let y=u;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){l=rn(b.dom)+1;break}e-=b.size}l==-1&&(l=0)}if(l>-1&&(p>t||u==this.children.length-1)){t=p;for(let g=u+1;g<this.children.length;g++){let y=this.children[g];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){a=rn(y.dom);break}t+=y.size}a==-1&&(a=this.contentDOM.childNodes.length);break}c=p}return{node:this.contentDOM,from:e,to:t,fromOffset:l,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:s}=this.domFromPos(e,0);if(t.nodeType!=1||s==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[s]}setSelection(e,t,s,l=!1){let a=Math.min(e,t),c=Math.max(e,t);for(let w=0,k=0;w<this.children.length;w++){let z=this.children[w],N=k+z.size;if(a>k&&c<N)return z.setSelection(e-k-z.border,t-k-z.border,s,l);k=N}let u=this.domFromPos(e,e?-1:1),h=t==e?u:this.domFromPos(t,t?-1:1),p=s.root.getSelection(),g=s.domSelectionRange(),y=!1;if((es||un)&&e==t){let{node:w,offset:k}=u;if(w.nodeType==3){if(y=!!(k&&w.nodeValue[k-1]==`
`),y&&k==w.nodeValue.length)for(let z=w,N;z;z=z.parentNode){if(N=z.nextSibling){N.nodeName=="BR"&&(u=h={node:N.parentNode,offset:rn(N)+1});break}let S=z.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let z=w.childNodes[k-1];y=z&&(z.nodeName=="BR"||z.contentEditable=="false")}}if(es&&g.focusNode&&g.focusNode!=h.node&&g.focusNode.nodeType==1){let w=g.focusNode.childNodes[g.focusOffset];w&&w.contentEditable=="false"&&(l=!0)}if(!(l||y&&un)&&Rr(u.node,u.offset,g.anchorNode,g.anchorOffset)&&Rr(h.node,h.offset,g.focusNode,g.focusOffset))return;let b=!1;if((p.extend||e==t)&&!(y&&es)){p.collapse(u.node,u.offset);try{e!=t&&p.extend(h.node,h.offset),b=!0}catch{}}if(!b){if(e>t){let k=u;u=h,h=k}let w=document.createRange();w.setEnd(h.node,h.offset),w.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(w)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let s=0,l=0;l<this.children.length;l++){let a=this.children[l],c=s+a.size;if(s==c?e<=c&&t>=s:e<c&&t>s){let u=s+a.border,h=c-a.border;if(e>=u&&t<=h){this.dirty=e==s||t==c?jr:Mb,e==u&&t==h&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=js:a.markDirty(e-u,t-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?jr:js}s=c}this.dirty=jr}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let s=e==1?jr:Mb;t.dirty<s&&(t.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Xw extends xo{constructor(e,t,s,l){let a,c=t.type.toDOM;if(typeof c=="function"&&(c=c(s,()=>{if(!a)return l;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==ts&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class yC extends xo{constructor(e,t,s,l){super(e,[],t,null),this.textDOM=s,this.text=l}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Lr extends xo{constructor(e,t,s,l,a){super(e,[],s,l),this.mark=t,this.spec=a}static create(e,t,s,l){let a=l.nodeViews[t.type.name],c=a&&a(t,l,s);return(!c||!c.dom)&&(c=Ur.renderSpec(document,t.type.spec.toDOM(t,s),null,t.attrs)),new Lr(e,t,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&js||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=js&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=ts){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=ts}}slice(e,t,s){let l=Lr.create(this.parent,this.mark,!0,s),a=this.children,c=this.size;t<c&&(a=Cp(a,t,c,s)),e>0&&(a=Cp(a,0,e,s));for(let u=0;u<a.length;u++)a[u].parent=l;return l.children=a,l}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class $i extends xo{constructor(e,t,s,l,a,c,u,h,p){super(e,[],a,c),this.node=t,this.outerDeco=s,this.innerDeco=l,this.nodeDOM=u}static create(e,t,s,l,a,c){let u=a.nodeViews[t.type.name],h,p=u&&u(t,a,()=>{if(!h)return c;if(h.parent)return h.parent.posBeforeChild(h)},s,l),g=p&&p.dom,y=p&&p.contentDOM;if(t.isText){if(!g)g=document.createTextNode(t.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||({dom:g,contentDOM:y}=Ur.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable="false"),t.type.spec.draggable&&(g.draggable=!0));let b=g;return g=nv(g,s,t),p?h=new bC(e,t,s,l,g,y||null,b,p,a,c+1):t.isText?new nu(e,t,s,l,g,b,a):new $i(e,t,s,l,g,y||null,b,a,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let s=this.children[t];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>W.empty)}return e}matchesNode(e,t,s){return this.dirty==ts&&e.eq(this.node)&&hd(t,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let s=this.node.inlineContent,l=t,a=e.composing?this.localCompositionInfo(e,t):null,c=a&&a.pos>-1?a:null,u=a&&a.pos<0,h=new vC(this,c&&c.node,e);NC(this.node,this.innerDeco,(p,g,y)=>{p.spec.marks?h.syncToMarks(p.spec.marks,s,e):p.type.side>=0&&!y&&h.syncToMarks(g==this.node.childCount?ot.none:this.node.child(g).marks,s,e),h.placeWidget(p,e,l)},(p,g,y,b)=>{h.syncToMarks(p.marks,s,e);let w;h.findNodeMatch(p,g,y,b)||u&&e.state.selection.from>l&&e.state.selection.to<l+p.nodeSize&&(w=h.findIndexWithChild(a.node))>-1&&h.updateNodeAt(p,g,y,w,e)||h.updateNextNode(p,g,y,e,b,l)||h.addNode(p,g,y,e,l),l+=p.nodeSize}),h.syncToMarks([],s,e),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==jr)&&(c&&this.protectLocalComposition(e,c),ev(this.contentDOM,this.children,e),Bl&&zC(this.dom))}localCompositionInfo(e,t){let{from:s,to:l}=e.state.selection;if(!(e.state.selection instanceof ye)||s<t||l>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let c=a.nodeValue,u=SC(this.node.content,c,s-t,l-t);return u<0?null:{node:a,pos:u,text:c}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:s,text:l}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let c=new yC(this,a,t,l);e.input.compositionNodes.push(c),this.children=Cp(this.children,s,s+l.length,e,c)}update(e,t,s,l){return this.dirty==js||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,s,l),!0)}updateInner(e,t,s,l){this.updateOuterDeco(t),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=ts}updateOuterDeco(e){if(hd(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=tv(this.dom,this.nodeDOM,Sp(this.outerDeco,this.node,t),Sp(e,this.node,t)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Tb(n,e,t,s,l){nv(s,e,n);let a=new $i(void 0,n,e,t,s,s,s,l,0);return a.contentDOM&&a.updateChildren(l,0),a}class nu extends $i{constructor(e,t,s,l,a,c,u){super(e,t,s,l,a,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,s,l){return this.dirty==js||this.dirty!=ts&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=ts||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=e,this.dirty=ts,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,s){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,s){let l=this.node.cut(e,t),a=document.createTextNode(l.text);return new nu(this.parent,l,this.outerDeco,this.innerDeco,a,a,s)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=js)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Fw extends xo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ts&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class bC extends $i{constructor(e,t,s,l,a,c,u,h,p,g){super(e,t,s,l,a,c,u,p,g),this.spec=h}update(e,t,s,l){if(this.dirty==js)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,s);return a&&this.updateInner(e,t,s,l),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,s,l)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,s,l){this.spec.setSelection?this.spec.setSelection(e,t,s.root):super.setSelection(e,t,s,l)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ev(n,e,t){let s=n.firstChild,l=!1;for(let a=0;a<e.length;a++){let c=e[a],u=c.dom;if(u.parentNode==n){for(;u!=s;)s=Eb(s),l=!0;s=s.nextSibling}else l=!0,n.insertBefore(u,s);if(c instanceof Lr){let h=s?s.previousSibling:n.lastChild;ev(c.contentDOM,c.children,t),s=h?h.nextSibling:n.firstChild}}for(;s;)s=Eb(s),l=!0;l&&t.trackWrites==n&&(t.trackWrites=null)}const Ya=function(n){n&&(this.nodeName=n)};Ya.prototype=Object.create(null);const Nr=[new Ya];function Sp(n,e,t){if(n.length==0)return Nr;let s=t?Nr[0]:new Ya,l=[s];for(let a=0;a<n.length;a++){let c=n[a].type.attrs;if(c){c.nodeName&&l.push(s=new Ya(c.nodeName));for(let u in c){let h=c[u];h!=null&&(t&&l.length==1&&l.push(s=new Ya(e.isInline?"span":"div")),u=="class"?s.class=(s.class?s.class+" ":"")+h:u=="style"?s.style=(s.style?s.style+";":"")+h:u!="nodeName"&&(s[u]=h))}}}return l}function tv(n,e,t,s){if(t==Nr&&s==Nr)return e;let l=e;for(let a=0;a<s.length;a++){let c=s[a],u=t[a];if(a){let h;u&&u.nodeName==c.nodeName&&l!=n&&(h=l.parentNode)&&h.nodeName.toLowerCase()==c.nodeName||(h=document.createElement(c.nodeName),h.pmIsDeco=!0,h.appendChild(l),u=Nr[0]),l=h}wC(l,u||Nr[0],c)}return l}function wC(n,e,t){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in t)&&n.removeAttribute(s);for(let s in t)s!="class"&&s!="style"&&s!="nodeName"&&t[s]!=e[s]&&n.setAttribute(s,t[s]);if(e.class!=t.class){let s=e.class?e.class.split(" ").filter(Boolean):[],l=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<s.length;a++)l.indexOf(s[a])==-1&&n.classList.remove(s[a]);for(let a=0;a<l.length;a++)s.indexOf(l[a])==-1&&n.classList.add(l[a]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,l;for(;l=s.exec(e.style);)n.style.removeProperty(l[1])}t.style&&(n.style.cssText+=t.style)}}function nv(n,e,t){return tv(n,n,Nr,Sp(e,t,n.nodeType!=1))}function hd(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Eb(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class vC{constructor(e,t,s){this.lock=t,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=kC(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let s=e;s<t;s++)this.top.children[s].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,s){let l=0,a=this.stack.length>>1,c=Math.min(a,e.length);for(;l<c&&(l==a-1?this.top:this.stack[l+1<<1]).matchesMark(e[l])&&e[l].type.spec.spanning!==!1;)l++;for(;l<a;)this.destroyRest(),this.top.dirty=ts,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let h=this.index;h<Math.min(this.index+3,this.top.children.length);h++){let p=this.top.children[h];if(p.matchesMark(e[a])&&!this.isLocked(p.dom)){u=h;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let h=Lr.create(this.top,e[a],t,s);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,s,l){let a=-1,c;if(l>=this.preMatch.index&&(c=this.preMatch.matches[l-this.preMatch.index]).parent==this.top&&c.matchesNode(e,t,s))a=this.top.children.indexOf(c,this.index);else for(let u=this.index,h=Math.min(this.top.children.length,u+5);u<h;u++){let p=this.top.children[u];if(p.matchesNode(e,t,s)&&!this.preMatch.matched.has(p)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,s,l,a){let c=this.top.children[l];return c.dirty==js&&c.dom==c.contentDOM&&(c.dirty=jr),c.update(e,t,s,a)?(this.destroyBetween(this.index,l),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let l=this.index;l<this.top.children.length;l++)if(this.top.children[l]==s)return l}return-1}e=t}}updateNextNode(e,t,s,l,a,c){for(let u=this.index;u<this.top.children.length;u++){let h=this.top.children[u];if(h instanceof $i){let p=this.preMatch.matched.get(h);if(p!=null&&p!=a)return!1;let g=h.dom,y,b=this.isLocked(g)&&!(e.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==e.text&&h.dirty!=js&&hd(t,h.outerDeco));if(!b&&h.update(e,t,s,l))return this.destroyBetween(this.index,u),h.dom!=g&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(h,e,t,s,l,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=jr,y.updateChildren(l,c+1),y.dirty=ts),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,s,l,a,c){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!hd(s,e.outerDeco)||!l.eq(e.innerDeco))return null;let u=$i.create(this.top,t,s,l,a,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let h of u.children)h.parent=u}return e.destroy(),u}addNode(e,t,s,l,a){let c=$i.create(this.top,e,t,s,l,a);c.contentDOM&&c.updateChildren(l,a+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,t,s){let l=this.index<this.top.children.length?this.top.children[this.index]:null;if(l&&l.matchesWidget(e)&&(e==l.widget||!l.widget.type.toDOM.parentNode))this.index++;else{let a=new Xw(this.top,e,t,s);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Lr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof nu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((un||Wt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let l=new Fw(this.top,[],s,null);t!=this.top?t.children.push(l):t.children.splice(this.index++,0,l),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function kC(n,e){let t=e,s=t.children.length,l=n.childCount,a=new Map,c=[];e:for(;l>0;){let u;for(;;)if(s){let p=t.children[s-1];if(p instanceof Lr)t=p,s=p.children.length;else{u=p,s--;break}}else{if(t==e)break e;s=t.parent.children.indexOf(t),t=t.parent}let h=u.node;if(h){if(h!=n.child(l-1))break;--l,a.set(u,l),c.push(u)}}return{index:l,matched:a,matches:c.reverse()}}function jC(n,e){return n.type.side-e.type.side}function NC(n,e,t,s){let l=e.locals(n),a=0;if(l.length==0){for(let p=0;p<n.childCount;p++){let g=n.child(p);s(g,l,e.forChild(a,g),p),a+=g.nodeSize}return}let c=0,u=[],h=null;for(let p=0;;){let g,y;for(;c<l.length&&l[c].to==a;){let N=l[c++];N.widget&&(g?(y||(y=[g])).push(N):g=N)}if(g)if(y){y.sort(jC);for(let N=0;N<y.length;N++)t(y[N],p,!!h)}else t(g,p,!!h);let b,w;if(h)w=-1,b=h,h=null;else if(p<n.childCount)w=p,b=n.child(p++);else break;for(let N=0;N<u.length;N++)u[N].to<=a&&u.splice(N--,1);for(;c<l.length&&l[c].from<=a&&l[c].to>a;)u.push(l[c++]);let k=a+b.nodeSize;if(b.isText){let N=k;c<l.length&&l[c].from<N&&(N=l[c].from);for(let S=0;S<u.length;S++)u[S].to<N&&(N=u[S].to);N<k&&(h=b.cut(N-a),b=b.cut(0,N-a),k=N,w=-1)}else for(;c<l.length&&l[c].to<k;)c++;let z=b.isInline&&!b.isLeaf?u.filter(N=>!N.inline):u.slice();s(b,z,e.forChild(a,b),w),a=k}}function zC(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function SC(n,e,t,s){for(let l=0,a=0;l<n.childCount&&a<=s;){let c=n.child(l++),u=a;if(a+=c.nodeSize,!c.isText)continue;let h=c.text;for(;l<n.childCount;){let p=n.child(l++);if(a+=p.nodeSize,!p.isText)break;h+=p.text}if(a>=t){if(a>=s&&h.slice(s-e.length-u,s-u)==e)return s-e.length;let p=u<s?h.lastIndexOf(e,s-u-1):-1;if(p>=0&&p+e.length+u>=t)return u+p;if(t==s&&h.length>=s+e.length-u&&h.slice(s-u,s-u+e.length)==e)return s}}return-1}function Cp(n,e,t,s,l){let a=[];for(let c=0,u=0;c<n.length;c++){let h=n[c],p=u,g=u+=h.size;p>=t||g<=e?a.push(h):(p<e&&a.push(h.slice(0,e-p,s)),l&&(a.push(l),l=void 0),g>t&&a.push(h.slice(t-p,h.size,s)))}return a}function um(n,e=null){let t=n.domSelectionRange(),s=n.state.doc;if(!t.focusNode)return null;let l=n.docView.nearestDesc(t.focusNode),a=l&&l.size==0,c=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(c<0)return null;let u=s.resolve(c),h,p;if(tu(t)){for(h=c;l&&!l.node;)l=l.parent;let y=l.node;if(l&&y.isAtom&&xe.isSelectable(y)&&l.parent&&!(y.isInline&&FS(t.focusNode,t.focusOffset,l.dom))){let b=l.posBefore;p=new xe(c==b?u:s.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=c,b=c;for(let w=0;w<t.rangeCount;w++){let k=t.getRangeAt(w);y=Math.min(y,n.docView.posFromDOM(k.startContainer,k.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(k.endContainer,k.endOffset,-1))}if(y<0)return null;[h,c]=b==n.state.selection.anchor?[b,y]:[y,b],u=s.resolve(c)}else h=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(h<0)return null}let g=s.resolve(h);if(!p){let y=e=="pointer"||n.state.selection.head<u.pos&&!a?1:-1;p=fm(n,g,u,y)}return p}function sv(n){return n.editable?n.hasFocus():rv(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Fs(n,e=!1){let t=n.state.selection;if(iv(n,t),!!sv(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Wt){let s=n.domSelectionRange(),l=n.domObserver.currentSelection;if(s.anchorNode&&l.anchorNode&&Rr(s.anchorNode,s.anchorOffset,l.anchorNode,l.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)MC(n);else{let{anchor:s,head:l}=t,a,c;Ab&&!(t instanceof ye)&&(t.$from.parent.inlineContent||(a=Ob(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(c=Ob(n,t.to))),n.docView.setSelection(s,l,n,e),Ab&&(a&&Db(a),c&&Db(c)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&CC(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Ab=un||Wt&&$w<63;function Ob(n,e){let{node:t,offset:s}=n.docView.domFromPos(e,0),l=s<t.childNodes.length?t.childNodes[s]:null,a=s?t.childNodes[s-1]:null;if(un&&l&&l.contentEditable=="false")return Yh(l);if((!l||l.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(l)return Yh(l);if(a)return Yh(a)}}function Yh(n){return n.contentEditable="true",un&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Db(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function CC(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),s=t.anchorNode,l=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=s||t.anchorOffset!=l)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!sv(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function MC(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,s=t.nodeName=="IMG";s?e.collapse(t.parentNode,rn(t)+1):e.collapse(t,0),!s&&!n.state.selection.visible&&Cn&&qi<=11&&(t.disabled=!0,t.disabled=!1)}function iv(n,e){if(e instanceof xe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Rb(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Rb(n)}function Rb(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function fm(n,e,t,s){return n.someProp("createSelectionBetween",l=>l(n,e,t))||ye.between(e,t,s)}function Lb(n){return n.editable&&!n.hasFocus()?!1:rv(n)}function rv(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function TC(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Rr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Mp(n,e){let{$anchor:t,$head:s}=n.selection,l=e>0?t.max(s):t.min(s),a=l.parent.inlineContent?l.depth?n.doc.resolve(e>0?l.after():l.before()):null:l;return a&&ve.findFrom(a,e)}function Oi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function _b(n,e,t){let s=n.state.selection;if(s instanceof ye)if(t.indexOf("s")>-1){let{$head:l}=s,a=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let c=n.state.doc.resolve(l.pos+a.nodeSize*(e<0?-1:1));return Oi(n,new ye(s.$anchor,c))}else if(s.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let l=Mp(n.state,e);return l&&l instanceof xe?Oi(n,l):!1}else if(!(Xn&&t.indexOf("m")>-1)){let l=s.$head,a=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter,c;if(!a||a.isText)return!1;let u=e<0?l.pos-a.nodeSize:l.pos;return a.isAtom||(c=n.docView.descAt(u))&&!c.contentDOM?xe.isSelectable(a)?Oi(n,new xe(e<0?n.state.doc.resolve(l.pos-a.nodeSize):l)):go?Oi(n,new ye(n.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(s instanceof xe&&s.node.isInline)return Oi(n,new ye(e>0?s.$to:s.$from));{let l=Mp(n.state,e);return l?Oi(n,l):!1}}}function pd(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Za(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Sl(n,e){return e<0?EC(n):AC(n)}function EC(n){let e=n.domSelectionRange(),t=e.focusNode,s=e.focusOffset;if(!t)return;let l,a,c=!1;for(es&&t.nodeType==1&&s<pd(t)&&Za(t.childNodes[s],-1)&&(c=!0);;)if(s>0){if(t.nodeType!=1)break;{let u=t.childNodes[s-1];if(Za(u,-1))l=t,a=--s;else if(u.nodeType==3)t=u,s=t.nodeValue.length;else break}}else{if(lv(t))break;{let u=t.previousSibling;for(;u&&Za(u,-1);)l=t.parentNode,a=rn(u),u=u.previousSibling;if(u)t=u,s=pd(t);else{if(t=t.parentNode,t==n.dom)break;s=0}}}c?Tp(n,t,s):l&&Tp(n,l,a)}function AC(n){let e=n.domSelectionRange(),t=e.focusNode,s=e.focusOffset;if(!t)return;let l=pd(t),a,c;for(;;)if(s<l){if(t.nodeType!=1)break;let u=t.childNodes[s];if(Za(u,1))a=t,c=++s;else break}else{if(lv(t))break;{let u=t.nextSibling;for(;u&&Za(u,1);)a=u.parentNode,c=rn(u)+1,u=u.nextSibling;if(u)t=u,s=0,l=pd(t);else{if(t=t.parentNode,t==n.dom)break;s=l=0}}}a&&Tp(n,a,c)}function lv(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function OC(n,e){for(;n&&e==n.childNodes.length&&!mo(n);)e=rn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function DC(n,e){for(;n&&!e&&!mo(n);)e=rn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Tp(n,e,t){if(e.nodeType!=3){let a,c;(c=OC(e,t))?(e=c,t=0):(a=DC(e,t))&&(e=a,t=a.nodeValue.length)}let s=n.domSelection();if(!s)return;if(tu(s)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),s.removeAllRanges(),s.addRange(a)}else s.extend&&s.extend(e,t);n.domObserver.setCurSelection();let{state:l}=n;setTimeout(()=>{n.state==l&&Fs(n)},50)}function Bb(n,e){let t=n.state.doc.resolve(e);if(!(Wt||Kw)&&t.parent.inlineContent){let l=n.coordsAtPos(e);if(e>t.start()){let a=n.coordsAtPos(e-1),c=(a.top+a.bottom)/2;if(c>l.top&&c<l.bottom&&Math.abs(a.left-l.left)>1)return a.left<l.left?"ltr":"rtl"}if(e<t.end()){let a=n.coordsAtPos(e+1),c=(a.top+a.bottom)/2;if(c>l.top&&c<l.bottom&&Math.abs(a.left-l.left)>1)return a.left>l.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Hb(n,e,t){let s=n.state.selection;if(s instanceof ye&&!s.empty||t.indexOf("s")>-1||Xn&&t.indexOf("m")>-1)return!1;let{$from:l,$to:a}=s;if(!l.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let c=Mp(n.state,e);if(c&&c instanceof xe)return Oi(n,c)}if(!l.parent.inlineContent){let c=e<0?l:a,u=s instanceof Un?ve.near(c,e):ve.findFrom(c,e);return u?Oi(n,u):!1}return!1}function Ub(n,e){if(!(n.state.selection instanceof ye))return!0;let{$head:t,$anchor:s,empty:l}=n.state.selection;if(!t.sameParent(s))return!0;if(!l)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let c=n.state.tr;return e<0?c.delete(t.pos-a.nodeSize,t.pos):c.delete(t.pos,t.pos+a.nodeSize),n.dispatch(c),!0}return!1}function Ib(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function RC(n){if(!un||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;Ib(n,s,"true"),setTimeout(()=>Ib(n,s,"false"),20)}return!1}function LC(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function _C(n,e){let t=e.keyCode,s=LC(e);if(t==8||Xn&&t==72&&s=="c")return Ub(n,-1)||Sl(n,-1);if(t==46&&!e.shiftKey||Xn&&t==68&&s=="c")return Ub(n,1)||Sl(n,1);if(t==13||t==27)return!0;if(t==37||Xn&&t==66&&s=="c"){let l=t==37?Bb(n,n.state.selection.from)=="ltr"?-1:1:-1;return _b(n,l,s)||Sl(n,l)}else if(t==39||Xn&&t==70&&s=="c"){let l=t==39?Bb(n,n.state.selection.from)=="ltr"?1:-1:1;return _b(n,l,s)||Sl(n,l)}else{if(t==38||Xn&&t==80&&s=="c")return Hb(n,-1,s)||Sl(n,-1);if(t==40||Xn&&t==78&&s=="c")return RC(n)||Hb(n,1,s)||Sl(n,1);if(s==(Xn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function hm(n,e){n.someProp("transformCopied",w=>{e=w(e,n)});let t=[],{content:s,openStart:l,openEnd:a}=e;for(;l>1&&a>1&&s.childCount==1&&s.firstChild.childCount==1;){l--,a--;let w=s.firstChild;t.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),s=w.content}let c=n.someProp("clipboardSerializer")||Ur.fromSchema(n.state.schema),u=fv(),h=u.createElement("div");h.appendChild(c.serializeFragment(s,{document:u}));let p=h.firstChild,g,y=0;for(;p&&p.nodeType==1&&(g=uv[p.nodeName.toLowerCase()]);){for(let w=g.length-1;w>=0;w--){let k=u.createElement(g[w]);for(;h.firstChild;)k.appendChild(h.firstChild);h.appendChild(k),y++}p=h.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${l} ${a}${y?` -${y}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",w=>w(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:h,text:b,slice:e}}function av(n,e,t,s,l){let a=l.parent.type.spec.code,c,u;if(!t&&!e)return null;let h=!!e&&(s||a||!t);if(h){if(n.someProp("transformPastedText",b=>{e=b(e,a||s,n)}),a)return u=new ne(W.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",b=>{u=b(u,n,!0)}),u;let y=n.someProp("clipboardTextParser",b=>b(e,l,s,n));if(y)u=y;else{let b=l.marks(),{schema:w}=n.state,k=Ur.fromSchema(w);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(z=>{let N=c.appendChild(document.createElement("p"));z&&N.appendChild(k.serializeNode(w.text(z,b)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),c=IC(t),go&&VC(c);let p=c&&c.querySelector("[data-pm-slice]"),g=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(g&&g[3])for(let y=+g[3];y>0;y--){let b=c.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;c=b}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||Pi.fromSchema(n.state.schema)).parseSlice(c,{preserveWhitespace:!!(h||g),context:l,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!BC.test(b.parentNode.nodeName)?{ignore:!0}:null}})),g)u=PC(Vb(u,+g[1],+g[2]),g[4]);else if(u=ne.maxOpen(HC(u.content,l),!0),u.openStart||u.openEnd){let y=0,b=0;for(let w=u.content.firstChild;y<u.openStart&&!w.type.spec.isolating;y++,w=w.firstChild);for(let w=u.content.lastChild;b<u.openEnd&&!w.type.spec.isolating;b++,w=w.lastChild);u=Vb(u,y,b)}return n.someProp("transformPasted",y=>{u=y(u,n,h)}),u}const BC=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function HC(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let l=e.node(t).contentMatchAt(e.index(t)),a,c=[];if(n.forEach(u=>{if(!c)return;let h=l.findWrapping(u.type),p;if(!h)return c=null;if(p=c.length&&a.length&&cv(h,a,u,c[c.length-1],0))c[c.length-1]=p;else{c.length&&(c[c.length-1]=dv(c[c.length-1],a.length));let g=ov(u,h);c.push(g),l=l.matchType(g.type),a=h}}),c)return W.from(c)}return n}function ov(n,e,t=0){for(let s=e.length-1;s>=t;s--)n=e[s].create(null,W.from(n));return n}function cv(n,e,t,s,l){if(l<n.length&&l<e.length&&n[l]==e[l]){let a=cv(n,e,t,s.lastChild,l+1);if(a)return s.copy(s.content.replaceChild(s.childCount-1,a));if(s.contentMatchAt(s.childCount).matchType(l==n.length-1?t.type:n[l+1]))return s.copy(s.content.append(W.from(ov(t,n,l+1))))}}function dv(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,dv(n.lastChild,e-1)),s=n.contentMatchAt(n.childCount).fillBefore(W.empty,!0);return n.copy(t.append(s))}function Ep(n,e,t,s,l,a){let c=e<0?n.firstChild:n.lastChild,u=c.content;return n.childCount>1&&(a=0),l<s-1&&(u=Ep(u,e,t,s,l+1,a)),l>=t&&(u=e<0?c.contentMatchAt(0).fillBefore(u,a<=l).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(W.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,c.copy(u))}function Vb(n,e,t){return e<n.openStart&&(n=new ne(Ep(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ne(Ep(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const uv={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Pb=null;function fv(){return Pb||(Pb=document.implementation.createHTMLDocument("title"))}let Zh=null;function UC(n){let e=window.trustedTypes;return e?(Zh||(Zh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Zh.createHTML(n)):n}function IC(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=fv().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(n),l;if((l=s&&uv[s[1].toLowerCase()])&&(n=l.map(a=>"<"+a+">").join("")+n+l.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=UC(n),l)for(let a=0;a<l.length;a++)t=t.querySelector(l[a])||t;return t}function VC(n){let e=n.querySelectorAll(Wt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let s=e[t];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),s)}}function PC(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return n}let{content:l,openStart:a,openEnd:c}=n;for(let u=s.length-2;u>=0;u-=2){let h=t.nodes[s[u]];if(!h||h.hasRequiredAttrs())break;l=W.from(h.create(s[u+1],l)),a++,c++}return new ne(l,a,c)}const xn={},yn={},qC={touchstart:!0,touchmove:!0};class $C{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function KC(n){for(let e in xn){let t=xn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=s=>{WC(n,s)&&!pm(n,s)&&(n.editable||!(s.type in yn))&&t(n,s)},qC[e]?{passive:!0}:void 0)}un&&n.dom.addEventListener("input",()=>null),Ap(n)}function Vi(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function GC(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Ap(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=s=>pm(n,s))})}function pm(n,e){return n.someProp("handleDOMEvents",t=>{let s=t[e.type];return s?s(n,e)||e.defaultPrevented:!1})}function WC(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function YC(n,e){!pm(n,e)&&xn[e.type]&&(n.editable||!(e.type in yn))&&xn[e.type](n,e)}yn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!pv(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Qs&&Wt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Bl&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let s=Date.now();n.input.lastIOSEnter=s,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==s&&(n.someProp("handleKeyDown",l=>l(n,vr(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",s=>s(n,t))||_C(n,t)?t.preventDefault():Vi(n,"key")};yn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};yn.keypress=(n,e)=>{let t=e;if(pv(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Xn&&t.metaKey)return;if(n.someProp("handleKeyPress",l=>l(n,t))){t.preventDefault();return}let s=n.state.selection;if(!(s instanceof ye)||!s.$from.sameParent(s.$to)){let l=String.fromCharCode(t.charCode),a=()=>n.state.tr.insertText(l).scrollIntoView();!/[\r\n]/.test(l)&&!n.someProp("handleTextInput",c=>c(n,s.$from.pos,s.$to.pos,l,a))&&n.dispatch(a()),t.preventDefault()}};function su(n){return{left:n.clientX,top:n.clientY}}function ZC(n,e){let t=e.x-n.clientX,s=e.y-n.clientY;return t*t+s*s<100}function mm(n,e,t,s,l){if(s==-1)return!1;let a=n.state.doc.resolve(s);for(let c=a.depth+1;c>0;c--)if(n.someProp(e,u=>c>a.depth?u(n,t,a.nodeAfter,a.before(c),l,!0):u(n,t,a.node(c),a.before(c),l,!1)))return!0;return!1}function Dl(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let s=n.state.tr.setSelection(e);s.setMeta("pointer",!0),n.dispatch(s)}function JC(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),s=t.nodeAfter;return s&&s.isAtom&&xe.isSelectable(s)?(Dl(n,new xe(t)),!0):!1}function QC(n,e){if(e==-1)return!1;let t=n.state.selection,s,l;t instanceof xe&&(s=t.node);let a=n.state.doc.resolve(e);for(let c=a.depth+1;c>0;c--){let u=c>a.depth?a.nodeAfter:a.node(c);if(xe.isSelectable(u)){s&&t.$from.depth>0&&c>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?l=a.before(t.$from.depth):l=a.before(c);break}}return l!=null?(Dl(n,xe.create(n.state.doc,l)),!0):!1}function XC(n,e,t,s,l){return mm(n,"handleClickOn",e,t,s)||n.someProp("handleClick",a=>a(n,e,s))||(l?QC(n,t):JC(n,t))}function FC(n,e,t,s){return mm(n,"handleDoubleClickOn",e,t,s)||n.someProp("handleDoubleClick",l=>l(n,e,s))}function eM(n,e,t,s){return mm(n,"handleTripleClickOn",e,t,s)||n.someProp("handleTripleClick",l=>l(n,e,s))||tM(n,t,s)}function tM(n,e,t){if(t.button!=0)return!1;let s=n.state.doc;if(e==-1)return s.inlineContent?(Dl(n,ye.create(s,0,s.content.size)),!0):!1;let l=s.resolve(e);for(let a=l.depth+1;a>0;a--){let c=a>l.depth?l.nodeAfter:l.node(a),u=l.before(a);if(c.inlineContent)Dl(n,ye.create(s,u+1,u+1+c.content.size));else if(xe.isSelectable(c))Dl(n,xe.create(s,u));else continue;return!0}}function gm(n){return md(n)}const hv=Xn?"metaKey":"ctrlKey";xn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let s=gm(n),l=Date.now(),a="singleClick";l-n.input.lastClick.time<500&&ZC(t,n.input.lastClick)&&!t[hv]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?a="doubleClick":n.input.lastClick.type=="doubleClick"&&(a="tripleClick")),n.input.lastClick={time:l,x:t.clientX,y:t.clientY,type:a,button:t.button};let c=n.posAtCoords(su(t));c&&(a=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new nM(n,c,t,!!s)):(a=="doubleClick"?FC:eM)(n,c.pos,c.inside,t)?t.preventDefault():Vi(n,"pointer"))};class nM{constructor(e,t,s,l){this.view=e,this.pos=t,this.event=s,this.flushed=l,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[hv],this.allowDefault=s.shiftKey;let a,c;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),c=t.inside;else{let g=e.state.doc.resolve(t.pos);a=g.parent,c=g.depth?g.before():0}const u=l?null:s.target,h=u?e.docView.nearestDesc(u,!0):null;this.target=h&&h.nodeDOM.nodeType==1?h.nodeDOM:null;let{selection:p}=e.state;(s.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||p instanceof xe&&p.from<=c&&p.to>c)&&(this.mightDrag={node:a,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&es&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Vi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Fs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(su(e))),this.updateAllowDefault(e),this.allowDefault||!t?Vi(this.view,"pointer"):XC(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||un&&this.mightDrag&&!this.mightDrag.node.isAtom||Wt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Dl(this.view,ve.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Vi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Vi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}xn.touchstart=n=>{n.input.lastTouch=Date.now(),gm(n),Vi(n,"pointer")};xn.touchmove=n=>{n.input.lastTouch=Date.now(),Vi(n,"pointer")};xn.contextmenu=n=>gm(n);function pv(n,e){return n.composing?!0:un&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const sM=Qs?5e3:-1;yn.compositionstart=yn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||Wt&&Kw&&iM(n)))n.markCursor=n.state.storedMarks||t.marks(),md(n,!0),n.markCursor=null;else if(md(n,!e.selection.empty),es&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let s=n.domSelectionRange();for(let l=s.focusNode,a=s.focusOffset;l&&l.nodeType==1&&a!=0;){let c=a<0?l.lastChild:l.childNodes[a-1];if(!c)break;if(c.nodeType==3){let u=n.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else l=c,a=-1}}n.input.composing=!0}mv(n,sM)};function iM(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let s=e.childNodes[t];return s.nodeType==1&&s.contentEditable=="false"}yn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,mv(n,20))};function mv(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>md(n),e))}function gv(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=lM());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function rM(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=QS(e.focusNode,e.focusOffset),s=XS(e.focusNode,e.focusOffset);if(t&&s&&t!=s){let l=s.pmViewDesc,a=n.domObserver.lastChangedTextNode;if(t==a||s==a)return a;if(!l||!l.isText(s.nodeValue))return s;if(n.input.compositionNode==s){let c=t.pmViewDesc;if(!(!c||!c.isText(t.nodeValue)))return s}}return t||s}function lM(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function md(n,e=!1){if(!(Qs&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),gv(n),e||n.docView&&n.docView.dirty){let t=um(n),s=n.state.selection;return t&&!t.eq(s)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function aM(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),l=document.createRange();l.selectNodeContents(e),n.dom.blur(),s.removeAllRanges(),s.addRange(l),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const lo=Cn&&qi<15||Bl&&nC<604;xn.copy=yn.cut=(n,e)=>{let t=e,s=n.state.selection,l=t.type=="cut";if(s.empty)return;let a=lo?null:t.clipboardData,c=s.content(),{dom:u,text:h}=hm(n,c);a?(t.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",h)):aM(n,u),l&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function oM(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function cM(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,s=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let l=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),s.parentNode&&s.parentNode.removeChild(s),t?ao(n,s.value,null,l,e):ao(n,s.textContent,s.innerHTML,l,e)},50)}function ao(n,e,t,s,l){let a=av(n,e,t,s,n.state.selection.$from);if(n.someProp("handlePaste",h=>h(n,l,a||ne.empty)))return!0;if(!a)return!1;let c=oM(a),u=c?n.state.tr.replaceSelectionWith(c,s):n.state.tr.replaceSelection(a);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function xv(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}yn.paste=(n,e)=>{let t=e;if(n.composing&&!Qs)return;let s=lo?null:t.clipboardData,l=n.input.shiftKey&&n.input.lastKeyCode!=45;s&&ao(n,xv(s),s.getData("text/html"),l,t)?t.preventDefault():cM(n,t)};class yv{constructor(e,t,s){this.slice=e,this.move=t,this.node=s}}const dM=Xn?"altKey":"ctrlKey";function bv(n,e){let t=n.someProp("dragCopies",s=>!s(e));return t??!e[dM]}xn.dragstart=(n,e)=>{let t=e,s=n.input.mouseDown;if(s&&s.done(),!t.dataTransfer)return;let l=n.state.selection,a=l.empty?null:n.posAtCoords(su(t)),c;if(!(a&&a.pos>=l.from&&a.pos<=(l instanceof xe?l.to-1:l.to))){if(s&&s.mightDrag)c=xe.create(n.state.doc,s.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(c=xe.create(n.state.doc,y.posBefore))}}let u=(c||n.state.selection).content(),{dom:h,text:p,slice:g}=hm(n,u);(!t.dataTransfer.files.length||!Wt||$w>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(lo?"Text":"text/html",h.innerHTML),t.dataTransfer.effectAllowed="copyMove",lo||t.dataTransfer.setData("text/plain",p),n.dragging=new yv(g,bv(n,t),c)};xn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};yn.dragover=yn.dragenter=(n,e)=>e.preventDefault();yn.drop=(n,e)=>{try{uM(n,e,n.dragging)}finally{n.dragging=null}};function uM(n,e,t){if(!e.dataTransfer)return;let s=n.posAtCoords(su(e));if(!s)return;let l=n.state.doc.resolve(s.pos),a=t&&t.slice;a?n.someProp("transformPasted",w=>{a=w(a,n,!1)}):a=av(n,xv(e.dataTransfer),lo?null:e.dataTransfer.getData("text/html"),!1,l);let c=!!(t&&bv(n,e));if(n.someProp("handleDrop",w=>w(n,e,a||ne.empty,c))){e.preventDefault();return}if(!a)return;e.preventDefault();let u=a?jw(n.state.doc,l.pos,a):l.pos;u==null&&(u=l.pos);let h=n.state.tr;if(c){let{node:w}=t;w?w.replace(h):h.deleteSelection()}let p=h.mapping.map(u),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=h.doc;if(g?h.replaceRangeWith(p,p,a.content.firstChild):h.replaceRange(p,p,a),h.doc.eq(y))return;let b=h.doc.resolve(p);if(g&&xe.isSelectable(a.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new xe(b));else{let w=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((k,z,N,S)=>w=S),h.setSelection(fm(n,b,h.doc.resolve(w)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))}xn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Fs(n)},20))};xn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};xn.beforeinput=(n,e)=>{if(Wt&&Qs&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:s}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=s||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",a=>a(n,vr(8,"Backspace")))))return;let{$cursor:l}=n.state.selection;l&&l.pos>0&&n.dispatch(n.state.tr.delete(l.pos-1,l.pos).scrollIntoView())},50)}};for(let n in yn)xn[n]=yn[n];function oo(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class gd{constructor(e,t){this.toDOM=e,this.spec=t||Tr,this.side=this.spec.side||0}map(e,t,s,l){let{pos:a,deleted:c}=e.mapResult(t.from+l,this.side<0?-1:1);return c?null:new Yt(a-s,a-s,this)}valid(){return!0}eq(e){return this==e||e instanceof gd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&oo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ki{constructor(e,t){this.attrs=e,this.spec=t||Tr}map(e,t,s,l){let a=e.map(t.from+l,this.spec.inclusiveStart?-1:1)-s,c=e.map(t.to+l,this.spec.inclusiveEnd?1:-1)-s;return a>=c?null:new Yt(a,c,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Ki&&oo(this.attrs,e.attrs)&&oo(this.spec,e.spec)}static is(e){return e.type instanceof Ki}destroy(){}}class xm{constructor(e,t){this.attrs=e,this.spec=t||Tr}map(e,t,s,l){let a=e.mapResult(t.from+l,1);if(a.deleted)return null;let c=e.mapResult(t.to+l,-1);return c.deleted||c.pos<=a.pos?null:new Yt(a.pos-s,c.pos-s,this)}valid(e,t){let{index:s,offset:l}=e.content.findIndex(t.from),a;return l==t.from&&!(a=e.child(s)).isText&&l+a.nodeSize==t.to}eq(e){return this==e||e instanceof xm&&oo(this.attrs,e.attrs)&&oo(this.spec,e.spec)}destroy(){}}class Yt{constructor(e,t,s){this.from=e,this.to=t,this.type=s}copy(e,t){return new Yt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,s){return this.type.map(e,this,t,s)}static widget(e,t,s){return new Yt(e,e,new gd(t,s))}static inline(e,t,s,l){return new Yt(e,t,new Ki(s,l))}static node(e,t,s,l){return new Yt(e,t,new xm(s,l))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ki}get widget(){return this.type instanceof gd}}const Ml=[],Tr={};class ct{constructor(e,t){this.local=e.length?e:Ml,this.children=t.length?t:Ml}static create(e,t){return t.length?xd(t,e,0,Tr):dn}find(e,t,s){let l=[];return this.findInner(e??0,t??1e9,l,0,s),l}findInner(e,t,s,l,a){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=t&&u.to>=e&&(!a||a(u.spec))&&s.push(u.copy(u.from+l,u.to+l))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,t-u,s,l+u,a)}}map(e,t,s){return this==dn||e.maps.length==0?this:this.mapInner(e,t,0,0,s||Tr)}mapInner(e,t,s,l,a){let c;for(let u=0;u<this.local.length;u++){let h=this.local[u].map(e,s,l);h&&h.type.valid(t,h)?(c||(c=[])).push(h):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?fM(this.children,c||[],e,t,s,l,a):c?new ct(c.sort(Er),Ml):dn}add(e,t){return t.length?this==dn?ct.create(e,t):this.addInner(e,t,0):this}addInner(e,t,s){let l,a=0;e.forEach((u,h)=>{let p=h+s,g;if(g=vv(t,u,p)){for(l||(l=this.children.slice());a<l.length&&l[a]<h;)a+=3;l[a]==h?l[a+2]=l[a+2].addInner(u,g,p+1):l.splice(a,0,h,h+u.nodeSize,xd(g,u,p+1,Tr)),a+=3}});let c=wv(a?kv(t):t,-s);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new ct(c.length?this.local.concat(c).sort(Er):this.local,l||this.children)}remove(e){return e.length==0||this==dn?this:this.removeInner(e,0)}removeInner(e,t){let s=this.children,l=this.local;for(let a=0;a<s.length;a+=3){let c,u=s[a]+t,h=s[a+1]+t;for(let g=0,y;g<e.length;g++)(y=e[g])&&y.from>u&&y.to<h&&(e[g]=null,(c||(c=[])).push(y));if(!c)continue;s==this.children&&(s=this.children.slice());let p=s[a+2].removeInner(c,u+1);p!=dn?s[a+2]=p:(s.splice(a,3),a-=3)}if(l.length){for(let a=0,c;a<e.length;a++)if(c=e[a])for(let u=0;u<l.length;u++)l[u].eq(c,t)&&(l==this.local&&(l=this.local.slice()),l.splice(u--,1))}return s==this.children&&l==this.local?this:l.length||s.length?new ct(l,s):dn}forChild(e,t){if(this==dn)return this;if(t.isLeaf)return ct.empty;let s,l;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(s=this.children[u+2]);break}let a=e+1,c=a+t.content.size;for(let u=0;u<this.local.length;u++){let h=this.local[u];if(h.from<c&&h.to>a&&h.type instanceof Ki){let p=Math.max(a,h.from)-a,g=Math.min(c,h.to)-a;p<g&&(l||(l=[])).push(h.copy(p,g))}}if(l){let u=new ct(l.sort(Er),Ml);return s?new _i([u,s]):u}return s||dn}eq(e){if(this==e)return!0;if(!(e instanceof ct)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ym(this.localsInner(e))}localsInner(e){if(this==dn)return Ml;if(e.inlineContent||!this.local.some(Ki.is))return this.local;let t=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Ki||t.push(this.local[s]);return t}forEachSet(e){e(this)}}ct.empty=new ct([],[]);ct.removeOverlap=ym;const dn=ct.empty;class _i{constructor(e){this.members=e}map(e,t){const s=this.members.map(l=>l.map(e,t,Tr));return _i.from(s)}forChild(e,t){if(t.isLeaf)return ct.empty;let s=[];for(let l=0;l<this.members.length;l++){let a=this.members[l].forChild(e,t);a!=dn&&(a instanceof _i?s=s.concat(a.members):s.push(a))}return _i.from(s)}eq(e){if(!(e instanceof _i)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,s=!0;for(let l=0;l<this.members.length;l++){let a=this.members[l].localsInner(e);if(a.length)if(!t)t=a;else{s&&(t=t.slice(),s=!1);for(let c=0;c<a.length;c++)t.push(a[c])}}return t?ym(s?t:t.sort(Er)):Ml}static from(e){switch(e.length){case 0:return dn;case 1:return e[0];default:return new _i(e.every(t=>t instanceof ct)?e:e.reduce((t,s)=>t.concat(s instanceof ct?s:s.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function fM(n,e,t,s,l,a,c){let u=n.slice();for(let p=0,g=a;p<t.maps.length;p++){let y=0;t.maps[p].forEach((b,w,k,z)=>{let N=z-k-(w-b);for(let S=0;S<u.length;S+=3){let L=u[S+1];if(L<0||b>L+g-y)continue;let Y=u[S]+g-y;w>=Y?u[S+1]=b<=Y?-2:-1:b>=g&&N&&(u[S]+=N,u[S+1]+=N)}y+=N}),g=t.maps[p].map(g,-1)}let h=!1;for(let p=0;p<u.length;p+=3)if(u[p+1]<0){if(u[p+1]==-2){h=!0,u[p+1]=-1;continue}let g=t.map(n[p]+a),y=g-l;if(y<0||y>=s.content.size){h=!0;continue}let b=t.map(n[p+1]+a,-1),w=b-l,{index:k,offset:z}=s.content.findIndex(y),N=s.maybeChild(k);if(N&&z==y&&z+N.nodeSize==w){let S=u[p+2].mapInner(t,N,g+1,n[p]+a+1,c);S!=dn?(u[p]=y,u[p+1]=w,u[p+2]=S):(u[p+1]=-2,h=!0)}else h=!0}if(h){let p=hM(u,n,e,t,l,a,c),g=xd(p,s,0,c);e=g.local;for(let y=0;y<u.length;y+=3)u[y+1]<0&&(u.splice(y,3),y-=3);for(let y=0,b=0;y<g.children.length;y+=3){let w=g.children[y];for(;b<u.length&&u[b]<w;)b+=3;u.splice(b,0,g.children[y],g.children[y+1],g.children[y+2])}}return new ct(e.sort(Er),u)}function wv(n,e){if(!e||!n.length)return n;let t=[];for(let s=0;s<n.length;s++){let l=n[s];t.push(new Yt(l.from+e,l.to+e,l.type))}return t}function hM(n,e,t,s,l,a,c){function u(h,p){for(let g=0;g<h.local.length;g++){let y=h.local[g].map(s,l,p);y?t.push(y):c.onRemove&&c.onRemove(h.local[g].spec)}for(let g=0;g<h.children.length;g+=3)u(h.children[g+2],h.children[g]+p+1)}for(let h=0;h<n.length;h+=3)n[h+1]==-1&&u(n[h+2],e[h]+a+1);return t}function vv(n,e,t){if(e.isLeaf)return null;let s=t+e.nodeSize,l=null;for(let a=0,c;a<n.length;a++)(c=n[a])&&c.from>t&&c.to<s&&((l||(l=[])).push(c),n[a]=null);return l}function kv(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function xd(n,e,t,s){let l=[],a=!1;e.forEach((u,h)=>{let p=vv(n,u,h+t);if(p){a=!0;let g=xd(p,u,t+h+1,s);g!=dn&&l.push(h,h+u.nodeSize,g)}});let c=wv(a?kv(n):n,-t).sort(Er);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(s.onRemove&&s.onRemove(c[u].spec),c.splice(u--,1));return c.length||l.length?new ct(c,l):dn}function Er(n,e){return n.from-e.from||n.to-e.to}function ym(n){let e=n;for(let t=0;t<e.length-1;t++){let s=e[t];if(s.from!=s.to)for(let l=t+1;l<e.length;l++){let a=e[l];if(a.from==s.from){a.to!=s.to&&(e==n&&(e=n.slice()),e[l]=a.copy(a.from,s.to),qb(e,l+1,a.copy(s.to,a.to)));continue}else{a.from<s.to&&(e==n&&(e=n.slice()),e[t]=s.copy(s.from,a.from),qb(e,l,s.copy(a.from,s.to)));break}}}return e}function qb(n,e,t){for(;e<n.length&&Er(t,n[e])>0;)e++;n.splice(e,0,t)}function Jh(n){let e=[];return n.someProp("decorations",t=>{let s=t(n.state);s&&s!=dn&&e.push(s)}),n.cursorWrapper&&e.push(ct.create(n.state.doc,[n.cursorWrapper.deco])),_i.from(e)}const pM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},mM=Cn&&qi<=11;class gM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class xM{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new gM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let l=0;l<s.length;l++)this.queue.push(s[l]);Cn&&qi<=11&&s.some(l=>l.type=="childList"&&l.removedNodes.length||l.type=="characterData"&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),mM&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,pM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Lb(this.view)){if(this.suppressingSelectionUpdates)return Fs(this.view);if(Cn&&qi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Rr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,s;for(let a=e.focusNode;a;a=_l(a))t.add(a);for(let a=e.anchorNode;a;a=_l(a))if(t.has(a)){s=a;break}let l=s&&this.view.docView.nearestDesc(s);if(l&&l.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let s=e.domSelectionRange(),l=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&Lb(e)&&!this.ignoreSelectionChange(s),a=-1,c=-1,u=!1,h=[];if(e.editable)for(let g=0;g<t.length;g++){let y=this.registerMutation(t[g],h);y&&(a=a<0?y.from:Math.min(y.from,a),c=c<0?y.to:Math.max(y.to,c),y.typeOver&&(u=!0))}if(es&&h.length){let g=h.filter(y=>y.nodeName=="BR");if(g.length==2){let[y,b]=g;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of g){let w=b.parentNode;w&&w.nodeName=="LI"&&(!y||wM(e,y)!=w)&&b.remove()}}}else if((Wt||un)&&h.some(g=>g.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let g of h)if(g.nodeName=="BR"&&g.parentNode){let y=g.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&g.parentNode.removeChild(g)}}let p=null;a<0&&l&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&tu(s)&&(p=um(e))&&p.eq(ve.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Fs(e),this.currentSelection.set(s),e.scrollToSelection()):(a>-1||l)&&(a>-1&&(e.docView.markDirty(a,c),yM(e)),this.handleDOMChange(a,c,u,h),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||Fs(e),this.currentSelection.set(s))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let g=0;g<e.addedNodes.length;g++){let y=e.addedNodes[g];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let l=e.previousSibling,a=e.nextSibling;if(Cn&&qi<=11&&e.addedNodes.length)for(let g=0;g<e.addedNodes.length;g++){let{previousSibling:y,nextSibling:b}=e.addedNodes[g];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(l=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(a=b)}let c=l&&l.parentNode==e.target?rn(l)+1:0,u=s.localPosFromDOM(e.target,c,-1),h=a&&a.parentNode==e.target?rn(a):e.target.childNodes.length,p=s.localPosFromDOM(e.target,h,1);return{from:u,to:p}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let $b=new WeakMap,Kb=!1;function yM(n){if(!$b.has(n)&&($b.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=es,Kb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Kb=!0}}function Gb(n,e){let t=e.startContainer,s=e.startOffset,l=e.endContainer,a=e.endOffset,c=n.domAtPos(n.state.selection.anchor);return Rr(c.node,c.offset,l,a)&&([t,s,l,a]=[l,a,t,s]),{anchorNode:t,anchorOffset:s,focusNode:l,focusOffset:a}}function bM(n,e){if(e.getComposedRanges){let l=e.getComposedRanges(n.root)[0];if(l)return Gb(n,l)}let t;function s(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",s,!0),t?Gb(n,t):null}function wM(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let s=n.docView.nearestDesc(t,!0);if(s&&s.node.isBlock)return t}return null}function vM(n,e,t){let{node:s,fromOffset:l,toOffset:a,from:c,to:u}=n.docView.parseRange(e,t),h=n.domSelectionRange(),p,g=h.anchorNode;if(g&&n.dom.contains(g.nodeType==1?g:g.parentNode)&&(p=[{node:g,offset:h.anchorOffset}],tu(h)||p.push({node:h.focusNode,offset:h.focusOffset})),Wt&&n.input.lastKeyCode===8)for(let N=a;N>l;N--){let S=s.childNodes[N-1],L=S.pmViewDesc;if(S.nodeName=="BR"&&!L){a=N;break}if(!L||L.size)break}let y=n.state.doc,b=n.someProp("domParser")||Pi.fromSchema(n.state.schema),w=y.resolve(c),k=null,z=b.parse(s,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:l,to:a,preserveWhitespace:w.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:kM,context:w});if(p&&p[0].pos!=null){let N=p[0].pos,S=p[1]&&p[1].pos;S==null&&(S=N),k={anchor:N+c,head:S+c}}return{doc:z,sel:k,from:c,to:u}}function kM(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(un&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||un&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const jM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function NM(n,e,t,s,l){let a=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let I=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,ie=um(n,I);if(ie&&!n.state.selection.eq(ie)){if(Wt&&Qs&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",gt=>gt(n,vr(13,"Enter"))))return;let Ne=n.state.tr.setSelection(ie);I=="pointer"?Ne.setMeta("pointer",!0):I=="key"&&Ne.scrollIntoView(),a&&Ne.setMeta("composition",a),n.dispatch(Ne)}return}let c=n.state.doc.resolve(e),u=c.sharedDepth(t);e=c.before(u+1),t=n.state.doc.resolve(t).after(u+1);let h=n.state.selection,p=vM(n,e,t),g=n.state.doc,y=g.slice(p.from,p.to),b,w;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,w="end"):(b=n.state.selection.from,w="start"),n.input.lastKeyCode=null;let k=CM(y.content,p.doc.content,p.from,b,w);if(k&&n.input.domChangeCount++,(Bl&&n.input.lastIOSEnter>Date.now()-225||Qs)&&l.some(I=>I.nodeType==1&&!jM.test(I.nodeName))&&(!k||k.endA>=k.endB)&&n.someProp("handleKeyDown",I=>I(n,vr(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!k)if(s&&h instanceof ye&&!h.empty&&h.$head.sameParent(h.$anchor)&&!n.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))k={start:h.from,endA:h.to,endB:h.to};else{if(p.sel){let I=Wb(n,n.state.doc,p.sel);if(I&&!I.eq(n.state.selection)){let ie=n.state.tr.setSelection(I);a&&ie.setMeta("composition",a),n.dispatch(ie)}}return}n.state.selection.from<n.state.selection.to&&k.start==k.endB&&n.state.selection instanceof ye&&(k.start>n.state.selection.from&&k.start<=n.state.selection.from+2&&n.state.selection.from>=p.from?k.start=n.state.selection.from:k.endA<n.state.selection.to&&k.endA>=n.state.selection.to-2&&n.state.selection.to<=p.to&&(k.endB+=n.state.selection.to-k.endA,k.endA=n.state.selection.to)),Cn&&qi<=11&&k.endB==k.start+1&&k.endA==k.start&&k.start>p.from&&p.doc.textBetween(k.start-p.from-1,k.start-p.from+1)==" "&&(k.start--,k.endA--,k.endB--);let z=p.doc.resolveNoCache(k.start-p.from),N=p.doc.resolveNoCache(k.endB-p.from),S=g.resolve(k.start),L=z.sameParent(N)&&z.parent.inlineContent&&S.end()>=k.endA;if((Bl&&n.input.lastIOSEnter>Date.now()-225&&(!L||l.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!L&&z.pos<p.doc.content.size&&(!z.sameParent(N)||!z.parent.inlineContent)&&z.pos<N.pos&&!/\S/.test(p.doc.textBetween(z.pos,N.pos,"","")))&&n.someProp("handleKeyDown",I=>I(n,vr(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>k.start&&SM(g,k.start,k.endA,z,N)&&n.someProp("handleKeyDown",I=>I(n,vr(8,"Backspace")))){Qs&&Wt&&n.domObserver.suppressSelectionUpdates();return}Wt&&k.endB==k.start&&(n.input.lastChromeDelete=Date.now()),Qs&&!L&&z.start()!=N.start()&&N.parentOffset==0&&z.depth==N.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==k.endA&&(k.endB-=2,N=p.doc.resolveNoCache(k.endB-p.from),setTimeout(()=>{n.someProp("handleKeyDown",function(I){return I(n,vr(13,"Enter"))})},20));let Y=k.start,Q=k.endA,q=I=>{let ie=I||n.state.tr.replace(Y,Q,p.doc.slice(k.start-p.from,k.endB-p.from));if(p.sel){let Ne=Wb(n,ie.doc,p.sel);Ne&&!(Wt&&n.composing&&Ne.empty&&(k.start!=k.endB||n.input.lastChromeDelete<Date.now()-100)&&(Ne.head==Y||Ne.head==ie.mapping.map(Q)-1)||Cn&&Ne.empty&&Ne.head==Y)&&ie.setSelection(Ne)}return a&&ie.setMeta("composition",a),ie.scrollIntoView()},Z;if(L)if(z.pos==N.pos){Cn&&qi<=11&&z.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Fs(n),20));let I=q(n.state.tr.delete(Y,Q)),ie=g.resolve(k.start).marksAcross(g.resolve(k.endA));ie&&I.ensureMarks(ie),n.dispatch(I)}else if(k.endA==k.endB&&(Z=zM(z.parent.content.cut(z.parentOffset,N.parentOffset),S.parent.content.cut(S.parentOffset,k.endA-S.start())))){let I=q(n.state.tr);Z.type=="add"?I.addMark(Y,Q,Z.mark):I.removeMark(Y,Q,Z.mark),n.dispatch(I)}else if(z.parent.child(z.index()).isText&&z.index()==N.index()-(N.textOffset?0:1)){let I=z.parent.textBetween(z.parentOffset,N.parentOffset),ie=()=>q(n.state.tr.insertText(I,Y,Q));n.someProp("handleTextInput",Ne=>Ne(n,Y,Q,I,ie))||n.dispatch(ie())}else n.dispatch(q());else n.dispatch(q())}function Wb(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:fm(n,e.resolve(t.anchor),e.resolve(t.head))}function zM(n,e){let t=n.firstChild.marks,s=e.firstChild.marks,l=t,a=s,c,u,h;for(let g=0;g<s.length;g++)l=s[g].removeFromSet(l);for(let g=0;g<t.length;g++)a=t[g].removeFromSet(a);if(l.length==1&&a.length==0)u=l[0],c="add",h=g=>g.mark(u.addToSet(g.marks));else if(l.length==0&&a.length==1)u=a[0],c="remove",h=g=>g.mark(u.removeFromSet(g.marks));else return null;let p=[];for(let g=0;g<e.childCount;g++)p.push(h(e.child(g)));if(W.from(p).eq(n))return{mark:u,type:c}}function SM(n,e,t,s,l){if(t-e<=l.pos-s.pos||Qh(s,!0,!1)<l.pos)return!1;let a=n.resolve(e);if(!s.parent.isTextblock){let u=a.nodeAfter;return u!=null&&t==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let c=n.resolve(Qh(a,!0,!0));return!c.parent.isTextblock||c.pos>t||Qh(c,!0,!1)<t?!1:s.parent.content.cut(s.parentOffset).eq(c.parent.content)}function Qh(n,e,t){let s=n.depth,l=e?n.end():n.pos;for(;s>0&&(e||n.indexAfter(s)==n.node(s).childCount);)s--,l++,e=!1;if(t){let a=n.node(s).maybeChild(n.indexAfter(s));for(;a&&!a.isLeaf;)a=a.firstChild,l++}return l}function CM(n,e,t,s,l){let a=n.findDiffStart(e,t);if(a==null)return null;let{a:c,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(l=="end"){let h=Math.max(0,a-Math.min(c,u));s-=c+h-a}if(c<a&&n.size<e.size){let h=s<=a&&s>=c?a-s:0;a-=h,a&&a<e.size&&Yb(e.textBetween(a-1,a+1))&&(a+=h?1:-1),u=a+(u-c),c=a}else if(u<a){let h=s<=a&&s>=u?a-s:0;a-=h,a&&a<n.size&&Yb(n.textBetween(a-1,a+1))&&(a+=h?1:-1),c=a+(c-u),u=a}return{start:a,endA:c,endB:u}}function Yb(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class jv{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $C,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Fb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Qb(this),Jb(this),this.nodeViews=Xb(this),this.docView=Tb(this.state.doc,Zb(this),Jh(this),this.dom,this),this.domObserver=new xM(this,(s,l,a,c)=>NM(this,s,l,a,c)),this.domObserver.start(),KC(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ap(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Fb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let s in this._props)t[s]=this._props[s];t.state=this.state;for(let s in e)t[s]=e[s];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var s;let l=this.state,a=!1,c=!1;e.storedMarks&&this.composing&&(gv(this),c=!0),this.state=e;let u=l.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let w=Xb(this);TM(w,this.nodeViews)&&(this.nodeViews=w,a=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&Ap(this),this.editable=Qb(this),Jb(this);let h=Jh(this),p=Zb(this),g=l.plugins!=e.plugins&&!l.doc.eq(e.doc)?"reset":e.scrollToSelection>l.scrollToSelection?"to selection":"preserve",y=a||!this.docView.matchesNode(e.doc,p,h);(y||!e.selection.eq(l.selection))&&(c=!0);let b=g=="preserve"&&c&&this.dom.style.overflowAnchor==null&&rC(this);if(c){this.domObserver.stop();let w=y&&(Cn||Wt)&&!this.composing&&!l.selection.empty&&!e.selection.empty&&MM(l.selection,e.selection);if(y){let k=Wt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=rM(this)),(a||!this.docView.update(e.doc,p,h,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=Tb(e.doc,p,h,this.dom,this)),k&&!this.trackWrites&&(w=!0)}w||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&TC(this))?Fs(this,w):(iv(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(l),!((s=this.dragging)===null||s===void 0)&&s.node&&!l.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,l),g=="reset"?this.dom.scrollTop=0:g=="to selection"?this.scrollToSelection():b&&lC(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof xe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&jb(this,t.getBoundingClientRect(),e)}else jb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let s=this.directPlugins[t];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let s=this.state.plugins[t];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let s=this.pluginViews[t];s.update&&s.update(this,e)}}updateDraggedNode(e,t){let s=e.node,l=-1;if(this.state.doc.nodeAt(s.from)==s.node)l=s.from;else{let a=s.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==s.node&&(l=a)}this.dragging=new yv(e.slice,e.move,l<0?void 0:xe.create(this.state.doc,l))}someProp(e,t){let s=this._props&&this._props[e],l;if(s!=null&&(l=t?t(s):s))return l;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(l=t?t(u):u))return l}let a=this.state.plugins;if(a)for(let c=0;c<a.length;c++){let u=a[c].props[e];if(u!=null&&(l=t?t(u):u))return l}}hasFocus(){if(Cn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&aC(this.dom),Fs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return fC(this,e)}coordsAtPos(e,t=1){return Jw(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,s=-1){let l=this.docView.posFromDOM(e,t,s);if(l==null)throw new RangeError("DOM position not inside the editor");return l}endOfTextblock(e,t){return xC(this,t||this.state,e)}pasteHTML(e,t){return ao(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ao(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return hm(this,e)}destroy(){this.docView&&(GC(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Jh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ZS())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return YC(this,e)}domSelectionRange(){let e=this.domSelection();return e?un&&this.root.nodeType===11&&eC(this.dom.ownerDocument)==this.dom&&bM(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}jv.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function Zb(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let s in t)s=="class"?e.class+=" "+t[s]:s=="style"?e.style=(e.style?e.style+";":"")+t[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(t[s]))}),e.translate||(e.translate="no"),[Yt.node(0,n.state.doc.content.size,e)]}function Jb(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Yt.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Qb(n){return!n.someProp("editable",e=>e(n.state)===!1)}function MM(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Xb(n){let e=Object.create(null);function t(s){for(let l in s)Object.prototype.hasOwnProperty.call(e,l)||(e[l]=s[l])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function TM(n,e){let t=0,s=0;for(let l in n){if(n[l]!=e[l])return!0;t++}for(let l in e)s++;return t!=s}function Fb(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Wi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},yd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},EM=typeof navigator<"u"&&/Mac/.test(navigator.platform),AM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ln=0;ln<10;ln++)Wi[48+ln]=Wi[96+ln]=String(ln);for(var ln=1;ln<=24;ln++)Wi[ln+111]="F"+ln;for(var ln=65;ln<=90;ln++)Wi[ln]=String.fromCharCode(ln+32),yd[ln]=String.fromCharCode(ln);for(var Xh in Wi)yd.hasOwnProperty(Xh)||(yd[Xh]=Wi[Xh]);function OM(n){var e=EM&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||AM&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?yd:Wi)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const DM=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),RM=typeof navigator<"u"&&/Win/.test(navigator.platform);function LM(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let s,l,a,c;for(let u=0;u<e.length-1;u++){let h=e[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))l=!0;else if(/^s(hift)?$/i.test(h))a=!0;else if(/^mod$/i.test(h))DM?c=!0:l=!0;else throw new Error("Unrecognized modifier name: "+h)}return s&&(t="Alt-"+t),l&&(t="Ctrl-"+t),c&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function _M(n){let e=Object.create(null);for(let t in n)e[LM(t)]=n[t];return e}function Fh(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function BM(n){return new mt({props:{handleKeyDown:bm(n)}})}function bm(n){let e=_M(n);return function(t,s){let l=OM(s),a,c=e[Fh(l,s)];if(c&&c(t.state,t.dispatch,t))return!0;if(l.length==1&&l!=" "){if(s.shiftKey){let u=e[Fh(l,s,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(RM&&s.ctrlKey&&s.altKey)&&(a=Wi[s.keyCode])&&a!=l){let u=e[Fh(a,s)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}var HM=Object.defineProperty,wm=(n,e)=>{for(var t in e)HM(n,t,{get:e[t],enumerable:!0})};function iu(n){const{state:e,transaction:t}=n;let{selection:s}=t,{doc:l}=t,{storedMarks:a}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return s},get doc(){return l},get tr(){return s=t.selection,l=t.doc,a=t.storedMarks,t}}}var ru=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:s}=e,{tr:l}=t,a=this.buildProps(l);return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...p)=>{const g=u(...p)(a);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:s,state:l}=this,{view:a}=s,c=[],u=!!n,h=n||l.tr,p=()=>(!u&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),c.every(y=>y===!0)),g={...Object.fromEntries(Object.entries(t).map(([y,b])=>[y,(...k)=>{const z=this.buildProps(h,e),N=b(...k)(z);return c.push(N),g}])),run:p};return g}createCan(n){const{rawCommands:e,state:t}=this,s=!1,l=n||t.tr,a=this.buildProps(l,s);return{...Object.fromEntries(Object.entries(e).map(([u,h])=>[u,(...p)=>h(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(l,s)}}buildProps(n,e=!0){const{rawCommands:t,editor:s,state:l}=this,{view:a}=s,c={tr:n,editor:s,view:a,state:iu({state:l,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([u,h])=>[u,(...p)=>h(...p)(c)]))}};return c}},Nv={};wm(Nv,{blur:()=>UM,clearContent:()=>IM,clearNodes:()=>VM,command:()=>PM,createParagraphNear:()=>qM,cut:()=>$M,deleteCurrentNode:()=>KM,deleteNode:()=>GM,deleteRange:()=>WM,deleteSelection:()=>YM,enter:()=>ZM,exitCode:()=>JM,extendMarkRange:()=>QM,first:()=>XM,focus:()=>eT,forEach:()=>tT,insertContent:()=>nT,insertContentAt:()=>rT,joinBackward:()=>oT,joinDown:()=>aT,joinForward:()=>cT,joinItemBackward:()=>dT,joinItemForward:()=>uT,joinTextblockBackward:()=>fT,joinTextblockForward:()=>hT,joinUp:()=>lT,keyboardShortcut:()=>mT,lift:()=>gT,liftEmptyBlock:()=>xT,liftListItem:()=>yT,newlineInCode:()=>bT,resetAttributes:()=>wT,scrollIntoView:()=>vT,selectAll:()=>kT,selectNodeBackward:()=>jT,selectNodeForward:()=>NT,selectParentNode:()=>zT,selectTextblockEnd:()=>ST,selectTextblockStart:()=>CT,setContent:()=>MT,setMark:()=>WT,setMeta:()=>YT,setNode:()=>ZT,setNodeSelection:()=>JT,setTextDirection:()=>QT,setTextSelection:()=>XT,sinkListItem:()=>FT,splitBlock:()=>eE,splitListItem:()=>tE,toggleList:()=>nE,toggleMark:()=>sE,toggleNode:()=>iE,toggleWrap:()=>rE,undoInputRule:()=>lE,unsetAllMarks:()=>aE,unsetMark:()=>oE,unsetTextDirection:()=>cE,updateAttributes:()=>dE,wrapIn:()=>uE,wrapInList:()=>fE});var UM=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())==null||t.removeAllRanges())}),!0),IM=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),VM=()=>({state:n,tr:e,dispatch:t})=>{const{selection:s}=e,{ranges:l}=s;return t&&l.forEach(({$from:a,$to:c})=>{n.doc.nodesBetween(a.pos,c.pos,(u,h)=>{if(u.type.isText)return;const{doc:p,mapping:g}=e,y=p.resolve(g.map(h)),b=p.resolve(g.map(h+u.nodeSize)),w=y.blockRange(b);if(!w)return;const k=Vl(w);if(u.type.isTextblock){const{defaultType:z}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(w.start,z)}(k||k===0)&&e.lift(w,k)})}),!0},PM=n=>e=>n(e),qM=()=>({state:n,dispatch:e})=>Uw(n,e),$M=(n,e)=>({editor:t,tr:s})=>{const{state:l}=t,a=l.doc.slice(n.from,n.to);s.deleteRange(n.from,n.to);const c=s.mapping.map(e);return s.insert(c,a.content),s.setSelection(new ye(s.doc.resolve(Math.max(c-1,0)))),!0},KM=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,s=t.$anchor.node();if(s.content.size>0)return!1;const l=n.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===s.type){if(e){const u=l.before(a),h=l.after(a);n.delete(u,h).scrollIntoView()}return!0}return!1};function Ut(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}var GM=n=>({tr:e,state:t,dispatch:s})=>{const l=Ut(n,t.schema),a=e.selection.$anchor;for(let c=a.depth;c>0;c-=1)if(a.node(c).type===l){if(s){const h=a.before(c),p=a.after(c);e.delete(h,p).scrollIntoView()}return!0}return!1},WM=n=>({tr:e,dispatch:t})=>{const{from:s,to:l}=n;return t&&e.delete(s,l),!0},YM=()=>({state:n,dispatch:e})=>rm(n,e),ZM=()=>({commands:n})=>n.keyboardShortcut("Enter"),JM=()=>({state:n,dispatch:e})=>RS(n,e);function vm(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function bd(n,e,t={strict:!0}){const s=Object.keys(e);return s.length?s.every(l=>t.strict?e[l]===n[l]:vm(e[l])?e[l].test(n[l]):e[l]===n[l]):!0}function zv(n,e,t={}){return n.find(s=>s.type===e&&bd(Object.fromEntries(Object.keys(t).map(l=>[l,s.attrs[l]])),t))}function e1(n,e,t={}){return!!zv(n,e,t)}function km(n,e,t){var s;if(!n||!e)return;let l=n.parent.childAfter(n.parentOffset);if((!l.node||!l.node.marks.some(g=>g.type===e))&&(l=n.parent.childBefore(n.parentOffset)),!l.node||!l.node.marks.some(g=>g.type===e)||(t=t||((s=l.node.marks[0])==null?void 0:s.attrs),!zv([...l.node.marks],e,t)))return;let c=l.index,u=n.start()+l.offset,h=c+1,p=u+l.node.nodeSize;for(;c>0&&e1([...n.parent.child(c-1).marks],e,t);)c-=1,u-=n.parent.child(c).nodeSize;for(;h<n.parent.childCount&&e1([...n.parent.child(h).marks],e,t);)p+=n.parent.child(h).nodeSize,h+=1;return{from:u,to:p}}function ei(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}var QM=(n,e={})=>({tr:t,state:s,dispatch:l})=>{const a=ei(n,s.schema),{doc:c,selection:u}=t,{$from:h,from:p,to:g}=u;if(l){const y=km(h,a,e);if(y&&y.from<=p&&y.to>=g){const b=ye.create(c,y.from,y.to);t.setSelection(b)}}return!0},XM=n=>e=>{const t=typeof n=="function"?n(e):n;for(let s=0;s<t.length;s+=1)if(t[s](e))return!0;return!1};function Sv(n){return n instanceof ye}function zr(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Cv(n,e=null){if(!e)return null;const t=ve.atStart(n),s=ve.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return s;const l=t.from,a=s.to;return e==="all"?ye.create(n,zr(0,l,a),zr(n.content.size,l,a)):ye.create(n,zr(e,l,a),zr(e,l,a))}function FM(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function jm(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var eT=(n=null,e={})=>({editor:t,view:s,tr:l,dispatch:a})=>{e={scrollIntoView:!0,...e};const c=()=>{(jm()||FM())&&s.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(s.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(s.hasFocus()&&n===null||n===!1)return!0;if(a&&n===null&&!Sv(t.state.selection))return c(),!0;const u=Cv(l.doc,n)||t.state.selection,h=t.state.selection.eq(u);return a&&(h||l.setSelection(u),h&&l.storedMarks&&l.setStoredMarks(l.storedMarks),c()),!0},tT=(n,e)=>t=>n.every((s,l)=>e(s,{...t,index:l})),nT=(n,e)=>({tr:t,commands:s})=>s.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Mv=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const s=e[t];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?n.removeChild(s):s.nodeType===1&&Mv(s)}return n};function Uc(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Mv(t)}function co(n,e,t){if(n instanceof us||n instanceof W)return n;t={slice:!0,parseOptions:{},...t};const s=typeof n=="object"&&n!==null,l=typeof n=="string";if(s)try{if(Array.isArray(n)&&n.length>0)return W.fromArray(n.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(n);return t.errorOnInvalidContent&&c.check(),c}catch(a){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",a),co("",e,t)}if(l){if(t.errorOnInvalidContent){let c=!1,u="";const h=new fw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(c=!0,u=typeof p=="string"?p:p.outerHTML,null)}]}})});if(t.slice?Pi.fromSchema(h).parseSlice(Uc(n),t.parseOptions):Pi.fromSchema(h).parse(Uc(n),t.parseOptions),t.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const a=Pi.fromSchema(e);return t.slice?a.parseSlice(Uc(n),t.parseOptions).content:a.parse(Uc(n),t.parseOptions)}return co("",e,t)}function sT(n,e,t){const s=n.steps.length-1;if(s<e)return;const l=n.steps[s];if(!(l instanceof Gt||l instanceof Zt))return;const a=n.mapping.maps[s];let c=0;a.forEach((u,h,p,g)=>{c===0&&(c=g)}),n.setSelection(ve.near(n.doc.resolve(c),t))}var iT=n=>!("type"in n),rT=(n,e,t)=>({tr:s,dispatch:l,editor:a})=>{var c;if(l){t={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;const h=N=>{a.emit("contentError",{editor:a,error:N,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{co(e,a.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(N){h(N)}try{u=co(e,a.schema,{parseOptions:p,errorOnInvalidContent:(c=t.errorOnInvalidContent)!=null?c:a.options.enableContentCheck})}catch(N){return h(N),!1}let{from:g,to:y}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,w=!0;if((iT(u)?u:[u]).forEach(N=>{N.check(),b=b?N.isText&&N.marks.length===0:!1,w=w?N.isBlock:!1}),g===y&&w){const{parent:N}=s.doc.resolve(g);N.isTextblock&&!N.type.spec.code&&!N.childCount&&(g-=1,y+=1)}let z;if(b){if(Array.isArray(e))z=e.map(N=>N.text||"").join("");else if(e instanceof W){let N="";e.forEach(S=>{S.text&&(N+=S.text)}),z=N}else typeof e=="object"&&e&&e.text?z=e.text:z=e;s.insertText(z,g,y)}else{z=u;const N=s.doc.resolve(g),S=N.node(),L=N.parentOffset===0,Y=S.isText||S.isTextblock,Q=S.content.size>0;L&&Y&&Q&&(g=Math.max(0,g-1)),s.replaceWith(g,y,z)}t.updateSelection&&sT(s,s.steps.length-1,-1),t.applyInputRules&&s.setMeta("applyInputRules",{from:g,text:z}),t.applyPasteRules&&s.setMeta("applyPasteRules",{from:g,text:z})}return!0},lT=()=>({state:n,dispatch:e})=>AS(n,e),aT=()=>({state:n,dispatch:e})=>OS(n,e),oT=()=>({state:n,dispatch:e})=>Ow(n,e),cT=()=>({state:n,dispatch:e})=>_w(n,e),dT=()=>({state:n,dispatch:e,tr:t})=>{try{const s=Xd(n.doc,n.selection.$from.pos,-1);return s==null?!1:(t.join(s,2),e&&e(t),!0)}catch{return!1}},uT=()=>({state:n,dispatch:e,tr:t})=>{try{const s=Xd(n.doc,n.selection.$from.pos,1);return s==null?!1:(t.join(s,2),e&&e(t),!0)}catch{return!1}},fT=()=>({state:n,dispatch:e})=>TS(n,e),hT=()=>({state:n,dispatch:e})=>ES(n,e);function Tv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function pT(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let s,l,a,c;for(let u=0;u<e.length-1;u+=1){const h=e[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))l=!0;else if(/^s(hift)?$/i.test(h))a=!0;else if(/^mod$/i.test(h))jm()||Tv()?c=!0:l=!0;else throw new Error(`Unrecognized modifier name: ${h}`)}return s&&(t=`Alt-${t}`),l&&(t=`Ctrl-${t}`),c&&(t=`Meta-${t}`),a&&(t=`Shift-${t}`),t}var mT=n=>({editor:e,view:t,tr:s,dispatch:l})=>{const a=pT(n).split(/-(?!$)/),c=a.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),h=e.captureTransaction(()=>{t.someProp("handleKeyDown",p=>p(t,u))});return h==null||h.steps.forEach(p=>{const g=p.map(s.mapping);g&&l&&s.maybeStep(g)}),!0};function Yi(n,e,t={}){const{from:s,to:l,empty:a}=n.selection,c=e?Ut(e,n.schema):null,u=[];n.doc.nodesBetween(s,l,(y,b)=>{if(y.isText)return;const w=Math.max(s,b),k=Math.min(l,b+y.nodeSize);u.push({node:y,from:w,to:k})});const h=l-s,p=u.filter(y=>c?c.name===y.node.type.name:!0).filter(y=>bd(y.node.attrs,t,{strict:!1}));return a?!!p.length:p.reduce((y,b)=>y+b.to-b.from,0)>=h}var gT=(n,e={})=>({state:t,dispatch:s})=>{const l=Ut(n,t.schema);return Yi(t,l,e)?DS(t,s):!1},xT=()=>({state:n,dispatch:e})=>Iw(n,e),yT=n=>({state:e,dispatch:t})=>{const s=Ut(n,e.schema);return KS(s)(e,t)},bT=()=>({state:n,dispatch:e})=>Hw(n,e);function lu(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function t1(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((s,l)=>(t.includes(l)||(s[l]=n[l]),s),{})}var wT=(n,e)=>({tr:t,state:s,dispatch:l})=>{let a=null,c=null;const u=lu(typeof n=="string"?n:n.name,s.schema);if(!u)return!1;u==="node"&&(a=Ut(n,s.schema)),u==="mark"&&(c=ei(n,s.schema));let h=!1;return t.selection.ranges.forEach(p=>{s.doc.nodesBetween(p.$from.pos,p.$to.pos,(g,y)=>{a&&a===g.type&&(h=!0,l&&t.setNodeMarkup(y,void 0,t1(g.attrs,e))),c&&g.marks.length&&g.marks.forEach(b=>{c===b.type&&(h=!0,l&&t.addMark(y,y+g.nodeSize,c.create(t1(b.attrs,e))))})})}),h},vT=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),kT=()=>({tr:n,dispatch:e})=>{if(e){const t=new Un(n.doc);n.setSelection(t)}return!0},jT=()=>({state:n,dispatch:e})=>Rw(n,e),NT=()=>({state:n,dispatch:e})=>Bw(n,e),zT=()=>({state:n,dispatch:e})=>BS(n,e),ST=()=>({state:n,dispatch:e})=>IS(n,e),CT=()=>({state:n,dispatch:e})=>US(n,e);function Op(n,e,t={},s={}){return co(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:s.errorOnInvalidContent})}var MT=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:s={}}={})=>({editor:l,tr:a,dispatch:c,commands:u})=>{const{doc:h}=a;if(s.preserveWhitespace!=="full"){const p=Op(n,l.schema,s,{errorOnInvalidContent:e??l.options.enableContentCheck});return c&&a.replaceWith(0,h.content.size,p).setMeta("preventUpdate",!t),!0}return c&&a.setMeta("preventUpdate",!t),u.insertContentAt({from:0,to:h.content.size},n,{parseOptions:s,errorOnInvalidContent:e??l.options.enableContentCheck})};function Ev(n,e){const t=ei(e,n.schema),{from:s,to:l,empty:a}=n.selection,c=[];a?(n.storedMarks&&c.push(...n.storedMarks),c.push(...n.selection.$head.marks())):n.doc.nodesBetween(s,l,h=>{c.push(...h.marks)});const u=c.find(h=>h.type.name===t.name);return u?{...u.attrs}:{}}function Av(n,e){const t=new sm(n);return e.forEach(s=>{s.steps.forEach(l=>{t.step(l)})}),t}function TT(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function ET(n,e,t){const s=[];return n.nodesBetween(e.from,e.to,(l,a)=>{t(l)&&s.push({node:l,pos:a})}),s}function Ov(n,e){for(let t=n.depth;t>0;t-=1){const s=n.node(t);if(e(s))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:s}}}function au(n){return e=>Ov(e.$from,n)}function me(n,e,t){return n.config[e]===void 0&&n.parent?me(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?me(n.parent,e,t):null}):n.config[e]}function Nm(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},s=me(e,"addExtensions",t);return s?[e,...Nm(s())]:e}).flat(10)}function zm(n,e){const t=Ur.fromSchema(e).serializeFragment(n),l=document.implementation.createHTMLDocument().createElement("div");return l.appendChild(t),l.innerHTML}function Dv(n){return typeof n=="function"}function Je(n,e=void 0,...t){return Dv(n)?e?n.bind(e)(...t):n(...t):n}function AT(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Hl(n){const e=n.filter(l=>l.type==="extension"),t=n.filter(l=>l.type==="node"),s=n.filter(l=>l.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:s}}function Rv(n){const e=[],{nodeExtensions:t,markExtensions:s}=Hl(n),l=[...t,...s],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:l},h=me(c,"addGlobalAttributes",u);if(!h)return;h().forEach(g=>{g.types.forEach(y=>{Object.entries(g.attributes).forEach(([b,w])=>{e.push({type:y,name:b,attribute:{...a,...w}})})})})}),l.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},h=me(c,"addAttributes",u);if(!h)return;const p=h();Object.entries(p).forEach(([g,y])=>{const b={...a,...y};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:c.name,name:g,attribute:b})})}),e}function pt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const s={...e};return Object.entries(t).forEach(([l,a])=>{if(!s[l]){s[l]=a;return}if(l==="class"){const u=a?String(a).split(" "):[],h=s[l]?s[l].split(" "):[],p=u.filter(g=>!h.includes(g));s[l]=[...h,...p].join(" ")}else if(l==="style"){const u=a?a.split(";").map(g=>g.trim()).filter(Boolean):[],h=s[l]?s[l].split(";").map(g=>g.trim()).filter(Boolean):[],p=new Map;h.forEach(g=>{const[y,b]=g.split(":").map(w=>w.trim());p.set(y,b)}),u.forEach(g=>{const[y,b]=g.split(":").map(w=>w.trim());p.set(y,b)}),s[l]=Array.from(p.entries()).map(([g,y])=>`${g}: ${y}`).join("; ")}else s[l]=a}),s},{})}function wd(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,s)=>pt(t,s),{})}function OT(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function n1(n,e){return"style"in n?n:{...n,getAttrs:t=>{const s=n.getAttrs?n.getAttrs(t):n.attrs;if(s===!1)return!1;const l=e.reduce((a,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(t):OT(t.getAttribute(c.name));return u==null?a:{...a,[c.name]:u}},{});return{...s,...l}}}}function s1(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&AT(t)?!1:t!=null))}function i1(n){var e,t;const s={};return!((e=n==null?void 0:n.attribute)!=null&&e.isRequired)&&"default"in((n==null?void 0:n.attribute)||{})&&(s.default=n.attribute.default),((t=n==null?void 0:n.attribute)==null?void 0:t.validate)!==void 0&&(s.validate=n.attribute.validate),[n.name,s]}function DT(n,e){var t;const s=Rv(n),{nodeExtensions:l,markExtensions:a}=Hl(n),c=(t=l.find(p=>me(p,"topNode")))==null?void 0:t.name,u=Object.fromEntries(l.map(p=>{const g=s.filter(S=>S.type===p.name),y={name:p.name,options:p.options,storage:p.storage,editor:e},b=n.reduce((S,L)=>{const Y=me(L,"extendNodeSchema",y);return{...S,...Y?Y(p):{}}},{}),w=s1({...b,content:Je(me(p,"content",y)),marks:Je(me(p,"marks",y)),group:Je(me(p,"group",y)),inline:Je(me(p,"inline",y)),atom:Je(me(p,"atom",y)),selectable:Je(me(p,"selectable",y)),draggable:Je(me(p,"draggable",y)),code:Je(me(p,"code",y)),whitespace:Je(me(p,"whitespace",y)),linebreakReplacement:Je(me(p,"linebreakReplacement",y)),defining:Je(me(p,"defining",y)),isolating:Je(me(p,"isolating",y)),attrs:Object.fromEntries(g.map(i1))}),k=Je(me(p,"parseHTML",y));k&&(w.parseDOM=k.map(S=>n1(S,g)));const z=me(p,"renderHTML",y);z&&(w.toDOM=S=>z({node:S,HTMLAttributes:wd(S,g)}));const N=me(p,"renderText",y);return N&&(w.toText=N),[p.name,w]})),h=Object.fromEntries(a.map(p=>{const g=s.filter(N=>N.type===p.name),y={name:p.name,options:p.options,storage:p.storage,editor:e},b=n.reduce((N,S)=>{const L=me(S,"extendMarkSchema",y);return{...N,...L?L(p):{}}},{}),w=s1({...b,inclusive:Je(me(p,"inclusive",y)),excludes:Je(me(p,"excludes",y)),group:Je(me(p,"group",y)),spanning:Je(me(p,"spanning",y)),code:Je(me(p,"code",y)),attrs:Object.fromEntries(g.map(i1))}),k=Je(me(p,"parseHTML",y));k&&(w.parseDOM=k.map(N=>n1(N,g)));const z=me(p,"renderHTML",y);return z&&(w.toDOM=N=>z({mark:N,HTMLAttributes:wd(N,g)})),[p.name,w]}));return new fw({topNode:c,nodes:u,marks:h})}function RT(n){const e=n.filter((t,s)=>n.indexOf(t)!==s);return Array.from(new Set(e))}function Sm(n){return n.sort((t,s)=>{const l=me(t,"priority")||100,a=me(s,"priority")||100;return l>a?-1:l<a?1:0})}function Lv(n){const e=Sm(Nm(n)),t=RT(e.map(s=>s.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),e}function _v(n,e,t){const{from:s,to:l}=e,{blockSeparator:a=`

`,textSerializers:c={}}=t||{};let u="";return n.nodesBetween(s,l,(h,p,g,y)=>{var b;h.isBlock&&p>s&&(u+=a);const w=c==null?void 0:c[h.type.name];if(w)return g&&(u+=w({node:h,pos:p,parent:g,index:y,range:e})),!1;h.isText&&(u+=(b=h==null?void 0:h.text)==null?void 0:b.slice(Math.max(s,p)-p,l-p))}),u}function LT(n,e){const t={from:0,to:n.content.size};return _v(n,t,e)}function Bv(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function _T(n,e){const t=Ut(e,n.schema),{from:s,to:l}=n.selection,a=[];n.doc.nodesBetween(s,l,u=>{a.push(u)});const c=a.reverse().find(u=>u.type.name===t.name);return c?{...c.attrs}:{}}function Hv(n,e){const t=lu(typeof e=="string"?e:e.name,n.schema);return t==="node"?_T(n,e):t==="mark"?Ev(n,e):{}}function BT(n,e=JSON.stringify){const t={};return n.filter(s=>{const l=e(s);return Object.prototype.hasOwnProperty.call(t,l)?!1:t[l]=!0})}function HT(n){const e=BT(n);return e.length===1?e:e.filter((t,s)=>!e.filter((a,c)=>c!==s).some(a=>t.oldRange.from>=a.oldRange.from&&t.oldRange.to<=a.oldRange.to&&t.newRange.from>=a.newRange.from&&t.newRange.to<=a.newRange.to))}function Uv(n){const{mapping:e,steps:t}=n,s=[];return e.maps.forEach((l,a)=>{const c=[];if(l.ranges.length)l.forEach((u,h)=>{c.push({from:u,to:h})});else{const{from:u,to:h}=t[a];if(u===void 0||h===void 0)return;c.push({from:u,to:h})}c.forEach(({from:u,to:h})=>{const p=e.slice(a).map(u,-1),g=e.slice(a).map(h),y=e.invert().map(p,-1),b=e.invert().map(g);s.push({oldRange:{from:y,to:b},newRange:{from:p,to:g}})})}),HT(s)}function Cm(n,e,t){const s=[];return n===e?t.resolve(n).marks().forEach(l=>{const a=t.resolve(n),c=km(a,l.type);c&&s.push({mark:l,...c})}):t.nodesBetween(n,e,(l,a)=>{!l||(l==null?void 0:l.nodeSize)===void 0||s.push(...l.marks.map(c=>({from:a,to:a+l.nodeSize,mark:c})))}),s}var UT=(n,e,t,s=20)=>{const l=n.doc.resolve(t);let a=s,c=null;for(;a>0&&c===null;){const u=l.node(a);(u==null?void 0:u.type.name)===e?c=u:a-=1}return[c,a]};function ep(n,e){return e.nodes[n]||e.marks[n]||null}function nd(n,e,t){return Object.fromEntries(Object.entries(t).filter(([s])=>{const l=n.find(a=>a.type===e&&a.name===s);return l?l.attribute.keepOnSplit:!1}))}var IT=(n,e=500)=>{let t="";const s=n.parentOffset;return n.parent.nodesBetween(Math.max(0,s-e),s,(l,a,c,u)=>{var h,p;const g=((p=(h=l.type.spec).toText)==null?void 0:p.call(h,{node:l,pos:a,parent:c,index:u}))||l.textContent||"%leaf%";t+=l.isAtom&&!l.isText?g:g.slice(0,Math.max(0,s-a))}),t};function Dp(n,e,t={}){const{empty:s,ranges:l}=n.selection,a=e?ei(e,n.schema):null;if(s)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>a?a.name===y.type.name:!0).find(y=>bd(y.attrs,t,{strict:!1}));let c=0;const u=[];if(l.forEach(({$from:y,$to:b})=>{const w=y.pos,k=b.pos;n.doc.nodesBetween(w,k,(z,N)=>{if(!z.isText&&!z.marks.length)return;const S=Math.max(w,N),L=Math.min(k,N+z.nodeSize),Y=L-S;c+=Y,u.push(...z.marks.map(Q=>({mark:Q,from:S,to:L})))})}),c===0)return!1;const h=u.filter(y=>a?a.name===y.mark.type.name:!0).filter(y=>bd(y.mark.attrs,t,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),p=u.filter(y=>a?y.mark.type!==a&&y.mark.type.excludes(a):!0).reduce((y,b)=>y+b.to-b.from,0);return(h>0?h+p:h)>=c}function VT(n,e,t={}){if(!e)return Yi(n,null,t)||Dp(n,null,t);const s=lu(e,n.schema);return s==="node"?Yi(n,e,t):s==="mark"?Dp(n,e,t):!1}var PT=(n,e)=>{const{$from:t,$to:s,$anchor:l}=n.selection;if(e){const a=au(u=>u.type.name===e)(n.selection);if(!a)return!1;const c=n.doc.resolve(a.pos+1);return l.pos+1===c.end()}return!(s.parentOffset<s.parent.nodeSize-2||t.pos!==s.pos)},qT=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function r1(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function l1(n,e){const{nodeExtensions:t}=Hl(e),s=t.find(c=>c.name===n);if(!s)return!1;const l={name:s.name,options:s.options,storage:s.storage},a=Je(me(s,"group",l));return typeof a!="string"?!1:a.split(" ").includes("list")}function ou(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var s;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((s=n.text)!=null?s:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let l=!0;return n.content.forEach(a=>{l!==!1&&(ou(a,{ignoreWhitespace:t,checkChildren:e})||(l=!1))}),l}return!1}function Iv(n){return n instanceof xe}var Vv=class Pv{constructor(e){this.position=e}static fromJSON(e){return new Pv(e.position)}toJSON(){return{position:this.position}}};function $T(n,e){const t=e.mapping.mapResult(n.position);return{position:new Vv(t.pos),mapResult:t}}function KT(n){return new Vv(n)}function GT(n,e,t){var s;const{selection:l}=e;let a=null;if(Sv(l)&&(a=l.$cursor),a){const u=(s=n.storedMarks)!=null?s:a.marks();return a.parent.type.allowsMarkType(t)&&(!!t.isInSet(u)||!u.some(p=>p.type.excludes(t)))}const{ranges:c}=l;return c.some(({$from:u,$to:h})=>{let p=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,h.pos,(g,y,b)=>{if(p)return!1;if(g.isInline){const w=!b||b.type.allowsMarkType(t),k=!!t.isInSet(g.marks)||!g.marks.some(z=>z.type.excludes(t));p=w&&k}return!p}),p})}var WT=(n,e={})=>({tr:t,state:s,dispatch:l})=>{const{selection:a}=t,{empty:c,ranges:u}=a,h=ei(n,s.schema);if(l)if(c){const p=Ev(s,h);t.addStoredMark(h.create({...p,...e}))}else u.forEach(p=>{const g=p.$from.pos,y=p.$to.pos;s.doc.nodesBetween(g,y,(b,w)=>{const k=Math.max(w,g),z=Math.min(w+b.nodeSize,y);b.marks.find(S=>S.type===h)?b.marks.forEach(S=>{h===S.type&&t.addMark(k,z,h.create({...S.attrs,...e}))}):t.addMark(k,z,h.create(e))})});return GT(s,t,h)},YT=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),ZT=(n,e={})=>({state:t,dispatch:s,chain:l})=>{const a=Ut(n,t.schema);let c;return t.selection.$anchor.sameParent(t.selection.$head)&&(c=t.selection.$anchor.parent.attrs),a.isTextblock?l().command(({commands:u})=>wb(a,{...c,...e})(t)?!0:u.clearNodes()).command(({state:u})=>wb(a,{...c,...e})(u,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},JT=n=>({tr:e,dispatch:t})=>{if(t){const{doc:s}=e,l=zr(n,0,s.content.size),a=xe.create(s,l);e.setSelection(a)}return!0},QT=(n,e)=>({tr:t,state:s,dispatch:l})=>{const{selection:a}=s;let c,u;return typeof e=="number"?(c=e,u=e):e&&"from"in e&&"to"in e?(c=e.from,u=e.to):(c=a.from,u=a.to),l&&t.doc.nodesBetween(c,u,(h,p)=>{h.isText||t.setNodeMarkup(p,void 0,{...h.attrs,dir:n})}),!0},XT=n=>({tr:e,dispatch:t})=>{if(t){const{doc:s}=e,{from:l,to:a}=typeof n=="number"?{from:n,to:n}:n,c=ye.atStart(s).from,u=ye.atEnd(s).to,h=zr(l,c,u),p=zr(a,c,u),g=ye.create(s,h,p);e.setSelection(g)}return!0},FT=n=>({state:e,dispatch:t})=>{const s=Ut(n,e.schema);return YS(s)(e,t)};function a1(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const s=t.filter(l=>e==null?void 0:e.includes(l.type.name));n.tr.ensureMarks(s)}}var eE=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:s,editor:l})=>{const{selection:a,doc:c}=e,{$from:u,$to:h}=a,p=l.extensionManager.attributes,g=nd(p,u.node().type.name,u.node().attrs);if(a instanceof xe&&a.node.isBlock)return!u.parentOffset||!Xs(c,u.pos)?!1:(s&&(n&&a1(t,l.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const y=h.parentOffset===h.parent.content.size,b=u.depth===0?void 0:TT(u.node(-1).contentMatchAt(u.indexAfter(-1)));let w=y&&b?[{type:b,attrs:g}]:void 0,k=Xs(e.doc,e.mapping.map(u.pos),1,w);if(!w&&!k&&Xs(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(k=!0,w=b?[{type:b,attrs:g}]:void 0),s){if(k&&(a instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,w),b&&!y&&!u.parentOffset&&u.parent.type!==b)){const z=e.mapping.map(u.before()),N=e.doc.resolve(z);u.node(-1).canReplaceWith(N.index(),N.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}n&&a1(t,l.extensionManager.splittableMarks),e.scrollIntoView()}return k},tE=(n,e={})=>({tr:t,state:s,dispatch:l,editor:a})=>{var c;const u=Ut(n,s.schema),{$from:h,$to:p}=s.selection,g=s.selection.node;if(g&&g.isBlock||h.depth<2||!h.sameParent(p))return!1;const y=h.node(-1);if(y.type!==u)return!1;const b=a.extensionManager.attributes;if(h.parent.content.size===0&&h.node(-1).childCount===h.indexAfter(-1)){if(h.depth===2||h.node(-3).type!==u||h.index(-2)!==h.node(-2).childCount-1)return!1;if(l){let S=W.empty;const L=h.index(-1)?1:h.index(-2)?2:3;for(let ie=h.depth-L;ie>=h.depth-3;ie-=1)S=W.from(h.node(ie).copy(S));const Y=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,Q={...nd(b,h.node().type.name,h.node().attrs),...e},q=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(Q))||void 0;S=S.append(W.from(u.createAndFill(null,q)||void 0));const Z=h.before(h.depth-(L-1));t.replace(Z,h.after(-Y),new ne(S,4-L,0));let I=-1;t.doc.nodesBetween(Z,t.doc.content.size,(ie,Ne)=>{if(I>-1)return!1;ie.isTextblock&&ie.content.size===0&&(I=Ne+1)}),I>-1&&t.setSelection(ye.near(t.doc.resolve(I))),t.scrollIntoView()}return!0}const w=p.pos===h.end()?y.contentMatchAt(0).defaultType:null,k={...nd(b,y.type.name,y.attrs),...e},z={...nd(b,h.node().type.name,h.node().attrs),...e};t.delete(h.pos,p.pos);const N=w?[{type:u,attrs:k},{type:w,attrs:z}]:[{type:u,attrs:k}];if(!Xs(t.doc,h.pos,2))return!1;if(l){const{selection:S,storedMarks:L}=s,{splittableMarks:Y}=a.extensionManager,Q=L||S.$to.parentOffset&&S.$from.marks();if(t.split(h.pos,2,N).scrollIntoView(),!Q||!l)return!0;const q=Q.filter(Z=>Y.includes(Z.type.name));t.ensureMarks(q)}return!0},tp=(n,e)=>{const t=au(c=>c.type===e)(n.selection);if(!t)return!0;const s=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(s===void 0)return!0;const l=n.doc.nodeAt(s);return t.node.type===(l==null?void 0:l.type)&&Zi(n.doc,t.pos)&&n.join(t.pos),!0},np=(n,e)=>{const t=au(c=>c.type===e)(n.selection);if(!t)return!0;const s=n.doc.resolve(t.start).after(t.depth);if(s===void 0)return!0;const l=n.doc.nodeAt(s);return t.node.type===(l==null?void 0:l.type)&&Zi(n.doc,s)&&n.join(s),!0},nE=(n,e,t,s={})=>({editor:l,tr:a,state:c,dispatch:u,chain:h,commands:p,can:g})=>{const{extensions:y,splittableMarks:b}=l.extensionManager,w=Ut(n,c.schema),k=Ut(e,c.schema),{selection:z,storedMarks:N}=c,{$from:S,$to:L}=z,Y=S.blockRange(L),Q=N||z.$to.parentOffset&&z.$from.marks();if(!Y)return!1;const q=au(Z=>l1(Z.type.name,y))(z);if(Y.depth>=1&&q&&Y.depth-q.depth<=1){if(q.node.type===w)return p.liftListItem(k);if(l1(q.node.type.name,y)&&w.validContent(q.node.content)&&u)return h().command(()=>(a.setNodeMarkup(q.pos,w),!0)).command(()=>tp(a,w)).command(()=>np(a,w)).run()}return!t||!Q||!u?h().command(()=>g().wrapInList(w,s)?!0:p.clearNodes()).wrapInList(w,s).command(()=>tp(a,w)).command(()=>np(a,w)).run():h().command(()=>{const Z=g().wrapInList(w,s),I=Q.filter(ie=>b.includes(ie.type.name));return a.ensureMarks(I),Z?!0:p.clearNodes()}).wrapInList(w,s).command(()=>tp(a,w)).command(()=>np(a,w)).run()},sE=(n,e={},t={})=>({state:s,commands:l})=>{const{extendEmptyMarkRange:a=!1}=t,c=ei(n,s.schema);return Dp(s,c,e)?l.unsetMark(c,{extendEmptyMarkRange:a}):l.setMark(c,e)},iE=(n,e,t={})=>({state:s,commands:l})=>{const a=Ut(n,s.schema),c=Ut(e,s.schema),u=Yi(s,a,t);let h;return s.selection.$anchor.sameParent(s.selection.$head)&&(h=s.selection.$anchor.parent.attrs),u?l.setNode(c,h):l.setNode(a,{...h,...t})},rE=(n,e={})=>({state:t,commands:s})=>{const l=Ut(n,t.schema);return Yi(t,l,e)?s.lift(l):s.wrapIn(l,e)},lE=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let s=0;s<t.length;s+=1){const l=t[s];let a;if(l.spec.isInputRules&&(a=l.getState(n))){if(e){const c=n.tr,u=a.transform;for(let h=u.steps.length-1;h>=0;h-=1)c.step(u.steps[h].invert(u.docs[h]));if(a.text){const h=c.doc.resolve(a.from).marks();c.replaceWith(a.from,a.to,n.schema.text(a.text,h))}else c.delete(a.from,a.to)}return!0}}return!1},aE=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:s,ranges:l}=t;return s||e&&l.forEach(a=>{n.removeMark(a.$from.pos,a.$to.pos)}),!0},oE=(n,e={})=>({tr:t,state:s,dispatch:l})=>{var a;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=t,h=ei(n,s.schema),{$from:p,empty:g,ranges:y}=u;if(!l)return!0;if(g&&c){let{from:b,to:w}=u;const k=(a=p.marks().find(N=>N.type===h))==null?void 0:a.attrs,z=km(p,h,k);z&&(b=z.from,w=z.to),t.removeMark(b,w,h)}else y.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,h)});return t.removeStoredMark(h),!0},cE=n=>({tr:e,state:t,dispatch:s})=>{const{selection:l}=t;let a,c;return typeof n=="number"?(a=n,c=n):n&&"from"in n&&"to"in n?(a=n.from,c=n.to):(a=l.from,c=l.to),s&&e.doc.nodesBetween(a,c,(u,h)=>{if(u.isText)return;const p={...u.attrs};delete p.dir,e.setNodeMarkup(h,void 0,p)}),!0},dE=(n,e={})=>({tr:t,state:s,dispatch:l})=>{let a=null,c=null;const u=lu(typeof n=="string"?n:n.name,s.schema);if(!u)return!1;u==="node"&&(a=Ut(n,s.schema)),u==="mark"&&(c=ei(n,s.schema));let h=!1;return t.selection.ranges.forEach(p=>{const g=p.$from.pos,y=p.$to.pos;let b,w,k,z;t.selection.empty?s.doc.nodesBetween(g,y,(N,S)=>{a&&a===N.type&&(h=!0,k=Math.max(S,g),z=Math.min(S+N.nodeSize,y),b=S,w=N)}):s.doc.nodesBetween(g,y,(N,S)=>{S<g&&a&&a===N.type&&(h=!0,k=Math.max(S,g),z=Math.min(S+N.nodeSize,y),b=S,w=N),S>=g&&S<=y&&(a&&a===N.type&&(h=!0,l&&t.setNodeMarkup(S,void 0,{...N.attrs,...e})),c&&N.marks.length&&N.marks.forEach(L=>{if(c===L.type&&(h=!0,l)){const Y=Math.max(S,g),Q=Math.min(S+N.nodeSize,y);t.addMark(Y,Q,c.create({...L.attrs,...e}))}}))}),w&&(b!==void 0&&l&&t.setNodeMarkup(b,void 0,{...w.attrs,...e}),c&&w.marks.length&&w.marks.forEach(N=>{c===N.type&&l&&t.addMark(k,z,c.create({...N.attrs,...e}))}))}),h},uE=(n,e={})=>({state:t,dispatch:s})=>{const l=Ut(n,t.schema);return VS(l,e)(t,s)},fE=(n,e={})=>({state:t,dispatch:s})=>{const l=Ut(n,t.schema);return PS(l,e)(t,s)},hE=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(s=>s.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(s=>s!==e):delete this.callbacks[n]),this}once(n,e){const t=(...s)=>{this.off(n,t),e.apply(this,s)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}},cu=class{constructor(n){var e;this.find=n.find,this.handler=n.handler,this.undoable=(e=n.undoable)!=null?e:!0}},pE=(n,e)=>{if(vm(e))return e.exec(n);const t=e(n);if(!t)return null;const s=[t.text];return s.index=t.index,s.input=n,s.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(t.replaceWith)),s};function Ic(n){var e;const{editor:t,from:s,to:l,text:a,rules:c,plugin:u}=n,{view:h}=t;if(h.composing)return!1;const p=h.state.doc.resolve(s);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let g=!1;const y=IT(p)+a;return c.forEach(b=>{if(g)return;const w=pE(y,b.find);if(!w)return;const k=h.state.tr,z=iu({state:h.state,transaction:k}),N={from:s-(w[0].length-a.length),to:l},{commands:S,chain:L,can:Y}=new ru({editor:t,state:z});b.handler({state:z,range:N,match:w,commands:S,chain:L,can:Y})===null||!k.steps.length||(b.undoable&&k.setMeta(u,{transform:k,from:s,to:l,text:a}),h.dispatch(k),g=!0)}),g}function mE(n){const{editor:e,rules:t}=n,s=new mt({state:{init(){return null},apply(l,a,c){const u=l.getMeta(s);if(u)return u;const h=l.getMeta("applyInputRules");return!!h&&setTimeout(()=>{let{text:g}=h;typeof g=="string"?g=g:g=zm(W.from(g),c.schema);const{from:y}=h,b=y+g.length;Ic({editor:e,from:y,to:b,text:g,rules:t,plugin:s})}),l.selectionSet||l.docChanged?null:a}},props:{handleTextInput(l,a,c,u){return Ic({editor:e,from:a,to:c,text:u,rules:t,plugin:s})},handleDOMEvents:{compositionend:l=>(setTimeout(()=>{const{$cursor:a}=l.state.selection;a&&Ic({editor:e,from:a.pos,to:a.pos,text:"",rules:t,plugin:s})}),!1)},handleKeyDown(l,a){if(a.key!=="Enter")return!1;const{$cursor:c}=l.state.selection;return c?Ic({editor:e,from:c.pos,to:c.pos,text:`
`,rules:t,plugin:s}):!1}},isInputRules:!0});return s}function gE(n){return Object.prototype.toString.call(n).slice(8,-1)}function Vc(n){return gE(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function qv(n,e){const t={...n};return Vc(n)&&Vc(e)&&Object.keys(e).forEach(s=>{Vc(e[s])&&Vc(n[s])?t[s]=qv(n[s],e[s]):t[s]=e[s]}),t}var Mm=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...Je(me(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Je(me(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>qv(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},Ir=class $v extends Mm{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new $v(t)}static handleExit({editor:e,mark:t}){const{tr:s}=e.state,l=e.state.selection.$from;if(l.pos===l.end()){const c=l.marks();if(!!!c.find(p=>(p==null?void 0:p.type.name)===t.name))return!1;const h=c.find(p=>(p==null?void 0:p.type.name)===t.name);return h&&s.removeStoredMark(h),s.insertText(" ",l.pos),e.view.dispatch(s),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function xE(n){return typeof n=="number"}var yE=class{constructor(n){this.find=n.find,this.handler=n.handler}},bE=(n,e,t)=>{if(vm(e))return[...n.matchAll(e)];const s=e(n,t);return s?s.map(l=>{const a=[l.text];return a.index=l.index,a.input=n,a.data=l.data,l.replaceWith&&(l.text.includes(l.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(l.replaceWith)),a}):[]};function wE(n){const{editor:e,state:t,from:s,to:l,rule:a,pasteEvent:c,dropEvent:u}=n,{commands:h,chain:p,can:g}=new ru({editor:e,state:t}),y=[];return t.doc.nodesBetween(s,l,(w,k)=>{var z,N,S,L,Y;if((N=(z=w.type)==null?void 0:z.spec)!=null&&N.code||!(w.isText||w.isTextblock||w.isInline))return;const Q=(Y=(L=(S=w.content)==null?void 0:S.size)!=null?L:w.nodeSize)!=null?Y:0,q=Math.max(s,k),Z=Math.min(l,k+Q);if(q>=Z)return;const I=w.isText?w.text||"":w.textBetween(q-k,Z-k,void 0,"");bE(I,a.find,c).forEach(Ne=>{if(Ne.index===void 0)return;const gt=q+Ne.index+1,It=gt+Ne[0].length,Qe={from:t.tr.mapping.map(gt),to:t.tr.mapping.map(It)},Xt=a.handler({state:t,range:Qe,match:Ne,commands:h,chain:p,can:g,pasteEvent:c,dropEvent:u});y.push(Xt)})}),y.every(w=>w!==null)}var Pc=null,vE=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function kE(n){const{editor:e,rules:t}=n;let s=null,l=!1,a=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const h=({state:g,from:y,to:b,rule:w,pasteEvt:k})=>{const z=g.tr,N=iu({state:g,transaction:z});if(!(!wE({editor:e,state:N,from:Math.max(y-1,0),to:b.b-1,rule:w,pasteEvent:k,dropEvent:u})||!z.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,z}};return t.map(g=>new mt({view(y){const b=k=>{var z;s=(z=y.dom.parentElement)!=null&&z.contains(k.target)?y.dom.parentElement:null,s&&(Pc=e)},w=()=>{Pc&&(Pc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",w),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",w)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(a=s===y.dom.parentElement,u=b,!a){const w=Pc;w!=null&&w.isEditable&&setTimeout(()=>{const k=w.state.selection;k&&w.commands.deleteRange({from:k.from,to:k.to})},10)}return!1},paste:(y,b)=>{var w;const k=(w=b.clipboardData)==null?void 0:w.getData("text/html");return c=b,l=!!(k!=null&&k.includes("data-pm-slice")),!1}}},appendTransaction:(y,b,w)=>{const k=y[0],z=k.getMeta("uiEvent")==="paste"&&!l,N=k.getMeta("uiEvent")==="drop"&&!a,S=k.getMeta("applyPasteRules"),L=!!S;if(!z&&!N&&!L)return;if(L){let{text:q}=S;typeof q=="string"?q=q:q=zm(W.from(q),w.schema);const{from:Z}=S,I=Z+q.length,ie=vE(q);return h({rule:g,state:w,from:Z,to:{b:I},pasteEvt:ie})}const Y=b.doc.content.findDiffStart(w.doc.content),Q=b.doc.content.findDiffEnd(w.doc.content);if(!(!xE(Y)||!Q||Y===Q.b))return h({rule:g,state:w,from:Y,to:Q,pasteEvt:c})}}))}var du=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=n,this.extensions=Lv(n),this.schema=DT(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ep(e.name,this.schema)},s=me(e,"addCommands",t);return s?{...n,...s()}:n},{})}get plugins(){const{editor:n}=this;return Sm([...this.extensions].reverse()).flatMap(s=>{const l={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:n,type:ep(s.name,this.schema)},a=[],c=me(s,"addKeyboardShortcuts",l);let u={};if(s.type==="mark"&&me(s,"exitable",l)&&(u.ArrowRight=()=>Ir.handleExit({editor:n,mark:s})),c){const b=Object.fromEntries(Object.entries(c()).map(([w,k])=>[w,()=>k({editor:n})]));u={...u,...b}}const h=BM(u);a.push(h);const p=me(s,"addInputRules",l);if(r1(s,n.options.enableInputRules)&&p){const b=p();if(b&&b.length){const w=mE({editor:n,rules:b}),k=Array.isArray(w)?w:[w];a.push(...k)}}const g=me(s,"addPasteRules",l);if(r1(s,n.options.enablePasteRules)&&g){const b=g();if(b&&b.length){const w=kE({editor:n,rules:b});a.push(...w)}}const y=me(s,"addProseMirrorPlugins",l);if(y){const b=y();a.push(...b)}return a})}get attributes(){return Rv(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=Hl(this.extensions);return Object.fromEntries(e.filter(t=>!!me(t,"addNodeView")).map(t=>{const s=this.attributes.filter(h=>h.type===t.name),l={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:Ut(t.name,this.schema)},a=me(t,"addNodeView",l);if(!a)return[];const c=a();if(!c)return[];const u=(h,p,g,y,b)=>{const w=wd(h,s);return c({node:h,view:p,getPos:g,decorations:y,innerDecorations:b,editor:n,extension:t,HTMLAttributes:w})};return[t.name,u]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=Hl(this.extensions);return Object.fromEntries(e.filter(t=>!!me(t,"addMarkView")).map(t=>{const s=this.attributes.filter(u=>u.type===t.name),l={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:ei(t.name,this.schema)},a=me(t,"addMarkView",l);if(!a)return[];const c=(u,h,p)=>{const g=wd(u,s);return a()({mark:u,view:h,inline:p,editor:n,extension:t,HTMLAttributes:g,updateAttributes:y=>{BE(u,n,y)}})};return[t.name,c]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ep(e.name,this.schema)};e.type==="mark"&&((t=Je(me(e,"keepOnSplit",s)))==null||t)&&this.splittableMarks.push(e.name);const l=me(e,"onBeforeCreate",s),a=me(e,"onCreate",s),c=me(e,"onUpdate",s),u=me(e,"onSelectionUpdate",s),h=me(e,"onTransaction",s),p=me(e,"onFocus",s),g=me(e,"onBlur",s),y=me(e,"onDestroy",s);l&&this.editor.on("beforeCreate",l),a&&this.editor.on("create",a),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),h&&this.editor.on("transaction",h),p&&this.editor.on("focus",p),g&&this.editor.on("blur",g),y&&this.editor.on("destroy",y)})}};du.resolve=Lv;du.sort=Sm;du.flatten=Nm;var jE={};wm(jE,{ClipboardTextSerializer:()=>Gv,Commands:()=>Wv,Delete:()=>Yv,Drop:()=>Zv,Editable:()=>Jv,FocusEvents:()=>Xv,Keymap:()=>Fv,Paste:()=>ek,Tabindex:()=>tk,TextDirection:()=>nk,focusEventsPluginKey:()=>Qv});var Et=class Kv extends Mm{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new Kv(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},Gv=Et.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new mt({key:new Tt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:s,selection:l}=e,{ranges:a}=l,c=Math.min(...a.map(g=>g.$from.pos)),u=Math.max(...a.map(g=>g.$to.pos)),h=Bv(t);return _v(s,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}}),Wv=Et.create({name:"commands",addCommands(){return{...Nv}}}),Yv=Et.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,s,l;const a=()=>{var c,u,h,p;if((p=(h=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:h.call(u,n))!=null?p:n.getMeta("y-sync$"))return;const g=Av(n.before,[n,...e]);Uv(g).forEach(w=>{g.mapping.mapResult(w.oldRange.from).deletedAfter&&g.mapping.mapResult(w.oldRange.to).deletedBefore&&g.before.nodesBetween(w.oldRange.from,w.oldRange.to,(k,z)=>{const N=z+k.nodeSize-2,S=w.oldRange.from<=z&&N<=w.oldRange.to;this.editor.emit("delete",{type:"node",node:k,from:z,to:N,newFrom:g.mapping.map(z),newTo:g.mapping.map(N),deletedRange:w.oldRange,newRange:w.newRange,partial:!S,editor:this.editor,transaction:n,combinedTransform:g})})});const b=g.mapping;g.steps.forEach((w,k)=>{var z,N;if(w instanceof ds){const S=b.slice(k).map(w.from,-1),L=b.slice(k).map(w.to),Y=b.invert().map(S,-1),Q=b.invert().map(L),q=(z=g.doc.nodeAt(S-1))==null?void 0:z.marks.some(I=>I.eq(w.mark)),Z=(N=g.doc.nodeAt(L))==null?void 0:N.marks.some(I=>I.eq(w.mark));this.editor.emit("delete",{type:"mark",mark:w.mark,from:w.from,to:w.to,deletedRange:{from:Y,to:Q},newRange:{from:S,to:L},partial:!!(Z||q),editor:this.editor,transaction:n,combinedTransform:g})}})};(l=(s=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:s.async)==null||l?setTimeout(a,0):a()}}),Zv=Et.create({name:"drop",addProseMirrorPlugins(){return[new mt({key:new Tt("tiptapDrop"),props:{handleDrop:(n,e,t,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:s})}}})]}}),Jv=Et.create({name:"editable",addProseMirrorPlugins(){return[new mt({key:new Tt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Qv=new Tt("focusEvents"),Xv=Et.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new mt({key:Qv,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const s=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,t)=>{n.isFocused=!1;const s=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),Fv=Et.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:h,doc:p}=u,{empty:g,$anchor:y}=h,{pos:b,parent:w}=y,k=y.parent.isTextblock&&b>0?u.doc.resolve(b-1):y,z=k.parent.type.spec.isolating,N=y.pos-y.parentOffset,S=z&&k.parent.childCount===1?N===y.pos:ve.atStart(p).from===b;return!g||!w.type.isTextblock||w.textContent.length||!S||S&&y.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},l={...s},a={...s,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return jm()||Tv()?a:l},addProseMirrorPlugins(){return[new mt({key:new Tt("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(z=>z.getMeta("composition")))return;const s=n.some(z=>z.docChanged)&&!e.doc.eq(t.doc),l=n.some(z=>z.getMeta("preventClearDocument"));if(!s||l)return;const{empty:a,from:c,to:u}=e.selection,h=ve.atStart(e.doc).from,p=ve.atEnd(e.doc).to;if(a||!(c===h&&u===p)||!ou(t.doc))return;const b=t.tr,w=iu({state:t,transaction:b}),{commands:k}=new ru({editor:this.editor,state:w});if(k.clearNodes(),!!b.steps.length)return b}})]}}),ek=Et.create({name:"paste",addProseMirrorPlugins(){return[new mt({key:new Tt("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),tk=Et.create({name:"tabindex",addProseMirrorPlugins(){return[new mt({key:new Tt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),nk=Et.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:n}=Hl(this.extensions);return[{types:n.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new mt({key:new Tt("textDirection"),props:{attributes:()=>{const n=this.options.direction;return n?{dir:n}:{}}}})]}}),NE=class Tl{constructor(e,t,s=!1,l=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=t,this.currentNode=l}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:t,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Tl(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Tl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Tl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,s)=>{const l=t.isBlock&&!t.isTextblock,a=t.isAtom&&!t.isText,c=this.pos+s+(a?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!l&&u.depth<=this.depth)return;const h=new Tl(u,this.editor,l,l?t:null);l&&(h.actualDepth=this.depth+1),e.push(new Tl(u,this.editor,l,l?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let s=null,l=this.parent;for(;l&&!s;){if(l.node.type.name===e)if(Object.keys(t).length>0){const a=l.node.attrs,c=Object.keys(t);for(let u=0;u<c.length;u+=1){const h=c[u];if(a[h]!==t[h])break}}else s=l;l=l.parent}return s}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},s=!1){let l=[];if(!this.children||this.children.length===0)return l;const a=Object.keys(t);return this.children.forEach(c=>{s&&l.length>0||(c.node.type.name===e&&a.every(h=>t[h]===c.node.attrs[h])&&l.push(c),!(s&&l.length>0)&&(l=l.concat(c.querySelectorAll(e,t,s))))}),l}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},zE=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function SE(n,e,t){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const l=document.createElement("style");return e&&l.setAttribute("nonce",e),l.setAttribute("data-tiptap-style",""),l.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(l),l}var CE=class extends hE{constructor(n={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:$T,createMappablePosition:KT},this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:l,moved:a})=>this.options.onDrop(s,l,a)),this.on("paste",({event:s,slice:l})=>this.options.onPaste(s,l)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=Cv(e,this.options.autofocus);this.editorState=Al.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n!=null&&n.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=SE(zE,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.dispatchTransaction(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=Dv(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],s=this.state.reconfigure({plugins:t});return this.view.updateState(s),s}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(l=>{const a=typeof l=="string"?`${l}$`:l.key;t=t.filter(c=>!c.key.startsWith(a))}),e.length===t.length)return;const s=this.state.reconfigure({plugins:t});return this.view.updateState(s),s}createExtensionManager(){var n,e;const s=[...this.options.enableCoreExtensions?[Jv,Gv.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Wv,Xv,Fv,tk,Zv,ek,Yv,nk.configure({direction:this.options.textDirection})].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l==null?void 0:l.type));this.extensionManager=new du(s,this)}createCommandManager(){this.commandManager=new ru({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=Op(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=Op(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new jv(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(p=>{var g;return(g=this.capturedTransaction)==null?void 0:g.step(p)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),s=!this.state.selection.eq(e.selection),l=t.includes(n),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!l)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:n});const c=t.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),u=c==null?void 0:c.getMeta("focus"),h=c==null?void 0:c.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),h&&this.emit("blur",{editor:this,event:h.event,transaction:c}),!(n.getMeta("preventUpdate")||!t.some(p=>p.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return Hv(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,s=typeof n=="string"?e:n;return VT(this.state,t,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return zm(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return LT(this.state.doc,{blockSeparator:e,textSerializers:{...Bv(this.schema),...t}})}get isEmpty(){return ou(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new NE(e,this)}get $doc(){return this.$pos(0)}};function Ul(n){return new cu({find:n.find,handler:({state:e,range:t,match:s})=>{const l=Je(n.getAttributes,void 0,s);if(l===!1||l===null)return null;const{tr:a}=e,c=s[s.length-1],u=s[0];if(c){const h=u.search(/\S/),p=t.from+u.indexOf(c),g=p+c.length;if(Cm(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(z=>z===n.type&&z!==w.mark.type)).filter(w=>w.to>p).length)return null;g<t.to&&a.delete(g,t.to),p>t.from&&a.delete(t.from+h,p);const b=t.from+h+c.length;a.addMark(t.from+h,b,n.type.create(l||{})),a.removeStoredMark(n.type)}},undoable:n.undoable})}function sk(n){return new cu({find:n.find,handler:({state:e,range:t,match:s})=>{const l=Je(n.getAttributes,void 0,s)||{},{tr:a}=e,c=t.from;let u=t.to;const h=n.type.create(l);if(s[1]){const p=s[0].lastIndexOf(s[1]);let g=c+p;g>u?g=u:u=g+s[1].length;const y=s[0][s[0].length-1];a.insertText(y,c+s[0].length-1),a.replaceWith(g,u,h)}else if(s[0]){const p=n.type.isInline?c:c-1;a.insert(p,n.type.create(l)).delete(a.mapping.map(c),a.mapping.map(u))}a.scrollIntoView()},undoable:n.undoable})}function Rp(n){return new cu({find:n.find,handler:({state:e,range:t,match:s})=>{const l=e.doc.resolve(t.from),a=Je(n.getAttributes,void 0,s)||{};if(!l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,a)},undoable:n.undoable})}function Il(n){return new cu({find:n.find,handler:({state:e,range:t,match:s,chain:l})=>{const a=Je(n.getAttributes,void 0,s)||{},c=e.tr.delete(t.from,t.to),h=c.doc.resolve(t.from).blockRange(),p=h&&nm(h,n.type,a);if(!p)return null;if(c.wrap(h,p),n.keepMarks&&n.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:w}=n.editor.extensionManager,k=b||y.$to.parentOffset&&y.$from.marks();if(k){const z=k.filter(N=>w.includes(N.type.name));c.ensureMarks(z)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";l().updateAttributes(y,a).run()}const g=c.doc.resolve(t.from-1).nodeBefore;g&&g.type===n.type&&Zi(c.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(s,g))&&c.join(t.from-1)},undoable:n.undoable})}var ME=n=>"touches"in n,TE=class{constructor(n){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const h=u.clientX-this.startX,p=u.clientY-this.startY;this.handleResize(h,p)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const h=u.touches[0];if(!h)return;const p=h.clientX-this.startX,g=h.clientY-this.startY;this.handleResize(p,g)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,h=this.element.offsetHeight;this.onCommit(u,h),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,t,s,l,a,c;this.node=n.node,this.editor=n.editor,this.element=n.element,this.contentElement=n.contentElement,this.getPos=n.getPos,this.onResize=n.onResize,this.onCommit=n.onCommit,this.onUpdate=n.onUpdate,(e=n.options)!=null&&e.min&&(this.minSize={...this.minSize,...n.options.min}),(t=n.options)!=null&&t.max&&(this.maxSize=n.options.max),(s=n==null?void 0:n.options)!=null&&s.directions&&(this.directions=n.options.directions),(l=n.options)!=null&&l.preserveAspectRatio&&(this.preserveAspectRatio=n.options.preserveAspectRatio),(a=n.options)!=null&&a.className&&(this.classNames={container:n.options.className.container||"",wrapper:n.options.className.wrapper||"",handle:n.options.className.handle||"",resizing:n.options.className.resizing||""}),(c=n.options)!=null&&c.createCustomHandle&&(this.createCustomHandle=n.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const n=this.editor.isEditable;n!==this.lastEditableState&&(this.lastEditableState=n,n?n&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(n,e,t){return n.type!==this.node.type?!1:(this.node=n,this.onUpdate?this.onUpdate(n,e,t):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const n=document.createElement("div");return n.dataset.resizeContainer="",n.dataset.node=this.node.type.name,n.style.display="flex",this.classNames.container&&(n.className=this.classNames.container),n.appendChild(this.wrapper),n}createWrapper(){const n=document.createElement("div");return n.style.position="relative",n.style.display="block",n.dataset.resizeWrapper="",this.classNames.wrapper&&(n.className=this.classNames.wrapper),n.appendChild(this.element),n}createHandle(n){const e=document.createElement("div");return e.dataset.resizeHandle=n,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(n,e){const t=e.includes("top"),s=e.includes("bottom"),l=e.includes("left"),a=e.includes("right");t&&(n.style.top="0"),s&&(n.style.bottom="0"),l&&(n.style.left="0"),a&&(n.style.right="0"),(e==="top"||e==="bottom")&&(n.style.left="0",n.style.right="0"),(e==="left"||e==="right")&&(n.style.top="0",n.style.bottom="0")}attachHandles(){this.directions.forEach(n=>{let e;this.createCustomHandle?e=this.createCustomHandle(n):e=this.createHandle(n),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${n}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(n)),this.createCustomHandle||this.positionHandle(e,n),e.addEventListener("mousedown",t=>this.handleResizeStart(t,n)),e.addEventListener("touchstart",t=>this.handleResizeStart(t,n)),this.handleMap.set(n,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(n=>n.remove()),this.handleMap.clear()}applyInitialSize(){const n=this.node.attrs.width,e=this.node.attrs.height;n?(this.element.style.width=`${n}px`,this.initialWidth=n):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(n,e){n.preventDefault(),n.stopPropagation(),this.isResizing=!0,this.activeHandle=e,ME(n)?(this.startX=n.touches[0].clientX,this.startY=n.touches[0].clientY):(this.startX=n.clientX,this.startY=n.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(n,e){if(!this.activeHandle)return;const t=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:l}=this.calculateNewDimensions(this.activeHandle,n,e),a=this.applyConstraints(s,l,t);this.element.style.width=`${a.width}px`,this.element.style.height=`${a.height}px`,this.onResize&&this.onResize(a.width,a.height)}calculateNewDimensions(n,e,t){let s=this.startWidth,l=this.startHeight;const a=n.includes("right"),c=n.includes("left"),u=n.includes("bottom"),h=n.includes("top");return a?s=this.startWidth+e:c&&(s=this.startWidth-e),u?l=this.startHeight+t:h&&(l=this.startHeight-t),(n==="right"||n==="left")&&(s=this.startWidth+(a?e:-e)),(n==="top"||n==="bottom")&&(l=this.startHeight+(u?t:-t)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,l,n):{width:s,height:l}}applyConstraints(n,e,t){var s,l,a,c;if(!t){let p=Math.max(this.minSize.width,n),g=Math.max(this.minSize.height,e);return(s=this.maxSize)!=null&&s.width&&(p=Math.min(this.maxSize.width,p)),(l=this.maxSize)!=null&&l.height&&(g=Math.min(this.maxSize.height,g)),{width:p,height:g}}let u=n,h=e;return u<this.minSize.width&&(u=this.minSize.width,h=u/this.aspectRatio),h<this.minSize.height&&(h=this.minSize.height,u=h*this.aspectRatio),(a=this.maxSize)!=null&&a.width&&u>this.maxSize.width&&(u=this.maxSize.width,h=u/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&h>this.maxSize.height&&(h=this.maxSize.height,u=h*this.aspectRatio),{width:u,height:h}}applyAspectRatio(n,e,t){const s=t==="left"||t==="right",l=t==="top"||t==="bottom";return s?{width:n,height:n/this.aspectRatio}:l?{width:e*this.aspectRatio,height:e}:{width:n,height:n/this.aspectRatio}}};function EE(n,e){const{selection:t}=n,{$from:s}=t;if(t instanceof xe){const a=s.index();return s.parent.canReplaceWith(a,a+1,e)}let l=s.depth;for(;l>=0;){const a=s.index(l);if(s.node(l).contentMatchAt(a).matchType(e))return!0;l-=1}return!1}var AE={};wm(AE,{createAtomBlockMarkdownSpec:()=>OE,createBlockMarkdownSpec:()=>DE,createInlineMarkdownSpec:()=>_E,parseAttributes:()=>Tm,parseIndentedBlocks:()=>Lp,renderNestedMarkdownContent:()=>Am,serializeAttributes:()=>Em});function Tm(n){if(!(n!=null&&n.trim()))return{};const e={},t=[],s=n.replace(/["']([^"']*)["']/g,p=>(t.push(p),`__QUOTED_${t.length-1}__`)),l=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(l){const p=l.map(g=>g.trim().slice(1));e.class=p.join(" ")}const a=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(e.id=a[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(c)).forEach(([,p,g])=>{var y;const b=parseInt(((y=g.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),w=t[b];w&&(e[p]=w.slice(1,-1))});const h=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return h&&h.split(/\s+/).filter(Boolean).forEach(g=>{g.match(/^[a-zA-Z][\w-]*$/)&&(e[g]=!0)}),e}function Em(n){if(!n||Object.keys(n).length===0)return"";const e=[];return n.class&&String(n.class).split(/\s+/).filter(Boolean).forEach(s=>e.push(`.${s}`)),n.id&&e.push(`#${n.id}`),Object.entries(n).forEach(([t,s])=>{t==="class"||t==="id"||(s===!0?e.push(t):s!==!1&&s!=null&&e.push(`${t}="${String(s)}"`))}),e.join(" ")}function OE(n){const{nodeName:e,name:t,parseAttributes:s=Tm,serializeAttributes:l=Em,defaultAttributes:a={},requiredAttributes:c=[],allowedAttributes:u}=n,h=t||e,p=g=>{if(!u)return g;const y={};return u.forEach(b=>{b in g&&(y[b]=g[b])}),y};return{parseMarkdown:(g,y)=>{const b={...a,...g.attributes};return y.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(g){var y;const b=new RegExp(`^:::${h}(?:\\s|$)`,"m"),w=(y=g.match(b))==null?void 0:y.index;return w!==void 0?w:-1},tokenize(g,y,b){const w=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),k=g.match(w);if(!k)return;const z=k[1]||"",N=s(z);if(!c.find(L=>!(L in N)))return{type:e,raw:k[0],attributes:N}}},renderMarkdown:g=>{const y=p(g.attrs||{}),b=l(y),w=b?` {${b}}`:"";return`:::${h}${w} :::`}}}function DE(n){const{nodeName:e,name:t,getContent:s,parseAttributes:l=Tm,serializeAttributes:a=Em,defaultAttributes:c={},content:u="block",allowedAttributes:h}=n,p=t||e,g=y=>{if(!h)return y;const b={};return h.forEach(w=>{w in y&&(b[w]=y[w])}),b};return{parseMarkdown:(y,b)=>{let w;if(s){const z=s(y);w=typeof z=="string"?[{type:"text",text:z}]:z}else u==="block"?w=b.parseChildren(y.tokens||[]):w=b.parseInline(y.tokens||[]);const k={...c,...y.attributes};return b.createNode(e,k,w)},markdownTokenizer:{name:e,level:"block",start(y){var b;const w=new RegExp(`^:::${p}`,"m"),k=(b=y.match(w))==null?void 0:b.index;return k!==void 0?k:-1},tokenize(y,b,w){var k;const z=new RegExp(`^:::${p}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),N=y.match(z);if(!N)return;const[S,L=""]=N,Y=l(L);let Q=1;const q=S.length;let Z="";const I=/^:::([\w-]*)(\s.*)?/gm,ie=y.slice(q);for(I.lastIndex=0;;){const Ne=I.exec(ie);if(Ne===null)break;const gt=Ne.index,It=Ne[1];if(!((k=Ne[2])!=null&&k.endsWith(":::"))){if(It)Q+=1;else if(Q-=1,Q===0){const Qe=ie.slice(0,gt);Z=Qe.trim();const Xt=y.slice(0,q+gt+Ne[0].length);let xt=[];if(Z)if(u==="block")for(xt=w.blockTokens(Qe),xt.forEach(Ge=>{Ge.text&&(!Ge.tokens||Ge.tokens.length===0)&&(Ge.tokens=w.inlineTokens(Ge.text))});xt.length>0;){const Ge=xt[xt.length-1];if(Ge.type==="paragraph"&&(!Ge.text||Ge.text.trim()===""))xt.pop();else break}else xt=w.inlineTokens(Z);return{type:e,raw:Xt,attributes:Y,content:Z,tokens:xt}}}}}},renderMarkdown:(y,b)=>{const w=g(y.attrs||{}),k=a(w),z=k?` {${k}}`:"",N=b.renderChildren(y.content||[],`

`);return`:::${p}${z}

${N}

:::`}}}function RE(n){if(!n.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=t.exec(n);for(;s!==null;){const[,l,a,c]=s;e[l]=a||c,s=t.exec(n)}return e}function LE(n){return Object.entries(n).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function _E(n){const{nodeName:e,name:t,getContent:s,parseAttributes:l=RE,serializeAttributes:a=LE,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:h}=n,p=t||e,g=b=>{if(!h)return b;const w={};return h.forEach(k=>{const z=typeof k=="string"?k:k.name,N=typeof k=="string"?void 0:k.skipIfDefault;if(z in b){const S=b[z];if(N!==void 0&&S===N)return;w[z]=S}}),w},y=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,w)=>{const k={...c,...b.attributes};if(u)return w.createNode(e,k);const z=s?s(b):b.content||"";return z?w.createNode(e,k,[w.createTextNode(z)]):w.createNode(e,k,[])},markdownTokenizer:{name:e,level:"inline",start(b){const w=u?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),k=b.match(w),z=k==null?void 0:k.index;return z!==void 0?z:-1},tokenize(b,w,k){const z=u?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),N=b.match(z);if(!N)return;let S="",L="";if(u){const[,Q]=N;L=Q}else{const[,Q,q]=N;L=Q,S=q||""}const Y=l(L.trim());return{type:e,raw:N[0],content:S.trim(),attributes:Y}}},renderMarkdown:b=>{let w="";s?w=s(b):b.content&&b.content.length>0&&(w=b.content.filter(S=>S.type==="text").map(S=>S.text).join(""));const k=g(b.attrs||{}),z=a(k),N=z?` ${z}`:"";return u?`[${p}${N}]`:`[${p}${N}]${w}[/${p}]`}}}function Lp(n,e,t){var s,l,a,c;const u=n.split(`
`),h=[];let p="",g=0;const y=e.baseIndentSize||2;for(;g<u.length;){const b=u[g],w=b.match(e.itemPattern);if(!w){if(h.length>0)break;if(b.trim()===""){g+=1,p=`${p}${b}
`;continue}else return}const k=e.extractItemData(w),{indentLevel:z,mainContent:N}=k;p=`${p}${b}
`;const S=[N];for(g+=1;g<u.length;){const q=u[g];if(q.trim()===""){const I=u.slice(g+1).findIndex(gt=>gt.trim()!=="");if(I===-1)break;if((((l=(s=u[g+1+I].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:l.length)||0)>z){S.push(q),p=`${p}${q}
`,g+=1;continue}else break}if((((c=(a=q.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:c.length)||0)>z)S.push(q),p=`${p}${q}
`,g+=1;else break}let L;const Y=S.slice(1);if(Y.length>0){const q=Y.map(Z=>Z.slice(z+y)).join(`
`);q.trim()&&(e.customNestedParser?L=e.customNestedParser(q):L=t.blockTokens(q))}const Q=e.createToken(k,L);h.push(Q)}if(h.length!==0)return{items:h,raw:p}}function Am(n,e,t,s){if(!n||!Array.isArray(n.content))return"";const l=typeof t=="function"?t(s):t,[a,...c]=n.content,u=e.renderChildren([a]),h=[`${l}${u}`];return c&&c.length>0&&c.forEach(p=>{const g=e.renderChildren([p]);if(g){const y=g.split(`
`).map(b=>b?e.indent(b):"").join(`
`);h.push(y)}}),h.join(`
`)}function BE(n,e,t={}){const{state:s}=e,{doc:l,tr:a}=s,c=n;l.descendants((u,h)=>{const p=a.mapping.map(h),g=a.mapping.map(h)+u.nodeSize;let y=null;if(u.marks.forEach(w=>{if(w!==c)return!1;y=w}),!y)return;let b=!1;if(Object.keys(t).forEach(w=>{t[w]!==y.attrs[w]&&(b=!0)}),b){const w=n.type.create({...n.attrs,...t});a.removeMark(p,g,n.type),a.addMark(p,g,w)}}),a.docChanged&&e.view.dispatch(a)}var Qt=class ik extends Mm{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new ik(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function _r(n){return new yE({find:n.find,handler:({state:e,range:t,match:s,pasteEvent:l})=>{const a=Je(n.getAttributes,void 0,s,l);if(a===!1||a===null)return null;const{tr:c}=e,u=s[s.length-1],h=s[0];let p=t.to;if(u){const g=h.search(/\S/),y=t.from+h.indexOf(u),b=y+u.length;if(Cm(t.from,t.to,e.doc).filter(k=>k.mark.type.excluded.find(N=>N===n.type&&N!==k.mark.type)).filter(k=>k.to>y).length)return null;b<t.to&&c.delete(b,t.to),y>t.from&&c.delete(t.from+g,y),p=t.from+g+u.length,c.addMark(t.from+g,p,n.type.create(a||{})),c.removeStoredMark(n.type)}}})}const{getOwnPropertyNames:HE,getOwnPropertySymbols:UE}=Object,{hasOwnProperty:IE}=Object.prototype;function sp(n,e){return function(s,l,a){return n(s,l,a)&&e(s,l,a)}}function qc(n){return function(t,s,l){if(!t||!s||typeof t!="object"||typeof s!="object")return n(t,s,l);const{cache:a}=l,c=a.get(t),u=a.get(s);if(c&&u)return c===s&&u===t;a.set(t,s),a.set(s,t);const h=n(t,s,l);return a.delete(t),a.delete(s),h}}function VE(n){return n!=null?n[Symbol.toStringTag]:void 0}function o1(n){return HE(n).concat(UE(n))}const PE=Object.hasOwn||((n,e)=>IE.call(n,e));function Vr(n,e){return n===e||!n&&!e&&n!==n&&e!==e}const qE="__v",$E="__o",KE="_owner",{getOwnPropertyDescriptor:c1,keys:d1}=Object;function GE(n,e){return n.byteLength===e.byteLength&&vd(new Uint8Array(n),new Uint8Array(e))}function WE(n,e,t){let s=n.length;if(e.length!==s)return!1;for(;s-- >0;)if(!t.equals(n[s],e[s],s,s,n,e,t))return!1;return!0}function YE(n,e){return n.byteLength===e.byteLength&&vd(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function ZE(n,e){return Vr(n.getTime(),e.getTime())}function JE(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function QE(n,e){return n===e}function u1(n,e,t){const s=n.size;if(s!==e.size)return!1;if(!s)return!0;const l=new Array(s),a=n.entries();let c,u,h=0;for(;(c=a.next())&&!c.done;){const p=e.entries();let g=!1,y=0;for(;(u=p.next())&&!u.done;){if(l[y]){y++;continue}const b=c.value,w=u.value;if(t.equals(b[0],w[0],h,y,n,e,t)&&t.equals(b[1],w[1],b[0],w[0],n,e,t)){g=l[y]=!0;break}y++}if(!g)return!1;h++}return!0}const XE=Vr;function FE(n,e,t){const s=d1(n);let l=s.length;if(d1(e).length!==l)return!1;for(;l-- >0;)if(!rk(n,e,t,s[l]))return!1;return!0}function Ia(n,e,t){const s=o1(n);let l=s.length;if(o1(e).length!==l)return!1;let a,c,u;for(;l-- >0;)if(a=s[l],!rk(n,e,t,a)||(c=c1(n,a),u=c1(e,a),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function e3(n,e){return Vr(n.valueOf(),e.valueOf())}function t3(n,e){return n.source===e.source&&n.flags===e.flags}function f1(n,e,t){const s=n.size;if(s!==e.size)return!1;if(!s)return!0;const l=new Array(s),a=n.values();let c,u;for(;(c=a.next())&&!c.done;){const h=e.values();let p=!1,g=0;for(;(u=h.next())&&!u.done;){if(!l[g]&&t.equals(c.value,u.value,c.value,u.value,n,e,t)){p=l[g]=!0;break}g++}if(!p)return!1}return!0}function vd(n,e){let t=n.byteLength;if(e.byteLength!==t||n.byteOffset!==e.byteOffset)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function n3(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function rk(n,e,t,s){return(s===KE||s===$E||s===qE)&&(n.$$typeof||e.$$typeof)?!0:PE(e,s)&&t.equals(n[s],e[s],s,s,n,e,t)}const s3="[object ArrayBuffer]",i3="[object Arguments]",r3="[object Boolean]",l3="[object DataView]",a3="[object Date]",o3="[object Error]",c3="[object Map]",d3="[object Number]",u3="[object Object]",f3="[object RegExp]",h3="[object Set]",p3="[object String]",m3={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},g3="[object URL]",x3=Object.prototype.toString;function y3({areArrayBuffersEqual:n,areArraysEqual:e,areDataViewsEqual:t,areDatesEqual:s,areErrorsEqual:l,areFunctionsEqual:a,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:h,arePrimitiveWrappersEqual:p,areRegExpsEqual:g,areSetsEqual:y,areTypedArraysEqual:b,areUrlsEqual:w,unknownTagComparators:k}){return function(N,S,L){if(N===S)return!0;if(N==null||S==null)return!1;const Y=typeof N;if(Y!==typeof S)return!1;if(Y!=="object")return Y==="number"?u(N,S,L):Y==="function"?a(N,S,L):!1;const Q=N.constructor;if(Q!==S.constructor)return!1;if(Q===Object)return h(N,S,L);if(Array.isArray(N))return e(N,S,L);if(Q===Date)return s(N,S,L);if(Q===RegExp)return g(N,S,L);if(Q===Map)return c(N,S,L);if(Q===Set)return y(N,S,L);const q=x3.call(N);if(q===a3)return s(N,S,L);if(q===f3)return g(N,S,L);if(q===c3)return c(N,S,L);if(q===h3)return y(N,S,L);if(q===u3)return typeof N.then!="function"&&typeof S.then!="function"&&h(N,S,L);if(q===g3)return w(N,S,L);if(q===o3)return l(N,S,L);if(q===i3)return h(N,S,L);if(m3[q])return b(N,S,L);if(q===s3)return n(N,S,L);if(q===l3)return t(N,S,L);if(q===r3||q===d3||q===p3)return p(N,S,L);if(k){let Z=k[q];if(!Z){const I=VE(N);I&&(Z=k[I])}if(Z)return Z(N,S,L)}return!1}}function b3({circular:n,createCustomConfig:e,strict:t}){let s={areArrayBuffersEqual:GE,areArraysEqual:t?Ia:WE,areDataViewsEqual:YE,areDatesEqual:ZE,areErrorsEqual:JE,areFunctionsEqual:QE,areMapsEqual:t?sp(u1,Ia):u1,areNumbersEqual:XE,areObjectsEqual:t?Ia:FE,arePrimitiveWrappersEqual:e3,areRegExpsEqual:t3,areSetsEqual:t?sp(f1,Ia):f1,areTypedArraysEqual:t?sp(vd,Ia):vd,areUrlsEqual:n3,unknownTagComparators:void 0};if(e&&(s=Object.assign({},s,e(s))),n){const l=qc(s.areArraysEqual),a=qc(s.areMapsEqual),c=qc(s.areObjectsEqual),u=qc(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:l,areMapsEqual:a,areObjectsEqual:c,areSetsEqual:u})}return s}function w3(n){return function(e,t,s,l,a,c,u){return n(e,t,u)}}function v3({circular:n,comparator:e,createState:t,equals:s,strict:l}){if(t)return function(u,h){const{cache:p=n?new WeakMap:void 0,meta:g}=t();return e(u,h,{cache:p,equals:s,meta:g,strict:l})};if(n)return function(u,h){return e(u,h,{cache:new WeakMap,equals:s,meta:void 0,strict:l})};const a={cache:void 0,equals:s,meta:void 0,strict:l};return function(u,h){return e(u,h,a)}}const k3=Qi();Qi({strict:!0});Qi({circular:!0});Qi({circular:!0,strict:!0});Qi({createInternalComparator:()=>Vr});Qi({strict:!0,createInternalComparator:()=>Vr});Qi({circular:!0,createInternalComparator:()=>Vr});Qi({circular:!0,createInternalComparator:()=>Vr,strict:!0});function Qi(n={}){const{circular:e=!1,createInternalComparator:t,createState:s,strict:l=!1}=n,a=b3(n),c=y3(a),u=t?t(c):w3(c);return v3({circular:e,comparator:c,createState:s,equals:u,strict:l})}var ip={exports:{}},rp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function j3(){if(h1)return rp;h1=1;var n=po(),e=Z1();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var s=typeof Object.is=="function"?Object.is:t,l=e.useSyncExternalStore,a=n.useRef,c=n.useEffect,u=n.useMemo,h=n.useDebugValue;return rp.useSyncExternalStoreWithSelector=function(p,g,y,b,w){var k=a(null);if(k.current===null){var z={hasValue:!1,value:null};k.current=z}else z=k.current;k=u(function(){function S(Z){if(!L){if(L=!0,Y=Z,Z=b(Z),w!==void 0&&z.hasValue){var I=z.value;if(w(I,Z))return Q=I}return Q=Z}if(I=Q,s(Y,Z))return I;var ie=b(Z);return w!==void 0&&w(I,ie)?(Y=Z,I):(Y=Z,Q=ie)}var L=!1,Y,Q,q=y===void 0?null:y;return[function(){return S(g())},q===null?void 0:function(){return S(q())}]},[g,y,b,w]);var N=l(p,k[0],k[1]);return c(function(){z.hasValue=!0,z.value=N},[N]),h(N),N},rp}var p1;function N3(){return p1||(p1=1,ip.exports=j3()),ip.exports}var z3=N3(),S3=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},C3=({contentComponent:n})=>{const e=J1.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return d.jsx(d.Fragment,{children:Object.values(e)})};function M3(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,s){e={...e,[t]:D2.createPortal(s.reactElement,s.element,t)},n.forEach(l=>l())},removeRenderer(t){const s={...e};delete s[t],e=s,n.forEach(l=>l())}}}var T3=class extends Gi.Component{constructor(n){var e;super(n),this.editorContentRef=Gi.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var n;const e=this.props.editor;if(e&&!e.isDestroyed&&((n=e.view.dom)!=null&&n.parentNode)){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:t}),e.contentComponent=M3(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(s=>s.hasContentComponentInitialized?s:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((n=e.view.dom)!=null&&n.parentNode))return;const t=document.createElement("div");t.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:t})}catch{}}}render(){const{editor:n,innerRef:e,...t}=this.props;return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:S3(e,this.editorContentRef),...t}),(n==null?void 0:n.contentComponent)&&d.jsx(C3,{contentComponent:n.contentComponent})]})}},E3=le.forwardRef((n,e)=>{const t=Gi.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Gi.createElement(T3,{key:t,innerRef:e,...n})}),A3=Gi.memo(E3),O3=typeof window<"u"?le.useLayoutEffect:le.useEffect,D3=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function R3(n){var e;const[t]=le.useState(()=>new D3(n.editor)),s=z3.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:k3);return O3(()=>t.watch(n.editor),[n.editor,t]),le.useDebugValue(s),s}var L3=!1,_p=typeof window>"u",_3=_p||!!(typeof window<"u"&&window.next),B3=class lk{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?_p||_3?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...s)=>{var l,a;return(a=(l=this.options.current).onBeforeCreate)==null?void 0:a.call(l,...s)},onBlur:(...s)=>{var l,a;return(a=(l=this.options.current).onBlur)==null?void 0:a.call(l,...s)},onCreate:(...s)=>{var l,a;return(a=(l=this.options.current).onCreate)==null?void 0:a.call(l,...s)},onDestroy:(...s)=>{var l,a;return(a=(l=this.options.current).onDestroy)==null?void 0:a.call(l,...s)},onFocus:(...s)=>{var l,a;return(a=(l=this.options.current).onFocus)==null?void 0:a.call(l,...s)},onSelectionUpdate:(...s)=>{var l,a;return(a=(l=this.options.current).onSelectionUpdate)==null?void 0:a.call(l,...s)},onTransaction:(...s)=>{var l,a;return(a=(l=this.options.current).onTransaction)==null?void 0:a.call(l,...s)},onUpdate:(...s)=>{var l,a;return(a=(l=this.options.current).onUpdate)==null?void 0:a.call(l,...s)},onContentError:(...s)=>{var l,a;return(a=(l=this.options.current).onContentError)==null?void 0:a.call(l,...s)},onDrop:(...s)=>{var l,a;return(a=(l=this.options.current).onDrop)==null?void 0:a.call(l,...s)},onPaste:(...s)=>{var l,a;return(a=(l=this.options.current).onPaste)==null?void 0:a.call(l,...s)},onDelete:(...s)=>{var l,a;return(a=(l=this.options.current).onDelete)==null?void 0:a.call(l,...s)}};return new CE(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((l,a)=>{var c;return l===((c=t.extensions)==null?void 0:c[a])}):e[s]===t[s])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?lk.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((s,l)=>s===e[l]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function H3(n={},e=[]){const t=le.useRef(n);t.current=n;const[s]=le.useState(()=>new B3(t)),l=J1.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return le.useDebugValue(l),le.useEffect(s.onRender(e)),R3({editor:l,selector:({transactionNumber:a})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&a===0?0:a+1}),l}var U3=le.createContext({editor:null});U3.Consumer;var I3=le.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),V3=()=>le.useContext(I3);Gi.forwardRef((n,e)=>{const{onDragStart:t}=V3(),s=n.as||"div";return d.jsx(s,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});Gi.createContext({markViewContentRef:()=>{}});var kd=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...s}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,s,t]},P3=/^\s*>\s$/,q3=Qt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return kd("blockquote",{...pt(this.options.HTMLAttributes,n),children:kd("slot",{})})},parseMarkdown:(n,e)=>e.createNode("blockquote",void 0,e.parseChildren(n.tokens||[])),renderMarkdown:(n,e)=>{if(!n.content)return"";const t=">",s=[];return n.content.forEach(l=>{const u=e.renderChildren([l]).split(`
`).map(h=>h.trim()===""?t:`${t} ${h}`);s.push(u.join(`
`))}),s.join(`
${t}
`)},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Il({find:P3,type:this.type})]}}),$3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,K3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,G3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,W3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Y3=Ir.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return kd("strong",{...pt(this.options.HTMLAttributes,n),children:kd("slot",{})})},markdownTokenName:"strong",parseMarkdown:(n,e)=>e.applyMark("bold",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`**${e.renderChildren(n)}**`,addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ul({find:$3,type:this.type}),Ul({find:G3,type:this.type})]},addPasteRules(){return[_r({find:K3,type:this.type}),_r({find:W3,type:this.type})]}}),Z3=/(^|[^`])`([^`]+)`(?!`)$/,J3=/(^|[^`])`([^`]+)`(?!`)/g,Q3=Ir.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",pt(this.options.HTMLAttributes,n),0]},markdownTokenName:"codespan",parseMarkdown:(n,e)=>e.applyMark("code",[{type:"text",text:n.text||""}]),renderMarkdown:(n,e)=>n.content?`\`${e.renderChildren(n.content)}\``:"",addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ul({find:Z3,type:this.type})]},addPasteRules(){return[_r({find:J3,type:this.type})]}}),lp=4,X3=/^```([a-z]+)?[\s\n]$/,F3=/^~~~([a-z]+)?[\s\n]$/,eA=Qt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:lp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const a=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(t)).map(c=>c.replace(t,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",pt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(n,e)=>{var t;return((t=n.raw)==null?void 0:t.startsWith("```"))===!1&&n.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:n.lang||null},n.text?[e.createTextNode(n.text)]:[])},renderMarkdown:(n,e)=>{var t;let s="";const l=((t=n.attrs)==null?void 0:t.language)||"";return n.content?s=[`\`\`\`${l}`,e.renderChildren(n.content),"```"].join(`
`):s=`\`\`\`${l}

\`\`\``,s},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:lp,{state:s}=n,{selection:l}=s,{$from:a,empty:c}=l;if(a.parent.type!==this.type)return!1;const u=" ".repeat(t);return c?n.commands.insertContent(u):n.commands.command(({tr:h})=>{const{from:p,to:g}=l,w=s.doc.textBetween(p,g,`
`,`
`).split(`
`).map(k=>u+k).join(`
`);return h.replaceWith(p,g,s.schema.text(w)),!0})},"Shift-Tab":({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:lp,{state:s}=n,{selection:l}=s,{$from:a,empty:c}=l;return a.parent.type!==this.type?!1:c?n.commands.command(({tr:u})=>{var h;const{pos:p}=a,g=a.start(),y=a.end(),w=s.doc.textBetween(g,y,`
`,`
`).split(`
`);let k=0,z=0;const N=p-g;for(let Z=0;Z<w.length;Z+=1){if(z+w[Z].length>=N){k=Z;break}z+=w[Z].length+1}const L=((h=w[k].match(/^ */))==null?void 0:h[0])||"",Y=Math.min(L.length,t);if(Y===0)return!0;let Q=g;for(let Z=0;Z<k;Z+=1)Q+=w[Z].length+1;return u.delete(Q,Q+Y),p-Q<=Y&&u.setSelection(ye.create(u.doc,Q)),!0}):n.commands.command(({tr:u})=>{const{from:h,to:p}=l,b=s.doc.textBetween(h,p,`
`,`
`).split(`
`).map(w=>{var k;const z=((k=w.match(/^ */))==null?void 0:k[0])||"",N=Math.min(z.length,t);return w.slice(N)}).join(`
`);return u.replaceWith(h,p,s.schema.text(b)),!0})},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:s,empty:l}=t;if(!l||s.parent.type!==this.type)return!1;const a=s.parentOffset===s.parent.nodeSize-2,c=s.parent.textContent.endsWith(`

`);return!a||!c?!1:n.chain().command(({tr:u})=>(u.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:s}=e,{$from:l,empty:a}=t;if(!a||l.parent.type!==this.type||!(l.parentOffset===l.parent.nodeSize-2))return!1;const u=l.after();return u===void 0?!1:s.nodeAt(u)?n.commands.command(({tr:p})=>(p.setSelection(ve.near(s.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[Rp({find:X3,type:this.type,getAttributes:n=>({language:n[1]})}),Rp({find:F3,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new mt({key:new Tt("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),l=s?JSON.parse(s):void 0,a=l==null?void 0:l.mode;if(!t||!a)return!1;const{tr:c,schema:u}=n.state,h=u.text(t.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:a},h)),c.selection.$from.parent.type!==this.type&&c.setSelection(ye.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),n.dispatch(c),!0}}})]}}),tA=Qt.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`

`):""}),nA=Qt.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",pt(this.options.HTMLAttributes,n)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:s})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:l,storedMarks:a}=t;if(l.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=s.extensionManager,h=a||l.$to.parentOffset&&l.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:g})=>{if(g&&h&&c){const y=h.filter(b=>u.includes(b.type.name));p.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),sA=Qt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,pt(this.options.HTMLAttributes,e),0]},parseMarkdown:(n,e)=>e.createNode("heading",{level:n.depth||1},e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>{var t;const s=(t=n.attrs)!=null&&t.level?parseInt(n.attrs.level,10):1,l="#".repeat(s);return n.content?`${l} ${e.renderChildren(n.content)}`:""},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Rp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),iA=Qt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",pt(this.options.HTMLAttributes,n)]},markdownTokenName:"hr",parseMarkdown:(n,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!EE(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:s}=t,l=n();return Iv(t)?l.insertContentAt(s.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({state:a,tr:c,dispatch:u})=>{if(u){const{$to:h}=c.selection,p=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?c.setSelection(ye.create(c.doc,h.pos+1)):h.nodeAfter.isBlock?c.setSelection(xe.create(c.doc,h.pos)):c.setSelection(ye.create(c.doc,h.pos));else{const g=a.schema.nodes[this.options.nextNodeType]||h.parent.type.contentMatch.defaultType,y=g==null?void 0:g.create();y&&(c.insert(p,y),c.setSelection(ye.create(c.doc,p+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[sk({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),rA=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,lA=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,aA=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,oA=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,cA=Ir.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(n,e)=>e.applyMark("italic",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`*${e.renderChildren(n)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ul({find:rA,type:this.type}),Ul({find:aA,type:this.type})]},addPasteRules(){return[_r({find:lA,type:this.type}),_r({find:oA,type:this.type})]}});const dA="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",uA="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Bp="numeric",Hp="ascii",Up="alpha",Ja="asciinumeric",Ka="alphanumeric",Ip="domain",ak="emoji",fA="scheme",hA="slashscheme",ap="whitespace";function pA(n,e){return n in e||(e[n]=[]),e[n]}function Sr(n,e,t){e[Bp]&&(e[Ja]=!0,e[Ka]=!0),e[Hp]&&(e[Ja]=!0,e[Up]=!0),e[Ja]&&(e[Ka]=!0),e[Up]&&(e[Ka]=!0),e[Ka]&&(e[Ip]=!0),e[ak]&&(e[Ip]=!0);for(const s in e){const l=pA(s,t);l.indexOf(n)<0&&l.push(n)}}function mA(n,e){const t={};for(const s in e)e[s].indexOf(n)>=0&&(t[s]=!0);return t}function Sn(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Sn.groups={};Sn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let s=0;s<e.jr.length;s++){const l=e.jr[s][0],a=e.jr[s][1];if(a&&l.test(n))return a}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,s){for(let l=0;l<n.length;l++)this.tt(n[l],e,t,s)},tr(n,e,t,s){s=s||Sn.groups;let l;return e&&e.j?l=e:(l=new Sn(e),t&&s&&Sr(e,t,s)),this.jr.push([n,l]),l},ts(n,e,t,s){let l=this;const a=n.length;if(!a)return l;for(let c=0;c<a-1;c++)l=l.tt(n[c]);return l.tt(n[a-1],e,t,s)},tt(n,e,t,s){s=s||Sn.groups;const l=this;if(e&&e.j)return l.j[n]=e,e;const a=e;let c,u=l.go(n);if(u?(c=new Sn,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Sn,a){if(s)if(c.t&&typeof c.t=="string"){const h=Object.assign(mA(c.t,s),t);Sr(a,h,s)}else t&&Sr(a,t,s);c.t=a}return l.j[n]=c,c}};const Oe=(n,e,t,s,l)=>n.ta(e,t,s,l),St=(n,e,t,s,l)=>n.tr(e,t,s,l),m1=(n,e,t,s,l)=>n.ts(e,t,s,l),X=(n,e,t,s,l)=>n.tt(e,t,s,l),Ws="WORD",Vp="UWORD",ok="ASCIINUMERICAL",ck="ALPHANUMERICAL",uo="LOCALHOST",Pp="TLD",qp="UTLD",sd="SCHEME",El="SLASH_SCHEME",Om="NUM",$p="WS",Dm="NL",Qa="OPENBRACE",Xa="CLOSEBRACE",jd="OPENBRACKET",Nd="CLOSEBRACKET",zd="OPENPAREN",Sd="CLOSEPAREN",Cd="OPENANGLEBRACKET",Md="CLOSEANGLEBRACKET",Td="FULLWIDTHLEFTPAREN",Ed="FULLWIDTHRIGHTPAREN",Ad="LEFTCORNERBRACKET",Od="RIGHTCORNERBRACKET",Dd="LEFTWHITECORNERBRACKET",Rd="RIGHTWHITECORNERBRACKET",Ld="FULLWIDTHLESSTHAN",_d="FULLWIDTHGREATERTHAN",Bd="AMPERSAND",Hd="APOSTROPHE",Ud="ASTERISK",Di="AT",Id="BACKSLASH",Vd="BACKTICK",Pd="CARET",Bi="COLON",Rm="COMMA",qd="DOLLAR",bs="DOT",$d="EQUALS",Lm="EXCLAMATION",Qn="HYPHEN",Fa="PERCENT",Kd="PIPE",Gd="PLUS",Wd="POUND",eo="QUERY",_m="QUOTE",dk="FULLWIDTHMIDDLEDOT",Bm="SEMI",ws="SLASH",to="TILDE",Yd="UNDERSCORE",uk="EMOJI",Zd="SYM";var fk=Object.freeze({__proto__:null,ALPHANUMERICAL:ck,AMPERSAND:Bd,APOSTROPHE:Hd,ASCIINUMERICAL:ok,ASTERISK:Ud,AT:Di,BACKSLASH:Id,BACKTICK:Vd,CARET:Pd,CLOSEANGLEBRACKET:Md,CLOSEBRACE:Xa,CLOSEBRACKET:Nd,CLOSEPAREN:Sd,COLON:Bi,COMMA:Rm,DOLLAR:qd,DOT:bs,EMOJI:uk,EQUALS:$d,EXCLAMATION:Lm,FULLWIDTHGREATERTHAN:_d,FULLWIDTHLEFTPAREN:Td,FULLWIDTHLESSTHAN:Ld,FULLWIDTHMIDDLEDOT:dk,FULLWIDTHRIGHTPAREN:Ed,HYPHEN:Qn,LEFTCORNERBRACKET:Ad,LEFTWHITECORNERBRACKET:Dd,LOCALHOST:uo,NL:Dm,NUM:Om,OPENANGLEBRACKET:Cd,OPENBRACE:Qa,OPENBRACKET:jd,OPENPAREN:zd,PERCENT:Fa,PIPE:Kd,PLUS:Gd,POUND:Wd,QUERY:eo,QUOTE:_m,RIGHTCORNERBRACKET:Od,RIGHTWHITECORNERBRACKET:Rd,SCHEME:sd,SEMI:Bm,SLASH:ws,SLASH_SCHEME:El,SYM:Zd,TILDE:to,TLD:Pp,UNDERSCORE:Yd,UTLD:qp,UWORD:Vp,WORD:Ws,WS:$p});const Ks=/[a-z]/,Va=new RegExp("\\p{L}","u"),op=new RegExp("\\p{Emoji}","u"),Gs=/\d/,cp=/\s/,g1="\r",dp=`
`,gA="",xA="",up="";let $c=null,Kc=null;function yA(n=[]){const e={};Sn.groups=e;const t=new Sn;$c==null&&($c=x1(dA)),Kc==null&&(Kc=x1(uA)),X(t,"'",Hd),X(t,"{",Qa),X(t,"}",Xa),X(t,"[",jd),X(t,"]",Nd),X(t,"(",zd),X(t,")",Sd),X(t,"<",Cd),X(t,">",Md),X(t,"",Td),X(t,"",Ed),X(t,"",Ad),X(t,"",Od),X(t,"",Dd),X(t,"",Rd),X(t,"",Ld),X(t,"",_d),X(t,"&",Bd),X(t,"*",Ud),X(t,"@",Di),X(t,"`",Vd),X(t,"^",Pd),X(t,":",Bi),X(t,",",Rm),X(t,"$",qd),X(t,".",bs),X(t,"=",$d),X(t,"!",Lm),X(t,"-",Qn),X(t,"%",Fa),X(t,"|",Kd),X(t,"+",Gd),X(t,"#",Wd),X(t,"?",eo),X(t,'"',_m),X(t,"/",ws),X(t,";",Bm),X(t,"~",to),X(t,"_",Yd),X(t,"\\",Id),X(t,"",dk);const s=St(t,Gs,Om,{[Bp]:!0});St(s,Gs,s);const l=St(s,Ks,ok,{[Ja]:!0}),a=St(s,Va,ck,{[Ka]:!0}),c=St(t,Ks,Ws,{[Hp]:!0});St(c,Gs,l),St(c,Ks,c),St(l,Gs,l),St(l,Ks,l);const u=St(t,Va,Vp,{[Up]:!0});St(u,Ks),St(u,Gs,a),St(u,Va,u),St(a,Gs,a),St(a,Ks),St(a,Va,a);const h=X(t,dp,Dm,{[ap]:!0}),p=X(t,g1,$p,{[ap]:!0}),g=St(t,cp,$p,{[ap]:!0});X(t,up,g),X(p,dp,h),X(p,up,g),St(p,cp,g),X(g,g1),X(g,dp),St(g,cp,g),X(g,up,g);const y=St(t,op,uk,{[ak]:!0});X(y,"#"),St(y,op,y),X(y,gA,y);const b=X(y,xA);X(b,"#"),St(b,op,y);const w=[[Ks,c],[Gs,l]],k=[[Ks,null],[Va,u],[Gs,a]];for(let z=0;z<$c.length;z++)Ei(t,$c[z],Pp,Ws,w);for(let z=0;z<Kc.length;z++)Ei(t,Kc[z],qp,Vp,k);Sr(Pp,{tld:!0,ascii:!0},e),Sr(qp,{utld:!0,alpha:!0},e),Ei(t,"file",sd,Ws,w),Ei(t,"mailto",sd,Ws,w),Ei(t,"http",El,Ws,w),Ei(t,"https",El,Ws,w),Ei(t,"ftp",El,Ws,w),Ei(t,"ftps",El,Ws,w),Sr(sd,{scheme:!0,ascii:!0},e),Sr(El,{slashscheme:!0,ascii:!0},e),n=n.sort((z,N)=>z[0]>N[0]?1:-1);for(let z=0;z<n.length;z++){const N=n[z][0],L=n[z][1]?{[fA]:!0}:{[hA]:!0};N.indexOf("-")>=0?L[Ip]=!0:Ks.test(N)?Gs.test(N)?L[Ja]=!0:L[Hp]=!0:L[Bp]=!0,m1(t,N,N,L)}return m1(t,"localhost",uo,{ascii:!0}),t.jd=new Sn(Zd),{start:t,tokens:Object.assign({groups:e},fk)}}function hk(n,e){const t=bA(e.replace(/[A-Z]/g,u=>u.toLowerCase())),s=t.length,l=[];let a=0,c=0;for(;c<s;){let u=n,h=null,p=0,g=null,y=-1,b=-1;for(;c<s&&(h=u.go(t[c]));)u=h,u.accepts()?(y=0,b=0,g=u):y>=0&&(y+=t[c].length,b++),p+=t[c].length,a+=t[c].length,c++;a-=y,c-=b,p-=y,l.push({t:g.t,v:e.slice(a-p,a),s:a-p,e:a})}return l}function bA(n){const e=[],t=n.length;let s=0;for(;s<t;){let l=n.charCodeAt(s),a,c=l<55296||l>56319||s+1===t||(a=n.charCodeAt(s+1))<56320||a>57343?n[s]:n.slice(s,s+2);e.push(c),s+=c.length}return e}function Ei(n,e,t,s,l){let a;const c=e.length;for(let u=0;u<c-1;u++){const h=e[u];n.j[h]?a=n.j[h]:(a=new Sn(s),a.jr=l.slice(),n.j[h]=a),n=a}return a=new Sn(t),a.jr=l.slice(),n.j[e[c-1]]=a,a}function x1(n){const e=[],t=[];let s=0,l="0123456789";for(;s<n.length;){let a=0;for(;l.indexOf(n[s+a])>=0;)a++;if(a>0){e.push(t.join(""));for(let c=parseInt(n.substring(s,s+a),10);c>0;c--)t.pop();s+=a}else t.push(n[s]),s++}return e}const fo={defaultProtocol:"http",events:null,format:y1,formatHref:y1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Hm(n,e=null){let t=Object.assign({},fo);n&&(t=Object.assign(t,n instanceof Hm?n.o:n));const s=t.ignoreTags,l=[];for(let a=0;a<s.length;a++)l.push(s[a].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=l}Hm.prototype={o:fo,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const s=e!=null;let l=this.o[n];return l&&(typeof l=="object"?(l=t.t in l?l[t.t]:fo[n],typeof l=="function"&&s&&(l=l(e,t))):typeof l=="function"&&s&&(l=l(e,t.t,t)),l)},getObj(n,e,t){let s=this.o[n];return typeof s=="function"&&e!=null&&(s=s(e,t.t,t)),s},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function y1(n){return n}function pk(n,e){this.t="token",this.v=n,this.tk=e}pk.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),s=n.get("format",e,this);return t&&s.length>t?s.substring(0,t)+"":s},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=fo.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),s=n.get("formatHref",t,this),l=n.get("tagName",t,e),a=this.toFormattedString(n),c={},u=n.get("className",t,e),h=n.get("target",t,e),p=n.get("rel",t,e),g=n.getObj("attributes",t,e),y=n.getObj("events",t,e);return c.href=s,u&&(c.class=u),h&&(c.target=h),p&&(c.rel=p),g&&Object.assign(c,g),{tagName:l,attributes:c,content:a,eventListeners:y}}};function uu(n,e){class t extends pk{constructor(l,a){super(l,a),this.t=n}}for(const s in e)t.prototype[s]=e[s];return t.t=n,t}const b1=uu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),w1=uu("text"),wA=uu("nl"),Gc=uu("url",{isLink:!0,toHref(n=fo.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==uo&&n[1].t===Bi}}),Jn=n=>new Sn(n);function vA({groups:n}){const e=n.domain.concat([Bd,Ud,Di,Id,Vd,Pd,qd,$d,Qn,Om,Fa,Kd,Gd,Wd,ws,Zd,to,Yd]),t=[Hd,Bi,Rm,bs,Lm,Fa,eo,_m,Bm,Cd,Md,Qa,Xa,Nd,jd,zd,Sd,Td,Ed,Ad,Od,Dd,Rd,Ld,_d],s=[Bd,Hd,Ud,Id,Vd,Pd,qd,$d,Qn,Qa,Xa,Fa,Kd,Gd,Wd,eo,ws,Zd,to,Yd],l=Jn(),a=X(l,to);Oe(a,s,a),Oe(a,n.domain,a);const c=Jn(),u=Jn(),h=Jn();Oe(l,n.domain,c),Oe(l,n.scheme,u),Oe(l,n.slashscheme,h),Oe(c,s,a),Oe(c,n.domain,c);const p=X(c,Di);X(a,Di,p),X(u,Di,p),X(h,Di,p);const g=X(a,bs);Oe(g,s,a),Oe(g,n.domain,a);const y=Jn();Oe(p,n.domain,y),Oe(y,n.domain,y);const b=X(y,bs);Oe(b,n.domain,y);const w=Jn(b1);Oe(b,n.tld,w),Oe(b,n.utld,w),X(p,uo,w);const k=X(y,Qn);X(k,Qn,k),Oe(k,n.domain,y),Oe(w,n.domain,y),X(w,bs,b),X(w,Qn,k);const z=X(w,Bi);Oe(z,n.numeric,b1);const N=X(c,Qn),S=X(c,bs);X(N,Qn,N),Oe(N,n.domain,c),Oe(S,s,a),Oe(S,n.domain,c);const L=Jn(Gc);Oe(S,n.tld,L),Oe(S,n.utld,L),Oe(L,n.domain,c),Oe(L,s,a),X(L,bs,S),X(L,Qn,N),X(L,Di,p);const Y=X(L,Bi),Q=Jn(Gc);Oe(Y,n.numeric,Q);const q=Jn(Gc),Z=Jn();Oe(q,e,q),Oe(q,t,Z),Oe(Z,e,q),Oe(Z,t,Z),X(L,ws,q),X(Q,ws,q);const I=X(u,Bi),ie=X(h,Bi),Ne=X(ie,ws),gt=X(Ne,ws);Oe(u,n.domain,c),X(u,bs,S),X(u,Qn,N),Oe(h,n.domain,c),X(h,bs,S),X(h,Qn,N),Oe(I,n.domain,q),X(I,ws,q),X(I,eo,q),Oe(gt,n.domain,q),Oe(gt,e,q),X(gt,ws,q);const It=[[Qa,Xa],[jd,Nd],[zd,Sd],[Cd,Md],[Td,Ed],[Ad,Od],[Dd,Rd],[Ld,_d]];for(let Qe=0;Qe<It.length;Qe++){const[Xt,xt]=It[Qe],Ge=X(q,Xt);X(Z,Xt,Ge),X(Ge,xt,q);const _=Jn(Gc);Oe(Ge,e,_);const te=Jn();Oe(Ge,t),Oe(_,e,_),Oe(_,t,te),Oe(te,e,_),Oe(te,t,te),X(_,xt,q),X(te,xt,q)}return X(l,uo,L),X(l,Dm,wA),{start:l,tokens:fk}}function kA(n,e,t){let s=t.length,l=0,a=[],c=[];for(;l<s;){let u=n,h=null,p=null,g=0,y=null,b=-1;for(;l<s&&!(h=u.go(t[l].t));)c.push(t[l++]);for(;l<s&&(p=h||u.go(t[l].t));)h=null,u=p,u.accepts()?(b=0,y=u):b>=0&&b++,l++,g++;if(b<0)l-=g,l<s&&(c.push(t[l]),l++);else{c.length>0&&(a.push(fp(w1,e,c)),c=[]),l-=b,g-=b;const w=y.t,k=t.slice(l-g,l);a.push(fp(w,e,k))}}return c.length>0&&a.push(fp(w1,e,c)),a}function fp(n,e,t){const s=t[0].s,l=t[t.length-1].e,a=e.slice(s,l);return new n(a,t)}const jA=typeof console<"u"&&console&&console.warn||(()=>{}),NA="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ht={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function zA(){return Sn.groups={},ht.scanner=null,ht.parser=null,ht.tokenQueue=[],ht.pluginQueue=[],ht.customSchemes=[],ht.initialized=!1,ht}function v1(n,e=!1){if(ht.initialized&&jA(`linkifyjs: already initialized - will not register custom scheme "${n}" ${NA}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ht.customSchemes.push([n,e])}function SA(){ht.scanner=yA(ht.customSchemes);for(let n=0;n<ht.tokenQueue.length;n++)ht.tokenQueue[n][1]({scanner:ht.scanner});ht.parser=vA(ht.scanner.tokens);for(let n=0;n<ht.pluginQueue.length;n++)ht.pluginQueue[n][1]({scanner:ht.scanner,parser:ht.parser});return ht.initialized=!0,ht}function Um(n){return ht.initialized||SA(),kA(ht.parser.start,n,hk(ht.scanner.start,n))}Um.scan=hk;function mk(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const s=new Hm(t),l=Um(n),a=[];for(let c=0;c<l.length;c++){const u=l[c];u.isLink&&(!e||u.t===e)&&s.check(u)&&a.push(u.toFormattedObject(s))}return a}var Im="[\0- -\u2029]",CA=new RegExp(Im),MA=new RegExp(`${Im}$`),TA=new RegExp(Im,"g");function EA(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function AA(n){return new mt({key:new Tt("autolink"),appendTransaction:(e,t,s)=>{const l=e.some(p=>p.docChanged)&&!t.doc.eq(s.doc),a=e.some(p=>p.getMeta("preventAutolink"));if(!l||a)return;const{tr:c}=s,u=Av(t.doc,[...e]);if(Uv(u).forEach(({newRange:p})=>{const g=ET(s.doc,p,w=>w.isTextblock);let y,b;if(g.length>1)y=g[0],b=s.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(g.length){const w=s.doc.textBetween(p.from,p.to," "," ");if(!MA.test(w))return;y=g[0],b=s.doc.textBetween(y.pos,p.to,void 0," ")}if(y&&b){const w=b.split(CA).filter(Boolean);if(w.length<=0)return!1;const k=w[w.length-1],z=y.pos+b.lastIndexOf(k);if(!k)return!1;const N=Um(k).map(S=>S.toObject(n.defaultProtocol));if(!EA(N))return!1;N.filter(S=>S.isLink).map(S=>({...S,from:z+S.start+1,to:z+S.end+1})).filter(S=>s.schema.marks.code?!s.doc.rangeHasMark(S.from,S.to,s.schema.marks.code):!0).filter(S=>n.validate(S.value)).filter(S=>n.shouldAutoLink(S.value)).forEach(S=>{Cm(S.from,S.to,s.doc).some(L=>L.mark.type===n.type)||c.addMark(S.from,S.to,n.type.create({href:S.href}))})}}),!!c.steps.length)return c}})}function OA(n){return new mt({key:new Tt("handleClickLink"),props:{handleClick:(e,t,s)=>{var l,a;if(s.button!==0||!e.editable)return!1;let c=!1;if(n.enableClickSelection&&(c=n.editor.commands.extendMarkRange(n.type.name)),n.openOnClick){let u=null;if(s.target instanceof HTMLAnchorElement)u=s.target;else{let y=s.target;const b=[];for(;y.nodeName!=="DIV";)b.push(y),y=y.parentNode;u=b.find(w=>w.nodeName==="A")}if(!u)return c;const h=Hv(e.state,n.type.name),p=(l=u==null?void 0:u.href)!=null?l:h.href,g=(a=u==null?void 0:u.target)!=null?a:h.target;u&&p&&(window.open(p,g),c=!0)}return c}}})}function DA(n){return new mt({key:new Tt("handlePasteLink"),props:{handlePaste:(e,t,s)=>{const{shouldAutoLink:l}=n,{state:a}=e,{selection:c}=a,{empty:u}=c;if(u)return!1;let h="";s.content.forEach(g=>{h+=g.textContent});const p=mk(h,{defaultProtocol:n.defaultProtocol}).find(g=>g.isLink&&g.value===h);return!h||!p||l!==void 0&&!l(p.href)?!1:n.editor.commands.setMark(n.type,{href:p.href})}}})}function br(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const l=typeof s=="string"?s:s.scheme;l&&t.push(l)}),!n||n.replace(TA,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var gk=Ir.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){v1(n);return}v1(n.scheme,n.optionalSlashes)})},onDestroy(){zA()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!br(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!br(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!br(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",pt(this.options.HTMLAttributes,n),0]:["a",pt(this.options.HTMLAttributes,{...n,href:""}),0]},markdownTokenName:"link",parseMarkdown:(n,e)=>e.applyMark("link",e.parseInline(n.tokens||[]),{href:n.href,title:n.title||null}),renderMarkdown:(n,e)=>{var t;const s=((t=n.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(n)}](${s})`},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:s=>!!br(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:s=>!!br(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[_r({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:s}=this.options,l=mk(n).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:c=>!!br(c,t),protocols:t,defaultProtocol:s}));l.length&&l.forEach(a=>{this.options.shouldAutoLink(a.value)&&e.push({text:a.value,data:{href:a.href},index:a.start})})}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(AA({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:l=>!!br(l,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),n.push(OA({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(DA({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),n}}),RA=gk,LA=Object.defineProperty,_A=(n,e)=>{for(var t in e)LA(n,t,{get:e[t],enumerable:!0})},BA="listItem",k1="textStyle",j1=/^\s*([-+*])\s$/,xk=Qt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",pt(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>n.type!=="list"||n.ordered?[]:{type:"bulletList",content:n.items?e.parseChildren(n.items):[]},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(BA,this.editor.getAttributes(k1)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Il({find:j1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Il({find:j1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(k1),editor:this.editor})),[n]}}),yk=Qt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",pt(this.options.HTMLAttributes,n),0]},markdownTokenName:"list_item",parseMarkdown:(n,e)=>{if(n.type!=="list_item")return[];let t=[];if(n.tokens&&n.tokens.length>0)if(n.tokens.some(l=>l.type==="paragraph"))t=e.parseChildren(n.tokens);else{const l=n.tokens[0];if(l&&l.type==="text"&&l.tokens&&l.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(l.tokens)}],n.tokens.length>1){const c=n.tokens.slice(1),u=e.parseChildren(c);t.push(...u)}}else t=e.parseChildren(n.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(n,e,t)=>Am(n,e,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),HA={};_A(HA,{findListItemPos:()=>yo,getNextListDepth:()=>Vm,handleBackspace:()=>Kp,handleDelete:()=>Gp,hasListBefore:()=>bk,hasListItemAfter:()=>UA,hasListItemBefore:()=>wk,listItemHasSubList:()=>vk,nextListIsDeeper:()=>kk,nextListIsHigher:()=>jk});var yo=(n,e)=>{const{$from:t}=e.selection,s=Ut(n,e.schema);let l=null,a=t.depth,c=t.pos,u=null;for(;a>0&&u===null;)l=t.node(a),l.type===s?u=a:(a-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},Vm=(n,e)=>{const t=yo(n,e);if(!t)return!1;const[,s]=UT(e,n,t.$pos.pos+4);return s},bk=(n,e,t)=>{const{$anchor:s}=n.selection,l=Math.max(0,s.pos-2),a=n.doc.resolve(l).node();return!(!a||!t.includes(a.type.name))},wk=(n,e)=>{var t;const{$anchor:s}=e.selection,l=e.doc.resolve(s.pos-2);return!(l.index()===0||((t=l.nodeBefore)==null?void 0:t.type.name)!==n)},vk=(n,e,t)=>{if(!t)return!1;const s=Ut(n,e.schema);let l=!1;return t.descendants(a=>{a.type===s&&(l=!0)}),l},Kp=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!Yi(n.state,e)&&bk(n.state,e,t)){const{$anchor:u}=n.state.selection,h=n.state.doc.resolve(u.before()-1),p=[];h.node().descendants((b,w)=>{b.type.name===e&&p.push({node:b,pos:w})});const g=p.at(-1);if(!g)return!1;const y=n.state.doc.resolve(h.start()+g.pos+1);return n.chain().cut({from:u.start()-1,to:u.end()+1},y.end()).joinForward().run()}if(!Yi(n.state,e)||!qT(n.state))return!1;const s=yo(e,n.state);if(!s)return!1;const a=n.state.doc.resolve(s.$pos.pos-2).node(s.depth),c=vk(e,n.state,a);return wk(e,n.state)&&!c?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},kk=(n,e)=>{const t=Vm(n,e),s=yo(n,e);return!s||!t?!1:t>s.depth},jk=(n,e)=>{const t=Vm(n,e),s=yo(n,e);return!s||!t?!1:t<s.depth},Gp=(n,e)=>{if(!Yi(n.state,e)||!PT(n.state,e))return!1;const{selection:t}=n.state,{$from:s,$to:l}=t;return!t.empty&&s.sameParent(l)?!1:kk(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():jk(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},UA=(n,e)=>{var t;const{$anchor:s}=e.selection,l=e.doc.resolve(s.pos-s.parentOffset-2);return!(l.index()===l.parent.childCount-1||((t=l.nodeAfter)==null?void 0:t.type.name)!==n)},Nk=Et.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&Gp(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&Gp(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:s})=>{n.state.schema.nodes[t]!==void 0&&Kp(n,t,s)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:s})=>{n.state.schema.nodes[t]!==void 0&&Kp(n,t,s)&&(e=!0)}),e}}}}),N1=/^(\s*)(\d+)\.\s+(.*)$/,IA=/^\s/;function VA(n){const e=[];let t=0,s=0;for(;t<n.length;){const l=n[t],a=l.match(N1);if(!a)break;const[,c,u,h]=a,p=c.length;let g=h,y=t+1;const b=[l];for(;y<n.length;){const w=n[y];if(w.match(N1))break;if(w.trim()==="")b.push(w),g+=`
`,y+=1;else if(w.match(IA))b.push(w),g+=`
${w.slice(p+2)}`,y+=1;else break}e.push({indent:p,number:parseInt(u,10),content:g.trim(),raw:b.join(`
`)}),s=y,t=y}return[e,s]}function zk(n,e,t){var s;const l=[];let a=0;for(;a<n.length;){const c=n[a];if(c.indent===e){const u=c.content.split(`
`),h=((s=u[0])==null?void 0:s.trim())||"",p=[];h&&p.push({type:"paragraph",raw:h,tokens:t.inlineTokens(h)});const g=u.slice(1).join(`
`).trim();if(g){const w=t.blockTokens(g);p.push(...w)}let y=a+1;const b=[];for(;y<n.length&&n[y].indent>e;)b.push(n[y]),y+=1;if(b.length>0){const w=Math.min(...b.map(z=>z.indent)),k=zk(b,w,t);p.push({type:"list",ordered:!0,start:b[0].number,items:k,raw:b.map(z=>z.raw).join(`
`)})}l.push({type:"list_item",raw:c.raw,tokens:p}),a=y}else a+=1}return l}function PA(n,e){return n.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const s=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(l=>{if(l.type==="paragraph"||l.type==="list"||l.type==="blockquote"||l.type==="code")s.push(...e.parseChildren([l]));else if(l.type==="text"&&l.tokens){const a=e.parseChildren([l]);s.push({type:"paragraph",content:a})}else{const a=e.parseChildren([l]);a.length>0&&s.push(...a)}}),{type:"listItem",content:s}})}var qA="listItem",z1="textStyle",S1=/^(\d+)\.\s$/,Sk=Qt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",pt(this.options.HTMLAttributes,t),0]:["ol",pt(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>{if(n.type!=="list"||!n.ordered)return[];const t=n.start||1,s=n.items?PA(n.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:s}:{type:"orderedList",content:s}},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:n=>{const e=n.match(/^(\s*)(\d+)\.\s+/),t=e==null?void 0:e.index;return t!==void 0?t:-1},tokenize:(n,e,t)=>{var s;const l=n.split(`
`),[a,c]=VA(l);if(a.length===0)return;const u=zk(a,0,t);return u.length===0?void 0:{type:"list",ordered:!0,start:((s=a[0])==null?void 0:s.number)||1,items:u,raw:l.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(qA,this.editor.getAttributes(z1)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Il({find:S1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Il({find:S1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(z1)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),$A=/^\s*(\[([( |x])?\])\s$/,KA=Qt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",pt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(n,e)=>{const t=[];if(n.tokens&&n.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(n.tokens))):n.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:n.text})])):t.push(e.createNode("paragraph",{},[])),n.nestedTokens&&n.nestedTokens.length>0){const s=e.parseChildren(n.nestedTokens);t.push(...s)}return e.createNode("taskItem",{checked:n.checked||!1},t)},renderMarkdown:(n,e)=>{var t;const l=`- [${(t=n.attrs)!=null&&t.checked?"x":" "}] `;return Am(n,e,l)},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:s})=>{const l=document.createElement("li"),a=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),h=document.createElement("div"),p=g=>{var y,b;u.ariaLabel=((b=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:b.call(y,g,u.checked))||`Task item checkbox for ${g.textContent||"empty task item"}`};return p(n),a.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",g=>g.preventDefault()),u.addEventListener("change",g=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:y}=g.target;s.isEditable&&typeof t=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const w=t();if(typeof w!="number")return!1;const k=b.doc.nodeAt(w);return b.setNodeMarkup(w,void 0,{...k==null?void 0:k.attrs,checked:y}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,y)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([g,y])=>{l.setAttribute(g,y)}),l.dataset.checked=n.attrs.checked,u.checked=n.attrs.checked,a.append(u,c),l.append(a,h),Object.entries(e).forEach(([g,y])=>{l.setAttribute(g,y)}),{dom:l,contentDOM:h,update:g=>g.type!==this.type?!1:(l.dataset.checked=g.attrs.checked,u.checked=g.attrs.checked,p(g),!0)}}},addInputRules(){return[Il({find:$A,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),GA=Qt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",pt(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},parseMarkdown:(n,e)=>e.createNode("taskList",{},e.parseChildren(n.items||[])),renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(n){var e;const t=(e=n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(n,e,t){const s=a=>{const c=Lp(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,h)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:t.inlineTokens(u.mainContent),nestedTokens:h}),customNestedParser:s},t);return c?[{type:"taskList",raw:c.raw,items:c.items}]:t.blockTokens(a)},l=Lp(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,c)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:t.inlineTokens(a.mainContent),nestedTokens:c}),customNestedParser:s},t);if(l)return{type:"taskList",raw:l.raw,items:l.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Et.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(xk.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(yk.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(Nk.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(Sk.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(KA.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(GA.configure(this.options.taskList)),n}});var WA=Qt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",pt(this.options.HTMLAttributes,n),0]},parseMarkdown:(n,e)=>{const t=n.tokens||[];return t.length===1&&t[0].type==="image"?e.parseChildren([t[0]]):e.createNode("paragraph",void 0,e.parseInline(t))},renderMarkdown:(n,e)=>!n||!Array.isArray(n.content)?"":e.renderChildren(n.content),addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),YA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ZA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,JA=Ir.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",pt(this.options.HTMLAttributes,n),0]},markdownTokenName:"del",parseMarkdown:(n,e)=>e.applyMark("strike",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`~~${e.renderChildren(n)}~~`,addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ul({find:YA,type:this.type})]},addPasteRules(){return[_r({find:ZA,type:this.type})]}}),QA=Qt.create({name:"text",group:"inline",parseMarkdown:n=>({type:"text",text:n.text||""}),renderMarkdown:n=>n.text||""}),XA=Ir.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",pt(this.options.HTMLAttributes,n),0]},parseMarkdown(n,e){return e.applyMark(this.name||"underline",e.parseInline(n.tokens||[]))},renderMarkdown(n,e){return`++${e.renderChildren(n)}++`},markdownTokenizer:{name:"underline",level:"inline",start(n){return n.indexOf("++")},tokenize(n,e,t){const l=/^(\+\+)([\s\S]+?)(\+\+)/.exec(n);if(!l)return;const a=l[2].trim();return{type:"underline",raw:l[0],text:a,tokens:t.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function FA(n={}){return new mt({view(e){return new e4(e,n)}})}class e4{constructor(e,t){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=t.width)!==null&&s!==void 0?s:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(l=>{let a=c=>{this[l](c)};return e.dom.addEventListener(l,a),{name:l,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,s,l=this.editorView.dom,a=l.getBoundingClientRect(),c=a.width/l.offsetWidth,u=a.height/l.offsetHeight;if(t){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let w=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(w){let k=w.getBoundingClientRect(),z=y?k.bottom:k.top;y&&b&&(z=(z+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let N=this.width/2*u;s={left:k.left,right:k.right,top:z-N,bottom:z+N}}}}if(!s){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*c;s={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let h=this.editorView.dom.offsetParent;this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let p,g;if(!h||h==document.body&&getComputedStyle(h).position=="static")p=-pageXOffset,g=-pageYOffset;else{let y=h.getBoundingClientRect(),b=y.width/h.offsetWidth,w=y.height/h.offsetHeight;p=y.left-h.scrollLeft*b,g=y.top-h.scrollTop*w}this.element.style.left=(s.left-p)/c+"px",this.element.style.top=(s.top-g)/u+"px",this.element.style.width=(s.right-s.left)/c+"px",this.element.style.height=(s.bottom-s.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),l=s&&s.type.spec.disableDropCursor,a=typeof l=="function"?l(this.editorView,t,e):l;if(t&&!a){let c=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=jw(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Ct extends ve{constructor(e){super(e,e)}map(e,t){let s=e.resolve(t.map(this.head));return Ct.valid(s)?new Ct(s):ve.near(s)}content(){return ne.empty}eq(e){return e instanceof Ct&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ct(e.resolve(t.pos))}getBookmark(){return new Pm(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!t4(e)||!n4(e))return!1;let s=t.type.spec.allowGapCursor;if(s!=null)return s;let l=t.contentMatchAt(e.index()).defaultType;return l&&l.isTextblock}static findGapCursorFrom(e,t,s=!1){e:for(;;){if(!s&&Ct.valid(e))return e;let l=e.pos,a=null;for(let c=e.depth;;c--){let u=e.node(c);if(t>0?e.indexAfter(c)<u.childCount:e.index(c)>0){a=u.child(t>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;l+=t;let h=e.doc.resolve(l);if(Ct.valid(h))return h}for(;;){let c=t>0?a.firstChild:a.lastChild;if(!c){if(a.isAtom&&!a.isText&&!xe.isSelectable(a)){e=e.doc.resolve(l+a.nodeSize*t),s=!1;continue e}break}a=c,l+=t;let u=e.doc.resolve(l);if(Ct.valid(u))return u}return null}}}Ct.prototype.visible=!1;Ct.findFrom=Ct.findGapCursorFrom;ve.jsonID("gapcursor",Ct);class Pm{constructor(e){this.pos=e}map(e){return new Pm(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ct.valid(t)?new Ct(t):ve.near(t)}}function Ck(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function t4(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),s=n.node(e);if(t==0){if(s.type.spec.isolating)return!0;continue}for(let l=s.child(t-1);;l=l.lastChild){if(l.childCount==0&&!l.inlineContent||Ck(l.type))return!0;if(l.inlineContent)return!1}}return!0}function n4(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),s=n.node(e);if(t==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let l=s.child(t);;l=l.firstChild){if(l.childCount==0&&!l.inlineContent||Ck(l.type))return!0;if(l.inlineContent)return!1}}return!0}function s4(){return new mt({props:{decorations:a4,createSelectionBetween(n,e,t){return e.pos==t.pos&&Ct.valid(t)?new Ct(t):null},handleClick:r4,handleKeyDown:i4,handleDOMEvents:{beforeinput:l4}}})}const i4=bm({ArrowLeft:Wc("horiz",-1),ArrowRight:Wc("horiz",1),ArrowUp:Wc("vert",-1),ArrowDown:Wc("vert",1)});function Wc(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,l,a){let c=s.selection,u=e>0?c.$to:c.$from,h=c.empty;if(c instanceof ye){if(!a.endOfTextblock(t)||u.depth==0)return!1;h=!1,u=s.doc.resolve(e>0?u.after():u.before())}let p=Ct.findGapCursorFrom(u,e,h);return p?(l&&l(s.tr.setSelection(new Ct(p))),!0):!1}}function r4(n,e,t){if(!n||!n.editable)return!1;let s=n.state.doc.resolve(e);if(!Ct.valid(s))return!1;let l=n.posAtCoords({left:t.clientX,top:t.clientY});return l&&l.inside>-1&&xe.isSelectable(n.state.doc.nodeAt(l.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Ct(s))),!0)}function l4(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Ct))return!1;let{$from:t}=n.state.selection,s=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!s)return!1;let l=W.empty;for(let c=s.length-1;c>=0;c--)l=W.from(s[c].createAndFill(null,l));let a=n.state.tr.replace(t.pos,t.pos,new ne(l,0,0));return a.setSelection(ye.near(a.doc.resolve(t.pos+1))),n.dispatch(a),!1}function a4(n){if(!(n.selection instanceof Ct))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ct.create(n.doc,[Yt.widget(n.selection.head,e,{key:"gapcursor"})])}var Jd=200,Jt=function(){};Jt.prototype.append=function(e){return e.length?(e=Jt.from(e),!this.length&&e||e.length<Jd&&this.leafAppend(e)||this.length<Jd&&e.leafPrepend(this)||this.appendInner(e)):this};Jt.prototype.prepend=function(e){return e.length?Jt.from(e).append(this):this};Jt.prototype.appendInner=function(e){return new o4(this,e)};Jt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Jt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Jt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Jt.prototype.forEach=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=this.length),t<=s?this.forEachInner(e,t,s,0):this.forEachInvertedInner(e,t,s,0)};Jt.prototype.map=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=this.length);var l=[];return this.forEach(function(a,c){return l.push(e(a,c))},t,s),l};Jt.from=function(e){return e instanceof Jt?e:e&&e.length?new Mk(e):Jt.empty};var Mk=(function(n){function e(s){n.call(this),this.values=s}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(l,a){return l==0&&a==this.length?this:new e(this.values.slice(l,a))},e.prototype.getInner=function(l){return this.values[l]},e.prototype.forEachInner=function(l,a,c,u){for(var h=a;h<c;h++)if(l(this.values[h],u+h)===!1)return!1},e.prototype.forEachInvertedInner=function(l,a,c,u){for(var h=a-1;h>=c;h--)if(l(this.values[h],u+h)===!1)return!1},e.prototype.leafAppend=function(l){if(this.length+l.length<=Jd)return new e(this.values.concat(l.flatten()))},e.prototype.leafPrepend=function(l){if(this.length+l.length<=Jd)return new e(l.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(Jt);Jt.empty=new Mk([]);var o4=(function(n){function e(t,s){n.call(this),this.left=t,this.right=s,this.length=t.length+s.length,this.depth=Math.max(t.depth,s.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,l,a,c){var u=this.left.length;if(l<u&&this.left.forEachInner(s,l,Math.min(a,u),c)===!1||a>u&&this.right.forEachInner(s,Math.max(l-u,0),Math.min(this.length,a)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(s,l,a,c){var u=this.left.length;if(l>u&&this.right.forEachInvertedInner(s,l-u,Math.max(a,u)-u,c+u)===!1||a<u&&this.left.forEachInvertedInner(s,Math.min(l,u),a,c)===!1)return!1},e.prototype.sliceInner=function(s,l){if(s==0&&l==this.length)return this;var a=this.left.length;return l<=a?this.left.slice(s,l):s>=a?this.right.slice(s-a,l-a):this.left.slice(s,a).append(this.right.slice(0,l-a))},e.prototype.leafAppend=function(s){var l=this.right.leafAppend(s);if(l)return new e(this.left,l)},e.prototype.leafPrepend=function(s){var l=this.left.leafPrepend(s);if(l)return new e(l,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e})(Jt);const c4=500;class cs{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let l,a;t&&(l=this.remapping(s,this.items.length),a=l.maps.length);let c=e.tr,u,h,p=[],g=[];return this.items.forEach((y,b)=>{if(!y.step){l||(l=this.remapping(s,b+1),a=l.maps.length),a--,g.push(y);return}if(l){g.push(new vs(y.map));let w=y.step.map(l.slice(a)),k;w&&c.maybeStep(w).doc&&(k=c.mapping.maps[c.mapping.maps.length-1],p.push(new vs(k,void 0,void 0,p.length+g.length))),a--,k&&l.appendMap(k,a)}else c.maybeStep(y.step);if(y.selection)return u=l?y.selection.map(l.slice(a)):y.selection,h=new cs(this.items.slice(0,s).append(g.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:h,transform:c,selection:u}}addTransform(e,t,s,l){let a=[],c=this.eventCount,u=this.items,h=!l&&u.length?u.get(u.length-1):null;for(let g=0;g<e.steps.length;g++){let y=e.steps[g].invert(e.docs[g]),b=new vs(e.mapping.maps[g],y,t),w;(w=h&&h.merge(b))&&(b=w,g?a.pop():u=u.slice(0,u.length-1)),a.push(b),t&&(c++,t=void 0),l||(h=b)}let p=c-s.depth;return p>u4&&(u=d4(u,p),c-=p),new cs(u.append(a),c)}remapping(e,t){let s=new io;return this.items.forEach((l,a)=>{let c=l.mirrorOffset!=null&&a-l.mirrorOffset>=e?s.maps.length-l.mirrorOffset:void 0;s.appendMap(l.map,c)},e,t),s}addMaps(e){return this.eventCount==0?this:new cs(this.items.append(e.map(t=>new vs(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let s=[],l=Math.max(0,this.items.length-t),a=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},l);let h=t;this.items.forEach(b=>{let w=a.getMirror(--h);if(w==null)return;c=Math.min(c,w);let k=a.maps[w];if(b.step){let z=e.steps[w].invert(e.docs[w]),N=b.selection&&b.selection.map(a.slice(h+1,w));N&&u++,s.push(new vs(k,z,N))}else s.push(new vs(k))},l);let p=[];for(let b=t;b<c;b++)p.push(new vs(a.maps[b]));let g=this.items.slice(0,l).append(p).append(s),y=new cs(g,u);return y.emptyItemCount()>c4&&(y=y.compress(this.items.length-s.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),s=t.maps.length,l=[],a=0;return this.items.forEach((c,u)=>{if(u>=e)l.push(c),c.selection&&a++;else if(c.step){let h=c.step.map(t.slice(s)),p=h&&h.getMap();if(s--,p&&t.appendMap(p,s),h){let g=c.selection&&c.selection.map(t.slice(s));g&&a++;let y=new vs(p.invert(),h,g),b,w=l.length-1;(b=l.length&&l[w].merge(y))?l[w]=b:l.push(y)}}else c.map&&s--},this.items.length,0),new cs(Jt.from(l.reverse()),a)}}cs.empty=new cs(Jt.empty,0);function d4(n,e){let t;return n.forEach((s,l)=>{if(s.selection&&e--==0)return t=l,!1}),n.slice(t)}class vs{constructor(e,t,s,l){this.map=e,this.step=t,this.selection=s,this.mirrorOffset=l}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new vs(t.getMap().invert(),t,this.selection)}}}class Ri{constructor(e,t,s,l,a){this.done=e,this.undone=t,this.prevRanges=s,this.prevTime=l,this.prevComposition=a}}const u4=20;function f4(n,e,t,s){let l=t.getMeta(Ar),a;if(l)return l.historyState;t.getMeta(m4)&&(n=new Ri(n.done,n.undone,null,0,-1));let c=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(c&&c.getMeta(Ar))return c.getMeta(Ar).redo?new Ri(n.done.addTransform(t,void 0,s,id(e)),n.undone,C1(t.mapping.maps),n.prevTime,n.prevComposition):new Ri(n.done,n.undone.addTransform(t,void 0,s,id(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),h=n.prevTime==0||!c&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-s.newGroupDelay||!h4(t,n.prevRanges)),p=c?hp(n.prevRanges,t.mapping):C1(t.mapping.maps);return new Ri(n.done.addTransform(t,h?e.selection.getBookmark():void 0,s,id(e)),cs.empty,p,t.time,u??n.prevComposition)}else return(a=t.getMeta("rebased"))?new Ri(n.done.rebased(t,a),n.undone.rebased(t,a),hp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ri(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),hp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function h4(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((s,l)=>{for(let a=0;a<e.length;a+=2)s<=e[a+1]&&l>=e[a]&&(t=!0)}),t}function C1(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((s,l,a,c)=>e.push(a,c));return e}function hp(n,e){if(!n)return null;let t=[];for(let s=0;s<n.length;s+=2){let l=e.map(n[s],1),a=e.map(n[s+1],-1);l<=a&&t.push(l,a)}return t}function p4(n,e,t){let s=id(e),l=Ar.get(e).spec.config,a=(t?n.undone:n.done).popEvent(e,s);if(!a)return null;let c=a.selection.resolve(a.transform.doc),u=(t?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),l,s),h=new Ri(t?u:a.remaining,t?a.remaining:u,null,0,-1);return a.transform.setSelection(c).setMeta(Ar,{redo:t,historyState:h})}let pp=!1,M1=null;function id(n){let e=n.plugins;if(M1!=e){pp=!1,M1=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){pp=!0;break}}return pp}const Ar=new Tt("history"),m4=new Tt("closeHistory");function g4(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new mt({key:Ar,state:{init(){return new Ri(cs.empty,cs.empty,null,0,-1)},apply(e,t,s){return f4(t,s,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let s=t.inputType,l=s=="historyUndo"?Ek:s=="historyRedo"?Ak:null;return!l||!e.editable?!1:(t.preventDefault(),l(e.state,e.dispatch))}}}})}function Tk(n,e){return(t,s)=>{let l=Ar.getState(t);if(!l||(n?l.undone:l.done).eventCount==0)return!1;if(s){let a=p4(l,t,n);a&&s(e?a.scrollIntoView():a)}return!0}}const Ek=Tk(!1,!0),Ak=Tk(!0,!0);Et.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=(n==null?void 0:n.node)||this.editor.state.doc;if(((n==null?void 0:n.mode)||this.options.mode)==="textSize"){const s=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(s)}return e.nodeSize},this.storage.words=n=>{const e=(n==null?void 0:n.node)||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new mt({key:new Tt("characterCount"),appendTransaction:(e,t,s)=>{if(n)return;const l=this.options.limit;if(l==null||l===0){n=!0;return}const a=this.storage.characters({node:s.doc});if(a>l){const c=a-l,u=0,h=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${l} characters. Content was automatically trimmed.`);const p=s.tr.deleteRange(u,h);return n=!0,p}n=!0},filterTransaction:(e,t)=>{const s=this.options.limit;if(!e.docChanged||s===0||s===null||s===void 0)return!0;const l=this.storage.characters({node:t.doc}),a=this.storage.characters({node:e.doc});if(a<=s||l>s&&a>s&&a<=l)return!0;if(l>s&&a>s&&a>l||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,h=a-s,p=u-h,g=u;return e.deleteRange(p,g),!(this.storage.characters({node:e.doc})>s)}})]}});var x4=Et.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[FA(this.options)]}});Et.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new mt({key:new Tt("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:s}=this.editor,{anchor:l}=e,a=[];if(!t||!s)return ct.create(n,[]);let c=0;this.options.mode==="deepest"&&n.descendants((h,p)=>{if(h.isText)return;if(!(l>=p&&l<=p+h.nodeSize-1))return!1;c+=1});let u=0;return n.descendants((h,p)=>{if(h.isText||!(l>=p&&l<=p+h.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";a.push(Yt.node(p,p+h.nodeSize,{class:this.options.className}))}),ct.create(n,a)}}})]}});var y4=Et.create({name:"gapCursor",addProseMirrorPlugins(){return[s4()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Je(me(n,"allowGapCursor",t)))!=null?e:null}}});Et.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new mt({key:new Tt("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,l=[];if(!t)return null;const a=this.editor.isEmpty;return n.descendants((c,u)=>{const h=s>=u&&s<=u+c.nodeSize,p=!c.isLeaf&&ou(c);if((h||!this.options.showOnlyCurrent)&&p){const g=[this.options.emptyNodeClass];a&&g.push(this.options.emptyEditorClass);const y=Yt.node(u,u+c.nodeSize,{class:g.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:h}):this.options.placeholder});l.push(y)}return this.options.includeChildren}),ct.create(n,l)}}})]}});Et.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new mt({key:new Tt("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||Iv(t.selection)||n.view.dragging?null:ct.create(t.doc,[Yt.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function T1({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||(e==null?void 0:e.type)===n}var b4=Et.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var n;const e=new Tt(this.name),t=this.options.node||((n=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:n.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,l])=>l).filter(l=>(this.options.notAfter||[]).concat(t).includes(l.name));return[new mt({key:e,appendTransaction:(l,a,c)=>{const{doc:u,tr:h,schema:p}=c,g=e.getState(c),y=u.content.size,b=p.nodes[t];if(g)return h.insert(y,b.create())},state:{init:(l,a)=>{const c=a.tr.doc.lastChild;return!T1({node:c,types:s})},apply:(l,a)=>{if(!l.docChanged||l.getMeta("__uniqueIDTransaction"))return a;const c=l.doc.lastChild;return!T1({node:c,types:s})}}})]}}),w4=Et.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>Ek(n,e),redo:()=>({state:n,dispatch:e})=>Ak(n,e)}},addProseMirrorPlugins(){return[g4(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),v4=Et.create({name:"starterKit",addExtensions(){var n,e,t,s;const l=[];return this.options.bold!==!1&&l.push(Y3.configure(this.options.bold)),this.options.blockquote!==!1&&l.push(q3.configure(this.options.blockquote)),this.options.bulletList!==!1&&l.push(xk.configure(this.options.bulletList)),this.options.code!==!1&&l.push(Q3.configure(this.options.code)),this.options.codeBlock!==!1&&l.push(eA.configure(this.options.codeBlock)),this.options.document!==!1&&l.push(tA.configure(this.options.document)),this.options.dropcursor!==!1&&l.push(x4.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&l.push(y4.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&l.push(nA.configure(this.options.hardBreak)),this.options.heading!==!1&&l.push(sA.configure(this.options.heading)),this.options.undoRedo!==!1&&l.push(w4.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&l.push(iA.configure(this.options.horizontalRule)),this.options.italic!==!1&&l.push(cA.configure(this.options.italic)),this.options.listItem!==!1&&l.push(yk.configure(this.options.listItem)),this.options.listKeymap!==!1&&l.push(Nk.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&l.push(gk.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&l.push(Sk.configure(this.options.orderedList)),this.options.paragraph!==!1&&l.push(WA.configure(this.options.paragraph)),this.options.strike!==!1&&l.push(JA.configure(this.options.strike)),this.options.text!==!1&&l.push(QA.configure(this.options.text)),this.options.underline!==!1&&l.push(XA.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&l.push(b4.configure((s=this.options)==null?void 0:s.trailingNode)),l}}),k4=v4,j4=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,N4=Qt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",pt(this.options.HTMLAttributes,n)]},parseMarkdown:(n,e)=>e.createNode("image",{src:n.href,title:n.title,alt:n.text}),renderMarkdown:n=>{var e,t,s,l,a,c;const u=(t=(e=n.attrs)==null?void 0:e.src)!=null?t:"",h=(l=(s=n.attrs)==null?void 0:s.alt)!=null?l:"",p=(c=(a=n.attrs)==null?void 0:a.title)!=null?c:"";return p?`![${h}](${u} "${p}")`:`![${h}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:n,minWidth:e,minHeight:t,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:l,getPos:a,HTMLAttributes:c,editor:u})=>{const h=document.createElement("img");Object.entries(c).forEach(([y,b])=>{if(b!=null)switch(y){case"width":case"height":break;default:h.setAttribute(y,b);break}}),h.src=c.src;const p=new TE({element:h,editor:u,node:l,getPos:a,onResize:(y,b)=>{h.style.width=`${y}px`,h.style.height=`${b}px`},onCommit:(y,b)=>{const w=a();w!==void 0&&this.editor.chain().setNodeSelection(w).updateAttributes(this.name,{width:y,height:b}).run()},onUpdate:(y,b,w)=>y.type===l.type,options:{directions:n,min:{width:e,height:t},preserveAspectRatio:s===!0}}),g=p.dom;return g.style.visibility="hidden",g.style.pointerEvents="none",h.onload=()=>{g.style.visibility="",g.style.pointerEvents=""},p}},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[sk({find:j4,type:this.type,getAttributes:n=>{const[,,e,t,s]=n;return{src:t,alt:e,title:s}}})]}}),z4=N4;let Wp,Yp;if(typeof WeakMap<"u"){let n=new WeakMap;Wp=e=>n.get(e),Yp=(e,t)=>(n.set(e,t),t)}else{const n=[];let t=0;Wp=s=>{for(let l=0;l<n.length;l+=2)if(n[l]==s)return n[l+1]},Yp=(s,l)=>(t==10&&(t=0),n[t++]=s,n[t++]=l)}var Mt=class{constructor(n,e,t,s){this.width=n,this.height=e,this.map=t,this.problems=s}findCell(n){for(let e=0;e<this.map.length;e++){const t=this.map[e];if(t!=n)continue;const s=e%this.width,l=e/this.width|0;let a=s+1,c=l+1;for(let u=1;a<this.width&&this.map[e+u]==t;u++)a++;for(let u=1;c<this.height&&this.map[e+this.width*u]==t;u++)c++;return{left:s,top:l,right:a,bottom:c}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let e=0;e<this.map.length;e++)if(this.map[e]==n)return e%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,e,t){const{left:s,right:l,top:a,bottom:c}=this.findCell(n);return e=="horiz"?(t<0?s==0:l==this.width)?null:this.map[a*this.width+(t<0?s-1:l)]:(t<0?a==0:c==this.height)?null:this.map[s+this.width*(t<0?a-1:c)]}rectBetween(n,e){const{left:t,right:s,top:l,bottom:a}=this.findCell(n),{left:c,right:u,top:h,bottom:p}=this.findCell(e);return{left:Math.min(t,c),top:Math.min(l,h),right:Math.max(s,u),bottom:Math.max(a,p)}}cellsInRect(n){const e=[],t={};for(let s=n.top;s<n.bottom;s++)for(let l=n.left;l<n.right;l++){const a=s*this.width+l,c=this.map[a];t[c]||(t[c]=!0,!(l==n.left&&l&&this.map[a-1]==c||s==n.top&&s&&this.map[a-this.width]==c)&&e.push(c))}return e}positionAt(n,e,t){for(let s=0,l=0;;s++){const a=l+t.child(s).nodeSize;if(s==n){let c=e+n*this.width;const u=(n+1)*this.width;for(;c<u&&this.map[c]<l;)c++;return c==u?a-1:this.map[c]}l=a}}static get(n){return Wp(n)||Yp(n,S4(n))}};function S4(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const e=C4(n),t=n.childCount,s=[];let l=0,a=null;const c=[];for(let p=0,g=e*t;p<g;p++)s[p]=0;for(let p=0,g=0;p<t;p++){const y=n.child(p);g++;for(let k=0;;k++){for(;l<s.length&&s[l]!=0;)l++;if(k==y.childCount)break;const z=y.child(k),{colspan:N,rowspan:S,colwidth:L}=z.attrs;for(let Y=0;Y<S;Y++){if(Y+p>=t){(a||(a=[])).push({type:"overlong_rowspan",pos:g,n:S-Y});break}const Q=l+Y*e;for(let q=0;q<N;q++){s[Q+q]==0?s[Q+q]=g:(a||(a=[])).push({type:"collision",row:p,pos:g,n:N-q});const Z=L&&L[q];if(Z){const I=(Q+q)%e*2,ie=c[I];ie==null||ie!=Z&&c[I+1]==1?(c[I]=Z,c[I+1]=1):ie==Z&&c[I+1]++}}}l+=N,g+=z.nodeSize}const b=(p+1)*e;let w=0;for(;l<b;)s[l++]==0&&w++;w&&(a||(a=[])).push({type:"missing",row:p,n:w}),g++}(e===0||t===0)&&(a||(a=[])).push({type:"zero_sized"});const u=new Mt(e,t,s,a);let h=!1;for(let p=0;!h&&p<c.length;p+=2)c[p]!=null&&c[p+1]<t&&(h=!0);return h&&M4(u,c,n),u}function C4(n){let e=-1,t=!1;for(let s=0;s<n.childCount;s++){const l=n.child(s);let a=0;if(t)for(let c=0;c<s;c++){const u=n.child(c);for(let h=0;h<u.childCount;h++){const p=u.child(h);c+p.attrs.rowspan>s&&(a+=p.attrs.colspan)}}for(let c=0;c<l.childCount;c++){const u=l.child(c);a+=u.attrs.colspan,u.attrs.rowspan>1&&(t=!0)}e==-1?e=a:e!=a&&(e=Math.max(e,a))}return e}function M4(n,e,t){n.problems||(n.problems=[]);const s={};for(let l=0;l<n.map.length;l++){const a=n.map[l];if(s[a])continue;s[a]=!0;const c=t.nodeAt(a);if(!c)throw new RangeError(`No cell with offset ${a} found`);let u=null;const h=c.attrs;for(let p=0;p<h.colspan;p++){const g=e[(l+p)%n.width*2];g!=null&&(!h.colwidth||h.colwidth[p]!=g)&&((u||(u=T4(h)))[p]=g)}u&&n.problems.unshift({type:"colwidth mismatch",pos:a,colwidth:u})}}function T4(n){if(n.colwidth)return n.colwidth.slice();const e=[];for(let t=0;t<n.colspan;t++)e.push(0);return e}function fn(n){let e=n.cached.tableNodeTypes;if(!e){e=n.cached.tableNodeTypes={};for(const t in n.nodes){const s=n.nodes[t],l=s.spec.tableRole;l&&(e[l]=s)}}return e}const Hi=new Tt("selectingCells");function Br(n){for(let e=n.depth-1;e>0;e--)if(n.node(e).type.spec.tableRole=="row")return n.node(0).resolve(n.before(e+1));return null}function E4(n){for(let e=n.depth;e>0;e--){const t=n.node(e).type.spec.tableRole;if(t==="cell"||t==="header_cell")return n.node(e)}return null}function fs(n){const e=n.selection.$head;for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function fu(n){const e=n.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const t=Br(e.$head)||A4(e.$head);if(t)return t;throw new RangeError(`No cell found around position ${e.head}`)}function A4(n){for(let e=n.nodeAfter,t=n.pos;e;e=e.firstChild,t++){const s=e.type.spec.tableRole;if(s=="cell"||s=="header_cell")return n.doc.resolve(t)}for(let e=n.nodeBefore,t=n.pos;e;e=e.lastChild,t--){const s=e.type.spec.tableRole;if(s=="cell"||s=="header_cell")return n.doc.resolve(t-e.nodeSize)}}function Zp(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function O4(n){return n.node(0).resolve(n.pos+n.nodeAfter.nodeSize)}function qm(n,e){return n.depth==e.depth&&n.pos>=e.start(-1)&&n.pos<=e.end(-1)}function Ok(n,e,t){const s=n.node(-1),l=Mt.get(s),a=n.start(-1),c=l.nextCell(n.pos-a,e,t);return c==null?null:n.node(0).resolve(a+c)}function Hr(n,e,t=1){const s={...n,colspan:n.colspan-t};return s.colwidth&&(s.colwidth=s.colwidth.slice(),s.colwidth.splice(e,t),s.colwidth.some(l=>l>0)||(s.colwidth=null)),s}function Dk(n,e,t=1){const s={...n,colspan:n.colspan+t};if(s.colwidth){s.colwidth=s.colwidth.slice();for(let l=0;l<t;l++)s.colwidth.splice(e,0,0)}return s}function D4(n,e,t){const s=fn(e.type.schema).header_cell;for(let l=0;l<n.height;l++)if(e.nodeAt(n.map[t+l*n.width]).type!=s)return!1;return!0}var dt=class Ys extends ve{constructor(e,t=e){const s=e.node(-1),l=Mt.get(s),a=e.start(-1),c=l.rectBetween(e.pos-a,t.pos-a),u=e.node(0),h=l.cellsInRect(c).filter(g=>g!=t.pos-a);h.unshift(t.pos-a);const p=h.map(g=>{const y=s.nodeAt(g);if(!y)throw new RangeError(`No cell with offset ${g} found`);const b=a+g+1;return new Mw(u.resolve(b),u.resolve(b+y.content.size))});super(p[0].$from,p[0].$to,p),this.$anchorCell=e,this.$headCell=t}map(e,t){const s=e.resolve(t.map(this.$anchorCell.pos)),l=e.resolve(t.map(this.$headCell.pos));if(Zp(s)&&Zp(l)&&qm(s,l)){const a=this.$anchorCell.node(-1)!=s.node(-1);return a&&this.isRowSelection()?Ys.rowSelection(s,l):a&&this.isColSelection()?Ys.colSelection(s,l):new Ys(s,l)}return ye.between(s,l)}content(){const e=this.$anchorCell.node(-1),t=Mt.get(e),s=this.$anchorCell.start(-1),l=t.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s),a={},c=[];for(let h=l.top;h<l.bottom;h++){const p=[];for(let g=h*t.width+l.left,y=l.left;y<l.right;y++,g++){const b=t.map[g];if(a[b])continue;a[b]=!0;const w=t.findCell(b);let k=e.nodeAt(b);if(!k)throw new RangeError(`No cell with offset ${b} found`);const z=l.left-w.left,N=w.right-l.right;if(z>0||N>0){let S=k.attrs;if(z>0&&(S=Hr(S,0,z)),N>0&&(S=Hr(S,S.colspan-N,N)),w.left<l.left){if(k=k.type.createAndFill(S),!k)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(S)}`)}else k=k.type.create(S,k.content)}if(w.top<l.top||w.bottom>l.bottom){const S={...k.attrs,rowspan:Math.min(w.bottom,l.bottom)-Math.max(w.top,l.top)};w.top<l.top?k=k.type.createAndFill(S):k=k.type.create(S,k.content)}p.push(k)}c.push(e.child(h).copy(W.from(p)))}const u=this.isColSelection()&&this.isRowSelection()?e:c;return new ne(W.from(u),1,1)}replace(e,t=ne.empty){const s=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){const{$from:u,$to:h}=l[c],p=e.mapping.slice(s);e.replace(p.map(u.pos),p.map(h.pos),c?ne.empty:t)}const a=ve.findFrom(e.doc.resolve(e.mapping.slice(s).map(this.to)),-1);a&&e.setSelection(a)}replaceWith(e,t){this.replace(e,new ne(W.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),s=Mt.get(t),l=this.$anchorCell.start(-1),a=s.cellsInRect(s.rectBetween(this.$anchorCell.pos-l,this.$headCell.pos-l));for(let c=0;c<a.length;c++)e(t.nodeAt(a[c]),l+a[c])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const s=e+this.$anchorCell.nodeAfter.attrs.rowspan,l=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(s,l)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){const s=e.node(-1),l=Mt.get(s),a=e.start(-1),c=l.findCell(e.pos-a),u=l.findCell(t.pos-a),h=e.node(0);return c.top<=u.top?(c.top>0&&(e=h.resolve(a+l.map[c.left])),u.bottom<l.height&&(t=h.resolve(a+l.map[l.width*(l.height-1)+u.right-1]))):(u.top>0&&(t=h.resolve(a+l.map[u.left])),c.bottom<l.height&&(e=h.resolve(a+l.map[l.width*(l.height-1)+c.right-1]))),new Ys(e,t)}isRowSelection(){const e=this.$anchorCell.node(-1),t=Mt.get(e),s=this.$anchorCell.start(-1),l=t.colCount(this.$anchorCell.pos-s),a=t.colCount(this.$headCell.pos-s);if(Math.min(l,a)>0)return!1;const c=l+this.$anchorCell.nodeAfter.attrs.colspan,u=a+this.$headCell.nodeAfter.attrs.colspan;return Math.max(c,u)==t.width}eq(e){return e instanceof Ys&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){const s=e.node(-1),l=Mt.get(s),a=e.start(-1),c=l.findCell(e.pos-a),u=l.findCell(t.pos-a),h=e.node(0);return c.left<=u.left?(c.left>0&&(e=h.resolve(a+l.map[c.top*l.width])),u.right<l.width&&(t=h.resolve(a+l.map[l.width*(u.top+1)-1]))):(u.left>0&&(t=h.resolve(a+l.map[u.top*l.width])),c.right<l.width&&(e=h.resolve(a+l.map[l.width*(c.top+1)-1]))),new Ys(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new Ys(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,s=t){return new Ys(e.resolve(t),e.resolve(s))}getBookmark(){return new R4(this.$anchorCell.pos,this.$headCell.pos)}};dt.prototype.visible=!1;ve.jsonID("cell",dt);var R4=class Rk{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Rk(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),s=e.resolve(this.head);return t.parent.type.spec.tableRole=="row"&&s.parent.type.spec.tableRole=="row"&&t.index()<t.parent.childCount&&s.index()<s.parent.childCount&&qm(t,s)?new dt(t,s):ve.near(s,1)}};function L4(n){if(!(n.selection instanceof dt))return null;const e=[];return n.selection.forEachCell((t,s)=>{e.push(Yt.node(s,s+t.nodeSize,{class:"selectedCell"}))}),ct.create(n.doc,e)}function _4({$from:n,$to:e}){if(n.pos==e.pos||n.pos<e.pos-6)return!1;let t=n.pos,s=e.pos,l=n.depth;for(;l>=0&&!(n.after(l+1)<n.end(l));l--,t++);for(let a=e.depth;a>=0&&!(e.before(a+1)>e.start(a));a--,s--);return t==s&&/row|table/.test(n.node(l).type.spec.tableRole)}function B4({$from:n,$to:e}){let t,s;for(let l=n.depth;l>0;l--){const a=n.node(l);if(a.type.spec.tableRole==="cell"||a.type.spec.tableRole==="header_cell"){t=a;break}}for(let l=e.depth;l>0;l--){const a=e.node(l);if(a.type.spec.tableRole==="cell"||a.type.spec.tableRole==="header_cell"){s=a;break}}return t!==s&&e.parentOffset===0}function H4(n,e,t){const s=(e||n).selection,l=(e||n).doc;let a,c;if(s instanceof xe&&(c=s.node.type.spec.tableRole)){if(c=="cell"||c=="header_cell")a=dt.create(l,s.from);else if(c=="row"){const u=l.resolve(s.from+1);a=dt.rowSelection(u,u)}else if(!t){const u=Mt.get(s.node),h=s.from+1,p=h+u.map[u.width*u.height-1];a=dt.create(l,h+1,p)}}else s instanceof ye&&_4(s)?a=ye.create(l,s.from):s instanceof ye&&B4(s)&&(a=ye.create(l,s.$from.start(),s.$from.end()));return a&&(e||(e=n.tr)).setSelection(a),e}const U4=new Tt("fix-tables");function Lk(n,e,t,s){const l=n.childCount,a=e.childCount;e:for(let c=0,u=0;c<a;c++){const h=e.child(c);for(let p=u,g=Math.min(l,c+3);p<g;p++)if(n.child(p)==h){u=p+1,t+=h.nodeSize;continue e}s(h,t),u<l&&n.child(u).sameMarkup(h)?Lk(n.child(u),h,t+1,s):h.nodesBetween(0,h.content.size,s,t+1),t+=h.nodeSize}}function _k(n,e){let t;const s=(l,a)=>{l.type.spec.tableRole=="table"&&(t=I4(n,l,a,t))};return e?e.doc!=n.doc&&Lk(e.doc,n.doc,0,s):n.doc.descendants(s),t}function I4(n,e,t,s){const l=Mt.get(e);if(!l.problems)return s;s||(s=n.tr);const a=[];for(let h=0;h<l.height;h++)a.push(0);for(let h=0;h<l.problems.length;h++){const p=l.problems[h];if(p.type=="collision"){const g=e.nodeAt(p.pos);if(!g)continue;const y=g.attrs;for(let b=0;b<y.rowspan;b++)a[p.row+b]+=p.n;s.setNodeMarkup(s.mapping.map(t+1+p.pos),null,Hr(y,y.colspan-p.n,p.n))}else if(p.type=="missing")a[p.row]+=p.n;else if(p.type=="overlong_rowspan"){const g=e.nodeAt(p.pos);if(!g)continue;s.setNodeMarkup(s.mapping.map(t+1+p.pos),null,{...g.attrs,rowspan:g.attrs.rowspan-p.n})}else if(p.type=="colwidth mismatch"){const g=e.nodeAt(p.pos);if(!g)continue;s.setNodeMarkup(s.mapping.map(t+1+p.pos),null,{...g.attrs,colwidth:p.colwidth})}else if(p.type=="zero_sized"){const g=s.mapping.map(t);s.delete(g,g+e.nodeSize)}}let c,u;for(let h=0;h<a.length;h++)a[h]&&(c==null&&(c=h),u=h);for(let h=0,p=t+1;h<l.height;h++){const g=e.child(h),y=p+g.nodeSize,b=a[h];if(b>0){let w="cell";g.firstChild&&(w=g.firstChild.type.spec.tableRole);const k=[];for(let N=0;N<b;N++){const S=fn(n.schema)[w].createAndFill();S&&k.push(S)}const z=(h==0||c==h-1)&&u==h?p+1:y-1;s.insert(s.mapping.map(z),k)}p=y}return s.setMeta(U4,{fixTables:!0})}function Ns(n){const e=n.selection,t=fu(n),s=t.node(-1),l=t.start(-1),a=Mt.get(s);return{...e instanceof dt?a.rectBetween(e.$anchorCell.pos-l,e.$headCell.pos-l):a.findCell(t.pos-l),tableStart:l,map:a,table:s}}function Bk(n,{map:e,tableStart:t,table:s},l){let a=l>0?-1:0;D4(e,s,l+a)&&(a=l==0||l==e.width?null:0);for(let c=0;c<e.height;c++){const u=c*e.width+l;if(l>0&&l<e.width&&e.map[u-1]==e.map[u]){const h=e.map[u],p=s.nodeAt(h);n.setNodeMarkup(n.mapping.map(t+h),null,Dk(p.attrs,l-e.colCount(h))),c+=p.attrs.rowspan-1}else{const h=a==null?fn(s.type.schema).cell:s.nodeAt(e.map[u+a]).type,p=e.positionAt(c,l,s);n.insert(n.mapping.map(t+p),h.createAndFill())}}return n}function V4(n,e){if(!fs(n))return!1;if(e){const t=Ns(n);e(Bk(n.tr,t,t.left))}return!0}function P4(n,e){if(!fs(n))return!1;if(e){const t=Ns(n);e(Bk(n.tr,t,t.right))}return!0}function q4(n,{map:e,table:t,tableStart:s},l){const a=n.mapping.maps.length;for(let c=0;c<e.height;){const u=c*e.width+l,h=e.map[u],p=t.nodeAt(h),g=p.attrs;if(l>0&&e.map[u-1]==h||l<e.width-1&&e.map[u+1]==h)n.setNodeMarkup(n.mapping.slice(a).map(s+h),null,Hr(g,l-e.colCount(h)));else{const y=n.mapping.slice(a).map(s+h);n.delete(y,y+p.nodeSize)}c+=g.rowspan}}function $4(n,e){if(!fs(n))return!1;if(e){const t=Ns(n),s=n.tr;if(t.left==0&&t.right==t.map.width)return!1;for(let l=t.right-1;q4(s,t,l),l!=t.left;l--){const a=t.tableStart?s.doc.nodeAt(t.tableStart-1):s.doc;if(!a)throw new RangeError("No table found");t.table=a,t.map=Mt.get(a)}e(s)}return!0}function K4(n,e,t){var s;const l=fn(e.type.schema).header_cell;for(let a=0;a<n.width;a++)if(((s=e.nodeAt(n.map[a+t*n.width]))===null||s===void 0?void 0:s.type)!=l)return!1;return!0}function Hk(n,{map:e,tableStart:t,table:s},l){let a=t;for(let p=0;p<l;p++)a+=s.child(p).nodeSize;const c=[];let u=l>0?-1:0;K4(e,s,l+u)&&(u=l==0||l==e.height?null:0);for(let p=0,g=e.width*l;p<e.width;p++,g++)if(l>0&&l<e.height&&e.map[g]==e.map[g-e.width]){const y=e.map[g],b=s.nodeAt(y).attrs;n.setNodeMarkup(t+y,null,{...b,rowspan:b.rowspan+1}),p+=b.colspan-1}else{var h;const y=u==null?fn(s.type.schema).cell:(h=s.nodeAt(e.map[g+u*e.width]))===null||h===void 0?void 0:h.type,b=y==null?void 0:y.createAndFill();b&&c.push(b)}return n.insert(a,fn(s.type.schema).row.create(null,c)),n}function G4(n,e){if(!fs(n))return!1;if(e){const t=Ns(n);e(Hk(n.tr,t,t.top))}return!0}function W4(n,e){if(!fs(n))return!1;if(e){const t=Ns(n);e(Hk(n.tr,t,t.bottom))}return!0}function Y4(n,{map:e,table:t,tableStart:s},l){let a=0;for(let p=0;p<l;p++)a+=t.child(p).nodeSize;const c=a+t.child(l).nodeSize,u=n.mapping.maps.length;n.delete(a+s,c+s);const h=new Set;for(let p=0,g=l*e.width;p<e.width;p++,g++){const y=e.map[g];if(!h.has(y)){if(h.add(y),l>0&&y==e.map[g-e.width]){const b=t.nodeAt(y).attrs;n.setNodeMarkup(n.mapping.slice(u).map(y+s),null,{...b,rowspan:b.rowspan-1}),p+=b.colspan-1}else if(l<e.height&&y==e.map[g+e.width]){const b=t.nodeAt(y),w=b.attrs,k=b.type.create({...w,rowspan:b.attrs.rowspan-1},b.content),z=e.positionAt(l+1,p,t);n.insert(n.mapping.slice(u).map(s+z),k),p+=w.colspan-1}}}}function Z4(n,e){if(!fs(n))return!1;if(e){const t=Ns(n),s=n.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(let l=t.bottom-1;Y4(s,t,l),l!=t.top;l--){const a=t.tableStart?s.doc.nodeAt(t.tableStart-1):s.doc;if(!a)throw new RangeError("No table found");t.table=a,t.map=Mt.get(t.table)}e(s)}return!0}function E1(n){const e=n.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function J4({width:n,height:e,map:t},s){let l=s.top*n+s.left,a=l,c=(s.bottom-1)*n+s.left,u=l+(s.right-s.left-1);for(let h=s.top;h<s.bottom;h++){if(s.left>0&&t[a]==t[a-1]||s.right<n&&t[u]==t[u+1])return!0;a+=n,u+=n}for(let h=s.left;h<s.right;h++){if(s.top>0&&t[l]==t[l-n]||s.bottom<e&&t[c]==t[c+n])return!0;l++,c++}return!1}function A1(n,e){const t=n.selection;if(!(t instanceof dt)||t.$anchorCell.pos==t.$headCell.pos)return!1;const s=Ns(n),{map:l}=s;if(J4(l,s))return!1;if(e){const a=n.tr,c={};let u=W.empty,h,p;for(let g=s.top;g<s.bottom;g++)for(let y=s.left;y<s.right;y++){const b=l.map[g*l.width+y],w=s.table.nodeAt(b);if(!(c[b]||!w))if(c[b]=!0,h==null)h=b,p=w;else{E1(w)||(u=u.append(w.content));const k=a.mapping.map(b+s.tableStart);a.delete(k,k+w.nodeSize)}}if(h==null||p==null)return!0;if(a.setNodeMarkup(h+s.tableStart,null,{...Dk(p.attrs,p.attrs.colspan,s.right-s.left-p.attrs.colspan),rowspan:s.bottom-s.top}),u.size>0){const g=h+1+p.content.size,y=E1(p)?h+1:g;a.replaceWith(y+s.tableStart,g+s.tableStart,u)}a.setSelection(new dt(a.doc.resolve(h+s.tableStart))),e(a)}return!0}function O1(n,e){const t=fn(n.schema);return Q4(({node:s})=>t[s.type.spec.tableRole])(n,e)}function Q4(n){return(e,t)=>{const s=e.selection;let l,a;if(s instanceof dt){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;l=s.$anchorCell.nodeAfter,a=s.$anchorCell.pos}else{var c;if(l=E4(s.$from),!l)return!1;a=(c=Br(s.$from))===null||c===void 0?void 0:c.pos}if(l==null||a==null||l.attrs.colspan==1&&l.attrs.rowspan==1)return!1;if(t){let u=l.attrs;const h=[],p=u.colwidth;u.rowspan>1&&(u={...u,rowspan:1}),u.colspan>1&&(u={...u,colspan:1});const g=Ns(e),y=e.tr;for(let w=0;w<g.right-g.left;w++)h.push(p?{...u,colwidth:p&&p[w]?[p[w]]:null}:u);let b;for(let w=g.top;w<g.bottom;w++){let k=g.map.positionAt(w,g.left,g.table);w==g.top&&(k+=l.nodeSize);for(let z=g.left,N=0;z<g.right;z++,N++)z==g.left&&w==g.top||y.insert(b=y.mapping.map(k+g.tableStart,1),n({node:l,row:w,col:z}).createAndFill(h[N]))}y.setNodeMarkup(a,n({node:l,row:g.top,col:g.left}),h[0]),s instanceof dt&&y.setSelection(new dt(y.doc.resolve(s.$anchorCell.pos),b?y.doc.resolve(b):void 0)),t(y)}return!0}}function X4(n,e){return function(t,s){if(!fs(t))return!1;const l=fu(t);if(l.nodeAfter.attrs[n]===e)return!1;if(s){const a=t.tr;t.selection instanceof dt?t.selection.forEachCell((c,u)=>{c.attrs[n]!==e&&a.setNodeMarkup(u,null,{...c.attrs,[n]:e})}):a.setNodeMarkup(l.pos,null,{...l.nodeAfter.attrs,[n]:e}),s(a)}return!0}}function F4(n){return function(e,t){if(!fs(e))return!1;if(t){const s=fn(e.schema),l=Ns(e),a=e.tr,c=l.map.cellsInRect(n=="column"?{left:l.left,top:0,right:l.right,bottom:l.map.height}:n=="row"?{left:0,top:l.top,right:l.map.width,bottom:l.bottom}:l),u=c.map(h=>l.table.nodeAt(h));for(let h=0;h<c.length;h++)u[h].type==s.header_cell&&a.setNodeMarkup(l.tableStart+c[h],s.cell,u[h].attrs);if(a.steps.length===0)for(let h=0;h<c.length;h++)a.setNodeMarkup(l.tableStart+c[h],s.header_cell,u[h].attrs);t(a)}return!0}}function D1(n,e,t){const s=e.map.cellsInRect({left:0,top:0,right:n=="row"?e.map.width:1,bottom:n=="column"?e.map.height:1});for(let l=0;l<s.length;l++){const a=e.table.nodeAt(s[l]);if(a&&a.type!==t.header_cell)return!1}return!0}function ho(n,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?F4(n):function(t,s){if(!fs(t))return!1;if(s){const l=fn(t.schema),a=Ns(t),c=t.tr,u=D1("row",a,l),h=D1("column",a,l),p=(n==="column"?u:n==="row"&&h)?1:0,g=n=="column"?{left:0,top:p,right:1,bottom:a.map.height}:n=="row"?{left:p,top:0,right:a.map.width,bottom:1}:a,y=n=="column"?h?l.cell:l.header_cell:n=="row"?u?l.cell:l.header_cell:l.cell;a.map.cellsInRect(g).forEach(b=>{const w=b+a.tableStart,k=c.doc.nodeAt(w);k&&c.setNodeMarkup(w,y,k.attrs)}),s(c)}return!0}}ho("row",{useDeprecatedLogic:!0});ho("column",{useDeprecatedLogic:!0});const eO=ho("cell",{useDeprecatedLogic:!0});function tO(n,e){if(e<0){const t=n.nodeBefore;if(t)return n.pos-t.nodeSize;for(let s=n.index(-1)-1,l=n.before();s>=0;s--){const a=n.node(-1).child(s),c=a.lastChild;if(c)return l-1-c.nodeSize;l-=a.nodeSize}}else{if(n.index()<n.parent.childCount-1)return n.pos+n.nodeAfter.nodeSize;const t=n.node(-1);for(let s=n.indexAfter(-1),l=n.after();s<t.childCount;s++){const a=t.child(s);if(a.childCount)return l+1;l+=a.nodeSize}}return null}function R1(n){return function(e,t){if(!fs(e))return!1;const s=tO(fu(e),n);if(s==null)return!1;if(t){const l=e.doc.resolve(s);t(e.tr.setSelection(ye.between(l,O4(l))).scrollIntoView())}return!0}}function nO(n,e){const t=n.selection.$anchor;for(let s=t.depth;s>0;s--)if(t.node(s).type.spec.tableRole=="table")return e&&e(n.tr.delete(t.before(s),t.after(s)).scrollIntoView()),!0;return!1}function Yc(n,e){const t=n.selection;if(!(t instanceof dt))return!1;if(e){const s=n.tr,l=fn(n.schema).cell.createAndFill().content;t.forEachCell((a,c)=>{a.content.eq(l)||s.replace(s.mapping.map(c+1),s.mapping.map(c+a.nodeSize-1),new ne(l,0,0))}),s.docChanged&&e(s)}return!0}function sO(n){if(n.size===0)return null;let{content:e,openStart:t,openEnd:s}=n;for(;e.childCount==1&&(t>0&&s>0||e.child(0).type.spec.tableRole=="table");)t--,s--,e=e.child(0).content;const l=e.child(0),a=l.type.spec.tableRole,c=l.type.schema,u=[];if(a=="row")for(let h=0;h<e.childCount;h++){let p=e.child(h).content;const g=h?0:Math.max(0,t-1),y=h<e.childCount-1?0:Math.max(0,s-1);(g||y)&&(p=Jp(fn(c).row,new ne(p,g,y)).content),u.push(p)}else if(a=="cell"||a=="header_cell")u.push(t||s?Jp(fn(c).row,new ne(e,t,s)).content:e);else return null;return iO(c,u)}function iO(n,e){const t=[];for(let l=0;l<e.length;l++){const a=e[l];for(let c=a.childCount-1;c>=0;c--){const{rowspan:u,colspan:h}=a.child(c).attrs;for(let p=l;p<l+u;p++)t[p]=(t[p]||0)+h}}let s=0;for(let l=0;l<t.length;l++)s=Math.max(s,t[l]);for(let l=0;l<t.length;l++)if(l>=e.length&&e.push(W.empty),t[l]<s){const a=fn(n).cell.createAndFill(),c=[];for(let u=t[l];u<s;u++)c.push(a);e[l]=e[l].append(W.from(c))}return{height:e.length,width:s,rows:e}}function Jp(n,e){const t=n.createAndFill();return new sm(t).replace(0,t.content.size,e).doc}function rO({width:n,height:e,rows:t},s,l){if(n!=s){const a=[],c=[];for(let u=0;u<t.length;u++){const h=t[u],p=[];for(let g=a[u]||0,y=0;g<s;y++){let b=h.child(y%h.childCount);g+b.attrs.colspan>s&&(b=b.type.createChecked(Hr(b.attrs,b.attrs.colspan,g+b.attrs.colspan-s),b.content)),p.push(b),g+=b.attrs.colspan;for(let w=1;w<b.attrs.rowspan;w++)a[u+w]=(a[u+w]||0)+b.attrs.colspan}c.push(W.from(p))}t=c,n=s}if(e!=l){const a=[];for(let c=0,u=0;c<l;c++,u++){const h=[],p=t[u%e];for(let g=0;g<p.childCount;g++){let y=p.child(g);c+y.attrs.rowspan>l&&(y=y.type.create({...y.attrs,rowspan:Math.max(1,l-y.attrs.rowspan)},y.content)),h.push(y)}a.push(W.from(h))}t=a,e=l}return{width:n,height:e,rows:t}}function lO(n,e,t,s,l,a,c){const u=n.doc.type.schema,h=fn(u);let p,g;if(l>e.width)for(let y=0,b=0;y<e.height;y++){const w=t.child(y);b+=w.nodeSize;const k=[];let z;w.lastChild==null||w.lastChild.type==h.cell?z=p||(p=h.cell.createAndFill()):z=g||(g=h.header_cell.createAndFill());for(let N=e.width;N<l;N++)k.push(z);n.insert(n.mapping.slice(c).map(b-1+s),k)}if(a>e.height){const y=[];for(let k=0,z=(e.height-1)*e.width;k<Math.max(e.width,l);k++){const N=k>=e.width?!1:t.nodeAt(e.map[z+k]).type==h.header_cell;y.push(N?g||(g=h.header_cell.createAndFill()):p||(p=h.cell.createAndFill()))}const b=h.row.create(null,W.from(y)),w=[];for(let k=e.height;k<a;k++)w.push(b);n.insert(n.mapping.slice(c).map(s+t.nodeSize-2),w)}return!!(p||g)}function L1(n,e,t,s,l,a,c,u){if(c==0||c==e.height)return!1;let h=!1;for(let p=l;p<a;p++){const g=c*e.width+p,y=e.map[g];if(e.map[g-e.width]==y){h=!0;const b=t.nodeAt(y),{top:w,left:k}=e.findCell(y);n.setNodeMarkup(n.mapping.slice(u).map(y+s),null,{...b.attrs,rowspan:c-w}),n.insert(n.mapping.slice(u).map(e.positionAt(c,k,t)),b.type.createAndFill({...b.attrs,rowspan:w+b.attrs.rowspan-c})),p+=b.attrs.colspan-1}}return h}function _1(n,e,t,s,l,a,c,u){if(c==0||c==e.width)return!1;let h=!1;for(let p=l;p<a;p++){const g=p*e.width+c,y=e.map[g];if(e.map[g-1]==y){h=!0;const b=t.nodeAt(y),w=e.colCount(y),k=n.mapping.slice(u).map(y+s);n.setNodeMarkup(k,null,Hr(b.attrs,c-w,b.attrs.colspan-(c-w))),n.insert(k+b.nodeSize,b.type.createAndFill(Hr(b.attrs,0,c-w))),p+=b.attrs.rowspan-1}}return h}function B1(n,e,t,s,l){let a=t?n.doc.nodeAt(t-1):n.doc;if(!a)throw new Error("No table found");let c=Mt.get(a);const{top:u,left:h}=s,p=h+l.width,g=u+l.height,y=n.tr;let b=0;function w(){if(a=t?y.doc.nodeAt(t-1):y.doc,!a)throw new Error("No table found");c=Mt.get(a),b=y.mapping.maps.length}lO(y,c,a,t,p,g,b)&&w(),L1(y,c,a,t,h,p,u,b)&&w(),L1(y,c,a,t,h,p,g,b)&&w(),_1(y,c,a,t,u,g,h,b)&&w(),_1(y,c,a,t,u,g,p,b)&&w();for(let k=u;k<g;k++){const z=c.positionAt(k,h,a),N=c.positionAt(k,p,a);y.replace(y.mapping.slice(b).map(z+t),y.mapping.slice(b).map(N+t),new ne(l.rows[k-u],0,0))}w(),y.setSelection(new dt(y.doc.resolve(t+c.positionAt(u,h,a)),y.doc.resolve(t+c.positionAt(g-1,p-1,a)))),e(y)}const aO=bm({ArrowLeft:Zc("horiz",-1),ArrowRight:Zc("horiz",1),ArrowUp:Zc("vert",-1),ArrowDown:Zc("vert",1),"Shift-ArrowLeft":Jc("horiz",-1),"Shift-ArrowRight":Jc("horiz",1),"Shift-ArrowUp":Jc("vert",-1),"Shift-ArrowDown":Jc("vert",1),Backspace:Yc,"Mod-Backspace":Yc,Delete:Yc,"Mod-Delete":Yc});function rd(n,e,t){return t.eq(n.selection)?!1:(e&&e(n.tr.setSelection(t).scrollIntoView()),!0)}function Zc(n,e){return(t,s,l)=>{if(!l)return!1;const a=t.selection;if(a instanceof dt)return rd(t,s,ve.near(a.$headCell,e));if(n!="horiz"&&!a.empty)return!1;const c=Uk(l,n,e);if(c==null)return!1;if(n=="horiz")return rd(t,s,ve.near(t.doc.resolve(a.head+e),e));{const u=t.doc.resolve(c),h=Ok(u,n,e);let p;return h?p=ve.near(h,1):e<0?p=ve.near(t.doc.resolve(u.before(-1)),-1):p=ve.near(t.doc.resolve(u.after(-1)),1),rd(t,s,p)}}}function Jc(n,e){return(t,s,l)=>{if(!l)return!1;const a=t.selection;let c;if(a instanceof dt)c=a;else{const h=Uk(l,n,e);if(h==null)return!1;c=new dt(t.doc.resolve(h))}const u=Ok(c.$headCell,n,e);return u?rd(t,s,new dt(c.$anchorCell,u)):!1}}function oO(n,e){const t=n.state.doc,s=Br(t.resolve(e));return s?(n.dispatch(n.state.tr.setSelection(new dt(s))),!0):!1}function cO(n,e,t){if(!fs(n.state))return!1;let s=sO(t);const l=n.state.selection;if(l instanceof dt){s||(s={width:1,height:1,rows:[W.from(Jp(fn(n.state.schema).cell,t))]});const a=l.$anchorCell.node(-1),c=l.$anchorCell.start(-1),u=Mt.get(a).rectBetween(l.$anchorCell.pos-c,l.$headCell.pos-c);return s=rO(s,u.right-u.left,u.bottom-u.top),B1(n.state,n.dispatch,c,u,s),!0}else if(s){const a=fu(n.state),c=a.start(-1);return B1(n.state,n.dispatch,c,Mt.get(a.node(-1)).findCell(a.pos-c),s),!0}else return!1}function dO(n,e){var t;if(e.button!=0||e.ctrlKey||e.metaKey)return;const s=H1(n,e.target);let l;if(e.shiftKey&&n.state.selection instanceof dt)a(n.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&s&&(l=Br(n.state.selection.$anchor))!=null&&((t=mp(n,e))===null||t===void 0?void 0:t.pos)!=l.pos)a(l,e),e.preventDefault();else if(!s)return;function a(h,p){let g=mp(n,p);const y=Hi.getState(n.state)==null;if(!g||!qm(h,g))if(y)g=h;else return;const b=new dt(h,g);if(y||!n.state.selection.eq(b)){const w=n.state.tr.setSelection(b);y&&w.setMeta(Hi,h.pos),n.dispatch(w)}}function c(){n.root.removeEventListener("mouseup",c),n.root.removeEventListener("dragstart",c),n.root.removeEventListener("mousemove",u),Hi.getState(n.state)!=null&&n.dispatch(n.state.tr.setMeta(Hi,-1))}function u(h){const p=h,g=Hi.getState(n.state);let y;if(g!=null)y=n.state.doc.resolve(g);else if(H1(n,p.target)!=s&&(y=mp(n,e),!y))return c();y&&a(y,p)}n.root.addEventListener("mouseup",c),n.root.addEventListener("dragstart",c),n.root.addEventListener("mousemove",u)}function Uk(n,e,t){if(!(n.state.selection instanceof ye))return null;const{$head:s}=n.state.selection;for(let l=s.depth-1;l>=0;l--){const a=s.node(l);if((t<0?s.index(l):s.indexAfter(l))!=(t<0?0:a.childCount))return null;if(a.type.spec.tableRole=="cell"||a.type.spec.tableRole=="header_cell"){const c=s.before(l),u=e=="vert"?t>0?"down":"up":t>0?"right":"left";return n.endOfTextblock(u)?c:null}}return null}function H1(n,e){for(;e&&e!=n.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function mp(n,e){const t=n.posAtCoords({left:e.clientX,top:e.clientY});if(!t)return null;let{inside:s,pos:l}=t;return s>=0&&Br(n.state.doc.resolve(s))||Br(n.state.doc.resolve(l))}var uO=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Qp(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Qp(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Qp(n,e,t,s,l,a){let c=0,u=!0,h=e.firstChild;const p=n.firstChild;if(p){for(let y=0,b=0;y<p.childCount;y++){const{colspan:w,colwidth:k}=p.child(y).attrs;for(let z=0;z<w;z++,b++){const N=l==b?a:k&&k[z],S=N?N+"px":"";if(c+=N||s,N||(u=!1),h)h.style.width!=S&&(h.style.width=S),h=h.nextSibling;else{const L=document.createElement("col");L.style.width=S,e.appendChild(L)}}}for(;h;){var g;const y=h.nextSibling;(g=h.parentNode)===null||g===void 0||g.removeChild(h),h=y}u?(t.style.width=c+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=c+"px")}}const Hn=new Tt("tableColumnResizing");function fO({handleWidth:n=5,cellMinWidth:e=25,defaultCellMinWidth:t=100,View:s=uO,lastColumnResizable:l=!0}={}){const a=new mt({key:Hn,state:{init(c,u){var h;const p=(h=a.spec)===null||h===void 0||(h=h.props)===null||h===void 0?void 0:h.nodeViews,g=fn(u.schema).table.name;return s&&p&&(p[g]=(y,b)=>new s(y,t,b)),new hO(-1,!1)},apply(c,u){return u.apply(c)}},props:{attributes:c=>{const u=Hn.getState(c);return u&&u.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(c,u)=>{pO(c,u,n,l)},mouseleave:c=>{mO(c)},mousedown:(c,u)=>{gO(c,u,e,t)}},decorations:c=>{const u=Hn.getState(c);if(u&&u.activeHandle>-1)return vO(c,u.activeHandle)},nodeViews:{}}});return a}var hO=class ld{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){const t=this,s=e.getMeta(Hn);if(s&&s.setHandle!=null)return new ld(s.setHandle,!1);if(s&&s.setDragging!==void 0)return new ld(t.activeHandle,s.setDragging);if(t.activeHandle>-1&&e.docChanged){let l=e.mapping.map(t.activeHandle,-1);return Zp(e.doc.resolve(l))||(l=-1),new ld(l,t.dragging)}return t}};function pO(n,e,t,s){if(!n.editable)return;const l=Hn.getState(n.state);if(l&&!l.dragging){const a=yO(e.target);let c=-1;if(a){const{left:u,right:h}=a.getBoundingClientRect();e.clientX-u<=t?c=U1(n,e,"left",t):h-e.clientX<=t&&(c=U1(n,e,"right",t))}if(c!=l.activeHandle){if(!s&&c!==-1){const u=n.state.doc.resolve(c),h=u.node(-1),p=Mt.get(h),g=u.start(-1);if(p.colCount(u.pos-g)+u.nodeAfter.attrs.colspan-1==p.width-1)return}Ik(n,c)}}}function mO(n){if(!n.editable)return;const e=Hn.getState(n.state);e&&e.activeHandle>-1&&!e.dragging&&Ik(n,-1)}function gO(n,e,t,s){var l;if(!n.editable)return!1;const a=(l=n.dom.ownerDocument.defaultView)!==null&&l!==void 0?l:window,c=Hn.getState(n.state);if(!c||c.activeHandle==-1||c.dragging)return!1;const u=n.state.doc.nodeAt(c.activeHandle),h=xO(n,c.activeHandle,u.attrs);n.dispatch(n.state.tr.setMeta(Hn,{setDragging:{startX:e.clientX,startWidth:h}}));function p(y){a.removeEventListener("mouseup",p),a.removeEventListener("mousemove",g);const b=Hn.getState(n.state);b!=null&&b.dragging&&(bO(n,b.activeHandle,I1(b.dragging,y,t)),n.dispatch(n.state.tr.setMeta(Hn,{setDragging:null})))}function g(y){if(!y.which)return p(y);const b=Hn.getState(n.state);if(b&&b.dragging){const w=I1(b.dragging,y,t);V1(n,b.activeHandle,w,s)}}return V1(n,c.activeHandle,h,s),a.addEventListener("mouseup",p),a.addEventListener("mousemove",g),e.preventDefault(),!0}function xO(n,e,{colspan:t,colwidth:s}){const l=s&&s[s.length-1];if(l)return l;const a=n.domAtPos(e);let c=a.node.childNodes[a.offset].offsetWidth,u=t;if(s)for(let h=0;h<t;h++)s[h]&&(c-=s[h],u--);return c/u}function yO(n){for(;n&&n.nodeName!="TD"&&n.nodeName!="TH";)n=n.classList&&n.classList.contains("ProseMirror")?null:n.parentNode;return n}function U1(n,e,t,s){const l=t=="right"?-s:s,a=n.posAtCoords({left:e.clientX+l,top:e.clientY});if(!a)return-1;const{pos:c}=a,u=Br(n.state.doc.resolve(c));if(!u)return-1;if(t=="right")return u.pos;const h=Mt.get(u.node(-1)),p=u.start(-1),g=h.map.indexOf(u.pos-p);return g%h.width==0?-1:p+h.map[g-1]}function I1(n,e,t){const s=e.clientX-n.startX;return Math.max(t,n.startWidth+s)}function Ik(n,e){n.dispatch(n.state.tr.setMeta(Hn,{setHandle:e}))}function bO(n,e,t){const s=n.state.doc.resolve(e),l=s.node(-1),a=Mt.get(l),c=s.start(-1),u=a.colCount(s.pos-c)+s.nodeAfter.attrs.colspan-1,h=n.state.tr;for(let p=0;p<a.height;p++){const g=p*a.width+u;if(p&&a.map[g]==a.map[g-a.width])continue;const y=a.map[g],b=l.nodeAt(y).attrs,w=b.colspan==1?0:u-a.colCount(y);if(b.colwidth&&b.colwidth[w]==t)continue;const k=b.colwidth?b.colwidth.slice():wO(b.colspan);k[w]=t,h.setNodeMarkup(c+y,null,{...b,colwidth:k})}h.docChanged&&n.dispatch(h)}function V1(n,e,t,s){const l=n.state.doc.resolve(e),a=l.node(-1),c=l.start(-1),u=Mt.get(a).colCount(l.pos-c)+l.nodeAfter.attrs.colspan-1;let h=n.domAtPos(l.start(-1)).node;for(;h&&h.nodeName!="TABLE";)h=h.parentNode;h&&Qp(a,h.firstChild,h,s,u,t)}function wO(n){return Array(n).fill(0)}function vO(n,e){const t=[],s=n.doc.resolve(e),l=s.node(-1);if(!l)return ct.empty;const a=Mt.get(l),c=s.start(-1),u=a.colCount(s.pos-c)+s.nodeAfter.attrs.colspan-1;for(let p=0;p<a.height;p++){const g=u+p*a.width;if((u==a.width-1||a.map[g]!=a.map[g+1])&&(p==0||a.map[g]!=a.map[g-a.width])){var h;const y=a.map[g],b=c+y+l.nodeAt(y).nodeSize-1,w=document.createElement("div");w.className="column-resize-handle",!((h=Hn.getState(n))===null||h===void 0)&&h.dragging&&t.push(Yt.node(c+y,c+y+l.nodeAt(y).nodeSize,{class:"column-resize-dragging"})),t.push(Yt.widget(b,w))}}return ct.create(n.doc,t)}function kO({allowTableNodeSelection:n=!1}={}){return new mt({key:Hi,state:{init(){return null},apply(e,t){const s=e.getMeta(Hi);if(s!=null)return s==-1?null:s;if(t==null||!e.docChanged)return t;const{deleted:l,pos:a}=e.mapping.mapResult(t);return l?null:a}},props:{decorations:L4,handleDOMEvents:{mousedown:dO},createSelectionBetween(e){return Hi.getState(e.state)!=null?e.state.selection:null},handleTripleClick:oO,handleKeyDown:aO,handlePaste:cO},appendTransaction(e,t,s){return H4(s,_k(s,t),n)}})}var Vk=Qt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{var e,t;const s=n.getAttribute("colwidth"),l=s?s.split(",").map(a=>parseInt(a,10)):null;if(!l){const a=(e=n.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),c=Array.from(((t=n.parentElement)==null?void 0:t.children)||[]).indexOf(n);if(c&&c>-1&&a&&a[c]){const u=a[c].getAttribute("width");return u?[parseInt(u,10)]:null}}return l}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:n}){return["td",pt(this.options.HTMLAttributes,n),0]}}),Pk=Qt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const e=n.getAttribute("colwidth");return e?e.split(",").map(s=>parseInt(s,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:n}){return["th",pt(this.options.HTMLAttributes,n),0]}}),qk=Qt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:n}){return["tr",pt(this.options.HTMLAttributes,n),0]}});function Xp(n,e){return e?["width",`${Math.max(e,n)}px`]:["min-width",`${n}px`]}function P1(n,e,t,s,l,a){var c;let u=0,h=!0,p=e.firstChild;const g=n.firstChild;if(g!==null)for(let b=0,w=0;b<g.childCount;b+=1){const{colspan:k,colwidth:z}=g.child(b).attrs;for(let N=0;N<k;N+=1,w+=1){const S=l===w?a:z&&z[N],L=S?`${S}px`:"";if(u+=S||s,S||(h=!1),p){if(p.style.width!==L){const[Y,Q]=Xp(s,S);p.style.setProperty(Y,Q)}p=p.nextSibling}else{const Y=document.createElement("col"),[Q,q]=Xp(s,S);Y.style.setProperty(Q,q),e.appendChild(Y)}}}for(;p;){const b=p.nextSibling;(c=p.parentNode)==null||c.removeChild(p),p=b}const y=n.attrs.style&&typeof n.attrs.style=="string"&&/\bwidth\s*:/i.test(n.attrs.style);h&&!y?(t.style.width=`${u}px`,t.style.minWidth=""):(t.style.width="",t.style.minWidth=`${u}px`)}var jO=class{constructor(n,e){this.node=n,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),n.attrs.style&&(this.table.style.cssText=n.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),P1(n,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(n){return n.type!==this.node.type?!1:(this.node=n,P1(n,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(n){const e=n.target,t=this.dom.contains(e),s=this.contentDOM.contains(e);return!!(t&&!s&&(n.type==="attributes"||n.type==="childList"||n.type==="characterData"))}};function NO(n,e,t,s){let l=0,a=!0;const c=[],u=n.firstChild;if(!u)return{};for(let y=0,b=0;y<u.childCount;y+=1){const{colspan:w,colwidth:k}=u.child(y).attrs;for(let z=0;z<w;z+=1,b+=1){const N=t===b?s:k&&k[z];l+=N||e,N||(a=!1);const[S,L]=Xp(e,N);c.push(["col",{style:`${S}: ${L}`}])}}const h=a?`${l}px`:"",p=a?"":`${l}px`;return{colgroup:["colgroup",{},...c],tableWidth:h,tableMinWidth:p}}function q1(n,e){return n.createAndFill()}function zO(n){if(n.cached.tableNodeTypes)return n.cached.tableNodeTypes;const e={};return Object.keys(n.nodes).forEach(t=>{const s=n.nodes[t];s.spec.tableRole&&(e[s.spec.tableRole]=s)}),n.cached.tableNodeTypes=e,e}function SO(n,e,t,s,l){const a=zO(n),c=[],u=[];for(let p=0;p<t;p+=1){const g=q1(a.cell);if(g&&u.push(g),s){const y=q1(a.header_cell);y&&c.push(y)}}const h=[];for(let p=0;p<e;p+=1)h.push(a.row.createChecked(null,s&&p===0?c:u));return a.table.createChecked(null,h)}function CO(n){return n instanceof dt}var Qc=({editor:n})=>{const{selection:e}=n.state;if(!CO(e))return!1;let t=0;const s=Ov(e.ranges[0].$from,a=>a.type.name==="table");return s==null||s.node.descendants(a=>{if(a.type.name==="table")return!1;["tableCell","tableHeader"].includes(a.type.name)&&(t+=1)}),t===e.ranges.length?(n.commands.deleteTable(),!0):!1},MO="";function TO(n){return(n||"").replace(/\s+/g," ").trim()}function EO(n,e,t={}){var s;const l=(s=t.cellLineSeparator)!=null?s:MO;if(!n||!n.content||n.content.length===0)return"";const a=[];n.content.forEach(k=>{const z=[];k.content&&k.content.forEach(N=>{let S="";N.content&&Array.isArray(N.content)&&N.content.length>1?S=N.content.map(q=>e.renderChildren(q)).join(l):S=N.content?e.renderChildren(N.content):"";const L=TO(S),Y=N.type==="tableHeader";z.push({text:L,isHeader:Y})}),a.push(z)});const c=a.reduce((k,z)=>Math.max(k,z.length),0);if(c===0)return"";const u=new Array(c).fill(0);a.forEach(k=>{var z;for(let N=0;N<c;N+=1){const L=(((z=k[N])==null?void 0:z.text)||"").length;L>u[N]&&(u[N]=L),u[N]<3&&(u[N]=3)}});const h=(k,z)=>k+" ".repeat(Math.max(0,z-k.length)),p=a[0],g=p.some(k=>k.isHeader);let y=`
`;const b=new Array(c).fill(0).map((k,z)=>g&&p[z]&&p[z].text||"");return y+=`| ${b.map((k,z)=>h(k,u[z])).join(" | ")} |
`,y+=`| ${u.map(k=>"-".repeat(Math.max(3,k))).join(" | ")} |
`,(g?a.slice(1):a).forEach(k=>{y+=`| ${new Array(c).fill(0).map((z,N)=>h(k[N]&&k[N].text||"",u[N])).join(" | ")} |
`}),y}var AO=EO,$k=Qt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:jO,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:n,HTMLAttributes:e}){const{colgroup:t,tableWidth:s,tableMinWidth:l}=NO(n,this.options.cellMinWidth),a=e.style;function c(){return a||(s?`width: ${s}`:`min-width: ${l}`)}const u=["table",pt(this.options.HTMLAttributes,e,{style:c()}),t,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},u]:u},parseMarkdown:(n,e)=>{const t=[];if(n.header){const s=[];n.header.forEach(l=>{s.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(l.tokens)}]))}),t.push(e.createNode("tableRow",{},s))}return n.rows&&n.rows.forEach(s=>{const l=[];s.forEach(a=>{l.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(a.tokens)}]))}),t.push(e.createNode("tableRow",{},l))}),e.createNode("table",void 0,t)},renderMarkdown:(n,e)=>AO(n,e),addCommands(){return{insertTable:({rows:n=3,cols:e=3,withHeaderRow:t=!0}={})=>({tr:s,dispatch:l,editor:a})=>{const c=SO(a.schema,n,e,t);if(l){const u=s.selection.from+1;s.replaceSelectionWith(c).scrollIntoView().setSelection(ye.near(s.doc.resolve(u)))}return!0},addColumnBefore:()=>({state:n,dispatch:e})=>V4(n,e),addColumnAfter:()=>({state:n,dispatch:e})=>P4(n,e),deleteColumn:()=>({state:n,dispatch:e})=>$4(n,e),addRowBefore:()=>({state:n,dispatch:e})=>G4(n,e),addRowAfter:()=>({state:n,dispatch:e})=>W4(n,e),deleteRow:()=>({state:n,dispatch:e})=>Z4(n,e),deleteTable:()=>({state:n,dispatch:e})=>nO(n,e),mergeCells:()=>({state:n,dispatch:e})=>A1(n,e),splitCell:()=>({state:n,dispatch:e})=>O1(n,e),toggleHeaderColumn:()=>({state:n,dispatch:e})=>ho("column")(n,e),toggleHeaderRow:()=>({state:n,dispatch:e})=>ho("row")(n,e),toggleHeaderCell:()=>({state:n,dispatch:e})=>eO(n,e),mergeOrSplit:()=>({state:n,dispatch:e})=>A1(n,e)?!0:O1(n,e),setCellAttribute:(n,e)=>({state:t,dispatch:s})=>X4(n,e)(t,s),goToNextCell:()=>({state:n,dispatch:e})=>R1(1)(n,e),goToPreviousCell:()=>({state:n,dispatch:e})=>R1(-1)(n,e),fixTables:()=>({state:n,dispatch:e})=>(e&&_k(n),!0),setCellSelection:n=>({tr:e,dispatch:t})=>{if(t){const s=dt.create(e.doc,n.anchorCell,n.headCell);e.setSelection(s)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Qc,"Mod-Backspace":Qc,Delete:Qc,"Mod-Delete":Qc}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[fO({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],kO({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(n){const e={name:n.name,options:n.options,storage:n.storage};return{tableRole:Je(me(n,"tableRole",e))}}});Et.create({name:"tableKit",addExtensions(){const n=[];return this.options.table!==!1&&n.push($k.configure(this.options.table)),this.options.tableCell!==!1&&n.push(Vk.configure(this.options.tableCell)),this.options.tableHeader!==!1&&n.push(Pk.configure(this.options.tableHeader)),this.options.tableRow!==!1&&n.push(qk.configure(this.options.tableRow)),n}});var OO=qk,DO=Pk,RO=Vk;const $1=({content:n,onChange:e})=>{const t=H3({extensions:[k4.configure({heading:{levels:[2,3,4]}}),RA.configure({openOnClick:!1}),z4.configure({allowBase64:!0}),$k.configure({resizable:!0}),OO,DO,RO],content:n,autofocus:"end",editable:!0,onUpdate:({editor:c})=>{e(c.getHTML())}});if(!t)return null;const s=c=>{const u={warning:"bg-red-50 border-red-500 text-red-700",success:"bg-green-50 border-green-500 text-green-700",info:"bg-blue-50 border-blue-500 text-blue-700"},h={warning:"",success:"",info:""},p=`
      <div class="my-4 p-4 rounded border-l-4 ${u[c]}">
        <span class="font-bold">${h[c]} Wyrniony tekst</span>
        <p>Edytuj ten tekst...</p>
      </div>
    `;t.chain().focus().insertContent(p).run()},l=()=>{t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},a=()=>{const c=window.prompt("Wpisz URL:");c&&t.chain().focus().extendMarkRange("link").setLink({href:c}).run()};return d.jsxs("div",{className:"w-full border border-slate-300 rounded-lg overflow-hidden bg-white",children:[d.jsxs("div",{className:"border-b border-slate-200 bg-slate-50 p-4 space-y-3",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().toggleBold().run()},className:`p-2 rounded transition-colors ${t.isActive("bold")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Pogrubienie (Ctrl+B)",children:d.jsx(bz,{size:18})}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().toggleItalic().run()},className:`p-2 rounded transition-colors ${t.isActive("italic")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Kursywa (Ctrl+I)",children:d.jsx(Zz,{size:18})}),d.jsx("div",{className:"w-px h-6 bg-slate-300"}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().toggleHeading({level:2}).run()},className:`px-3 py-2 rounded text-sm font-bold transition-colors ${t.isActive("heading",{level:2})?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Nagwek 2",children:"H2"}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().toggleHeading({level:3}).run()},className:`px-3 py-2 rounded text-sm font-bold transition-colors ${t.isActive("heading",{level:3})?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Nagwek 3",children:"H3"}),d.jsx("div",{className:"w-px h-6 bg-slate-300"}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().toggleBulletList().run()},className:`p-2 rounded transition-colors ${t.isActive("bulletList")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Lista punktowa",children:d.jsx(t2,{size:18})}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().toggleOrderedList().run()},className:`p-2 rounded transition-colors ${t.isActive("orderedList")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Lista numerowana",children:d.jsx(Fz,{size:18})}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().toggleBlockquote().run()},className:`p-2 rounded transition-colors ${t.isActive("blockquote")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Cytat",children:d.jsx(f2,{size:18})}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().toggleCodeBlock().run()},className:`p-2 rounded transition-colors ${t.isActive("codeBlock")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Blok kodu",children:d.jsx(Rz,{size:18})})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),a()},className:"p-2 rounded bg-white border border-slate-300 hover:bg-slate-100 transition-colors",title:"Dodaj link",children:d.jsx(Qz,{size:18})}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation();const u=window.prompt("Wpisz URL zdjcia:");u&&t.chain().focus().setImage({src:u}).run()},className:"p-2 rounded bg-white border border-slate-300 hover:bg-slate-100 transition-colors",title:"Dodaj zdjcie",children:d.jsx(Kz,{size:18})}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),l()},className:"p-2 rounded bg-white border border-slate-300 hover:bg-slate-100 transition-colors",title:"Dodaj tabel",children:d.jsx(w2,{size:18})}),d.jsx("div",{className:"w-px h-6 bg-slate-300"}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s("warning")},className:"p-2 rounded bg-white border border-slate-300 hover:bg-red-50 text-red-600 transition-colors",title:"Dodaj czerwone wyrnienie",children:d.jsx(Fc,{size:18})}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s("success")},className:"p-2 rounded bg-white border border-slate-300 hover:bg-green-50 text-green-600 transition-colors",title:"Dodaj zielone wyrnienie",children:d.jsx(cn,{size:18})}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s("info")},className:"p-2 rounded bg-white border border-slate-300 hover:bg-blue-50 text-blue-600 transition-colors",title:"Dodaj niebieskie wyrnienie",children:d.jsx(Wz,{size:18})}),d.jsx("div",{className:"w-px h-6 bg-slate-300"}),d.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t.chain().focus().clearNodes().run()},className:"p-2 rounded bg-white border border-slate-300 hover:bg-slate-100 transition-colors",title:"Wyczy formatowanie",children:d.jsx(ys,{size:18})})]})]}),d.jsx("div",{className:"prose prose-sm max-w-none p-4 min-h-96",children:d.jsx(A3,{editor:t})}),d.jsxs("div",{className:"border-t border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:[d.jsx("strong",{children:"Wskazwka:"})," Moesz uywa standardowych skrtw klawiszowych (Ctrl+B = pogrubienie, Ctrl+I = kursywa, Ctrl+Z = cofnij)"]})]})},LO=()=>{const[n,e]=le.useState("HOME"),[t,s]=le.useState("PL"),[l,a]=le.useState(null),[c,u]=le.useState(null),[h,p]=le.useState("Wszystkie"),[g,y]=le.useState("l5"),[b,w]=le.useState(!1),[k,z]=le.useState(null),[N,S]=le.useState(null),[L,Y]=le.useState(null),[Q,q]=le.useState("dashboard"),[Z,I]=le.useState(null),[ie,Ne]=le.useState({}),[gt,It]=le.useState(!1),[Qe,Xt]=le.useState(null),[xt,Ge]=le.useState(!1),[_,te]=le.useState(null),[we,We]=le.useState(!1),[Xe,T]=le.useState(!1),[K,se]=le.useState(""),[ae,Se]=le.useState(""),[Re,qe]=le.useState(null);le.useEffect(()=>{Xt(null)},[l]),le.useEffect(()=>{document.title=`MultiSerwis [${t}] - ${n}`,(n==="CATALOG"||n==="HOME"&&t)&&qe(M2[t])},[n,t]);const kt=Y1[t],wt={"admin@test.com":{password:"admin123",user:{id:"u1",email:"admin@test.com",name:"Administratortv",role:"ADMIN"}},"manager@test.com":{password:"manager123",user:{id:"u2",email:"manager@test.com",name:"Manager Platformy",role:"MANAGER"}},"student@test.com":{password:"student123",user:{id:"u3",email:"student@test.com",name:"Jan Kowalski",role:"STUDENT"}},"guardian@test.com":{password:"guardian123",user:{id:"u4",email:"guardian@test.com",name:"Opiekun Firmy ABC",role:"COMPANY_GUARDIAN",company:"ABC Sp. z o.o."}}},ti=()=>{const V=wt[K];V&&V.password===ae?(te(V.user),We(!0),T(!1),se(""),Se(""),V.user.role==="ADMIN"?e("ADMIN_PANEL"):V.user.role==="MANAGER"?e("ADMIN"):V.user.role==="STUDENT"?e("LMS"):V.user.role==="COMPANY_GUARDIAN"&&e("COMPANY_GUARDIAN_PANEL")):alert("Bdny email lub haso")},ni=()=>{te(null),We(!1),e("HOME")},Pl=V=>{const de={c1:[{title:"Bezpieczestwo pracy",details:["BHP w zakresie obsugi wzkw widowych","Zasady poruszania si po placu manewrowym i w magazynie","Bezpieczne techniki podnoszenia i transportu adunkw","Procedury awaryjne i zasady postpowania w sytuacjach niebezpiecznych","rodki ochrony indywidualnej operatora"]},{title:"Obsuga maszyn",details:["Budowa i zasada dziaania wzka widowego","Codzienne czynnoci kontrolne przed rozpoczciem pracy","Prawidowa technika jazdy i manewrowania","Obsuga ukadu hydraulicznego i mechanizmu podnoszenia","Wymiana butli gazowych (dla wzkw LPG)"]},{title:"Przepisy UDT",details:["Ustawa o dozorze technicznym - zakres i interpretacja","Wymagania techniczne dla wzkw jezdniowych","Przegldy okresowe i dokumentacja eksploatacyjna","Obowizki operatora i pracodawcy wedug przepisw UDT","Odpowiedzialno prawna w przypadku wykrocze"]},{title:"Praktyka na placu manewrowym",details:["Jazda slalomem i jazda tyem","Precyzyjne ustawianie wide i manipulacja adunkiem","Ukadanie palet na rnych wysokociach","Jazda z adunkiem po pochylni i nierwnym terenie","Wykonanie parkingu i bezpieczne pozostawienie wzka","Praktyka trwa minimum 20 godzin pod okiem instruktora"]},{title:"Przygotowanie do egzaminu",details:["Omwienie struktury egzaminu pastwowego UDT","Test prbny z pyta teoretycznych (identyczny z pastwowym)","Symulacja egzaminu praktycznego","Najczstsze bdy i jak ich unika","Wskazwki dotyczce dokumentacji egzaminacyjnej"]}],c2:[{title:"Bezpieczestwo pracy",details:["BHP przy pracy z adowarkami teleskopowymi","Bezpieczna praca na wysokociach","Ocena warunkw gruntu i stabilnoci maszyny","Zasady bezpiecznej wymiany osprztu","Procedury awaryjne i ewakuacja z kabiny"]},{title:"Obsuga maszyn",details:["Budowa i elementy adowarki teleskopowej","System hydrauliczny i sterowanie proporcjonalne","Obsuga wysignika teleskopowego i mechanizmw","Monta i demonta rnych rodzajw osprztu (widelce, yka, kosz)","Codzienne kontrole i konserwacja podstawowa"]},{title:"Przepisy UDT",details:["Przepisy UDT dla wielozadaniowych nonikw osprztu","Wymagania dla operatorw adowarek teleskopowych","Dokumentacja techniczna i ksika maszyny","Przegldy i badania techniczne","Certyfikacja osprztu zamiennego"]},{title:"Praktyka na placu manewrowym",details:["Jazda z wysignikiem w rnych pozycjach","Praca na wysokociach z koszem osobowym","Zaadunek i manipulacja materiaami budowlanymi","Precyzyjna praca yk przy robotach ziemnych","Transport adunkw na terenie nierwnym i pochyym","Szkolenie trwa 40 godzin, w tym 30 godzin praktyki"]},{title:"Przygotowanie do egzaminu",details:["Testy przykadowe zgodne z wymaganiami UDT","Symulacja egzaminu praktycznego z kadym rodzajem osprztu","Przegld najwaniejszych zagadnie technicznych","Analiza typowych bdw egzaminacyjnych","Wsparcie instruktora do dnia egzaminu"]}],c3:[{title:"Bezpieczestwo pracy",details:["Podstawy BHP w energetyce","Bezpieczna praca przy urzdzeniach elektrycznych","Pierwsza pomoc przy poraeniu prdem","Zasady pracy w strefach zagroonych","rodki ochrony indywidualnej w energetyce"]},{title:"Obsuga urzdze",details:["Obsuga tablic rozdzielczych i aparatury sterowniczej","Identyfikacja i lokalizacja usterek","Podstawowe pomiary elektryczne","Zasady konserwacji urzdze elektrycznych","Protokoy eksploatacji i dokumentacja"]},{title:"Przepisy elektroenergetyczne",details:["Przepisy eksploatacji urzdze elektroenergetycznych","Normy i standardy branowe SEP","Wymagania dla personelu eksploatacyjnego","Dokumentacja techniczna i eksploatacyjna","Odpowiedzialno prawna i ubezpieczenia"]},{title:"Teoria elektrycznoci",details:["Podstawowe pojcia i prawa elektrycznoci","Rodzaje prdw i napi","Ukady jednofazowe i trjfazowe","Ochrona przeciwporaeniowa","Interpretacja schematw elektrycznych"]},{title:"Przygotowanie do egzaminu",details:["Omwienie wymaga egzaminu kwalifikacyjnego SEP","Testy prbne z zakresu G1","Analiza najczstszych pyta egzaminacyjnych","Powtrka kluczowych zagadnie","Wskazwki odnonie przebiegu egzaminu"]}],c4:[{title:"Bezpieczestwo pracy",details:["BHP przy obsudze suwnic i wcignikw","Bezpieczne techniki podnoszenia ciarw","Sygnalizacja i komunikacja z nawizywaczem","Zasady podczepiania i odczepiania adunkw","Procedury awaryjne przy uszkodzeniu urzdzenia"]},{title:"Obsuga maszyn",details:["Budowa i rodzaje suwnic (pomostowe, bramowe, obrotowe)","Obsuga wcignikw elektrycznych i rcznych","Sterowanie z poziomu roboczego i z kabiny","Obsuga mechanizmw jazdy i podnoszenia","Kontrola stanu technicznego przed rozpoczciem pracy"]},{title:"Przepisy UDT",details:["Przepisy dozoru technicznego dla dwignic","Wymagania dla operatorw suwnic kategorii II","Dokumentacja eksploatacyjna i badania techniczne","Przegldy okresowe i roczne","Obowizki operatora zgodnie z przepisami UDT"]},{title:"Praktyka na hali produkcyjnej",details:["Jazda suwnic z adunkiem i bez adunku","Precyzyjne ustawienie adunku w wyznaczonych miejscach","Obsuga rnych rodzajw zawiesi i hakw","Wsppraca z nawizywaczem - sygnay i komunikacja","Wykonanie manewrw awaryjnych","Szkolenie praktyczne trwa minimum 16 godzin"]},{title:"Przygotowanie do egzaminu",details:["Struktura egzaminu UDT dla operatorw dwignic","Testy prbne - cz teoretyczna","Symulacja czci praktycznej egzaminu","Omwienie typowych bdw na egzaminie","Dokumentacja wymagana w dniu egzaminu"]}]};return de[V]||de.c1},ns=({title:V,subtitle:de,light:fe=!1})=>d.jsxs("div",{className:"mb-12 text-center",children:[de&&d.jsx("span",{className:"text-brand-accent font-bold uppercase tracking-widest text-xs mb-2 block",children:de}),d.jsxs("h2",{className:`text-3xl md:text-4xl font-heading font-extrabold uppercase relative inline-block ${fe?"text-white":"text-brand-primary"}`,children:[V,d.jsx("span",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-brand-accent"})]})]}),zs=()=>d.jsxs("div",{className:"animate-fade-in font-body",children:[d.jsxs("div",{className:"relative h-[85vh] min-h-[600px] flex items-center bg-brand-dark overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("img",{src:"/multiserwis-kutno/hero.webp",alt:"Workers with UDT Equipment",className:"w-full h-full object-cover opacity-50"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-dark via-brand-dark/80 to-transparent"})]}),d.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-8 w-full",children:d.jsxs("div",{className:"max-w-3xl",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-full mb-6",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-accent animate-pulse"}),d.jsx("span",{className:"text-white text-xs font-bold uppercase tracking-wider",children:kt.hero.badge})]}),d.jsxs("h1",{className:"text-4xl md:text-6xl font-heading font-black text-white leading-[1.1] mb-6",children:[kt.hero.title," ",d.jsx("br",{}),d.jsx("span",{className:"text-brand-accent",children:kt.hero.subtitle})]}),d.jsx("p",{className:"text-lg md:text-xl text-slate-300 mb-10 leading-relaxed max-w-2xl",children:kt.hero.desc}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("button",{onClick:()=>e("CATALOG"),className:"px-8 py-4 bg-brand-accent hover:bg-brand-accentHover text-white font-bold uppercase tracking-wider rounded-sm shadow-lg shadow-brand-accent/20 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2",children:[kt.hero.cta1," ",d.jsx($y,{size:20})]}),d.jsxs("button",{onClick:()=>e("SERVICES"),className:"px-8 py-4 border-2 border-slate-300 text-white hover:bg-white hover:text-brand-dark font-bold uppercase tracking-wider rounded-sm transition-all flex items-center justify-center gap-2",children:[d.jsx(Lh,{size:20})," ",kt.hero.cta2]})]})]})})]}),d.jsx("div",{className:"bg-brand-primary border-y border-brand-secondary",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-12",children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left md:border-r border-brand-secondary/50 last:border-0 md:pr-8",children:[d.jsx(yr,{size:40,className:"text-brand-accent mb-4"}),d.jsx("div",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-1",children:"5000+"}),d.jsx("div",{className:"text-sm uppercase tracking-widest text-slate-300 font-semibold",children:"Przeszkolonych Osb"})]}),d.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left md:border-r border-brand-secondary/50 last:border-0 md:pr-8",children:[d.jsx(Dc,{size:40,className:"text-brand-accent mb-4"}),d.jsx("div",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-1",children:"40+"}),d.jsx("div",{className:"text-sm uppercase tracking-widest text-slate-300 font-semibold",children:"Dostpnych Szkole"})]}),d.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left md:border-r border-brand-secondary/50 last:border-0 md:pr-8",children:[d.jsx(xr,{size:40,className:"text-brand-accent mb-4"}),d.jsx("div",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-1",children:"15 Lat"}),d.jsx("div",{className:"text-sm uppercase tracking-widest text-slate-300 font-semibold",children:"Dowiadczenia"})]}),d.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left",children:[d.jsx(Ky,{size:40,className:"text-brand-accent mb-4"}),d.jsx("div",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-1",children:"98%"}),d.jsx("div",{className:"text-sm uppercase tracking-widest text-slate-300 font-semibold",children:"Zdawalno Egzaminw"})]})]})})}),d.jsx("div",{className:"py-24 bg-brand-surface",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[d.jsx(ns,{title:"Najpopularniejsze Szkolenia",subtitle:"Rozwi swoj karier"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{onClick:()=>{a("c1"),e("COURSE_DETAIL")},className:"group bg-white rounded-sm shadow-sm hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer flex flex-col",children:[d.jsxs("div",{className:"relative h-64 overflow-hidden",children:[d.jsxs("div",{className:"absolute top-4 right-4 z-20 bg-green-600 text-white text-[10px] font-bold px-3 py-1.5 rounded-full uppercase tracking-wide flex items-center gap-1 shadow-lg",children:[d.jsx(Rh,{size:12})," Dostpna Teoria Online"]}),d.jsx("div",{className:"absolute inset-0 bg-brand-dark/10 group-hover:bg-brand-dark/0 transition-colors z-10"}),d.jsx("img",{src:"/multiserwis-kutno/operator-wozki-widlowe.webp",alt:"Wzki Widowe",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"})]}),d.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-3 group-hover:text-brand-accent transition-colors",children:"Wzki Widowe (I WJO)"}),d.jsxs("p",{className:"text-slate-600 text-base mb-6 leading-relaxed flex-grow",children:[d.jsx("span",{className:"font-bold text-brand-primary block mb-2",children:"Ucz si teorii w domu, przyjed tylko na egzamin praktyczny!"}),"Oszczd czas i pienidze. Dziki platformie e-learningowej przyswoisz wiedz w domowym zaciszu. 100% wsparcia instruktora."]}),d.jsxs("div",{className:"flex items-center text-brand-accent font-bold text-sm uppercase tracking-wider group-hover:translate-x-2 transition-transform",children:["Zobacz szczegy ",d.jsx(Kt,{size:16,className:"ml-1"})]})]})]}),d.jsxs("div",{onClick:()=>{a("c2"),e("COURSE_DETAIL")},className:"group bg-white rounded-sm shadow-sm hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer flex flex-col",children:[d.jsxs("div",{className:"relative h-64 overflow-hidden",children:[d.jsxs("div",{className:"absolute top-4 right-4 z-20 bg-green-600 text-white text-[10px] font-bold px-3 py-1.5 rounded-full uppercase tracking-wide flex items-center gap-1 shadow-lg",children:[d.jsx(Rh,{size:12})," Dostpna Teoria Online"]}),d.jsx("div",{className:"absolute inset-0 bg-brand-dark/10 group-hover:bg-brand-dark/0 transition-colors z-10"}),d.jsx("img",{src:"/multiserwis-kutno/ladowarki-teleskopowe.webp",alt:"adowarki Teleskopowe",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"})]}),d.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-3 group-hover:text-brand-accent transition-colors",children:"adowarki Teleskopowe"}),d.jsx("p",{className:"text-slate-600 text-base mb-6 leading-relaxed flex-grow",children:"Szkolenie na wielozadaniowe noniki osprztu. Najbardziej poszukiwane uprawnienia w budownictwie."}),d.jsxs("div",{className:"flex items-center text-brand-accent font-bold text-sm uppercase tracking-wider group-hover:translate-x-2 transition-transform",children:["Zobacz szczegy ",d.jsx(Kt,{size:16,className:"ml-1"})]})]})]}),d.jsxs("div",{onClick:()=>{a("c3"),e("COURSE_DETAIL")},className:"group bg-white rounded-sm shadow-sm hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer flex flex-col",children:[d.jsxs("div",{className:"relative h-64 overflow-hidden",children:[d.jsx("div",{className:"absolute top-4 right-4 z-20 bg-brand-accent text-white text-[10px] font-bold px-3 py-1.5 rounded-full uppercase tracking-wide flex items-center gap-1 shadow-lg",children:"Stacjonarnie"}),d.jsx("div",{className:"absolute inset-0 bg-brand-dark/10 group-hover:bg-brand-dark/0 transition-colors z-10"}),d.jsx("img",{src:"/multiserwis-kutno/koparki.webp",alt:"Koparki",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"})]}),d.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-3 group-hover:text-brand-accent transition-colors",children:"Koparko-adowarki"}),d.jsx("p",{className:"text-slate-600 text-base mb-6 leading-relaxed flex-grow",children:"Obsuga maszyn do robt ziemnych kl. III. Praktyka na placu manewrowym w Kutnie."}),d.jsxs("div",{className:"flex items-center text-brand-accent font-bold text-sm uppercase tracking-wider group-hover:translate-x-2 transition-transform",children:["Zobacz szczegy ",d.jsx(Kt,{size:16,className:"ml-1"})]})]})]})]})]})}),d.jsxs("div",{className:"py-24 bg-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-slate-50 rounded-bl-full -z-0"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-brand-accent/5 rounded-tr-full -z-0"}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 relative z-10",children:[d.jsx(ns,{title:"Usugi dla Przemysu",subtitle:"Kompleksowe wsparcie"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[d.jsxs("div",{onClick:()=>e("RENTALS"),className:"flex flex-col md:flex-row bg-slate-50 rounded-sm overflow-hidden border border-slate-100 group cursor-pointer hover:shadow-xl transition-all",children:[d.jsx("div",{className:"md:w-2/5 relative min-h-[200px]",children:d.jsx("img",{src:"/multiserwis-kutno/wynajem-maszyn.webp",alt:"Wynajem",className:"absolute inset-0 w-full h-full object-cover filter grayscale group-hover:grayscale-0 transition-all duration-500"})}),d.jsxs("div",{className:"p-8 md:w-3/5 flex flex-col justify-center",children:[d.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm text-brand-accent",children:d.jsx(Li,{size:24})}),d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-2",children:"Wynajem Maszyn"}),d.jsx("p",{className:"text-slate-600 mb-6 text-base",children:"Flota adowarek teleskopowych i podnonikw koszowych dostpna od rki. Krtki i dugi termin."}),d.jsx("span",{className:"text-brand-dark font-bold text-sm uppercase underline decoration-brand-accent decoration-2 underline-offset-4 group-hover:text-brand-accent transition-colors",children:"Zobacz dostpny sprzt"})]})]}),d.jsxs("div",{onClick:()=>e("SERVICES"),className:"flex flex-col md:flex-row bg-slate-50 rounded-sm overflow-hidden border border-slate-100 group cursor-pointer hover:shadow-xl transition-all",children:[d.jsx("div",{className:"md:w-2/5 relative min-h-[200px]",children:d.jsx("img",{src:"/multiserwis-kutno/serwis-i-koserwacja.webp",alt:"Serwis",className:"absolute inset-0 w-full h-full object-cover filter grayscale group-hover:grayscale-0 transition-all duration-500"})}),d.jsxs("div",{className:"p-8 md:w-3/5 flex flex-col justify-center",children:[d.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm text-brand-secondary",children:d.jsx(Lc,{size:24})}),d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-2",children:"Serwis i Konserwacja"}),d.jsx("p",{className:"text-slate-600 mb-6 text-base",children:"Przegldy okresowe UDT, resursy, naprawy biece. Mobilny serwis z dojazdem do klienta."}),d.jsx("span",{className:"text-brand-dark font-bold text-sm uppercase underline decoration-brand-secondary decoration-2 underline-offset-4 group-hover:text-brand-secondary transition-colors",children:"Umw serwis"})]})]})]})]})]}),d.jsx("div",{className:"bg-slate-100 border-t border-slate-200 py-16",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-heading font-bold text-brand-primary mb-6",children:"Profesjonalne Centrum Szkoleniowe MultiSerwis"}),d.jsxs("div",{className:"space-y-4 text-slate-600 text-base leading-relaxed",children:[d.jsxs("p",{children:["Jestemy liderem w brany szkoleniowej w regionie centralnej Polski. Oferujemy certyfikowane",d.jsx("strong",{className:"text-slate-800",children:" Szkolenia UDT w Kutnie"})," oraz okolicach. Nasz misj jest dostarczanie najwyszej jakoci edukacji zawodowej, czcej teori z praktyk."]}),d.jsxs("p",{children:["Szukasz szkolenia na maszyny budowlane? Nasze ",d.jsx("strong",{className:"text-slate-800",children:"szkolenie operatora koparki"})," oraz adowarki teleskopowej przygotuje Ci do egzaminu pastwowego z najwysz skutecznoci. Posiadamy wasny plac manewrowy oraz nowoczesne sale wykadowe."]}),d.jsx("p",{children:"Dla wygody naszych klientw wprowadzilimy rwnie szkolenia hybrydowe. Teoria odbywa si online, a zajcia praktyczne realizujemy na naszym sprzcie. Sprawd rwnie nasz ofert wynajmu podnonikw."})]}),d.jsxs("div",{className:"mt-8 flex gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase",children:[d.jsx(r2,{size:16,className:"text-brand-accent"})," Kutno i okolice"]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase",children:[d.jsx(kz,{size:16,className:"text-brand-accent"})," Terminy co tydzie"]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-4 bg-brand-accent/10 rounded-full blur-xl"}),d.jsxs("div",{className:"relative bg-white p-8 rounded-sm shadow-lg border-l-4 border-brand-accent",children:[d.jsx("h3",{className:"font-heading font-bold text-lg mb-4 text-brand-dark",children:"Dlaczego warto wybra MultiSerwis?"}),d.jsx("ul",{className:"space-y-3",children:["Wasny park maszynowy i hala szkoleniowa","Zaatwiamy wszelkie formalnoci z UDT","Materiay dydaktyczne w cenie kursu","Elastyczne godziny zaj praktycznych","Certyfikat w jzyku angielskim (opcja)"].map((V,de)=>d.jsxs("li",{className:"flex items-center gap-3 text-base text-slate-700",children:[d.jsx(cn,{size:16,className:"text-green-500 flex-shrink-0"})," ",V]},de))})]})]})]})})})]}),ql=()=>{const V={Wszystkie:"ALL","Urzdzenia UDT":"UDT","Uprawnienia SEP":"SEP","BHP i PPO":"BHP","Maszyny Budowlane":"Inne"},de=h==="Wszystkie"?_n:_n.filter(fe=>fe.category===V[h]);return d.jsx("div",{className:"py-12 bg-brand-surface animate-fade-in",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[d.jsx(ns,{title:"Katalog Szkole",subtitle:"Podnie swoje kwalifikacje"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"col-span-1 hidden lg:block space-y-8",children:[d.jsxs("div",{className:"bg-white p-6 rounded-sm shadow-sm",children:[d.jsx("h3",{className:"font-heading font-bold text-lg mb-4 text-brand-dark",children:"Kategorie"}),d.jsx("ul",{className:"space-y-2 text-base text-slate-600",children:["Wszystkie","Urzdzenia UDT","Uprawnienia SEP","BHP i PPO","Maszyny Budowlane"].map((fe,Ye)=>d.jsx("li",{onClick:()=>p(fe),className:`cursor-pointer hover:text-brand-accent transition-colors ${h===fe?"text-brand-accent font-bold":""}`,children:fe},Ye))})]}),d.jsxs("div",{className:"bg-brand-primary p-6 rounded-sm text-white",children:[d.jsx("h3",{className:"font-heading font-bold text-lg mb-2",children:"Potrzebujesz szkolenia dla firmy?"}),d.jsx("p",{className:"text-base text-slate-300 mb-4",children:"Przygotujemy indywidualn ofert dla Twoich pracownikw."}),d.jsx("button",{onClick:()=>setCurrentView("contact"),className:"w-full py-2 bg-brand-accent text-white text-sm font-bold uppercase rounded-sm hover:bg-brand-accentHover transition-colors",children:"Zapytaj o ofert"})]})]}),d.jsx("div",{className:"col-span-1 lg:col-span-3",children:de.length===0?d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-12 text-center",children:[d.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(Js,{size:40,className:"text-slate-400"})}),d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-3",children:"Brak szkole w tej kategorii"}),d.jsxs("p",{className:"text-slate-600 mb-6",children:['W tym momencie nie mamy dostpnych szkole w kategorii "',h,'".']}),d.jsx("button",{onClick:()=>p("Wszystkie"),className:"px-6 py-3 bg-brand-accent text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:"Zobacz wszystkie szkolenia"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:de.map(fe=>d.jsxs("div",{onClick:()=>{a(fe.id),e("COURSE_DETAIL")},className:"bg-white rounded-sm shadow-sm overflow-hidden hover:shadow-xl transition-all duration-300 flex flex-col group border border-slate-100 cursor-pointer",children:[d.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-brand-dark/20 group-hover:bg-brand-dark/0 transition-colors z-10"}),d.jsx("img",{src:fe.image,alt:fe.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),fe.isPopular&&d.jsx("span",{className:"absolute top-4 right-4 z-20 bg-brand-accent text-white text-xs font-bold px-3 py-1 uppercase rounded-sm shadow-md",children:"Popularny"})]}),d.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[d.jsx("div",{className:"text-xs font-bold text-brand-secondary uppercase mb-2",children:fe.category}),d.jsx("h3",{className:"text-lg font-heading font-bold text-brand-dark mb-4 leading-snug group-hover:text-brand-accent transition-colors",children:fe.title}),fe.description&&d.jsx("p",{className:"text-base text-slate-600 mb-4 line-clamp-3",children:fe.description}),d.jsxs("div",{className:"mt-auto flex items-center justify-between border-t border-slate-100 pt-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Cena"}),d.jsx("span",{className:"text-lg font-bold text-brand-primary",children:fe.price})]}),d.jsxs("div",{className:"flex flex-col text-right",children:[d.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Czas trwania"}),d.jsx("span",{className:"text-sm font-bold text-slate-700",children:fe.duration})]})]}),d.jsx("button",{className:"mt-4 w-full py-3 border border-brand-primary text-brand-primary font-bold uppercase text-sm hover:bg-brand-primary hover:text-white transition-all rounded-sm",children:"Szczegy Kursu"})]})]},fe.id))})})]})]})})},$l=()=>d.jsx("div",{className:"py-12 bg-brand-surface animate-fade-in",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[d.jsx(ns,{title:"Wynajem Maszyn",subtitle:"Flota Heavy Duty"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Xy.map(V=>d.jsxs("div",{onClick:()=>{u(V.id),e("MACHINE_DETAIL")},className:"bg-white rounded-sm shadow-sm hover:shadow-lg transition-shadow border border-slate-200 overflow-hidden flex flex-col group cursor-pointer",children:[d.jsxs("div",{className:"h-56 bg-slate-100 overflow-hidden relative",children:[d.jsx("div",{className:"absolute inset-0 bg-brand-dark/20 group-hover:bg-brand-dark/0 transition-colors z-10"}),d.jsx("img",{src:V.image,alt:V.name,className:"w-full h-full object-cover mix-blend-multiply transform group-hover:scale-105 transition-transform duration-500"})]}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark",children:V.name}),d.jsx("p",{className:"text-brand-accent font-medium text-sm mb-4 uppercase",children:V.type}),d.jsx("div",{className:"space-y-2 mb-6",children:Object.entries(V.specs).map(([de,fe])=>d.jsxs("div",{className:"flex justify-between text-base border-b border-slate-100 pb-1",children:[d.jsx("span",{className:"text-slate-500 capitalize",children:de}),d.jsx("span",{className:"font-bold text-slate-700",children:fe})]},de))}),d.jsx("button",{className:"w-full bg-brand-primary text-white py-3 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors mt-auto",children:"Rezerwuj Maszyn"})]})]},V.id))})]})}),hu=()=>{const V=_n.find(de=>de.id===l);return V?d.jsxs("div",{className:"animate-fade-in font-body",children:[d.jsxs("div",{className:"relative bg-gradient-to-r from-brand-primary via-brand-primary/95 to-brand-secondary min-h-[500px] flex items-center overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("img",{src:V.image,alt:V.title,className:"w-full h-full object-cover opacity-50"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary via-brand-primary/80 to-transparent"})]}),d.jsx("div",{className:"absolute inset-0 opacity-10 z-0",children:d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-accent rounded-full blur-3xl"})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 w-full relative z-10 py-20",children:[d.jsxs("button",{onClick:()=>e("CATALOG"),className:"flex items-center gap-1 text-white/80 hover:text-white mb-8 text-sm font-bold uppercase tracking-wider transition-colors",children:[d.jsx(Kt,{size:16,className:"rotate-180"})," Wr do katalogu"]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 items-start",children:[d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full mb-6",children:V.category}),d.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-white mb-6 leading-tight",children:V.title}),d.jsx("p",{className:"text-lg text-white/90 mb-8 leading-relaxed max-w-2xl",children:V.description||"Kompleksowe szkolenie przygotowujce do egzaminu pastwowego z najwysz skutecznoci."}),d.jsxs("div",{className:"flex flex-wrap gap-8",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(xr,{size:24,className:"text-brand-accent"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/70",children:"Czas trwania"}),d.jsx("div",{className:"font-bold text-white",children:V.duration})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ky,{size:24,className:"text-brand-accent"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/70",children:"Certyfikat UDT"}),d.jsx("div",{className:"font-bold text-white",children:"Uznawany zawodowo"})]})]})]})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-sm shadow-2xl p-8 sticky top-24",children:[d.jsx("div",{className:"text-4xl font-heading font-black text-brand-primary mb-2",children:V.price}),d.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"na osob / kursu penego"}),d.jsx("button",{className:"w-full bg-brand-primary text-white py-4 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors mb-4",children:"Zapisz si teraz"}),d.jsx("button",{className:"w-full border-2 border-brand-primary text-brand-primary py-3 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Dowiedz si wicej"}),d.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(cn,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Teoria online + praktyka"})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(cn,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Materiay dydaktyczne w cenie"})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(cn,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Wsparcie instruktora"})]})]})]})})]})]})]}),d.jsx("div",{className:"bg-brand-surface py-24",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"O szkoleniu"}),d.jsxs("p",{className:"text-base text-slate-600 leading-relaxed mb-4",children:["Szkolenie ",V.title.toLowerCase()," to kompleksowy program, ktry przygotowuje operatorw do pracy z maszynami budowlanymi. Program obejmuje zarwno wiedz teoretyczn, jak i praktyczne umiejtnoci niezbdne do bezpiecznej eksploatacji sprztu."]}),d.jsx("p",{className:"text-base text-slate-600 leading-relaxed",children:"Szkolenie koczy si egzaminem pastwowym UDT, ktrego zdanie uprawnia do pracy zawodowej na terenie caej Polski."})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Program szkolenia"}),d.jsx("div",{className:"space-y-3",children:Pl(V.id).map((de,fe)=>d.jsxs("div",{className:"bg-white rounded-sm border border-slate-200",children:[d.jsxs("button",{onClick:()=>Xt(Qe===fe?null:fe),className:"w-full flex items-center justify-between gap-4 p-5 hover:bg-slate-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-accent text-white flex items-center justify-center font-bold text-sm flex-shrink-0",children:fe+1}),d.jsx("span",{className:"text-slate-700 font-bold text-left",children:de.title})]}),d.jsx(zz,{style:{transform:Qe===fe?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.5s ease-in-out"},className:`flex-shrink-0 ${Qe===fe?"text-brand-accent":"text-slate-400"}`,size:24})]}),d.jsx("div",{style:{maxHeight:Qe===fe?"500px":"0px",opacity:Qe===fe?1:0,transition:"max-height 0.5s ease-in-out, opacity 0.5s ease-in-out",overflow:"hidden"},children:d.jsx("div",{className:"px-5 pb-5 pt-3 bg-slate-50 border-t border-slate-200",children:d.jsx("ul",{className:"space-y-2.5 ml-14",children:de.details.map((Ye,yt)=>d.jsxs("li",{className:"flex items-start gap-3 text-slate-600",children:[d.jsx(cn,{size:18,className:"text-green-600 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-sm leading-relaxed",children:Ye})]},yt))})})})]},fe))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Wymagania wstpne"}),d.jsx("ul",{className:"space-y-3",children:["Ukoczone 18 lat","Stan zdrowia pozwalajcy na prac na wysokociach","Zawiadczenie lekarskie","Dokument tosamoci"].map((de,fe)=>d.jsxs("li",{className:"flex items-center gap-3 text-slate-600",children:[d.jsx(cn,{size:20,className:"text-green-600 flex-shrink-0"}),de]},fe))})]})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-8 sticky top-24 space-y-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Kategoria"}),d.jsx("p",{className:"text-lg font-bold text-brand-primary",children:V.category})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Czas trwania"}),d.jsx("p",{className:"text-lg font-bold text-brand-primary",children:V.duration})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Cena"}),d.jsx("p",{className:"text-2xl font-heading font-black text-brand-primary",children:V.price})]}),d.jsx("button",{className:"w-full bg-brand-primary text-white py-3 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors",children:"Zapisz si"}),d.jsxs("div",{className:"bg-brand-accent/10 p-4 rounded-sm border-l-4 border-brand-accent",children:[d.jsx("p",{className:"text-sm font-bold text-brand-primary mb-2",children:" Masz pytania?"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Skontaktuj si z nami - chtnie pomoemy!"})]})]})})]})})})]}):null},bo=()=>{const V=Xy.find(de=>de.id===c);return V?d.jsxs("div",{className:"animate-fade-in font-body",children:[d.jsxs("div",{className:"relative bg-gradient-to-r from-brand-primary via-brand-primary/95 to-brand-secondary min-h-[500px] flex items-center overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("img",{src:V.image,alt:V.name,className:"w-full h-full object-cover opacity-50"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary via-brand-primary/80 to-transparent"})]}),d.jsx("div",{className:"absolute inset-0 opacity-10 z-0",children:d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-accent rounded-full blur-3xl"})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 w-full relative z-10 py-20",children:[d.jsxs("button",{onClick:()=>e("RENTALS"),className:"flex items-center gap-1 text-white/80 hover:text-white mb-8 text-sm font-bold uppercase tracking-wider transition-colors",children:[d.jsx(Kt,{size:16,className:"rotate-180"})," Wr do wynajmu"]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 items-start",children:[d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full mb-6",children:V.type}),d.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-white mb-6 leading-tight",children:V.name}),d.jsx("p",{className:"text-lg text-white/90 mb-8 leading-relaxed max-w-2xl",children:"Profesjonalna maszyna budowlana dostpna do wynajmu. Idealna do prac na wysokoci i w trudno dostpnych miejscach."}),d.jsx("div",{className:"flex flex-wrap gap-8",children:Object.entries(V.specs).map(([de,fe])=>d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-accent/20 backdrop-blur-sm flex items-center justify-center",children:d.jsx(Li,{size:24,className:"text-brand-accent"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/70 capitalize",children:de}),d.jsx("div",{className:"font-bold text-white",children:fe})]})]},de))})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-sm shadow-2xl p-8 sticky top-24",children:[d.jsx("div",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Od"}),d.jsx("div",{className:"text-4xl font-heading font-black text-brand-primary mb-2",children:"250 PLN"}),d.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"za dob / netto"}),d.jsx("button",{className:"w-full bg-brand-primary text-white py-4 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors mb-4",children:"Zapytaj o dostpno"}),d.jsx("button",{className:"w-full border-2 border-brand-primary text-brand-primary py-3 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Pobierz ofert PDF"}),d.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(cn,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Moliwo transportu"})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(cn,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Ubezpieczenie w cenie"})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(cn,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Obsuga operatora opcjonalnie"})]})]})]})})]})]})]}),d.jsx("div",{className:"bg-brand-surface py-24",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Opis maszyny"}),d.jsxs("p",{className:"text-base text-slate-600 leading-relaxed mb-4",children:[V.name," to profesjonalna maszyna budowlana z najwyszej pki. Zapewnia maksymalne bezpieczestwo pracy oraz komfort obsugi dziki nowoczesnym systemom sterowania."]}),d.jsx("p",{className:"text-base text-slate-600 leading-relaxed",children:"Idealna do prac budowlanych, instalacyjnych i konserwacyjnych na wysokoci. Kompaktowa konstrukcja pozwala na prac w trudno dostpnych miejscach."})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Specyfikacja techniczna"}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 space-y-4",children:[Object.entries(V.specs).map(([de,fe])=>d.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-4 last:border-0 last:pb-0",children:[d.jsx("span",{className:"text-slate-600 capitalize font-medium",children:de}),d.jsx("span",{className:"font-bold text-brand-dark text-lg",children:fe})]},de)),d.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-4",children:[d.jsx("span",{className:"text-slate-600 font-medium",children:"Typ napdu"}),d.jsx("span",{className:"font-bold text-brand-dark text-lg",children:"Elektryczny"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-slate-600 font-medium",children:"Certyfikaty"}),d.jsx("span",{className:"font-bold text-brand-dark text-lg",children:"CE, UDT"})]})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Zastosowanie"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["Prace budowlane","Instalacje elektryczne","Konserwacja budynkw","Prace magazynowe","Monta konstrukcji","Prace wykoczeniowe"].map((de,fe)=>d.jsxs("div",{className:"flex items-center gap-3 bg-white p-4 rounded-sm border-l-4 border-brand-accent",children:[d.jsx(Lh,{size:20,className:"text-brand-accent flex-shrink-0"}),d.jsx("span",{className:"text-slate-700 font-medium",children:de})]},fe))})]})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-8 sticky top-24 space-y-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Maszyna"}),d.jsx("p",{className:"text-lg font-bold text-brand-primary",children:V.name})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Typ"}),d.jsx("p",{className:"text-lg font-bold text-brand-primary",children:V.type})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Cena najmu"}),d.jsx("p",{className:"text-2xl font-heading font-black text-brand-primary",children:"250 PLN/doba"}),d.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Rabat przy duszym najmie"})]}),d.jsx("button",{className:"w-full bg-brand-primary text-white py-3 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors",children:"Zarezerwuj"}),d.jsxs("div",{className:"bg-brand-accent/10 p-4 rounded-sm border-l-4 border-brand-accent",children:[d.jsx("p",{className:"text-sm font-bold text-brand-primary mb-2",children:" Potrzebujesz pomocy?"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Zadzwo: +48 730 101 000"})]})]})})]})})})]}):null},Kl=()=>d.jsxs("div",{className:"animate-fade-in font-body",children:[d.jsxs("div",{className:"relative bg-gradient-to-r from-brand-primary via-brand-primary/95 to-brand-secondary min-h-[500px] flex items-center overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("img",{src:"/multiserwis-kutno/serwis-i-koserwacja.webp",alt:"Usugi serwisowe",className:"w-full h-full object-cover opacity-50"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary via-brand-primary/80 to-transparent"})]}),d.jsx("div",{className:"absolute inset-0 opacity-10 z-0",children:d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-accent rounded-full blur-3xl"})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 w-full relative z-10 py-20",children:[d.jsxs("button",{onClick:()=>e("HOME"),className:"flex items-center gap-1 text-white/80 hover:text-white mb-8 text-sm font-bold uppercase tracking-wider transition-colors",children:[d.jsx(Kt,{size:16,className:"rotate-180"})," Wr do strony gwnej"]}),d.jsxs("div",{className:"max-w-3xl",children:[d.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full mb-6",children:"Kompleksowa obsuga"}),d.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-white mb-6 leading-tight",children:"Usugi Serwisowe"}),d.jsx("p",{className:"text-lg text-white/90 mb-8 leading-relaxed",children:"Profesjonalny serwis i konserwacja maszyn budowlanych. Przegldy okresowe UDT, naprawy, modernizacje oraz mobilny serwis z dojazdem do klienta na terenie caej Polski."}),d.jsxs("div",{className:"flex flex-wrap gap-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-accent/20 backdrop-blur-sm flex items-center justify-center",children:d.jsx(cn,{size:24,className:"text-brand-accent"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/70",children:"Dowiadczenie"}),d.jsx("div",{className:"font-bold text-white",children:"15+ lat"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-accent/20 backdrop-blur-sm flex items-center justify-center",children:d.jsx(Lc,{size:24,className:"text-brand-accent"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/70",children:"Zrealizowanych"}),d.jsx("div",{className:"font-bold text-white",children:"2000+ serwisw"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-accent/20 backdrop-blur-sm flex items-center justify-center",children:d.jsx(xr,{size:24,className:"text-brand-accent"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/70",children:"Czas reakcji"}),d.jsx("div",{className:"font-bold text-white",children:"24h"})]})]})]})]})]})]}),d.jsx("div",{className:"bg-brand-surface py-24",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[d.jsx(ns,{subtitle:"Zakres usug",title:"Czym si zajmujemy?"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[{icon:d.jsx(Lc,{size:32}),title:"Przegldy UDT",desc:"Kompleksowe przegldy okresowe zgodne z wymogami UDT. Dokumentacja i certyfikaty."},{icon:d.jsx(Lh,{size:32}),title:"Naprawy biece",desc:"Szybkie reakcje na awarie. Diagnostyka i naprawa ukadw hydraulicznych, elektrycznych i mechanicznych."},{icon:d.jsx(Li,{size:32}),title:"Mobilny serwis",desc:"Dojazd do klienta na terenie caej Polski. Serwis w miejscu uytkowania maszyny."},{icon:d.jsx(Dh,{size:32}),title:"Resursy i modernizacje",desc:"Kompleksowe remonty kapitalne. Modernizacja starszych maszyn do aktualnych norm."},{icon:d.jsx(m2,{size:32}),title:"Certyfikacja",desc:"Pomoc w uzyskaniu certyfikatw UDT. Kompletowanie dokumentacji technicznej."},{icon:d.jsx(xr,{size:32}),title:"Serwis gwarancyjny",desc:"Obsuga gwarancyjna maszyn. Wsppraca z producentami i autoryzowanymi serwisami."}].map((V,de)=>d.jsxs("div",{className:"bg-white p-8 rounded-sm shadow-sm hover:shadow-xl transition-shadow group",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-accent/10 flex items-center justify-center mb-6 text-brand-accent group-hover:bg-brand-accent group-hover:text-white transition-colors",children:V.icon}),d.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark mb-3",children:V.title}),d.jsx("p",{className:"text-slate-600 leading-relaxed",children:V.desc})]},de))})]})}),d.jsx("div",{className:"bg-white py-24",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[d.jsx(ns,{subtitle:"Jak to dziaa?",title:"Proces realizacji"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Kontakt",desc:"Zgoszenie telefoniczne lub mailowe"},{step:"02",title:"Diagnostyka",desc:"Wstpna ocena zakresu prac"},{step:"03",title:"Wycena",desc:"Przygotowanie szczegowej oferty"},{step:"04",title:"Realizacja",desc:"Wykonanie serwisu i dokumentacja"}].map((V,de)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-brand-primary text-white font-heading font-black text-3xl flex items-center justify-center mx-auto mb-6",children:V.step}),d.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark mb-3",children:V.title}),d.jsx("p",{className:"text-slate-600",children:V.desc})]},de))})]})}),d.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-secondary py-20",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8 text-center",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-6",children:"Potrzebujesz serwisu swojej maszyny?"}),d.jsx("p",{className:"text-lg text-white/90 mb-8",children:"Skontaktuj si z nami  odpowiemy na wszystkie pytania i przygotujemy ofert dopasowan do Twoich potrzeb."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs("button",{onClick:()=>e("CONTACT"),className:"px-8 py-4 bg-brand-accent hover:bg-brand-accentHover text-white font-bold uppercase tracking-wider rounded-sm shadow-lg transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2",children:["Skontaktuj si ",d.jsx($y,{size:20})]}),d.jsxs("a",{href:"tel:+48730101000",className:"px-8 py-4 border-2 border-white text-white hover:bg-white hover:text-brand-primary font-bold uppercase tracking-wider rounded-sm transition-all flex items-center justify-center gap-2",children:[d.jsx(gp,{size:20})," +48 730 101 000"]})]})]})}),d.jsx("div",{className:"bg-brand-surface py-24",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8",children:[d.jsx(ns,{subtitle:"Pytania i odpowiedzi",title:"Najczciej zadawane pytania"}),d.jsx("div",{className:"space-y-4",children:[{q:"Jak czsto naley wykonywa przegldy UDT?",a:"Czstotliwo przegldw zaley od typu maszyny i intensywnoci uytkowania. Zazwyczaj przegldy wykonuje si raz w roku lub co okrelon liczb motogodzin."},{q:"Czy wykonujecie serwis na miejscu u klienta?",a:"Tak, dysponujemy mobilnym serwisem, ktry moe dojecha do klienta na terenie caej Polski. Wikszo napraw i przegldw wykonujemy bezporednio w miejscu uytkowania maszyny."},{q:"Jakie maszyny serwisujecie?",a:"Serwisujemy szeroki zakres maszyn: wzki widowe, podnoniki koszowe, adowarki teleskopowe, koparki, zwyki i inne maszyny budowlane wymagajce przegldw UDT."},{q:"Czy otrzymam dokumentacj po przegldzie?",a:"Tak, po kadym przegldzie wydajemy komplet dokumentacji zgodnej z wymogami UDT, w tym protokoy z bada i certyfikaty."}].map((V,de)=>d.jsxs("details",{className:"bg-white rounded-sm shadow-sm group",children:[d.jsxs("summary",{className:"p-6 cursor-pointer font-bold text-brand-dark hover:text-brand-primary transition-colors flex items-center justify-between",children:[V.q,d.jsx(Kt,{size:20,className:"transform group-open:rotate-90 transition-transform text-brand-accent"})]}),d.jsx("div",{className:"px-6 pb-6 text-slate-600 leading-relaxed",children:V.a})]},de))})]})})]}),Gl=()=>{var je;const V=g,[de,fe]=le.useState(!0),Ye=[];Ti.forEach(ue=>{ue.lessons.forEach(ze=>{Ye.push(ze)})});const yt=Ye.findIndex(ue=>ue.id===V),Ae=yt>0,jt=yt<Ye.length-1,lt=()=>{Ae&&y(Ye[yt-1].id)},mn=()=>{jt&&y(Ye[yt+1].id)},re=Ye[yt];return d.jsx("div",{className:"min-h-screen bg-slate-100 flex flex-col font-body animate-fade-in",children:d.jsxs("div",{className:"max-w-7xl mx-auto w-full flex-grow flex flex-col md:flex-row gap-6 p-4 md:p-8",children:[d.jsxs("div",{className:"flex-grow w-full md:w-3/4 flex flex-col gap-6 order-2 md:order-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1 flex items-center gap-1",children:[d.jsx("span",{onClick:()=>e("LMS"),className:"cursor-pointer hover:text-brand-accent",children:"Moje Szkolenia"})," ",d.jsx(Kt,{size:12}),d.jsx("span",{children:"Operator Wzkw Widowych (I WJO)"})]}),d.jsx("h1",{className:"text-2xl font-heading font-bold text-brand-dark",children:(re==null?void 0:re.title)||"Bezpieczestwo wymiany butli LPG"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[b&&k&&d.jsxs("button",{onClick:()=>{localStorage.setItem("returnToEditCourseId",k),w(!1),z(null),e("ADMIN")},className:"hidden md:flex items-center gap-2 px-4 py-2 bg-brand-accent text-white font-bold text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:[d.jsx(Kt,{size:16,className:"rotate-180"})," Powrt do edycji"]}),d.jsx("button",{className:"md:hidden p-2 bg-white rounded shadow text-brand-dark",onClick:()=>fe(!de),children:d.jsx(W1,{size:20})})]})]}),(re==null?void 0:re.type)==="video"&&d.jsxs("div",{className:"w-full aspect-video bg-black rounded-sm shadow-xl overflow-hidden relative group",children:[d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-accent/90 flex items-center justify-center cursor-pointer hover:scale-110 transition-transform shadow-lg z-10",children:d.jsx(Jy,{size:32,className:"text-white ml-1"})})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/20",children:d.jsx("div",{className:"h-full w-1/3 bg-brand-accent"})}),d.jsx("div",{className:"absolute bottom-4 left-4 text-white text-sm font-bold bg-black/50 px-2 py-1 rounded",children:"04:20 / 25:00"}),d.jsx("img",{src:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?q=80&w=1200&auto=format&fit=crop",className:"w-full h-full object-cover opacity-60",alt:"Lesson Cover"})]}),(re==null?void 0:re.type)==="text"&&d.jsx("div",{className:"w-full bg-white rounded-sm shadow-sm border border-slate-200 p-8",children:d.jsxs("div",{className:"prose max-w-none text-base text-slate-700 leading-relaxed",children:[d.jsx("h2",{className:"text-2xl font-heading font-bold text-brand-dark mb-6",children:re==null?void 0:re.title}),re.id==="c1l6a"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-lg mb-4",children:"Przepisy BHP (Bezpieczestwa i Higieny Pracy) oraz normy bezpieczestwa stanowi fundament bezpiecznej pracy na wzkach widowych."}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Podstawowe zasady BHP"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[d.jsx("li",{children:"Operator musi posiada aktualne uprawnienia do obsugi wzka widowego kategorii I, II lub III"}),d.jsx("li",{children:"Przed rozpoczciem pracy naley przeprowadzi przegld techniczny wzka"}),d.jsx("li",{children:"Zabrania si jazdy z uniesionymi widami bez adunku"}),d.jsx("li",{children:"Maksymalna prdko jazdy w pomieszczeniach: 10 km/h"}),d.jsx("li",{children:"Operator musi uywa rodkw ochrony indywidualnej (kask, obuwie, kamizelka)"})]}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Normy europejskie i polskie"}),d.jsx("p",{className:"mb-4",children:"Obsuga wzkw widowych w Polsce regulowana jest przez:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Rozporzdzenie Ministra Gospodarki"})," w sprawie warunkw technicznych dozoru technicznego w zakresie eksploatacji niektrych urzdze transportu bliskiego"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Norma PN-EN 16307-1"})," - wzki jezdniowe - wymagania bezpieczestwa i weryfikacja"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ustawa o Transporcie Drogowym"})," - w zakresie transportu wewntrzzakadowego"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Kodeks Pracy"})," - obowizki pracodawcy i pracownika w zakresie BHP"]})]}),d.jsxs("div",{className:"bg-brand-accent/10 border-l-4 border-brand-accent p-4 my-6",children:[d.jsx("p",{className:"font-bold text-brand-dark mb-2",children:" Wane!"}),d.jsx("p",{children:"Niestosowanie si do przepisw BHP moe skutkowa odpowiedzialnoci karn lub cywiln, a take utrat uprawnie do obsugi wzkw widowych."})]})]}),re.id==="c1l6b"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-lg mb-4",children:"Dokumentacja techniczna wzka widowego zawiera wszystkie informacje niezbdne do jego bezpiecznej i prawidowej eksploatacji."}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Podstawowe dokumenty"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Instrukcja obsugi"})," - zawiera szczegowy opis obsugi, konserwacji i napraw"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Karta charakterystyki"})," - parametry techniczne, udwig, wysoko podnoszenia"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Deklaracja zgodnoci CE"})," - potwierdzenie zgodnoci z normami UE"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ksika UDT"})," - dziennik przegldw technicznych i napraw"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Certyfikat dopuszczenia"})," - wydawany przez UDT dla wzkw objtych dozorem"]})]}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Tabela znamionowa"}),d.jsx("p",{className:"mb-4",children:"Na kadym wzku widowym musi znajdowa si trwale przymocowana tabela znamionowa zawierajca:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[d.jsx("li",{children:"Nazwa producenta i typ wzka"}),d.jsx("li",{children:"Numer seryjny i rok produkcji"}),d.jsx("li",{children:"Udwig nominalny (Q) - maksymalny adunek"}),d.jsx("li",{children:"Odlego rodka cikoci adunku (c)"}),d.jsx("li",{children:"Maksymalna wysoko podnoszenia"}),d.jsx("li",{children:"Masa wasna wzka"})]}),d.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-6",children:[d.jsx("p",{className:"font-bold text-brand-dark mb-2",children:" Wskazwka"}),d.jsx("p",{children:"Przed kad zmian zapoznaj si z tablic obcie wzka - przekroczenie udwigu moe prowadzi do przewrcenia si wzka!"})]}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Przechowywanie dokumentacji"}),d.jsx("p",{className:"mb-4",children:"Dokumentacja techniczna powinna by przechowywana w miejscu atwo dostpnym dla operatora i pracownikw dziau BHP. Zaleca si posiadanie kopii cyfrowych wszystkich dokumentw."})]}),re.id==="c1l8a"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-lg mb-4",children:"Urzd Dozoru Technicznego (UDT) jest organem nadzorujcym bezpieczestwo eksploatacji urzdze technicznych, w tym niektrych typw wzkw widowych."}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Ktre wzki podlegaj dozorowi UDT?"}),d.jsx("p",{className:"mb-4",children:"Dozorowi technicznemu podlegaj wzki jezdniowe podnonikowe z wysignikiem (WJO) oraz wzki z mechanizmem podnoszenia masztu przekraczajcym:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[d.jsxs("li",{children:["Wzki z wysignikiem (reach truck) - ",d.jsx("strong",{children:"wszystkie"})]}),d.jsxs("li",{children:["Wzki widowe z masztem powyej ",d.jsx("strong",{children:"1,8 metra"})," wysokoci podnoszenia"]}),d.jsx("li",{children:"Wzki z kabin operatora podnoszon razem z adunkiem"})]}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Obowizkowe badania i przegldy"}),d.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded p-4 mb-6",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-slate-300",children:[d.jsx("th",{className:"text-left py-2 px-2 font-bold",children:"Rodzaj przegldu"}),d.jsx("th",{className:"text-left py-2 px-2 font-bold",children:"Czstotliwo"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-b border-slate-200",children:[d.jsx("td",{className:"py-2 px-2",children:"Badanie UDT przed dopuszczeniem do eksploatacji"}),d.jsx("td",{className:"py-2 px-2",children:"Jednorazowo"})]}),d.jsxs("tr",{className:"border-b border-slate-200",children:[d.jsx("td",{className:"py-2 px-2",children:"Okresowe badanie UDT"}),d.jsx("td",{className:"py-2 px-2",children:"Co 12 miesicy"})]}),d.jsxs("tr",{className:"border-b border-slate-200",children:[d.jsx("td",{className:"py-2 px-2",children:"Przegld konserwacyjny"}),d.jsx("td",{className:"py-2 px-2",children:"Co 250 motogodzin"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"py-2 px-2",children:"Przegld codzienny przez operatora"}),d.jsx("td",{className:"py-2 px-2",children:"Przed kad zmian"})]})]})]})}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Uprawnienia operatora"}),d.jsx("p",{className:"mb-4",children:"Operator wzka widowego musi posiada:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Zawiadczenie kwalifikacyjne UDT"})," - dla wzkw objtych dozorem (kategoria II i III)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"wiadectwo kwalifikacji"})," - dla wzkw nieobjtych dozorem (kategoria I)"]}),d.jsx("li",{children:"Minimum 18 lat (21 lat dla niektrych kategorii)"}),d.jsx("li",{children:"Wane badania lekarskie (kategoria 1 lub 2)"}),d.jsx("li",{children:"Wane badania psychologiczne"})]}),d.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-6",children:[d.jsx("p",{className:"font-bold text-brand-dark mb-2",children:" Uwaga!"}),d.jsx("p",{children:"Obsuga wzka widowego bez wymaganych uprawnie jest wykroczeniem zagroonym kar grzywny do 5000 z. Pracodawca dopuszczajcy do pracy osob bez uprawnie moe zosta ukarany grzywn do 30 000 z."})]}),d.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Dokumentacja eksploatacyjna"}),d.jsx("p",{className:"mb-4",children:"Dla kadego wzka objtego dozorem UDT prowadzi si Ksik Rewizyjn, w ktrej odnotowywane s:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[d.jsx("li",{children:"Wyniki bada okresowych UDT"}),d.jsx("li",{children:"Przeprowadzone naprawy gwne i wymiany elementw nonych"}),d.jsx("li",{children:"Wypadki i awarie zwizane z eksploatacj"}),d.jsx("li",{children:"Zmiany waciciela lub miejsca eksploatacji"})]})]})]})}),(re==null?void 0:re.type)==="test"&&d.jsxs("div",{className:"w-full bg-white rounded-sm shadow-sm border border-slate-200 p-6",children:[d.jsx("h2",{className:"text-2xl font-heading font-bold text-brand-dark mb-6",children:re==null?void 0:re.title}),d.jsx("div",{className:"space-y-6",children:(je=re==null?void 0:re.questions)==null?void 0:je.map((ue,ze)=>{var Le,Vt;return d.jsxs("div",{className:"border border-slate-200 rounded p-6 bg-slate-50",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-brand-dark flex-1",children:[ze+1,". ",ue.question]}),d.jsx("span",{className:"text-xs font-bold bg-brand-primary text-white px-3 py-1 rounded ml-4 whitespace-nowrap",children:ue.type==="single"?"Jednokrotny wybr":ue.type==="multiple"?"Wielokrotny wybr":"Pytanie otwarte"})]}),ue.type==="single"&&d.jsx("div",{className:"space-y-3",children:(Le=ue.options)==null?void 0:Le.map((Pe,Fe)=>d.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-300 rounded cursor-pointer hover:bg-white transition-colors",children:[d.jsx("input",{type:"radio",name:ue.id,value:Fe,checked:ie[ue.id]===Fe,onChange:vt=>Ne({...ie,[ue.id]:parseInt(vt.target.value)}),className:"w-4 h-4 rounded-full border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),d.jsx("span",{className:"text-slate-700",children:Pe})]},Fe))}),ue.type==="multiple"&&d.jsx("div",{className:"space-y-3",children:(Vt=ue.options)==null?void 0:Vt.map((Pe,Fe)=>{var vt;return d.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-300 rounded cursor-pointer hover:bg-white transition-colors",children:[d.jsx("input",{type:"checkbox",checked:((vt=ie[ue.id])==null?void 0:vt.includes(Fe))||!1,onChange:nt=>{const Me=ie[ue.id]||[];nt.target.checked?Ne({...ie,[ue.id]:[...Me,Fe]}):Ne({...ie,[ue.id]:Me.filter(P=>P!==Fe)})},className:"w-4 h-4 rounded-sm border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),d.jsx("span",{className:"text-slate-700",children:Pe})]},Fe)})}),ue.type==="open"&&d.jsx("textarea",{value:ie[ue.id]||"",onChange:Pe=>Ne({...ie,[ue.id]:Pe.target.value}),placeholder:"Wpisz swoj odpowied tutaj...",className:"w-full p-4 border border-slate-300 rounded focus:outline-none focus:border-brand-accent focus:ring-2 focus:ring-brand-accent/20",rows:4}),gt&&d.jsxs("div",{className:`mt-4 p-4 rounded ${ue.type==="open"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[d.jsx("p",{className:"text-sm font-bold text-slate-700 mb-2",children:"Wyjanienie:"}),d.jsx("p",{className:"text-sm text-slate-600",children:ue.explanation})]})]},ue.id)})}),d.jsx("button",{onClick:()=>It(!gt),className:"mt-6 px-6 py-3 bg-brand-primary text-white font-bold rounded hover:bg-brand-dark transition-colors",children:gt?"Ukryj wyjanienia":"Przelij odpowiedzi i zobacz wyjanienia"})]}),(re==null?void 0:re.type)==="video"&&d.jsxs("div",{className:"bg-white rounded-sm shadow-sm border border-slate-200 p-6",children:[d.jsxs("div",{className:"flex border-b border-slate-200 mb-6",children:[d.jsx("button",{className:"px-6 py-3 text-sm font-bold text-brand-accent border-b-2 border-brand-accent",children:"Opis Lekcji"}),d.jsx("button",{className:"px-6 py-3 text-sm font-bold text-slate-500 hover:text-brand-dark transition-colors",children:"Materiay (2)"}),d.jsx("button",{className:"px-6 py-3 text-sm font-bold text-slate-500 hover:text-brand-dark transition-colors",children:"Notatki"})]}),d.jsxs("div",{className:"prose max-w-none text-base text-slate-600 leading-relaxed mb-8",children:[d.jsx("p",{children:"W tej lekcji omwimy procedur bezpiecznej wymiany butli z gazem propan-butan w wzkach jezdniowych. Jest to jedna z kluczowych czynnoci eksploatacyjnych, ktra nieprawidowo wykonana moe prowadzi do powanych wypadkw."}),d.jsx("h4",{className:"font-bold text-brand-dark mt-4 mb-2",children:"Czego si nauczysz?"}),d.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[d.jsx("li",{children:"Zasad BHP przy kontakcie z gazem pynnym."}),d.jsx("li",{children:"Kolejnoci odczania i podczania przewodw."}),d.jsx("li",{children:"Sprawdzania szczelnoci instalacji po wymianie."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"border border-slate-200 rounded p-4 flex items-start gap-3 hover:bg-slate-50 transition-colors cursor-pointer group",children:[d.jsx("div",{className:"p-2 bg-red-100 rounded text-red-600",children:d.jsx(Dh,{size:20})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-brand-dark text-sm group-hover:text-brand-accent transition-colors",children:"Instrukcja Wymiany Butli.pdf"}),d.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"PDF  2.4 MB"})]}),d.jsx(Ah,{size:16,className:"ml-auto text-slate-400 group-hover:text-brand-primary"})]}),d.jsxs("div",{className:"border border-slate-200 rounded p-4 flex items-start gap-3 hover:bg-slate-50 transition-colors cursor-pointer group",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded text-blue-600",children:d.jsx(Dh,{size:20})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-brand-dark text-sm group-hover:text-brand-accent transition-colors",children:"Transkrypcja Wideo.txt"}),d.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"TXT  150 KB"})]}),d.jsx(Ah,{size:16,className:"ml-auto text-slate-400 group-hover:text-brand-primary"})]})]})]}),(re==null?void 0:re.type)!=="quiz"&&d.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mt-6 md:justify-between",children:[d.jsx("button",{onClick:lt,disabled:!Ae,className:`px-6 py-3 border border-slate-300 font-bold uppercase text-xs rounded-sm transition-colors ${Ae?"text-slate-600 hover:bg-white hover:text-brand-dark cursor-pointer":"text-slate-300 cursor-not-allowed opacity-50"}`,children:"Poprzednia lekcja"}),re!=null&&re.isCompleted?d.jsxs("div",{className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-50 text-green-700 font-bold uppercase text-xs rounded-sm md:order-2",children:[d.jsx(cn,{size:16})," Lekcja ukoczona"]}):d.jsxs("button",{onClick:()=>{const ue=Ti.findIndex(ze=>ze.lessons.some(Le=>Le.id===(re==null?void 0:re.id)));if(ue!==-1){const ze=Ti[ue].lessons.findIndex(Le=>Le.id===(re==null?void 0:re.id));ze!==-1&&(Ti[ue].lessons[ze].isCompleted=!0,y((re==null?void 0:re.id)||""))}},className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white font-bold uppercase text-xs rounded-sm hover:bg-green-700 transition-colors md:order-2",children:[d.jsx(cn,{size:16})," Oznacz jako ukoczona"]}),d.jsxs("button",{onClick:mn,disabled:!jt,className:`px-6 py-3 bg-brand-accent font-bold uppercase text-xs rounded-sm transition-colors flex items-center justify-center gap-2 md:order-3 ${jt?"text-white hover:bg-brand-accentHover cursor-pointer":"bg-slate-300 text-slate-400 cursor-not-allowed"}`,children:["Nastpna lekcja ",d.jsx(Kt,{size:14})]})]})]}),d.jsxs("div",{className:`
             w-full md:w-1/4 flex-shrink-0 bg-white border border-slate-200 shadow-sm rounded-sm order-1 md:order-2
             md:sticky md:top-20 md:max-h-[calc(100vh-6rem)] md:overflow-hidden md:flex md:flex-col
             ${de?"block":"hidden md:flex"}
          `,children:[d.jsxs("div",{className:"p-4 bg-brand-primary text-white rounded-t-sm flex-shrink-0",children:[d.jsx("div",{className:"text-xs font-bold uppercase text-brand-accent tracking-widest mb-1",children:"Twj postp"}),d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsx("span",{className:"text-2xl font-heading font-bold",children:"45%"}),d.jsx("span",{className:"text-xs text-slate-300 mb-1",children:"ukoczono"})]}),d.jsx("div",{className:"w-full bg-brand-dark/50 rounded-full h-1.5",children:d.jsx("div",{className:"bg-brand-accent h-1.5 rounded-full",style:{width:"45%"}})})]}),d.jsx("div",{className:"overflow-y-auto flex-1",children:Ti.map(ue=>d.jsxs("div",{className:"border-b border-slate-100 last:border-0",children:[d.jsx("div",{className:"bg-slate-50 px-4 py-3 text-xs font-bold uppercase text-slate-600 tracking-wider flex justify-between items-center sticky top-0 z-10 border-b border-slate-200",children:ue.title}),d.jsx("div",{children:ue.lessons.map(ze=>{var Vt;const Le=ze.id===V;return d.jsxs("div",{onClick:()=>!ze.isLocked&&y(ze.id),className:`
                                 flex items-start gap-3 p-4 cursor-pointer transition-colors relative
                                 ${ze.isCompleted?"bg-green-50 hover:bg-green-100":""}
                                 ${Le&&!ze.isCompleted?"bg-brand-surface":""}
                                 ${!Le&&!ze.isCompleted?"hover:bg-slate-50":""}
                                 ${ze.isLocked?"opacity-50 pointer-events-none":""}
                               `,children:[Le&&d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-brand-accent"}),d.jsx("div",{className:"mt-0.5 flex-shrink-0",children:ze.isCompleted?d.jsx(cn,{size:16,className:"text-green-500"}):ze.isLocked?d.jsx(Yy,{size:16,className:"text-slate-400"}):d.jsxs(d.Fragment,{children:[ze.type==="video"&&d.jsx(Ez,{size:16,className:`${Le?"text-brand-accent":"text-slate-400"}`}),ze.type==="text"&&d.jsx(Dc,{size:16,className:`${Le?"text-brand-accent":"text-slate-400"}`}),ze.type==="test"&&d.jsx(Gy,{size:16,className:`${Le?"text-brand-accent":"text-slate-400"}`})]})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:`text-sm font-medium leading-tight mb-1 ${ze.isCompleted?"text-green-700":""} ${Le?"text-brand-dark font-bold":"text-slate-600"}`,children:ze.title}),d.jsxs("div",{className:`text-xs flex items-center gap-2 ${ze.isCompleted?"text-green-600":"text-slate-400"}`,children:[d.jsx(xr,{size:10}),ze.duration,ze.type==="test"&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:""}),d.jsx(Gy,{size:10}),((Vt=ze.questions)==null?void 0:Vt.length)||0," pyta"]})]})]})]},ze.id)})})]},ue.id))})]})]})})},Wl=()=>d.jsx("div",{className:"min-h-screen bg-slate-50 animate-fade-in",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-12",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-200 pb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-2",children:"Panel Administratora"}),d.jsxs("p",{className:"text-slate-500",children:["Witaj, ",_==null?void 0:_.name]})]}),d.jsx("button",{onClick:ni,className:"px-4 py-2 bg-red-600 text-white font-bold rounded-sm hover:bg-red-700 transition-colors",children:"Wyloguj si"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 border-l-4 border-blue-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-600 font-bold uppercase text-xs tracking-wider",children:"Uytkownicy"}),d.jsx(yr,{size:24,className:"text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-brand-dark mb-1",children:"1,247"}),d.jsx("p",{className:"text-xs text-slate-500",children:"+12 w tym miesicu"})]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 border-l-4 border-green-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-600 font-bold uppercase text-xs tracking-wider",children:"Szkolenia"}),d.jsx(Js,{size:24,className:"text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-brand-dark mb-1",children:"28"}),d.jsx("p",{className:"text-xs text-slate-500",children:"8 aktywnych"})]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 border-l-4 border-purple-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-600 font-bold uppercase text-xs tracking-wider",children:"Firmy"}),d.jsx(Li,{size:24,className:"text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-brand-dark mb-1",children:"34"}),d.jsx("p",{className:"text-xs text-slate-500",children:"+3 w tym miesicu"})]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 border-l-4 border-orange-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-600 font-bold uppercase text-xs tracking-wider",children:"Przychd"}),d.jsx(Xc,{size:24,className:"text-orange-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-brand-dark mb-1",children:"98,450 z"}),d.jsx("p",{className:"text-xs text-slate-500",children:"+15% wzgldem ubiegego miesica"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-sm shadow-sm border border-slate-100",children:[d.jsx("div",{className:"p-6 border-b border-slate-100",children:d.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Ostatnie dziaania"})}),d.jsx("div",{className:"divide-y divide-slate-100",children:[{action:"Nowy uytkownik",detail:"Krzysztof Nowak",time:"2 godziny temu"},{action:"Nowe szkolenie",detail:"UDT - Wzki widowe 2026",time:"5 godzin temu"},{action:"Zgoszenie od firmy",detail:"ABC Sp. z o.o. - 5 pracownikw",time:"1 dzie temu"},{action:"Raport ukoczony",detail:"Kurs BHP - Stycze 2026",time:"2 dni temu"}].map((V,de)=>d.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-brand-dark",children:V.action}),d.jsx("p",{className:"text-xs text-slate-500",children:V.detail})]}),d.jsx("span",{className:"text-xs text-slate-400",children:V.time})]})},de))})]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm border border-slate-100",children:[d.jsx("div",{className:"p-6 border-b border-slate-100",children:d.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Zarzdzanie systemem"})}),d.jsxs("div",{className:"p-6 space-y-3",children:[d.jsxs("button",{className:"w-full px-4 py-3 border border-slate-300 bg-white text-brand-dark font-bold uppercase text-xs rounded-sm hover:bg-slate-50 transition-colors flex items-center gap-2",children:[d.jsx(yr,{size:16})," Zarzdzaj uytkownikami"]}),d.jsxs("button",{className:"w-full px-4 py-3 border border-slate-300 bg-white text-brand-dark font-bold uppercase text-xs rounded-sm hover:bg-slate-50 transition-colors flex items-center gap-2",children:[d.jsx(Js,{size:16})," Zarzdzaj szkoleniami"]}),d.jsxs("button",{className:"w-full px-4 py-3 border border-slate-300 bg-white text-brand-dark font-bold uppercase text-xs rounded-sm hover:bg-slate-50 transition-colors flex items-center gap-2",children:[d.jsx(Li,{size:16})," Zarzdzaj firmami"]}),d.jsxs("button",{className:"w-full px-4 py-3 border border-slate-300 bg-white text-brand-dark font-bold uppercase text-xs rounded-sm hover:bg-slate-50 transition-colors flex items-center gap-2",children:[d.jsx(Lc,{size:16})," Ustawienia systemu"]})]})]})]})]})}),pu=()=>{const[V,de]=le.useState(Q),[fe,Ye]=le.useState(!1),[yt,Ae]=le.useState(null),[jt,lt]=le.useState("Wszystkie"),[mn,re]=le.useState(null),[je,ue]=le.useState(null),[ze,Le]=le.useState(!1),[Vt,Pe]=le.useState(!1),[Fe,vt]=le.useState(!1);le.useEffect(()=>{q(V)},[V]),le.useEffect(()=>{const E=localStorage.getItem("returnToEditCourseId");if(E){const G=_n.find(J=>J.id===E);G&&(Me({title:G.title,category:G.category,duration:G.duration,price:G.price,image:G.image,description:G.description||"",isPopular:G.isPopular||!1}),Ae(E),Ye(!0),I(null),de("courses")),localStorage.removeItem("returnToEditCourseId")}},[]);const[nt,Me]=le.useState({title:"",category:"UDT",duration:"",price:"",image:"",description:"",isPopular:!1}),[P,he]=le.useState({title:"",duration:"",type:"video",videoUrl:"",description:"",materials:[],questions:[]}),[At,bn]=le.useState({title:"",description:""}),si=()=>{console.log("Zapisano szkolenie:",nt),Ye(!1),Ae(null),Me({title:"",category:"UDT",duration:"",price:"",image:"",description:"",isPopular:!1})},ii=E=>{Me({title:E.title,category:E.category,duration:E.duration,price:E.price,image:E.image,description:E.description||"",isPopular:E.isPopular||!1}),Ae(E.id),Ye(!0),I(null)},Pr=E=>{confirm("Czy na pewno chcesz usun to szkolenie?")&&console.log("Usunito szkolenie:",E)},qr=_h.reduce((E,G)=>E+G.value,0);let Xi=0;const Yl=E=>{const G=Math.cos(2*Math.PI*E),J=Math.sin(2*Math.PI*E);return[G,J]};return d.jsx("div",{className:"py-12 bg-slate-50 animate-fade-in min-h-screen",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-2",children:"Panel Managera"}),d.jsx("p",{className:"text-slate-500",children:"Zarzdzanie postpami i szkoleniami."})]}),d.jsxs("button",{className:"mt-4 md:mt-0 px-6 py-3 bg-brand-primary text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors flex items-center gap-2 shadow-lg shadow-brand-primary/20",children:[d.jsx(Rc,{size:16})," Generuj raport PDF"]})]}),d.jsx("div",{className:"mb-8 border-b border-slate-200",children:d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:()=>de("dashboard"),className:`pb-4 px-2 font-bold text-sm uppercase tracking-wider transition-colors relative ${V==="dashboard"?"text-brand-accent":"text-slate-500 hover:text-brand-primary"}`,children:["Dashboard",V==="dashboard"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-brand-accent"})]}),d.jsxs("button",{onClick:()=>de("courses"),className:`pb-4 px-2 font-bold text-sm uppercase tracking-wider transition-colors relative ${V==="courses"?"text-brand-accent":"text-slate-500 hover:text-brand-primary"}`,children:["Zarzdzanie Szkoleniami",V==="courses"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-brand-accent"})]}),d.jsxs("button",{onClick:()=>de("students"),className:`pb-4 px-2 font-bold text-sm uppercase tracking-wider transition-colors relative ${V==="students"?"text-brand-accent":"text-slate-500 hover:text-brand-primary"}`,children:["Lista Kursantw",V==="students"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-brand-accent"})]})]})}),V==="dashboard"&&d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-sm shadow-sm border border-slate-100",children:[d.jsxs("h3",{className:"font-heading font-bold text-brand-dark mb-6 flex items-center gap-2",children:[d.jsx(Xc,{size:20,className:"text-brand-accent"})," Popularno Szkole"]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"relative w-48 h-48 mb-6",children:d.jsx("svg",{viewBox:"-1 -1 2 2",style:{transform:"rotate(-90deg)"},children:_h.map((E,G)=>{const J=Xi/qr;Xi+=E.value;const ee=Xi/qr,[F,pe]=Yl(J),[He,De]=Yl(ee),an=ee-J>.5?1:0,ss=["M 0 0",`L ${F} ${pe}`,`A 1 1 0 ${an} 1 ${He} ${De}`,"Z"].join(" ");return d.jsx("path",{d:ss,fill:E.color,stroke:"white",strokeWidth:"0.02",className:"hover:opacity-90 transition-opacity cursor-pointer"},G)})})}),d.jsx("div",{className:"w-full space-y-2",children:_h.map((E,G)=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:E.color}}),d.jsx("span",{className:"text-slate-600",children:E.name})]}),d.jsxs("span",{className:"font-bold text-slate-800",children:[E.value,"%"]})]},G))})]})]}),d.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-sm shadow-sm border border-slate-100",children:[d.jsx("div",{className:"flex justify-between items-center mb-6",children:d.jsxs("h3",{className:"font-heading font-bold text-brand-dark flex items-center gap-2",children:[d.jsx(Js,{size:20,className:"text-brand-accent"})," Aktywne Szkolenia"]})}),d.jsx("div",{className:"space-y-4",children:_n.map(E=>{const G=as.filter(ee=>ee.course===E.id),J=G.filter(ee=>ee.expirationDays>0).length;return d.jsxs("div",{onClick:()=>{const ee=E.id;I(ee),q("courses")},className:"flex items-stretch justify-between bg-slate-50 rounded-sm hover:bg-slate-100 transition-colors cursor-pointer overflow-hidden",children:[d.jsxs("div",{className:"flex items-stretch gap-4 flex-1",children:[d.jsx("div",{className:"w-24 bg-slate-200 flex-shrink-0",children:d.jsx("img",{src:E.image,alt:E.title,className:"w-full h-full object-cover"})}),d.jsx("div",{className:"py-4 flex items-center",children:d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-brand-dark mb-1",children:E.title}),d.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-600",children:[d.jsx("span",{className:"px-2 py-0.5 bg-brand-secondary/10 text-brand-secondary rounded font-bold uppercase",children:E.category}),d.jsxs("span",{children:[" ",E.duration]}),d.jsx("span",{className:"font-bold text-brand-primary",children:E.price})]})]})})]}),d.jsxs("div",{className:"flex items-center gap-6 px-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-2xl font-heading font-black text-teal-600",children:G.length}),d.jsx("p",{className:"text-xs text-slate-500 font-bold whitespace-nowrap",children:"Uczestnikw"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-2xl font-heading font-black text-orange-600",children:J}),d.jsx("p",{className:"text-xs text-slate-500 font-bold whitespace-nowrap",children:"Z dostpem"})]})]})]},E.id)})})]})]}),V==="courses"&&d.jsx("div",{children:Z?d.jsx("div",{children:(()=>{const E=_n.find(J=>J.id===Z);if(!E)return null;const G=as.filter(J=>J.course===E.id);return d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>I(null),className:"mb-6 flex items-center gap-2 text-slate-600 hover:text-brand-accent transition-colors font-bold",children:[d.jsx(Kt,{size:16,className:"rotate-180"})," Wr do listy"]}),d.jsx("div",{className:"bg-white rounded-sm shadow-sm border border-slate-100 overflow-hidden",children:d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[d.jsxs("div",{className:"flex-grow",children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-dark mb-3",children:E.title}),d.jsxs("div",{className:"flex items-center gap-4 text-sm mb-4",children:[d.jsx("span",{className:"px-3 py-1 bg-brand-secondary/10 text-brand-secondary rounded font-bold uppercase",children:E.category}),d.jsxs("span",{className:"text-slate-600",children:[" ",E.duration]}),d.jsx("span",{className:"font-bold text-brand-primary text-lg",children:E.price}),E.isPopular&&d.jsx("span",{className:"px-3 py-1 bg-brand-accent/10 text-brand-accent rounded font-bold",children:"POPULARNY"})]}),d.jsxs("button",{onClick:()=>ii(E),className:"px-4 py-2 bg-brand-accent text-white font-bold text-sm rounded-sm hover:bg-brand-accentHover transition-colors flex items-center gap-2",children:[d.jsx(Ha,{size:16})," Edytuj"]})]}),d.jsx("div",{className:"w-64 flex-shrink-0",children:d.jsx("div",{className:"aspect-[3/2] w-full bg-slate-100 rounded-sm overflow-hidden",children:d.jsx("img",{src:E.image,alt:E.title,className:"w-full h-full object-cover"})})})]}),E.description&&d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-lg font-heading font-bold text-brand-dark mb-3",children:"Opis"}),d.jsx("p",{className:"text-slate-600 leading-relaxed",children:E.description})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-slate-50 p-6 rounded-sm",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(yr,{size:24,className:"text-brand-accent"}),d.jsx("h4",{className:"font-bold text-slate-700",children:"Zapisanych"})]}),d.jsx("p",{className:"text-3xl font-heading font-black text-brand-primary",children:G.length})]}),d.jsxs("div",{className:"bg-slate-50 p-6 rounded-sm",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Qy,{size:24,className:"text-brand-accent"}),d.jsx("h4",{className:"font-bold text-slate-700",children:"Ukoczonych"})]}),d.jsx("p",{className:"text-3xl font-heading font-black text-brand-primary",children:G.filter(J=>J.progress===100).length})]}),d.jsxs("div",{className:"bg-slate-50 p-6 rounded-sm",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Xc,{size:24,className:"text-brand-accent"}),d.jsx("h4",{className:"font-bold text-slate-700",children:"redni postp"})]}),d.jsxs("p",{className:"text-3xl font-heading font-black text-brand-primary",children:[G.length>0?Math.round(G.reduce((J,ee)=>J+ee.progress,0)/G.length):0,"%"]})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-heading font-bold text-brand-dark mb-4",children:["Aktywni uczestnicy (",G.length,")"]}),G.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left text-slate-600",children:[d.jsx("thead",{className:"text-xs text-slate-400 uppercase bg-slate-50 border-b border-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider",children:"Imi i Nazwisko"}),d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider",children:"Email"}),d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider",children:"Postp"}),d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider",children:"Wano"}),d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider text-right",children:"Akcje"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:G.map(J=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"px-4 py-4",children:d.jsx("button",{onClick:()=>{S(J.id),e("STUDENT_DETAIL")},className:"font-bold text-brand-primary hover:text-brand-accent transition-colors text-left",children:J.name})}),d.jsx("td",{className:"px-4 py-4 text-slate-600",children:J.email}),d.jsx("td",{className:"px-4 py-4",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-grow w-16 bg-slate-100 h-1.5 rounded-full",children:d.jsx("div",{className:"bg-brand-primary h-1.5 rounded-full",style:{width:`${J.progress}%`}})}),d.jsxs("span",{className:"text-xs font-bold",children:[J.progress,"%"]})]})}),d.jsx("td",{className:"px-4 py-4",children:J.expirationDays>5?d.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 font-bold text-xs bg-green-50 px-2 py-1 rounded",children:[J.expirationDays," dni"]}):J.expirationDays>0?d.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-600 font-bold text-xs bg-yellow-50 px-2 py-1 rounded",children:[d.jsx(Fc,{size:10})," ",J.expirationDays," dni"]}):d.jsx("span",{className:"inline-flex items-center gap-1 text-red-600 font-bold text-xs bg-red-50 px-2 py-1 rounded",children:"Wygas"})}),d.jsx("td",{className:"px-4 py-4 text-right",children:d.jsx("button",{className:"text-slate-400 hover:text-brand-accent transition-colors",children:d.jsx(Bz,{size:16})})})]},J.id))})]})}):d.jsxs("div",{className:"text-center py-8 text-slate-500",children:[d.jsx(yr,{size:48,className:"mx-auto mb-3 text-slate-300"}),d.jsx("p",{children:"Brak aktywnych uczestnikw"})]})]})]})})]})})()}):fe?d.jsxs("div",{className:"bg-white p-8 rounded-sm shadow-sm border border-slate-100",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark",children:yt?"Edytuj Szkolenie":"Dodaj Nowe Szkolenie"}),d.jsx("button",{onClick:()=>{Ye(!1),Ae(null),Le(!1),vt(!1),re(null),ue(null),Me({title:"",category:"UDT",duration:"",price:"",image:"",description:"",isPopular:!1})},className:"text-slate-400 hover:text-slate-600",children:d.jsx(wr,{size:24})})]}),d.jsxs("form",{onSubmit:E=>{E.preventDefault(),si()},className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Tytu szkolenia"}),d.jsx("input",{type:"text",value:nt.title,onChange:E=>Me({...nt,title:E.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. Operator wzkw widowych",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Kategoria"}),d.jsxs("select",{value:nt.category,onChange:E=>Me({...nt,category:E.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",children:[d.jsx("option",{value:"UDT",children:"UDT"}),d.jsx("option",{value:"SEP",children:"SEP"}),d.jsx("option",{value:"BHP",children:"BHP"}),d.jsx("option",{value:"Inne",children:"Inne"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Czas trwania"}),d.jsx("input",{type:"text",value:nt.duration,onChange:E=>Me({...nt,duration:E.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. 3 dni",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Cena"}),d.jsx("input",{type:"text",value:nt.price,onChange:E=>Me({...nt,price:E.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. 650 PLN",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL zdjcia"}),d.jsx("input",{type:"text",value:nt.image,onChange:E=>Me({...nt,image:E.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"/nazwa-pliku.webp",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Opis (opcjonalnie)"}),d.jsx("textarea",{value:nt.description,onChange:E=>Me({...nt,description:E.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",rows:4,placeholder:"Krtki opis szkolenia..."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"isPopular",checked:nt.isPopular,onChange:E=>Me({...nt,isPopular:E.target.checked}),className:"w-4 h-4 rounded-sm border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),d.jsx("label",{htmlFor:"isPopular",className:"text-sm font-bold text-slate-700",children:"Oznacz jako popularne"})]}),d.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-200",children:[d.jsx("button",{type:"submit",className:"px-8 py-3 bg-brand-accent text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:yt?"Zapisz zmiany":"Dodaj szkolenie"}),d.jsx("button",{type:"button",onClick:()=>{Ye(!1),Ae(null),Le(!1),vt(!1),re(null),ue(null)},className:"px-8 py-3 border-2 border-slate-300 text-slate-600 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Anuluj"})]}),yt&&d.jsxs("div",{className:"mt-8 pt-8 border-t-2 border-slate-200",children:[d.jsx("h4",{className:"text-lg font-heading font-bold text-brand-dark mb-6",children:"Struktura Szkolenia"}),ze?d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex justify-between items-center",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark",children:"Dodaj Nowy Modu"}),d.jsx("button",{type:"button",onClick:()=>{Le(!1),bn({title:"",description:""})},className:"text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(wr,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Tytu moduu"}),d.jsx("input",{type:"text",value:At.title,onChange:E=>bn({...At,title:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. Podstawy obsugi wzkw widowych"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Opis moduu (opcjonalnie)"}),d.jsx("textarea",{value:At.description,onChange:E=>bn({...At,description:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",rows:3,placeholder:"Krtki opis zawartoci moduu..."})]}),d.jsxs("div",{className:"flex gap-3 pt-3",children:[d.jsx("button",{type:"button",onClick:()=>{console.log("Zapisano modu",At),Le(!1)},className:"px-6 py-2 bg-brand-accent text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:"Dodaj modu"}),d.jsx("button",{type:"button",onClick:()=>Le(!1),className:"px-6 py-2 border border-slate-300 text-slate-600 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Anuluj"})]})]})]})}):Vt?d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex justify-between items-center",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark",children:"Edytuj Modu"}),d.jsx("button",{type:"button",onClick:()=>{Pe(!1),ue(null),bn({title:"",description:""})},className:"text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(wr,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Tytu moduu"}),d.jsx("input",{type:"text",value:At.title,onChange:E=>bn({...At,title:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. Podstawy obsugi wzkw widowych"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Opis moduu (opcjonalnie)"}),d.jsx("textarea",{value:At.description,onChange:E=>bn({...At,description:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",rows:3,placeholder:"Krtki opis zawartoci moduu..."})]}),d.jsxs("div",{className:"flex gap-3 pt-3",children:[d.jsx("button",{type:"button",onClick:()=>{console.log("Zaktualizowano modu",je,At),Pe(!1),ue(null)},className:"px-6 py-2 bg-brand-accent text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:"Zapisz zmiany"}),d.jsx("button",{type:"button",onClick:()=>{Pe(!1),ue(null)},className:"px-6 py-2 border border-slate-300 text-slate-600 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Anuluj"})]})]})]})}):Fe?d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex justify-between items-center",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark",children:"Dodaj Now Lekcj"}),d.jsx("button",{type:"button",onClick:()=>{vt(!1),ue(null),he({title:"",duration:"",type:"video",videoUrl:"",description:"",materials:[],questions:[]})},className:"text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(wr,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Tytu lekcji"}),d.jsx("input",{type:"text",value:P.title,onChange:E=>he({...P,title:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. Wprowadzenie do wzkw widowych"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Typ lekcji"}),d.jsxs("select",{value:P.type,onChange:E=>he({...P,type:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",children:[d.jsx("option",{value:"video",children:"Wideo"}),d.jsx("option",{value:"text",children:"Tekst"}),d.jsx("option",{value:"test",children:"Test"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Czas trwania"}),d.jsx("input",{type:"text",value:P.duration,onChange:E=>he({...P,duration:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. 15 min"})]})]}),P.type==="video"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL wideo"}),d.jsx("input",{type:"text",value:P.videoUrl,onChange:E=>he({...P,videoUrl:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"https://youtube.com/watch?v=..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Opis lekcji"}),P.type==="text"?d.jsx($1,{content:P.description,onChange:E=>he({...P,description:E})}):d.jsx("textarea",{value:P.description,onChange:E=>he({...P,description:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",rows:4,placeholder:"Szczegowy opis zawartoci lekcji..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Materiay do pobrania"}),d.jsxs("div",{className:"space-y-2",children:[P.materials.map((E,G)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:E.name,onChange:J=>{const ee=[...P.materials];ee[G].name=J.target.value,he({...P,materials:ee})},className:"flex-grow px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:"Nazwa materiau"}),d.jsx("input",{type:"text",value:E.url,onChange:J=>{const ee=[...P.materials];ee[G].url=J.target.value,he({...P,materials:ee})},className:"flex-grow px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:"URL"}),d.jsx("button",{type:"button",onClick:()=>{const J=P.materials.filter((ee,F)=>F!==G);he({...P,materials:J})},className:"px-2 py-2 text-red-600 hover:bg-red-50 rounded",children:d.jsx(ys,{size:16})})]},G)),d.jsx("button",{type:"button",onClick:()=>he({...P,materials:[...P.materials,{name:"",url:""}]}),className:"text-brand-accent hover:text-brand-accentHover font-bold text-sm flex items-center gap-2",children:"+ Dodaj materia"})]})]}),P.type==="test"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Pytania testowe"}),d.jsxs("div",{className:"space-y-4",children:[P.questions.map((E,G)=>{var J;return d.jsxs("div",{className:"border border-slate-300 rounded-sm p-4 bg-white",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("span",{className:"text-sm font-bold text-slate-600",children:["Pytanie ",G+1]}),d.jsx("button",{type:"button",onClick:()=>{const ee=P.questions.filter((F,pe)=>pe!==G);he({...P,questions:ee})},className:"text-red-600 hover:bg-red-50 rounded p-1",children:d.jsx(ys,{size:16})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Tre pytania"}),d.jsx("input",{type:"text",value:E.question,onChange:ee=>{const F=[...P.questions];F[G].question=ee.target.value,he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:"Wprowad tre pytania"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Typ pytania"}),d.jsxs("select",{value:E.type,onChange:ee=>{const F=[...P.questions],pe=ee.target.value;F[G].type=pe,pe==="open"?(F[G].options=void 0,F[G].correctAnswer=void 0):(F[G].options=["","","",""],F[G].correctAnswer=pe==="single"?0:[]),he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",children:[d.jsx("option",{value:"single",children:"Jednokrotny wybr"}),d.jsx("option",{value:"multiple",children:"Wielokrotny wybr"}),d.jsx("option",{value:"open",children:"Pytanie otwarte"})]})]}),(E.type==="single"||E.type==="multiple")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Odpowiedzi"}),d.jsxs("div",{className:"space-y-2",children:[(J=E.options)==null?void 0:J.map((ee,F)=>d.jsxs("div",{className:"flex gap-2 items-center",children:[E.type==="single"?d.jsx("input",{type:"radio",name:`question-${G}-correct`,checked:E.correctAnswer===F,onChange:()=>{const pe=[...P.questions];pe[G].correctAnswer=F,he({...P,questions:pe})},className:"w-4 h-4 rounded-full border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}):d.jsx("input",{type:"checkbox",checked:Array.isArray(E.correctAnswer)&&E.correctAnswer.includes(F),onChange:pe=>{const He=[...P.questions];let De=Array.isArray(He[G].correctAnswer)?[...He[G].correctAnswer]:[];pe.target.checked?De.push(F):De=De.filter(an=>an!==F),He[G].correctAnswer=De,he({...P,questions:He})},className:"w-4 h-4 rounded-sm border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),d.jsx("input",{type:"text",value:ee,onChange:pe=>{const He=[...P.questions];He[G].options&&(He[G].options[F]=pe.target.value,he({...P,questions:He}))},className:"flex-grow px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:`Odpowied ${F+1}`}),E.options&&E.options.length>2&&d.jsx("button",{type:"button",onClick:()=>{var He;const pe=[...P.questions];pe[G].options=(He=pe[G].options)==null?void 0:He.filter((De,an)=>an!==F),E.type==="single"&&E.correctAnswer===F?pe[G].correctAnswer=0:E.type==="multiple"&&Array.isArray(E.correctAnswer)&&(pe[G].correctAnswer=E.correctAnswer.filter(De=>De!==F).map(De=>De>F?De-1:De)),he({...P,questions:pe})},className:"px-2 py-2 text-red-600 hover:bg-red-50 rounded",children:d.jsx(ys,{size:14})})]},F)),d.jsx("button",{type:"button",onClick:()=>{const ee=[...P.questions];ee[G].options&&ee[G].options.push(""),he({...P,questions:ee})},className:"text-brand-accent hover:text-brand-accentHover font-bold text-xs",children:"+ Dodaj odpowied"})]})]}),E.type==="open"&&d.jsx("div",{className:"bg-slate-50 p-3 rounded text-sm text-slate-600",children:"Pytanie otwarte - uczestnik wpisze odpowied wasnymi sowami. Wymaga rcznej oceny."}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Wyjanienie (opcjonalne)"}),d.jsx("textarea",{value:E.explanation||"",onChange:ee=>{const F=[...P.questions];F[G].explanation=ee.target.value,he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",rows:2,placeholder:"Wyjanienie poprawnej odpowiedzi (wywietlane po rozwizaniu testu)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Zacznik multimedialny (opcjonalnie)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:E.mediaUrl||"",onChange:ee=>{const F=[...P.questions];F[G].mediaUrl=ee.target.value,he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:"URL do zdjcia lub filmu"}),d.jsxs("select",{value:E.mediaType||"image",onChange:ee=>{const F=[...P.questions];F[G].mediaType=ee.target.value,he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",children:[d.jsx("option",{value:"image",children:"Zdjcie/Obrazek"}),d.jsx("option",{value:"video",children:"Film wideo"})]})]})]})]})]},E.id)}),d.jsx("button",{type:"button",onClick:()=>{const E={id:`q-${Date.now()}`,question:"",type:"single",options:["","","",""],correctAnswer:0,explanation:""};he({...P,questions:[...P.questions,E]})},className:"text-brand-accent hover:text-brand-accentHover font-bold text-sm flex items-center gap-2",children:"+ Dodaj pytanie"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-3",children:[d.jsx("button",{type:"button",onClick:()=>{console.log("Zapisano lekcj do moduu",je,P),vt(!1),ue(null)},className:"px-6 py-2 bg-brand-accent text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:"Dodaj lekcj"}),d.jsx("button",{type:"button",onClick:()=>{vt(!1),ue(null)},className:"px-6 py-2 border border-slate-300 text-slate-600 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Anuluj"})]})]})]})}):mn?d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex justify-between items-center",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark",children:"Edytuj Lekcj"}),d.jsx("button",{type:"button",onClick:()=>{re(null),he({title:"",duration:"",type:"video",videoUrl:"",description:"",materials:[],questions:[]})},className:"text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(wr,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Tytu lekcji"}),d.jsx("input",{type:"text",value:P.title,onChange:E=>he({...P,title:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. Wprowadzenie do wzkw widowych"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Typ lekcji"}),d.jsxs("select",{value:P.type,onChange:E=>he({...P,type:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",children:[d.jsx("option",{value:"video",children:"Wideo"}),d.jsx("option",{value:"text",children:"Tekst"}),d.jsx("option",{value:"test",children:"Test"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Czas trwania"}),d.jsx("input",{type:"text",value:P.duration,onChange:E=>he({...P,duration:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"np. 15 min"})]})]}),P.type==="video"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL wideo"}),d.jsx("input",{type:"text",value:P.videoUrl,onChange:E=>he({...P,videoUrl:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",placeholder:"https://youtube.com/watch?v=..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Opis lekcji"}),P.type==="text"?d.jsx($1,{content:P.description,onChange:E=>he({...P,description:E})}):d.jsx("textarea",{value:P.description,onChange:E=>he({...P,description:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent",rows:4,placeholder:"Szczegowy opis zawartoci lekcji..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Materiay do pobrania"}),d.jsxs("div",{className:"space-y-2",children:[P.materials.map((E,G)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:E.name,onChange:J=>{const ee=[...P.materials];ee[G].name=J.target.value,he({...P,materials:ee})},className:"flex-grow px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:"Nazwa materiau"}),d.jsx("input",{type:"text",value:E.url,onChange:J=>{const ee=[...P.materials];ee[G].url=J.target.value,he({...P,materials:ee})},className:"flex-grow px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:"URL"}),d.jsx("button",{type:"button",onClick:()=>{const J=P.materials.filter((ee,F)=>F!==G);he({...P,materials:J})},className:"px-2 py-2 text-red-600 hover:bg-red-50 rounded",children:d.jsx(ys,{size:16})})]},G)),d.jsx("button",{type:"button",onClick:()=>he({...P,materials:[...P.materials,{name:"",url:""}]}),className:"text-brand-accent hover:text-brand-accentHover font-bold text-sm flex items-center gap-2",children:"+ Dodaj materia"})]})]}),P.type==="test"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Pytania testowe"}),d.jsxs("div",{className:"space-y-4",children:[P.questions.map((E,G)=>{var J;return d.jsxs("div",{className:"border border-slate-300 rounded-sm p-4 bg-white",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("span",{className:"text-sm font-bold text-slate-600",children:["Pytanie ",G+1]}),d.jsx("button",{type:"button",onClick:()=>{const ee=P.questions.filter((F,pe)=>pe!==G);he({...P,questions:ee})},className:"text-red-600 hover:bg-red-50 rounded p-1",children:d.jsx(ys,{size:16})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Tre pytania"}),d.jsx("input",{type:"text",value:E.question,onChange:ee=>{const F=[...P.questions];F[G].question=ee.target.value,he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:"Wprowad tre pytania"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Typ pytania"}),d.jsxs("select",{value:E.type,onChange:ee=>{const F=[...P.questions],pe=ee.target.value;F[G].type=pe,pe==="open"?(F[G].options=void 0,F[G].correctAnswer=void 0):(F[G].options=["","","",""],F[G].correctAnswer=pe==="single"?0:[]),he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",children:[d.jsx("option",{value:"single",children:"Jednokrotny wybr"}),d.jsx("option",{value:"multiple",children:"Wielokrotny wybr"}),d.jsx("option",{value:"open",children:"Pytanie otwarte"})]})]}),(E.type==="single"||E.type==="multiple")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Odpowiedzi"}),d.jsxs("div",{className:"space-y-2",children:[(J=E.options)==null?void 0:J.map((ee,F)=>d.jsxs("div",{className:"flex gap-2 items-center",children:[E.type==="single"?d.jsx("input",{type:"radio",name:`question-${G}-correct`,checked:E.correctAnswer===F,onChange:()=>{const pe=[...P.questions];pe[G].correctAnswer=F,he({...P,questions:pe})},className:"w-4 h-4 rounded-full border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}):d.jsx("input",{type:"checkbox",checked:Array.isArray(E.correctAnswer)&&E.correctAnswer.includes(F),onChange:pe=>{const He=[...P.questions];let De=Array.isArray(He[G].correctAnswer)?[...He[G].correctAnswer]:[];pe.target.checked?De.push(F):De=De.filter(an=>an!==F),He[G].correctAnswer=De,he({...P,questions:He})},className:"w-4 h-4 rounded-sm border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),d.jsx("input",{type:"text",value:ee,onChange:pe=>{const He=[...P.questions];He[G].options&&(He[G].options[F]=pe.target.value,he({...P,questions:He}))},className:"flex-grow px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:`Odpowied ${F+1}`}),E.options&&E.options.length>2&&d.jsx("button",{type:"button",onClick:()=>{var He;const pe=[...P.questions];pe[G].options=(He=pe[G].options)==null?void 0:He.filter((De,an)=>an!==F),E.type==="single"&&E.correctAnswer===F?pe[G].correctAnswer=0:E.type==="multiple"&&Array.isArray(E.correctAnswer)&&(pe[G].correctAnswer=E.correctAnswer.filter(De=>De!==F).map(De=>De>F?De-1:De)),he({...P,questions:pe})},className:"px-2 py-2 text-red-600 hover:bg-red-50 rounded",children:d.jsx(ys,{size:14})})]},F)),d.jsx("button",{type:"button",onClick:()=>{const ee=[...P.questions];ee[G].options&&ee[G].options.push(""),he({...P,questions:ee})},className:"text-brand-accent hover:text-brand-accentHover font-bold text-xs",children:"+ Dodaj odpowied"})]})]}),E.type==="open"&&d.jsx("div",{className:"bg-slate-50 p-3 rounded text-sm text-slate-600",children:"Pytanie otwarte - uczestnik wpisze odpowied wasnymi sowami. Wymaga rcznej oceny."}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Wyjanienie (opcjonalne)"}),d.jsx("textarea",{value:E.explanation||"",onChange:ee=>{const F=[...P.questions];F[G].explanation=ee.target.value,he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",rows:2,placeholder:"Wyjanienie poprawnej odpowiedzi (wywietlane po rozwizaniu testu)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Zacznik multimedialny (opcjonalnie)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:E.mediaUrl||"",onChange:ee=>{const F=[...P.questions];F[G].mediaUrl=ee.target.value,he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",placeholder:"URL do zdjcia lub filmu"}),d.jsxs("select",{value:E.mediaType||"image",onChange:ee=>{const F=[...P.questions];F[G].mediaType=ee.target.value,he({...P,questions:F})},className:"w-full px-3 py-2 border border-slate-300 rounded-sm text-sm",children:[d.jsx("option",{value:"image",children:"Zdjcie/Obrazek"}),d.jsx("option",{value:"video",children:"Film wideo"})]})]})]})]})]},E.id)}),d.jsx("button",{type:"button",onClick:()=>{const E={id:`q-${Date.now()}`,question:"",type:"single",options:["","","",""],correctAnswer:0,explanation:""};he({...P,questions:[...P.questions,E]})},className:"text-brand-accent hover:text-brand-accentHover font-bold text-sm flex items-center gap-2",children:"+ Dodaj pytanie"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-3",children:[d.jsx("button",{type:"button",onClick:()=>{console.log("Zapisano lekcj",P),re(null)},className:"px-6 py-2 bg-brand-accent text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:"Zapisz lekcj"}),d.jsx("button",{type:"button",onClick:()=>re(null),className:"px-6 py-2 border border-slate-300 text-slate-600 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Anuluj"})]})]})]})}):d.jsxs("div",{className:"space-y-4",children:[Ti.map((E,G)=>d.jsxs("div",{className:"bg-white rounded-sm border border-slate-200 overflow-hidden",children:[d.jsx("div",{className:"bg-brand-primary/5 p-4 border-b border-slate-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h5",{className:"text-base font-bold text-brand-dark",children:["Modu ",G+1,": ",E.title]}),d.jsxs("p",{className:"text-sm text-slate-600",children:[E.lessons.length," lekcji"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>{Pe(!0),ue(E.id),bn({title:E.title,description:E.description||""})},className:"px-3 py-1.5 text-brand-accent hover:bg-brand-accent/10 rounded font-bold text-sm flex items-center gap-2",children:[d.jsx(Ha,{size:14})," Edytuj modu"]}),d.jsxs("button",{className:"px-3 py-1.5 text-red-600 hover:bg-red-50 rounded font-bold text-sm flex items-center gap-2",children:[d.jsx(ys,{size:14})," Usu"]})]})]})}),d.jsxs("div",{className:"p-4 space-y-2",children:[E.lessons.map((J,ee)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-sm hover:bg-slate-100 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-accent/10 flex items-center justify-center text-brand-accent font-bold text-xs",children:ee+1}),d.jsxs("div",{children:[d.jsx("h6",{className:"font-bold text-brand-dark text-sm",children:J.title}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(xr,{size:12})," ",J.duration]}),d.jsx("span",{className:"px-1.5 py-0.5 bg-slate-200 rounded text-xs font-bold uppercase",children:J.type==="video"?"Wideo":J.type==="test"?"Test":"Tekst"})]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>{w(!0),z(yt),e("LESSON_PLAYER")},className:"px-2 py-1.5 text-brand-primary hover:bg-brand-primary/10 rounded font-bold text-xs flex items-center gap-1",children:[d.jsx(Oh,{size:14})," Podgld"]}),d.jsxs("button",{onClick:()=>{re(J.id),ue(E.id),he({title:J.title,duration:J.duration,type:J.type,videoUrl:"",description:"",materials:[],questions:J.questions||[]})},className:"px-2 py-1.5 text-blue-600 hover:bg-blue-50 rounded font-bold text-xs flex items-center gap-1",children:[d.jsx(Ha,{size:14})," Edytuj"]}),d.jsxs("button",{className:"px-2 py-1.5 text-red-600 hover:bg-red-50 rounded font-bold text-xs flex items-center gap-1",children:[d.jsx(ys,{size:14})," Usu"]})]})]},J.id)),d.jsx("button",{onClick:()=>{vt(!0),ue(E.id),he({title:"",duration:"",type:"video",videoUrl:"",description:"",materials:[]})},className:"w-full p-3 border-2 border-dashed border-slate-300 rounded-sm text-brand-accent hover:border-brand-accent hover:bg-brand-accent/5 transition-colors font-bold text-sm flex items-center justify-center gap-2",children:"+ Dodaj lekcj do moduu"})]})]},E.id)),d.jsxs("button",{onClick:()=>{Le(!0),bn({title:"",description:""})},className:"w-full p-4 border-2 border-dashed border-brand-accent rounded-sm text-brand-accent hover:bg-brand-accent/5 transition-colors font-bold flex items-center justify-center gap-2",children:[d.jsx(Js,{size:20})," Dodaj nowy modu"]})]})]})]})]}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark",children:"Lista Szkole"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("select",{value:jt,onChange:E=>lt(E.target.value),className:"px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent font-bold text-sm",children:[d.jsx("option",{value:"Wszystkie",children:"Wszystkie kategorie"}),d.jsx("option",{value:"UDT",children:"UDT"}),d.jsx("option",{value:"SEP",children:"SEP"}),d.jsx("option",{value:"BHP",children:"BHP"}),d.jsx("option",{value:"Inne",children:"Inne"})]}),d.jsxs("button",{onClick:()=>Ye(!0),className:"px-6 py-3 bg-brand-accent text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-accentHover transition-colors flex items-center gap-2",children:[d.jsx(Js,{size:16})," Dodaj nowe szkolenie"]})]})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:_n.filter(E=>jt==="Wszystkie"||E.category===jt).map(E=>{const G=as.filter(J=>J.course===E.title).length;return d.jsxs("div",{className:"bg-white rounded-sm shadow-sm border border-slate-100 hover:shadow-md transition-shadow overflow-hidden",children:[d.jsx("div",{className:"aspect-[3/2] w-full bg-slate-100",children:d.jsx("img",{src:E.image,alt:E.title,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-5",children:[d.jsx("h4",{className:"text-lg font-heading font-bold text-brand-dark mb-3",children:E.title}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 text-sm text-slate-600",children:[d.jsx("span",{className:"px-2 py-1 bg-brand-secondary/10 text-brand-secondary rounded text-xs font-bold uppercase",children:E.category}),d.jsxs("span",{children:[" ",E.duration]}),d.jsx("span",{className:"font-bold text-brand-primary",children:E.price}),d.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-bold",children:[d.jsx(yr,{size:12})," ",G]}),E.isPopular&&d.jsx("span",{className:"px-2 py-1 bg-brand-accent/10 text-brand-accent rounded text-xs font-bold",children:"POPULARNY"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>I(E.id),className:"flex-1 px-3 py-2 text-brand-primary hover:bg-brand-primary/10 rounded transition-colors flex items-center justify-center gap-2 font-bold text-sm",title:"Podgld",children:[d.jsx(Oh,{size:16})," Podgld"]}),d.jsxs("button",{onClick:()=>ii(E),className:"flex-1 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded transition-colors flex items-center justify-center gap-2 font-bold text-sm",title:"Edytuj",children:[d.jsx(Ha,{size:16})," Edytuj"]}),d.jsxs("button",{onClick:()=>Pr(E.id),className:"flex-1 px-3 py-2 text-red-600 hover:bg-red-50 rounded transition-colors flex items-center justify-center gap-2 font-bold text-sm",title:"Usu",children:[d.jsx(ys,{size:16})," Usu"]})]})]})]},E.id)})})]})}),V==="students"&&d.jsxs("div",{className:"bg-white p-8 rounded-sm shadow-sm border border-slate-100",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-2",children:L?`Kursanci z firmy: ${L}`:"Lista wszystkich kursantw"}),d.jsx("p",{className:"text-slate-500",children:L?"Kliknij przycisk poniej, aby zobaczy wszystkich kursantw":"Przegld wszystkich zarejestrowanych uczestnikw i ich postpw w szkoleniach"}),L&&d.jsxs("div",{className:"flex gap-3 mt-3",children:[d.jsx("button",{onClick:()=>Y(null),className:"px-4 py-2.5 bg-slate-200 text-slate-700 font-bold text-sm rounded hover:bg-slate-300 transition-colors",children:"Poka wszystkich kursantw"}),d.jsxs("button",{onClick:()=>{const E=as.filter(He=>He.company===L),G=new Map;E.forEach(He=>{const De=`${He.name}-${He.email}`;G.has(De)||G.set(De,[]),G.get(De).push(He)});let J=`RAPORT ZBIORCZY - ${L}
`;J+=`Data wygenerowania: ${new Date().toLocaleDateString("pl-PL")}
`,J+=`Liczba kursantw: ${G.size}

`,J+=`${"=".repeat(80)}

`,Array.from(G.entries()).forEach(([He,De],an)=>{const ss=De[0];J+=`${an+1}. ${ss.name}
`,J+=`   Email: ${ss.email}
`,J+=`   Firma: ${ss.company||"Nie przypisano"}
`,J+=`   Liczba szkole: ${De.length}

`,De.forEach((hs,ri)=>{const Mn=_n.find(Fi=>Fi.id===hs.course);J+=`   ${ri+1}. ${(Mn==null?void 0:Mn.title)||"Nieznany kurs"}
`,J+=`      Postp: ${hs.progress}%
`,J+=`      Status: ${hs.status==="active"?"Aktywny":hs.status==="completed"?"Ukoczony":"Wygasy"}
`,J+=`      Wano: ${hs.expirationDays} dni
`,J+=`      Ukoczone lekcje: ${hs.completedLessons}/${(Mn==null?void 0:Mn.lessons.length)||0}

`}),J+=`${"-".repeat(80)}

`});const ee=new Blob([J],{type:"text/plain;charset=utf-8"}),F=window.URL.createObjectURL(ee),pe=document.createElement("a");pe.href=F,pe.download=`raport_${L.replace(/[^a-z0-9]/gi,"_")}_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),window.URL.revokeObjectURL(F),alert(`Raport zbiorczy dla firmy "${L}" zosta wygenerowany i pobrany.`)},className:"px-4 py-2.5 bg-brand-primary text-white font-bold text-sm rounded hover:bg-brand-primaryHover transition-colors flex items-center gap-2",children:[d.jsx(Rc,{size:16})," Generuj raport zbiorczy"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-3xl font-heading font-black text-brand-primary",children:(()=>{const E=L?as.filter(J=>J.company===L):as;return new Set(E.map(J=>`${J.name}-${J.email}`)).size})()}),d.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Kursantw"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left text-slate-600",children:[d.jsx("thead",{className:"text-xs text-slate-400 uppercase bg-slate-50 border-b-2 border-slate-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider",children:"Imi i Nazwisko"}),d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider",children:"Email"}),d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider",children:"Firma"}),d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider",children:"Szkolenia"}),d.jsx("th",{className:"px-4 py-3 font-bold tracking-wider text-center",children:"Akcje"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:(()=>{const E=L?as.filter(J=>J.company===L):as,G=new Map;return E.forEach(J=>{const ee=`${J.name}-${J.email}`;G.has(ee)||G.set(ee,[]),G.get(ee).push(J)}),Array.from(G.entries()).map(([J,ee])=>{const F=ee[0];return d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"px-4 py-4",children:d.jsx("button",{onClick:()=>{S(F.id),e("STUDENT_DETAIL")},className:"font-bold text-brand-dark hover:text-brand-accent transition-colors",children:F.name})}),d.jsx("td",{className:"px-4 py-4 text-slate-500",children:F.email}),d.jsx("td",{className:"px-4 py-4",children:d.jsx("button",{onClick:()=>Y(F.company||null),className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs font-bold hover:bg-brand-primary hover:text-white transition-colors cursor-pointer",children:F.company||"Brak danych"})}),d.jsx("td",{className:"px-4 py-4",children:d.jsx("div",{className:"space-y-2",children:ee.map((pe,He)=>{const De=_n.find(an=>an.id===pe.course);return De?d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-bold text-slate-700 text-sm",children:De.title}),d.jsx("span",{className:"px-2 py-0.5 bg-brand-secondary/10 text-brand-secondary rounded font-bold uppercase text-xs",children:De.category})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsxs("span",{className:"px-2 py-1 bg-brand-primary text-white font-bold rounded",children:[pe.progress,"%"]}),d.jsx("span",{className:"text-slate-300",children:""}),pe.expirationDays>5?d.jsxs("span",{className:"text-green-600 font-bold",children:[pe.expirationDays," dni dostpu"]}):pe.expirationDays>0?d.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-600 font-bold",children:[d.jsx(Fc,{size:12})," ",pe.expirationDays," dni"]}):d.jsx("span",{className:"text-red-600 font-bold",children:"Wygas"})]})]})},He):null})})}),d.jsx("td",{className:"px-4 py-4 text-center",children:d.jsxs("button",{onClick:()=>{S(F.id),e("STUDENT_DETAIL")},className:"px-3 py-1.5 bg-brand-accent text-white font-bold text-xs rounded hover:bg-brand-accentHover transition-colors inline-flex items-center gap-1",children:[d.jsx(Oh,{size:14})," Zobacz profil"]})})]},J)})})()})]})})]})]})})},mu=()=>d.jsx("div",{className:"min-h-[calc(100vh-200px)] bg-slate-50 py-12 animate-fade-in",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12 border-b border-slate-200 pb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-2",children:"Panel Uczestnika"}),d.jsx("p",{className:"text-slate-500",children:"Witaj ponownie, Jan. Kontynuuj nauk."})]}),d.jsxs("div",{className:"mt-4 md:mt-0 bg-white px-4 py-2 rounded shadow-sm border border-slate-100 flex items-center gap-3",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Status konta: Aktywne"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("h3",{className:"text-xl font-bold text-brand-dark flex items-center gap-2",children:[d.jsx(Jy,{size:20,className:"text-brand-accent"})," Moje Aktywne Szkolenia"]}),T2.map(V=>{const de=_n.find(fe=>fe.id===V.courseId);return de?d.jsxs("div",{className:"bg-white p-6 rounded-sm shadow-sm border-l-4 border-brand-accent",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-heading font-bold text-lg text-brand-dark",children:de.title}),d.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Ostatnia lekcja: ",V.nextLesson]})]}),V.status==="completed"?d.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded uppercase flex items-center gap-1",children:[d.jsx(cn,{size:12})," Ukoczony"]}):d.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded uppercase",children:"W toku"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-600 mb-1",children:[d.jsx("span",{children:"Postp"}),d.jsxs("span",{children:[V.progress,"%"]})]}),d.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:d.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all duration-1000",style:{width:`${V.progress}%`}})})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>{let fe=null;for(const Ye of Ti){const yt=Ye.lessons.find(Ae=>!Ae.isCompleted);if(yt){fe=yt;break}}fe&&y(fe.id),w(!1),e("LESSON_PLAYER")},className:"flex-1 bg-brand-primary text-white py-2 text-sm font-bold rounded-sm hover:bg-brand-dark transition-colors",children:V.status==="completed"?"Powtrz materia":"Kontynuuj nauk"}),V.status==="completed"&&d.jsxs("button",{className:"flex-1 border border-brand-primary text-brand-primary rounded-sm hover:bg-brand-surface flex items-center justify-center gap-2 py-2 text-sm font-bold",children:[d.jsx(Ah,{size:18})," Pobierz certyfikat"]})]})]},V.id):null})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-brand-primary text-white p-6 rounded-sm shadow-lg",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"font-bold text-lg",children:"Jan Kowalski"}),d.jsx("div",{className:"text-sm text-slate-300",children:"ABC Transport Sp. z o.o."})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between text-sm py-2 border-b border-white/10",children:[d.jsx("span",{className:"text-slate-300",children:"Ukoczone szkolenia"}),d.jsx("span",{className:"font-bold",children:"2"})]}),d.jsxs("div",{className:"flex justify-between text-sm py-2 border-b border-white/10",children:[d.jsx("span",{className:"text-slate-300",children:"Certyfikaty"}),d.jsx("span",{className:"font-bold",children:"1"})]}),d.jsxs("div",{className:"flex justify-between text-sm py-2",children:[d.jsx("span",{className:"text-slate-300",children:"Wano uprawnie"}),d.jsx("span",{className:"font-bold text-green-400",children:"2026"})]})]}),d.jsxs("button",{onClick:()=>Ge(!0),className:"w-full mt-4 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-sm text-sm font-bold transition-colors flex items-center justify-center gap-2",children:[d.jsx(ad,{size:16})," Edytuj profil"]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-sm shadow-sm border border-slate-100",children:[d.jsxs("h4",{className:"font-bold text-brand-dark mb-4 flex items-center gap-2",children:[d.jsx(y2,{size:16,className:"text-yellow-500"})," Polecane dla Ciebie"]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"flex gap-3 items-start cursor-pointer hover:bg-slate-50 p-2 rounded transition-colors",children:[d.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded flex-shrink-0 overflow-hidden",children:d.jsx("img",{src:"https://picsum.photos/100/100?random=8",className:"w-full h-full object-cover"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-bold text-brand-dark leading-tight",children:"Szkolenie pierwszej pomocy"}),d.jsx("div",{className:"text-xs text-brand-accent mt-1",children:"4h  Online"})]})]})})]})]})]}),xt&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex justify-between items-center",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark",children:"Mj Profil"}),d.jsx("button",{onClick:()=>Ge(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(wr,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"text-lg font-bold text-brand-dark mb-4 flex items-center gap-2",children:[d.jsx(ad,{size:18,className:"text-brand-accent"})," Dane osobowe"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Imi"}),d.jsx("input",{type:"text",defaultValue:"Jan",className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nazwisko"}),d.jsx("input",{type:"text",defaultValue:"Kowalski",className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent transition-colors"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email"}),d.jsx("input",{type:"email",defaultValue:"jan.kowalski@abc-transport.pl",className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Firma"}),d.jsx("input",{type:"text",defaultValue:"ABC Transport Sp. z o.o.",className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent transition-colors bg-slate-50",disabled:!0}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Zmiana firmy wymaga kontaktu z administratorem"})]})]})]}),d.jsxs("div",{className:"pt-6 border-t border-slate-200",children:[d.jsxs("h4",{className:"text-lg font-bold text-brand-dark mb-4 flex items-center gap-2",children:[d.jsx(Yy,{size:18,className:"text-brand-accent"})," Zmiana hasa"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Obecne haso"}),d.jsx("input",{type:"password",placeholder:"",className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nowe haso"}),d.jsx("input",{type:"password",placeholder:"",className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Powtrz nowe haso"}),d.jsx("input",{type:"password",placeholder:"",className:"w-full px-4 py-3 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-accent transition-colors"})]})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{onClick:()=>{alert("Dane zostay zapisane!"),Ge(!1)},className:"flex-1 px-6 py-3 bg-brand-primary text-white font-bold rounded-sm hover:bg-brand-dark transition-colors",children:"Zapisz zmiany"}),d.jsx("button",{onClick:()=>Ge(!1),className:"px-6 py-3 bg-slate-200 text-slate-700 font-bold rounded-sm hover:bg-slate-300 transition-colors",children:"Anuluj"})]})]})]})})]})}),pn=()=>d.jsx("div",{className:"py-12 bg-brand-surface animate-fade-in",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8",children:[d.jsx(ns,{title:"Skontaktuj si",subtitle:"Jestemy do dyspozycji"}),d.jsxs("div",{className:"bg-white shadow-xl rounded-sm overflow-hidden flex flex-col md:flex-row",children:[d.jsxs("div",{className:"md:w-1/3 bg-brand-dark p-8 text-white flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-heading font-bold mb-6",children:"Dane kontaktowe"}),d.jsxs("div",{className:"space-y-6 text-base",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-brand-accent block text-xs uppercase font-bold mb-1",children:"Infolinia"}),d.jsx("span",{className:"text-lg",children:"+48 730 101 000"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-brand-accent block text-xs uppercase font-bold mb-1",children:"Email"}),d.jsx("span",{children:"biuro@multiserwis.pl"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-brand-accent block text-xs uppercase font-bold mb-1",children:"Adres"}),d.jsxs("span",{children:["ul. Siemieradzkiego 18",d.jsx("br",{}),"99-300 Kutno"]})]})]})]}),d.jsx("div",{className:"mt-8",children:d.jsx("div",{className:"w-full h-32 bg-slate-700 rounded opacity-50 flex items-center justify-center text-xs",children:"[Mapa Google]"})})]}),d.jsxs("div",{className:"md:w-2/3 p-8",children:[d.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark mb-6",children:"Napisz do nas"}),d.jsxs("form",{className:"space-y-4",onSubmit:V=>V.preventDefault(),children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Imi"}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 p-3 rounded-sm focus:outline-none focus:border-brand-accent transition-colors text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Nazwisko"}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 p-3 rounded-sm focus:outline-none focus:border-brand-accent transition-colors text-base"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Email"}),d.jsx("input",{type:"email",className:"w-full bg-slate-50 border border-slate-200 p-3 rounded-sm focus:outline-none focus:border-brand-accent transition-colors text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Wiadomo"}),d.jsx("textarea",{rows:4,className:"w-full bg-slate-50 border border-slate-200 p-3 rounded-sm focus:outline-none focus:border-brand-accent transition-colors text-base"})]}),d.jsx("button",{className:"px-8 py-3 bg-brand-primary text-white font-bold uppercase tracking-wider rounded-sm hover:bg-brand-secondary transition-colors",children:"Wylij wiadomo"})]})]})]})]})}),gu=()=>{if(!N)return null;const V=as.find(je=>je.id===N);if(!V)return null;const[de,fe]=le.useState(null),[Ye,yt]=le.useState("add"),[Ae,jt]=le.useState(30),[lt,mn]=le.useState(""),re=as.filter(je=>je.name===V.name&&je.email===V.email);return _n.find(je=>je.id===V.course),d.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[d.jsxs("button",{onClick:()=>{L?(e("ADMIN"),S(null),q("students")):(e("ADMIN"),S(null))},className:"mb-6 flex items-center gap-2 text-brand-primary hover:text-brand-accent transition-colors font-bold",children:[d.jsx(Kt,{className:"rotate-180",size:20}),L?"Powrt do listy kursantw":"Powrt do panelu"]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm border border-slate-100 overflow-hidden",children:[d.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-dark text-white p-8",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-heading font-bold mb-2",children:V.name}),d.jsx("p",{className:"text-white/80 flex items-center gap-2 mb-2",children:d.jsx("span",{children:V.email})}),V.company&&d.jsx("p",{className:"text-white/70 flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-sm font-bold",children:V.company})})]})}),d.jsxs("div",{className:"p-8",children:[d.jsxs("h2",{className:"text-2xl font-heading font-bold text-brand-dark mb-6",children:["Przypisane szkolenia (",re.length,")"]}),d.jsx("div",{className:"space-y-4",children:re.map(je=>{const ue=_n.find(Pe=>Pe.id===je.course);if(!ue)return null;const ze=Ti.filter(Pe=>Pe.courseId===ue.id),Le=ze.reduce((Pe,Fe)=>Pe+Fe.lessons.length,0),Vt=je.completedLessons.length;return d.jsx("div",{className:"border border-slate-200 rounded-sm overflow-hidden",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"w-32 h-48 bg-slate-200 flex-shrink-0",children:d.jsx("img",{src:ue.image,alt:ue.title,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-1 p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark mb-2",children:ue.title}),d.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[d.jsx("span",{className:"px-2 py-0.5 bg-brand-secondary/10 text-brand-secondary rounded font-bold uppercase text-xs",children:ue.category}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(xr,{size:14})," ",ue.duration]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{children:je.expirationDays>5?d.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 font-bold text-sm bg-green-50 px-3 py-1.5 rounded",children:["Wane przez ",je.expirationDays," dni"]}):je.expirationDays>0?d.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-600 font-bold text-sm bg-yellow-50 px-3 py-1.5 rounded",children:[d.jsx(Fc,{size:14})," Wygasa za ",je.expirationDays," dni"]}):d.jsx("span",{className:"inline-flex items-center gap-1 text-red-600 font-bold text-sm bg-red-50 px-3 py-1.5 rounded",children:"Wygas"})}),d.jsx("button",{onClick:Pe=>{Pe.stopPropagation(),fe(je.id);const Fe=new Date;Fe.setDate(Fe.getDate()+30),mn(Fe.toISOString().split("T")[0])},className:"p-2 text-slate-400 hover:text-brand-accent hover:bg-slate-50 rounded transition-colors",title:"Edytuj czas dostpu",children:d.jsx(Ha,{size:16})})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Postp w szkoleniu"}),d.jsxs("span",{className:"text-sm font-bold text-brand-primary",children:[je.progress,"%"]})]}),d.jsx("div",{className:"w-full bg-slate-100 h-3 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-accent h-3 rounded-full transition-all duration-300",style:{width:`${je.progress}%`}})})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-slate-100 mb-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-2xl font-heading font-black text-brand-primary",children:[je.progress,"%"]}),d.jsx("p",{className:"text-xs text-slate-500 font-bold",children:"Ukoczone"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-2xl font-heading font-black text-slate-600",children:je.expirationDays>0?je.expirationDays:0}),d.jsx("p",{className:"text-xs text-slate-500 font-bold",children:"Dni dostpu"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-2xl font-heading font-black text-teal-600",children:[Vt,"/",Le]}),d.jsx("p",{className:"text-xs text-slate-500 font-bold",children:"Lekcji ukoczono"})]})]}),d.jsxs("details",{className:"group",children:[d.jsxs("summary",{className:"cursor-pointer list-none flex items-center justify-between py-2 px-3 bg-slate-50 hover:bg-slate-100 rounded transition-colors",children:[d.jsxs("span",{className:"font-bold text-sm text-brand-dark flex items-center gap-2",children:[d.jsx(Dc,{size:16}),"Szczegowe postpy (",Vt,"/",Le," lekcji)"]}),d.jsx(Kt,{size:16,className:"text-slate-400 group-open:rotate-90 transition-transform"})]}),d.jsx("div",{className:"mt-3 space-y-3",children:ze.map((Pe,Fe)=>d.jsxs("div",{className:"border border-slate-200 rounded-sm overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-50 px-4 py-2 font-bold text-sm text-brand-dark",children:["Modu ",Fe+1,": ",Pe.title]}),d.jsx("div",{className:"p-3 space-y-2",children:Pe.lessons.map((vt,nt)=>{const Me=je.completedLessons.includes(vt.id);return d.jsxs("div",{className:"flex items-center gap-3 text-sm py-1",children:[d.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${Me?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:Me?"":""}),d.jsx("span",{className:`flex-grow ${Me?"text-slate-700":"text-slate-400"}`,children:vt.title}),d.jsx("span",{className:"text-xs text-slate-400",children:vt.duration})]},vt.id)})})]},Pe.id))})]}),d.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-slate-100",children:d.jsxs("button",{onClick:()=>{console.log("Generowanie raportu dla:",{student:je.id,course:je.course}),alert(`Generowanie raportu PDF dla:
Kursant: ${V.name}
Szkolenie: ${ue.title}
Postp: ${je.progress}%
W penej wersji zostanie wygenerowany i pobrany plik PDF`)},className:"flex-1 px-4 py-2 bg-brand-primary text-white font-bold text-sm rounded hover:bg-brand-dark transition-colors flex items-center justify-center gap-2",children:[d.jsx(Rc,{size:16}),"Generuj raport PDF"]})})]})]})},`${je.id}-${je.course}`)})}),as.filter(je=>je.id===N).length===0&&d.jsxs("div",{className:"text-center py-12 text-slate-500",children:[d.jsx(Dc,{size:48,className:"mx-auto mb-3 text-slate-300"}),d.jsx("p",{children:"Brak przypisanych szkole"})]})]})]}),de&&(()=>{const je=re.find(ze=>ze.id===de);if(!je)return null;const ue=_n.find(ze=>ze.id===je.course);return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[d.jsxs("div",{className:"p-6 border-b border-slate-200",children:[d.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark",children:"Edytuj czas dostpu"}),d.jsx("p",{className:"text-sm text-slate-500 mt-1",children:ue==null?void 0:ue.title}),d.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Aktualnie: ",je.expirationDays," dni"]})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Wybierz sposb edycji:"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-slate-50",style:{borderColor:Ye==="add"?"#003d4d":"#e2e8f0"},children:[d.jsx("input",{type:"radio",name:"editMode",checked:Ye==="add",onChange:()=>yt("add"),className:"w-4 h-4 rounded-full border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-slate-800",children:"Dodaj dni"}),d.jsx("div",{className:"text-xs text-slate-500",children:"Dodaj okrelon liczb dni do obecnego czasu dostpu"})]})]}),d.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-slate-50",style:{borderColor:Ye==="set"?"#003d4d":"#e2e8f0"},children:[d.jsx("input",{type:"radio",name:"editMode",checked:Ye==="set",onChange:()=>yt("set"),className:"w-4 h-4 rounded-full border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-slate-800",children:"Ustaw dat kocow"}),d.jsx("div",{className:"text-xs text-slate-500",children:"Wybierz konkretn dat, do ktrej kurs bdzie wany"})]})]})]})]}),Ye==="add"?d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Liczba dni do dodania:"}),d.jsx("input",{type:"number",min:"1",max:"3650",value:Ae,onChange:ze=>jt(parseInt(ze.target.value)||0),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-brand-primary transition-colors",placeholder:"Wpisz liczb dni"}),d.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Nowy czas dostpu: ",je.expirationDays+Ae," dni"]})]}):d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Data wanoci (do koca dnia):"}),(()=>{const ze=["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],Le=new Date,[Vt,Pe,Fe]=lt?lt.split("-").map(Number):[Le.getDate(),Le.getMonth()+1,Le.getFullYear()],vt=new Date(Fe||Le.getFullYear(),Pe||Le.getMonth()+1,0).getDate(),nt=(Me,P)=>{const he=lt?new Date(lt):Le;let At=he.getDate(),bn=he.getMonth()+1,si=he.getFullYear();Me==="day"&&(At=parseInt(P)),Me==="month"&&(bn=parseInt(P)),Me==="year"&&(si=parseInt(P));const ii=new Date(si,bn,0).getDate();At>ii&&(At=ii);const Pr=`${si}-${String(bn).padStart(2,"0")}-${String(At).padStart(2,"0")}`;mn(Pr)};return d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dzie"}),d.jsx("select",{value:Vt,onChange:Me=>nt("day",Me.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-brand-primary transition-colors bg-white",children:Array.from({length:vt},(Me,P)=>P+1).map(Me=>d.jsx("option",{value:Me,children:Me},Me))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Miesic"}),d.jsx("select",{value:Pe,onChange:Me=>nt("month",Me.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-brand-primary transition-colors bg-white",children:ze.map((Me,P)=>d.jsx("option",{value:P+1,children:Me},P+1))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Rok"}),d.jsx("select",{value:Fe,onChange:Me=>nt("year",Me.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-brand-primary transition-colors bg-white",children:Array.from({length:11},(Me,P)=>Le.getFullYear()+P).map(Me=>d.jsx("option",{value:Me,children:Me},Me))})]})]})})(),lt&&d.jsxs("p",{className:"text-xs text-slate-500 mt-3",children:["Kurs bdzie wany do koca dnia: ",new Date(lt+"T23:59:59").toLocaleDateString("pl-PL",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),d.jsxs("div",{className:"p-6 border-t border-slate-200 flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>{fe(null),jt(30),yt("add")},className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-bold transition-colors",children:"Anuluj"}),d.jsx("button",{onClick:()=>{if(Ye==="add")console.log("Dodaj dni:",{studentId:je.id,courseId:je.course,currentDays:je.expirationDays,daysToAdd:Ae,newTotal:je.expirationDays+Ae}),alert(`W penej wersji dodano by ${Ae} dni. Nowy czas dostpu: ${je.expirationDays+Ae} dni.`);else{const ze=new Date;ze.setHours(0,0,0,0);const Vt=new Date(lt+"T23:59:59").getTime()-ze.getTime(),Pe=Math.ceil(Vt/(1e3*60*60*24));console.log("Ustaw dat:",{studentId:je.id,courseId:je.course,targetDate:lt,calculatedDays:Pe}),alert(`W penej wersji ustawiono by dat wanoci do ${new Date(lt+"T23:59:59").toLocaleDateString("pl-PL")} (${Pe} dni).`)}fe(null),jt(30),yt("add")},className:"px-6 py-2 bg-brand-primary text-white rounded-lg font-bold hover:bg-brand-secondary transition-colors",children:"Zapisz"})]})]})})})()]})})},wo=()=>{const V=[{employeeId:"e1",employeeName:"Mateusz Kowalski",courseId:"c1",courseName:"Operatorzy wzkw widowych - UDT",progress:85,status:"active",lastActivityDate:"2026-01-02"},{employeeId:"e2",employeeName:"Anna Lewandowska",courseId:"c2",courseName:"adowarki teleskopowe - SEP",progress:100,status:"completed",completedDate:"2025-12-28",lastActivityDate:"2025-12-28"},{employeeId:"e3",employeeName:"Pawe Zawisza",courseId:"c1",courseName:"Operatorzy wzkw widowych - UDT",progress:45,status:"active",lastActivityDate:"2026-01-01"},{employeeId:"e4",employeeName:"Katarzyna Wjcik",courseId:"c3",courseName:"Szkolenie BHP - Zasady bezpieczestwa",progress:10,status:"active",lastActivityDate:"2025-12-30"}],de=(Ae,jt)=>Ae==="completed"?d.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-bold",children:"Ukoczone"}):jt>=75?d.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-bold",children:"Blisko koca"}):jt>=50?d.jsx("span",{className:"px-3 py-1 bg-yellow-50 text-yellow-700 rounded-full text-xs font-bold",children:"W trakcie"}):d.jsx("span",{className:"px-3 py-1 bg-orange-50 text-orange-700 rounded-full text-xs font-bold",children:"Rozpoczte"}),fe=V.filter(Ae=>Ae.status==="completed").length,Ye=V.filter(Ae=>Ae.status==="active").length,yt=Math.round(V.reduce((Ae,jt)=>Ae+jt.progress,0)/V.length);return d.jsx("div",{className:"min-h-screen bg-slate-50 animate-fade-in",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-12",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-200 pb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-2",children:"Panel Opiekuna Firmy"}),d.jsxs("p",{className:"text-slate-500",children:["Witaj, ",_==null?void 0:_.name," (",_==null?void 0:_.company,")"]})]}),d.jsx("button",{onClick:ni,className:"px-4 py-2 bg-red-600 text-white font-bold rounded-sm hover:bg-red-700 transition-colors",children:"Wyloguj si"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 border-l-4 border-blue-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-600 font-bold uppercase text-xs tracking-wider",children:"Pracownicy"}),d.jsx(yr,{size:24,className:"text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-brand-dark mb-1",children:V.length}),d.jsx("p",{className:"text-xs text-slate-500",children:"Zgoszeni do szkole"})]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 border-l-4 border-green-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-600 font-bold uppercase text-xs tracking-wider",children:"Ukoczeni"}),d.jsx(cn,{size:24,className:"text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-brand-dark mb-1",children:fe}),d.jsxs("p",{className:"text-xs text-slate-500",children:[Math.round(fe/V.length*100),"% szkolenia"]})]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 border-l-4 border-orange-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-600 font-bold uppercase text-xs tracking-wider",children:"W trakcie"}),d.jsx(Rh,{size:24,className:"text-orange-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-brand-dark mb-1",children:Ye}),d.jsx("p",{className:"text-xs text-slate-500",children:"Aktywnie uczcych si"})]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 border-l-4 border-purple-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-600 font-bold uppercase text-xs tracking-wider",children:"redni postp"}),d.jsx(Qy,{size:24,className:"text-purple-500"})]}),d.jsxs("div",{className:"text-3xl font-bold text-brand-dark mb-1",children:[yt,"%"]}),d.jsx("p",{className:"text-xs text-slate-500",children:"Wszystkich pracownikw"})]})]}),d.jsxs("div",{className:"bg-white rounded-sm shadow-sm border border-slate-100",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Raport postpw pracownikw"}),d.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-brand-primary text-white font-bold text-sm rounded-sm hover:bg-brand-dark transition-colors",children:[d.jsx(Rc,{size:16})," Drukuj raport"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-slate-600",children:"Pracownik"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-slate-600",children:"Szkolenie"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-slate-600",children:"Postp"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-slate-600",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-slate-600",children:"Ostatnia aktywno"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:V.map(Ae=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsx("div",{className:"font-bold text-brand-dark text-sm",children:Ae.employeeName})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("div",{className:"text-sm text-slate-600",children:Ae.courseName})}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-24 bg-slate-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${Ae.progress===100?"bg-green-500":Ae.progress>=75?"bg-blue-500":Ae.progress>=50?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${Ae.progress}%`}})}),d.jsxs("span",{className:"text-xs font-bold text-slate-600 w-10",children:[Ae.progress,"%"]})]})}),d.jsx("td",{className:"px-6 py-4",children:de(Ae.status,Ae.progress)}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("div",{className:"text-xs text-slate-500",children:new Date(Ae.lastActivityDate).toLocaleDateString("pl-PL")})})]},Ae.employeeId))})]})})]})]})})};return d.jsxs(d.Fragment,{children:[Xe&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-sm shadow-lg p-8 w-full max-w-md",children:[d.jsx("h2",{className:"text-2xl font-heading font-bold text-brand-dark mb-6",children:"Zaloguj si"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email"}),d.jsx("input",{type:"email",value:K,onChange:V=>se(V.target.value),placeholder:"admin@test.com",className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-primary"}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Dostpne konta testowe:"}),d.jsxs("ul",{className:"text-xs text-slate-500 space-y-1 mt-2",children:[d.jsx("li",{children:" admin@test.com / admin123"}),d.jsx("li",{children:" manager@test.com / manager123"}),d.jsx("li",{children:" student@test.com / student123"}),d.jsx("li",{children:" guardian@test.com / guardian123"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Haso"}),d.jsx("input",{type:"password",value:ae,onChange:V=>Se(V.target.value),onKeyPress:V=>V.key==="Enter"&&ti(),placeholder:"",className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-primary"})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-600 font-bold rounded-sm hover:bg-slate-50 transition-colors",children:"Anuluj"}),d.jsx("button",{onClick:ti,className:"flex-1 px-4 py-2 bg-brand-primary text-white font-bold rounded-sm hover:bg-brand-dark transition-colors",children:"Zaloguj"})]})]})]})}),d.jsxs(A2,{currentView:n,setView:e,language:t,setLanguage:s,setCatalogCategory:p,onShowLoginModal:()=>T(!0),isLoggedIn:we,userName:_==null?void 0:_.name,onLogout:ni,children:[n==="HOME"&&d.jsx(zs,{}),n==="CATALOG"&&d.jsx(ql,{}),n==="COURSE_DETAIL"&&d.jsx(hu,{}),n==="LMS"&&d.jsx(mu,{}),n==="LESSON_PLAYER"&&d.jsx(Gl,{}),n==="RENTALS"&&d.jsx($l,{}),n==="MACHINE_DETAIL"&&d.jsx(bo,{}),n==="SERVICES"&&d.jsx(Kl,{}),n==="CONTACT"&&d.jsx(pn,{}),n==="ADMIN"&&d.jsx(pu,{}),n==="ADMIN_PANEL"&&d.jsx(Wl,{}),n==="COMPANY_GUARDIAN_PANEL"&&d.jsx(wo,{}),n==="STUDENT_DETAIL"&&d.jsx(gu,{})]})]})},Kk=document.getElementById("root");if(!Kk)throw new Error("Could not find root element to mount to");const _O=dz.createRoot(Kk);_O.render(d.jsx(Gi.StrictMode,{children:d.jsx(LO,{})}));

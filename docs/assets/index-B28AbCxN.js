(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function gx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Um={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function Sz(){if(Gy)return Po;Gy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:o}}return Po.Fragment=e,Po.jsx=s,Po.jsxs=s,Po}var Fy;function Cz(){return Fy||(Fy=1,Um.exports=Sz()),Um.exports}var n=Cz(),Hm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function Mz(){if(Zy)return Re;Zy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function z(C,K,L){this.props=C,this.context=K,this.refs=k,this.updater=L||w}z.prototype.isReactComponent={},z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function E(){}E.prototype=z.prototype;function R(C,K,L){this.props=C,this.context=K,this.refs=k,this.updater=L||w}var H=R.prototype=new E;H.constructor=R,N(H,z.prototype),H.isPureReactComponent=!0;var I=Array.isArray;function W(){}var $={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function T(C,K,L){var X=L.ref;return{$$typeof:t,type:C,key:K,ref:X!==void 0?X:null,props:L}}function ee(C,K){return T(C.type,K,C.props)}function J(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function xe(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(L){return K[L]})}var be=/\/+/g;function ae(C,K){return typeof C=="object"&&C!==null&&C.key!=null?xe(""+C.key):K.toString(36)}function P(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(W,W):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function M(C,K,L,X,de){var ve=typeof C;(ve==="undefined"||ve==="boolean")&&(C=null);var ue=!1;if(C===null)ue=!0;else switch(ve){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(C.$$typeof){case t:case e:ue=!0;break;case p:return ue=C._init,M(ue(C._payload),K,L,X,de)}}if(ue)return de=de(C),ue=X===""?"."+ae(C,0):X,I(de)?(L="",ue!=null&&(L=ue.replace(be,"$&/")+"/"),M(de,K,L,"",function(He){return He})):de!=null&&(J(de)&&(de=ee(de,L+(de.key==null||C&&C.key===de.key?"":(""+de.key).replace(be,"$&/")+"/")+ue)),K.push(de)),1;ue=0;var De=X===""?".":X+":";if(I(C))for(var Le=0;Le<C.length;Le++)X=C[Le],ve=De+ae(X,Le),ue+=M(X,K,L,ve,de);else if(Le=v(C),typeof Le=="function")for(C=Le.call(C),Le=0;!(X=C.next()).done;)X=X.value,ve=De+ae(X,Le++),ue+=M(X,K,L,ve,de);else if(ve==="object"){if(typeof C.then=="function")return M(P(C),K,L,X,de);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ue}function D(C,K,L){if(C==null)return C;var X=[],de=0;return M(C,X,"","",function(ve){return K.call(L,ve,de++)}),X}function Z(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(L){(C._status===0||C._status===-1)&&(C._status=1,C._result=L)},function(L){(C._status===0||C._status===-1)&&(C._status=2,C._result=L)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ce=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Te={map:D,forEach:function(C,K,L){D(C,function(){K.apply(this,arguments)},L)},count:function(C){var K=0;return D(C,function(){K++}),K},toArray:function(C){return D(C,function(K){return K})||[]},only:function(C){if(!J(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Re.Activity=g,Re.Children=Te,Re.Component=z,Re.Fragment=s,Re.Profiler=i,Re.PureComponent=R,Re.StrictMode=a,Re.Suspense=h,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Re.__COMPILER_RUNTIME={__proto__:null,c:function(C){return $.H.useMemoCache(C)}},Re.cache=function(C){return function(){return C.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(C,K,L){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var X=N({},C.props),de=C.key;if(K!=null)for(ve in K.key!==void 0&&(de=""+K.key),K)!Y.call(K,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&K.ref===void 0||(X[ve]=K[ve]);var ve=arguments.length-2;if(ve===1)X.children=L;else if(1<ve){for(var ue=Array(ve),De=0;De<ve;De++)ue[De]=arguments[De+2];X.children=ue}return T(C.type,de,X)},Re.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},Re.createElement=function(C,K,L){var X,de={},ve=null;if(K!=null)for(X in K.key!==void 0&&(ve=""+K.key),K)Y.call(K,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(de[X]=K[X]);var ue=arguments.length-2;if(ue===1)de.children=L;else if(1<ue){for(var De=Array(ue),Le=0;Le<ue;Le++)De[Le]=arguments[Le+2];de.children=De}if(C&&C.defaultProps)for(X in ue=C.defaultProps,ue)de[X]===void 0&&(de[X]=ue[X]);return T(C,ve,de)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(C){return{$$typeof:u,render:C}},Re.isValidElement=J,Re.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:Z}},Re.memo=function(C,K){return{$$typeof:m,type:C,compare:K===void 0?null:K}},Re.startTransition=function(C){var K=$.T,L={};$.T=L;try{var X=C(),de=$.S;de!==null&&de(L,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(W,ce)}catch(ve){ce(ve)}finally{K!==null&&L.types!==null&&(K.types=L.types),$.T=K}},Re.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Re.use=function(C){return $.H.use(C)},Re.useActionState=function(C,K,L){return $.H.useActionState(C,K,L)},Re.useCallback=function(C,K){return $.H.useCallback(C,K)},Re.useContext=function(C){return $.H.useContext(C)},Re.useDebugValue=function(){},Re.useDeferredValue=function(C,K){return $.H.useDeferredValue(C,K)},Re.useEffect=function(C,K){return $.H.useEffect(C,K)},Re.useEffectEvent=function(C){return $.H.useEffectEvent(C)},Re.useId=function(){return $.H.useId()},Re.useImperativeHandle=function(C,K,L){return $.H.useImperativeHandle(C,K,L)},Re.useInsertionEffect=function(C,K){return $.H.useInsertionEffect(C,K)},Re.useLayoutEffect=function(C,K){return $.H.useLayoutEffect(C,K)},Re.useMemo=function(C,K){return $.H.useMemo(C,K)},Re.useOptimistic=function(C,K){return $.H.useOptimistic(C,K)},Re.useReducer=function(C,K,L){return $.H.useReducer(C,K,L)},Re.useRef=function(C){return $.H.useRef(C)},Re.useState=function(C){return $.H.useState(C)},Re.useSyncExternalStore=function(C,K,L){return $.H.useSyncExternalStore(C,K,L)},Re.useTransition=function(){return $.H.useTransition()},Re.version="19.2.3",Re}var Yy;function gc(){return Yy||(Yy=1,Hm.exports=Mz()),Hm.exports}var pe=gc();const O=gx(pe);var Im={exports:{}},Uo={},$m={exports:{}},qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function Ez(){return Jy||(Jy=1,(function(t){function e(M,D){var Z=M.length;M.push(D);e:for(;0<Z;){var ce=Z-1>>>1,Te=M[ce];if(0<i(Te,D))M[ce]=D,M[Z]=Te,Z=ce;else break e}}function s(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var D=M[0],Z=M.pop();if(Z!==D){M[0]=Z;e:for(var ce=0,Te=M.length,C=Te>>>1;ce<C;){var K=2*(ce+1)-1,L=M[K],X=K+1,de=M[X];if(0>i(L,Z))X<Te&&0>i(de,L)?(M[ce]=de,M[X]=Z,ce=X):(M[ce]=L,M[K]=Z,ce=K);else if(X<Te&&0>i(de,Z))M[ce]=de,M[X]=Z,ce=X;else break e}}return D}function i(M,D){var Z=M.sortIndex-D.sortIndex;return Z!==0?Z:M.id-D.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],m=[],p=1,g=null,y=3,v=!1,w=!1,N=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function H(M){for(var D=s(m);D!==null;){if(D.callback===null)a(m);else if(D.startTime<=M)a(m),D.sortIndex=D.expirationTime,e(h,D);else break;D=s(m)}}function I(M){if(N=!1,H(M),!w)if(s(h)!==null)w=!0,W||(W=!0,xe());else{var D=s(m);D!==null&&P(I,D.startTime-M)}}var W=!1,$=-1,Y=5,T=-1;function ee(){return k?!0:!(t.unstable_now()-T<Y)}function J(){if(k=!1,W){var M=t.unstable_now();T=M;var D=!0;try{e:{w=!1,N&&(N=!1,E($),$=-1),v=!0;var Z=y;try{t:{for(H(M),g=s(h);g!==null&&!(g.expirationTime>M&&ee());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,y=g.priorityLevel;var Te=ce(g.expirationTime<=M);if(M=t.unstable_now(),typeof Te=="function"){g.callback=Te,H(M),D=!0;break t}g===s(h)&&a(h),H(M)}else a(h);g=s(h)}if(g!==null)D=!0;else{var C=s(m);C!==null&&P(I,C.startTime-M),D=!1}}break e}finally{g=null,y=Z,v=!1}D=void 0}}finally{D?xe():W=!1}}}var xe;if(typeof R=="function")xe=function(){R(J)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,ae=be.port2;be.port1.onmessage=J,xe=function(){ae.postMessage(null)}}else xe=function(){z(J,0)};function P(M,D){$=z(function(){M(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(M){switch(y){case 1:case 2:case 3:var D=3;break;default:D=y}var Z=y;y=D;try{return M()}finally{y=Z}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=y;y=M;try{return D()}finally{y=Z}},t.unstable_scheduleCallback=function(M,D,Z){var ce=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,M){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,M={id:p++,callback:D,priorityLevel:M,startTime:Z,expirationTime:Te,sortIndex:-1},Z>ce?(M.sortIndex=Z,e(m,M),s(h)===null&&M===s(m)&&(N?(E($),$=-1):N=!0,P(I,Z-ce))):(M.sortIndex=Te,e(h,M),w||v||(w=!0,W||(W=!0,xe()))),M},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(M){var D=y;return function(){var Z=y;y=D;try{return M.apply(this,arguments)}finally{y=Z}}}})(qm)),qm}var Xy;function Tz(){return Xy||(Xy=1,$m.exports=Ez()),$m.exports}var Vm={exports:{}},Ss={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function Az(){if(Qy)return Ss;Qy=1;var t=gc();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:m,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ss.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,p)},Ss.flushSync=function(h){var m=c.T,p=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=m,a.p=p,a.d.f()}},Ss.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(h,m))},Ss.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Ss.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?a.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&a.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ss.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);a.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(h)},Ss.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);a.d.L(h,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ss.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=u(m.as,m.crossOrigin);a.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(h)},Ss.requestFormReset=function(h){a.d.r(h)},Ss.unstable_batchedUpdates=function(h,m){return h(m)},Ss.useFormState=function(h,m,p){return c.H.useFormState(h,m,p)},Ss.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ss.version="19.2.3",Ss}var e1;function fw(){if(e1)return Vm.exports;e1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vm.exports=Az(),Vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function Dz(){if(t1)return Uo;t1=1;var t=Tz(),e=gc(),s=fw();function a(l){var r="https://react.dev/errors/"+l;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)r+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function o(l){var r=l,d=l;if(l.alternate)for(;r.return;)r=r.return;else{l=r;do r=l,(r.flags&4098)!==0&&(d=r.return),l=r.return;while(l)}return r.tag===3?d:null}function c(l){if(l.tag===13){var r=l.memoizedState;if(r===null&&(l=l.alternate,l!==null&&(r=l.memoizedState)),r!==null)return r.dehydrated}return null}function u(l){if(l.tag===31){var r=l.memoizedState;if(r===null&&(l=l.alternate,l!==null&&(r=l.memoizedState)),r!==null)return r.dehydrated}return null}function h(l){if(o(l)!==l)throw Error(a(188))}function m(l){var r=l.alternate;if(!r){if(r=o(l),r===null)throw Error(a(188));return r!==l?null:l}for(var d=l,f=r;;){var x=d.return;if(x===null)break;var b=x.alternate;if(b===null){if(f=x.return,f!==null){d=f;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===d)return h(x),l;if(b===f)return h(x),r;b=b.sibling}throw Error(a(188))}if(d.return!==f.return)d=x,f=b;else{for(var j=!1,S=x.child;S;){if(S===d){j=!0,d=x,f=b;break}if(S===f){j=!0,f=x,d=b;break}S=S.sibling}if(!j){for(S=b.child;S;){if(S===d){j=!0,d=b,f=x;break}if(S===f){j=!0,f=b,d=x;break}S=S.sibling}if(!j)throw Error(a(189))}}if(d.alternate!==f)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?l:r}function p(l){var r=l.tag;if(r===5||r===26||r===27||r===6)return l;for(l=l.child;l!==null;){if(r=p(l),r!==null)return r;l=l.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function xe(l){return l===null||typeof l!="object"?null:(l=J&&l[J]||l["@@iterator"],typeof l=="function"?l:null)}var be=Symbol.for("react.client.reference");function ae(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===be?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case N:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case W:return"SuspenseList";case T:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case w:return"Portal";case R:return l.displayName||"Context";case E:return(l._context.displayName||"Context")+".Consumer";case H:var r=l.render;return l=l.displayName,l||(l=r.displayName||r.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case $:return r=l.displayName||null,r!==null?r:ae(l.type)||"Memo";case Y:r=l._payload,l=l._init;try{return ae(l(r))}catch{}}return null}var P=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ce=[],Te=-1;function C(l){return{current:l}}function K(l){0>Te||(l.current=ce[Te],ce[Te]=null,Te--)}function L(l,r){Te++,ce[Te]=l.current,l.current=r}var X=C(null),de=C(null),ve=C(null),ue=C(null);function De(l,r){switch(L(ve,r),L(de,l),L(X,null),r.nodeType){case 9:case 11:l=(l=r.documentElement)&&(l=l.namespaceURI)?xy(l):0;break;default:if(l=r.tagName,r=r.namespaceURI)r=xy(r),l=gy(r,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}K(X),L(X,l)}function Le(){K(X),K(de),K(ve)}function He(l){l.memoizedState!==null&&L(ue,l);var r=X.current,d=gy(r,l.type);r!==d&&(L(de,l),L(X,d))}function Ys(l){de.current===l&&(K(X),K(de)),ue.current===l&&(K(ue),Ro._currentValue=Z)}var ot,Tt;function $t(l){if(ot===void 0)try{throw Error()}catch(d){var r=d.stack.trim().match(/\n( *(at )?)/);ot=r&&r[1]||"",Tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+l+Tt}var oe=!1;function ge(l,r){if(!l||oe)return"";oe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(F){var G=F}Reflect.construct(l,[],se)}else{try{se.call()}catch(F){G=F}l.call(se.prototype)}}else{try{throw Error()}catch(F){G=F}(se=l())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),j=b[0],S=b[1];if(j&&S){var A=j.split(`
`),V=S.split(`
`);for(x=f=0;f<A.length&&!A[f].includes("DetermineComponentFrameRoot");)f++;for(;x<V.length&&!V[x].includes("DetermineComponentFrameRoot");)x++;if(f===A.length||x===V.length)for(f=A.length-1,x=V.length-1;1<=f&&0<=x&&A[f]!==V[x];)x--;for(;1<=f&&0<=x;f--,x--)if(A[f]!==V[x]){if(f!==1||x!==1)do if(f--,x--,0>x||A[f]!==V[x]){var Q=`
`+A[f].replace(" at new "," at ");return l.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",l.displayName)),Q}while(1<=f&&0<=x);break}}}finally{oe=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?$t(d):""}function Ct(l,r){switch(l.tag){case 26:case 27:case 5:return $t(l.type);case 16:return $t("Lazy");case 13:return l.child!==r&&r!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return ge(l.type,!1);case 11:return ge(l.type.render,!1);case 1:return ge(l.type,!0);case 31:return $t("Activity");default:return""}}function Mt(l){try{var r="",d=null;do r+=Ct(l,d),d=l,l=l.return;while(l);return r}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Js=Object.prototype.hasOwnProperty,Ge=t.unstable_scheduleCallback,es=t.unstable_cancelCallback,ia=t.unstable_shouldYield,ra=t.unstable_requestPaint,yt=t.unstable_now,oa=t.unstable_getCurrentPriorityLevel,ca=t.unstable_ImmediatePriority,Il=t.unstable_UserBlockingPriority,Xs=t.unstable_NormalPriority,Ka=t.unstable_LowPriority,An=t.unstable_IdlePriority,As=t.log,Li=t.unstable_setDisableYieldValue,Ps=null,Kt=null;function dn(l){if(typeof As=="function"&&Li(l),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Ps,l)}catch{}}var ms=Math.clz32?Math.clz32:x0,zc=Math.log,p0=Math.LN2;function x0(l){return l>>>=0,l===0?32:31-(zc(l)/p0|0)|0}var Ga=256,ct=262144,Fa=4194304;function Dn(l){var r=l&42;if(r!==0)return r;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function $l(l,r,d){var f=l.pendingLanes;if(f===0)return 0;var x=0,b=l.suspendedLanes,j=l.pingedLanes;l=l.warmLanes;var S=f&134217727;return S!==0?(f=S&~b,f!==0?x=Dn(f):(j&=S,j!==0?x=Dn(j):d||(d=S&~l,d!==0&&(x=Dn(d))))):(S=f&~b,S!==0?x=Dn(S):j!==0?x=Dn(j):d||(d=f&~l,d!==0&&(x=Dn(d)))),x===0?0:r!==0&&r!==x&&(r&b)===0&&(b=x&-x,d=r&-r,b>=d||b===32&&(d&4194048)!==0)?r:x}function Oe(l,r){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&r)===0}function Kr(l,r){switch(l){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Za(){var l=Fa;return Fa<<=1,(Fa&62914560)===0&&(Fa=4194304),l}function _i(l){for(var r=[],d=0;31>d;d++)r.push(l);return r}function ql(l,r){l.pendingLanes|=r,r!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Gr(l,r,d,f,x,b){var j=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var S=l.entanglements,A=l.expirationTimes,V=l.hiddenUpdates;for(d=j&~d;0<d;){var Q=31-ms(d),se=1<<Q;S[Q]=0,A[Q]=-1;var G=V[Q];if(G!==null)for(V[Q]=null,Q=0;Q<G.length;Q++){var F=G[Q];F!==null&&(F.lane&=-536870913)}d&=~se}f!==0&&Fr(l,f,0),b!==0&&x===0&&l.tag!==0&&(l.suspendedLanes|=b&~(j&~r))}function Fr(l,r,d){l.pendingLanes|=r,l.suspendedLanes&=~r;var f=31-ms(r);l.entangledLanes|=r,l.entanglements[f]=l.entanglements[f]|1073741824|d&261930}function Zr(l,r){var d=l.entangledLanes|=r;for(l=l.entanglements;d;){var f=31-ms(d),x=1<<f;x&r|l[f]&r&&(l[f]|=r),d&=~x}}function Yr(l,r){var d=r&-r;return d=(d&42)!==0?1:Bi(d),(d&(l.suspendedLanes|r))!==0?0:d}function Bi(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Sc(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Cc(){var l=D.p;return l!==0?l:(l=window.event,l===void 0?32:Hy(l.type))}function da(l,r){var d=D.p;try{return D.p=l,r()}finally{D.p=d}}var un=Math.random().toString(36).slice(2),ts="__reactFiber$"+un,Je="__reactProps$"+un,ua="__reactContainer$"+un,ha="__reactEvents$"+un,Lh="__reactListeners$"+un,_h="__reactHandles$"+un,Mc="__reactResources$"+un,Ya="__reactMarker$"+un;function Pi(l){delete l[ts],delete l[Je],delete l[ha],delete l[Lh],delete l[_h]}function Wn(l){var r=l[ts];if(r)return r;for(var d=l.parentNode;d;){if(r=d[ua]||d[ts]){if(d=r.alternate,r.child!==null||d!==null&&d.child!==null)for(l=ky(l);l!==null;){if(d=l[ts])return d;l=ky(l)}return r}l=d,d=l.parentNode}return null}function On(l){if(l=l[ts]||l[ua]){var r=l.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return l}return null}function Ja(l){var r=l.tag;if(r===5||r===26||r===27||r===6)return l.stateNode;throw Error(a(33))}function fa(l){var r=l[Mc];return r||(r=l[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Gt(l){l[Ya]=!0}var hn=new Set,Vl={};function ma(l,r){Ds(l,r),Ds(l+"Capture",r)}function Ds(l,r){for(Vl[l]=r,l=0;l<r.length;l++)hn.add(r[l])}var Bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},Tc={};function Ph(l){return Js.call(Tc,l)?!0:Js.call(Ec,l)?!1:Bh.test(l)?Tc[l]=!0:(Ec[l]=!0,!1)}function Ui(l,r,d){if(Ph(r))if(d===null)l.removeAttribute(r);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){l.removeAttribute(r);return}}l.setAttribute(r,""+d)}}function Hi(l,r,d){if(d===null)l.removeAttribute(r);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(r);return}l.setAttribute(r,""+d)}}function Rn(l,r,d,f){if(f===null)l.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(r,d,""+f)}}function Us(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ac(l){var r=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Uh(l,r,d){var f=Object.getOwnPropertyDescriptor(l.constructor.prototype,r);if(!l.hasOwnProperty(r)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,b=f.set;return Object.defineProperty(l,r,{configurable:!0,get:function(){return x.call(this)},set:function(j){d=""+j,b.call(this,j)}}),Object.defineProperty(l,r,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(j){d=""+j},stopTracking:function(){l._valueTracker=null,delete l[r]}}}}function Jr(l){if(!l._valueTracker){var r=Ac(l)?"checked":"value";l._valueTracker=Uh(l,r,""+l[r])}}function Dc(l){if(!l)return!1;var r=l._valueTracker;if(!r)return!0;var d=r.getValue(),f="";return l&&(f=Ac(l)?l.checked?"true":"false":l.value),l=f,l!==d?(r.setValue(l),!0):!1}function Wl(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Oc=/[\n"\\]/g;function _(l){return l.replace(Oc,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function le(l,r,d,f,x,b,j,S){l.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?l.type=j:l.removeAttribute("type"),r!=null?j==="number"?(r===0&&l.value===""||l.value!=r)&&(l.value=""+Us(r)):l.value!==""+Us(r)&&(l.value=""+Us(r)):j!=="submit"&&j!=="reset"||l.removeAttribute("value"),r!=null?Se(l,j,Us(r)):d!=null?Se(l,j,Us(d)):f!=null&&l.removeAttribute("value"),x==null&&b!=null&&(l.defaultChecked=!!b),x!=null&&(l.checked=x&&typeof x!="function"&&typeof x!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?l.name=""+Us(S):l.removeAttribute("name")}function he(l,r,d,f,x,b,j,S){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(l.type=b),r!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){Jr(l);return}d=d!=null?""+Us(d):"",r=r!=null?""+Us(r):d,S||r===l.value||(l.value=r),l.defaultValue=r}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,l.checked=S?l.checked:!!f,l.defaultChecked=!!f,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(l.name=j),Jr(l)}function Se(l,r,d){r==="number"&&Wl(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function tt(l,r,d,f){if(l=l.options,r){r={};for(var x=0;x<d.length;x++)r["$"+d[x]]=!0;for(d=0;d<l.length;d++)x=r.hasOwnProperty("$"+l[d].value),l[d].selected!==x&&(l[d].selected=x),x&&f&&(l[d].defaultSelected=!0)}else{for(d=""+Us(d),r=null,x=0;x<l.length;x++){if(l[x].value===d){l[x].selected=!0,f&&(l[x].defaultSelected=!0);return}r!==null||l[x].disabled||(r=l[x])}r!==null&&(r.selected=!0)}}function mt(l,r,d){if(r!=null&&(r=""+Us(r),r!==l.value&&(l.value=r),d==null)){l.defaultValue!==r&&(l.defaultValue=r);return}l.defaultValue=d!=null?""+Us(d):""}function Xe(l,r,d,f){if(r==null){if(f!=null){if(d!=null)throw Error(a(92));if(P(f)){if(1<f.length)throw Error(a(93));f=f[0]}d=f}d==null&&(d=""),r=d}d=Us(r),l.defaultValue=d,f=l.textContent,f===d&&f!==""&&f!==null&&(l.value=f),Jr(l)}function st(l,r){if(r){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=r;return}}l.textContent=r}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ot(l,r,d){var f=r.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?f?l.setProperty(r,""):r==="float"?l.cssFloat="":l[r]="":f?l.setProperty(r,d):typeof d!="number"||d===0||ps.has(r)?r==="float"?l.cssFloat=d:l[r]=(""+d).trim():l[r]=d+"px"}function ie(l,r,d){if(r!=null&&typeof r!="object")throw Error(a(62));if(l=l.style,d!=null){for(var f in d)!d.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="");for(var x in r)f=r[x],r.hasOwnProperty(x)&&d[x]!==f&&Ot(l,x,f)}else for(var b in r)r.hasOwnProperty(b)&&Ot(l,b,r[b])}function dt(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ss(l){return At.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Ye(){}var qt=null;function zs(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var xs=null,Ie=null;function je(l){var r=On(l);if(r&&(l=r.stateNode)){var d=l[Je]||null;e:switch(l=r.stateNode,r.type){case"input":if(le(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),r=d.name,d.type==="radio"&&r!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+_(""+r)+'"][type="radio"]'),r=0;r<d.length;r++){var f=d[r];if(f!==l&&f.form===l.form){var x=f[Je]||null;if(!x)throw Error(a(90));le(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(r=0;r<d.length;r++)f=d[r],f.form===l.form&&Dc(f)}break e;case"textarea":mt(l,d.value,d.defaultValue);break e;case"select":r=d.value,r!=null&&tt(l,!!d.multiple,r,!1)}}}var Ue=!1;function vt(l,r,d){if(Ue)return l(r,d);Ue=!0;try{var f=l(r);return f}finally{if(Ue=!1,(xs!==null||Ie!==null)&&(yd(),xs&&(r=xs,l=Ie,Ie=xs=null,je(r),l)))for(r=0;r<l.length;r++)je(l[r])}}function at(l,r){var d=l.stateNode;if(d===null)return null;var f=d[Je]||null;if(f===null)return null;d=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(l=l.type,f=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!f;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(a(231,r,typeof d));return d}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(ns)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){Os=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{Os=!1}var Kn=null,Ii=null,$i=null;function g0(){if($i)return $i;var l,r=Ii,d=r.length,f,x="value"in Kn?Kn.value:Kn.textContent,b=x.length;for(l=0;l<d&&r[l]===x[l];l++);var j=d-l;for(f=1;f<=j&&r[d-f]===x[b-f];f++);return $i=x.slice(l,1<f?1-f:void 0)}function Rc(l){var r=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&r===13&&(l=13)):l=r,l===10&&(l=13),32<=l||l===13?l:0}function Lc(){return!0}function b0(){return!1}function Hs(l){function r(d,f,x,b,j){this._reactName=d,this._targetInst=x,this.type=f,this.nativeEvent=b,this.target=j,this.currentTarget=null;for(var S in l)l.hasOwnProperty(S)&&(d=l[S],this[S]=d?d(b):b[S]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Lc:b0,this.isPropagationStopped=b0,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),r}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=Hs(Kl),Xr=g({},Kl,{view:0,detail:0}),kk=Hs(Xr),Hh,Ih,Qr,Bc=g({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qh,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Qr&&(Qr&&l.type==="mousemove"?(Hh=l.screenX-Qr.screenX,Ih=l.screenY-Qr.screenY):Ih=Hh=0,Qr=l),Hh)},movementY:function(l){return"movementY"in l?l.movementY:Ih}}),y0=Hs(Bc),zk=g({},Bc,{dataTransfer:0}),Sk=Hs(zk),Ck=g({},Xr,{relatedTarget:0}),$h=Hs(Ck),Mk=g({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ek=Hs(Mk),Tk=g({},Kl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ak=Hs(Tk),Dk=g({},Kl,{data:0}),v0=Hs(Dk),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _k(l){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(l):(l=Lk[l])?!!r[l]:!1}function qh(){return _k}var Bk=g({},Xr,{key:function(l){if(l.key){var r=Ok[l.key]||l.key;if(r!=="Unidentified")return r}return l.type==="keypress"?(l=Rc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Rk[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qh,charCode:function(l){return l.type==="keypress"?Rc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Rc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Pk=Hs(Bk),Uk=g({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=Hs(Uk),Hk=g({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qh}),Ik=Hs(Hk),$k=g({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=Hs($k),Vk=g({},Bc,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Wk=Hs(Vk),Kk=g({},Kl,{newState:0,oldState:0}),Gk=Hs(Kk),Fk=[9,13,27,32],Vh=ns&&"CompositionEvent"in window,eo=null;ns&&"documentMode"in document&&(eo=document.documentMode);var Zk=ns&&"TextEvent"in window&&!eo,j0=ns&&(!Vh||eo&&8<eo&&11>=eo),N0=" ",k0=!1;function z0(l,r){switch(l){case"keyup":return Fk.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S0(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var qi=!1;function Yk(l,r){switch(l){case"compositionend":return S0(r);case"keypress":return r.which!==32?null:(k0=!0,N0);case"textInput":return l=r.data,l===N0&&k0?null:l;default:return null}}function Jk(l,r){if(qi)return l==="compositionend"||!Vh&&z0(l,r)?(l=g0(),$i=Ii=Kn=null,qi=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return j0&&r.locale!=="ko"?null:r.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C0(l){var r=l&&l.nodeName&&l.nodeName.toLowerCase();return r==="input"?!!Xk[l.type]:r==="textarea"}function M0(l,r,d,f){xs?Ie?Ie.push(f):Ie=[f]:xs=f,r=Sd(r,"onChange"),0<r.length&&(d=new _c("onChange","change",null,d,f),l.push({event:d,listeners:r}))}var to=null,so=null;function Qk(l){dy(l,0)}function Pc(l){var r=Ja(l);if(Dc(r))return l}function E0(l,r){if(l==="change")return r}var T0=!1;if(ns){var Wh;if(ns){var Kh="oninput"in document;if(!Kh){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),Kh=typeof A0.oninput=="function"}Wh=Kh}else Wh=!1;T0=Wh&&(!document.documentMode||9<document.documentMode)}function D0(){to&&(to.detachEvent("onpropertychange",O0),so=to=null)}function O0(l){if(l.propertyName==="value"&&Pc(so)){var r=[];M0(r,so,l,zs(l)),vt(Qk,r)}}function e2(l,r,d){l==="focusin"?(D0(),to=r,so=d,to.attachEvent("onpropertychange",O0)):l==="focusout"&&D0()}function t2(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Pc(so)}function s2(l,r){if(l==="click")return Pc(r)}function n2(l,r){if(l==="input"||l==="change")return Pc(r)}function a2(l,r){return l===r&&(l!==0||1/l===1/r)||l!==l&&r!==r}var Qs=typeof Object.is=="function"?Object.is:a2;function no(l,r){if(Qs(l,r))return!0;if(typeof l!="object"||l===null||typeof r!="object"||r===null)return!1;var d=Object.keys(l),f=Object.keys(r);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var x=d[f];if(!Js.call(r,x)||!Qs(l[x],r[x]))return!1}return!0}function R0(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function L0(l,r){var d=R0(l);l=0;for(var f;d;){if(d.nodeType===3){if(f=l+d.textContent.length,l<=r&&f>=r)return{node:d,offset:r-l};l=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=R0(d)}}function _0(l,r){return l&&r?l===r?!0:l&&l.nodeType===3?!1:r&&r.nodeType===3?_0(l,r.parentNode):"contains"in l?l.contains(r):l.compareDocumentPosition?!!(l.compareDocumentPosition(r)&16):!1:!1}function B0(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var r=Wl(l.document);r instanceof l.HTMLIFrameElement;){try{var d=typeof r.contentWindow.location.href=="string"}catch{d=!1}if(d)l=r.contentWindow;else break;r=Wl(l.document)}return r}function Gh(l){var r=l&&l.nodeName&&l.nodeName.toLowerCase();return r&&(r==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||r==="textarea"||l.contentEditable==="true")}var l2=ns&&"documentMode"in document&&11>=document.documentMode,Vi=null,Fh=null,ao=null,Zh=!1;function P0(l,r,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Zh||Vi==null||Vi!==Wl(f)||(f=Vi,"selectionStart"in f&&Gh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ao&&no(ao,f)||(ao=f,f=Sd(Fh,"onSelect"),0<f.length&&(r=new _c("onSelect","select",null,r,d),l.push({event:r,listeners:f}),r.target=Vi)))}function Gl(l,r){var d={};return d[l.toLowerCase()]=r.toLowerCase(),d["Webkit"+l]="webkit"+r,d["Moz"+l]="moz"+r,d}var Wi={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionrun:Gl("Transition","TransitionRun"),transitionstart:Gl("Transition","TransitionStart"),transitioncancel:Gl("Transition","TransitionCancel"),transitionend:Gl("Transition","TransitionEnd")},Yh={},U0={};ns&&(U0=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Fl(l){if(Yh[l])return Yh[l];if(!Wi[l])return l;var r=Wi[l],d;for(d in r)if(r.hasOwnProperty(d)&&d in U0)return Yh[l]=r[d];return l}var H0=Fl("animationend"),I0=Fl("animationiteration"),$0=Fl("animationstart"),i2=Fl("transitionrun"),r2=Fl("transitionstart"),o2=Fl("transitioncancel"),q0=Fl("transitionend"),V0=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Ln(l,r){V0.set(l,r),ma(r,[l])}var Uc=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},mn=[],Ki=0,Xh=0;function Hc(){for(var l=Ki,r=Xh=Ki=0;r<l;){var d=mn[r];mn[r++]=null;var f=mn[r];mn[r++]=null;var x=mn[r];mn[r++]=null;var b=mn[r];if(mn[r++]=null,f!==null&&x!==null){var j=f.pending;j===null?x.next=x:(x.next=j.next,j.next=x),f.pending=x}b!==0&&W0(d,x,b)}}function Ic(l,r,d,f){mn[Ki++]=l,mn[Ki++]=r,mn[Ki++]=d,mn[Ki++]=f,Xh|=f,l.lanes|=f,l=l.alternate,l!==null&&(l.lanes|=f)}function Qh(l,r,d,f){return Ic(l,r,d,f),$c(l)}function Zl(l,r){return Ic(l,null,null,r),$c(l)}function W0(l,r,d){l.lanes|=d;var f=l.alternate;f!==null&&(f.lanes|=d);for(var x=!1,b=l.return;b!==null;)b.childLanes|=d,f=b.alternate,f!==null&&(f.childLanes|=d),b.tag===22&&(l=b.stateNode,l===null||l._visibility&1||(x=!0)),l=b,b=b.return;return l.tag===3?(b=l.stateNode,x&&r!==null&&(x=31-ms(d),l=b.hiddenUpdates,f=l[x],f===null?l[x]=[r]:f.push(r),r.lane=d|536870912),b):null}function $c(l){if(50<Co)throw Co=0,cm=null,Error(a(185));for(var r=l.return;r!==null;)l=r,r=l.return;return l.tag===3?l.stateNode:null}var Gi={};function c2(l,r,d,f){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(l,r,d,f){return new c2(l,r,d,f)}function ef(l){return l=l.prototype,!(!l||!l.isReactComponent)}function pa(l,r){var d=l.alternate;return d===null?(d=en(l.tag,r,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=r,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,r=l.dependencies,d.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function K0(l,r){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=r,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,r=d.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l}function qc(l,r,d,f,x,b){var j=0;if(f=l,typeof l=="function")ef(l)&&(j=1);else if(typeof l=="string")j=mz(l,d,X.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case T:return l=en(31,d,r,x),l.elementType=T,l.lanes=b,l;case N:return Yl(d.children,x,b,r);case k:j=8,x|=24;break;case z:return l=en(12,d,r,x|2),l.elementType=z,l.lanes=b,l;case I:return l=en(13,d,r,x),l.elementType=I,l.lanes=b,l;case W:return l=en(19,d,r,x),l.elementType=W,l.lanes=b,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:j=10;break e;case E:j=9;break e;case H:j=11;break e;case $:j=14;break e;case Y:j=16,f=null;break e}j=29,d=Error(a(130,l===null?"null":typeof l,"")),f=null}return r=en(j,d,r,x),r.elementType=l,r.type=f,r.lanes=b,r}function Yl(l,r,d,f){return l=en(7,l,f,r),l.lanes=d,l}function tf(l,r,d){return l=en(6,l,null,r),l.lanes=d,l}function G0(l){var r=en(18,null,null,0);return r.stateNode=l,r}function sf(l,r,d){return r=en(4,l.children!==null?l.children:[],l.key,r),r.lanes=d,r.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},r}var F0=new WeakMap;function pn(l,r){if(typeof l=="object"&&l!==null){var d=F0.get(l);return d!==void 0?d:(r={value:l,source:r,stack:Mt(r)},F0.set(l,r),r)}return{value:l,source:r,stack:Mt(r)}}var Fi=[],Zi=0,Vc=null,lo=0,xn=[],gn=0,Xa=null,Gn=1,Fn="";function xa(l,r){Fi[Zi++]=lo,Fi[Zi++]=Vc,Vc=l,lo=r}function Z0(l,r,d){xn[gn++]=Gn,xn[gn++]=Fn,xn[gn++]=Xa,Xa=l;var f=Gn;l=Fn;var x=32-ms(f)-1;f&=~(1<<x),d+=1;var b=32-ms(r)+x;if(30<b){var j=x-x%5;b=(f&(1<<j)-1).toString(32),f>>=j,x-=j,Gn=1<<32-ms(r)+x|d<<x|f,Fn=b+l}else Gn=1<<b|d<<x|f,Fn=l}function nf(l){l.return!==null&&(xa(l,1),Z0(l,1,0))}function af(l){for(;l===Vc;)Vc=Fi[--Zi],Fi[Zi]=null,lo=Fi[--Zi],Fi[Zi]=null;for(;l===Xa;)Xa=xn[--gn],xn[gn]=null,Fn=xn[--gn],xn[gn]=null,Gn=xn[--gn],xn[gn]=null}function Y0(l,r){xn[gn++]=Gn,xn[gn++]=Fn,xn[gn++]=Xa,Gn=r.id,Fn=r.overflow,Xa=l}var gs=null,wt=null,Fe=!1,Qa=null,bn=!1,lf=Error(a(519));function el(l){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(pn(r,l)),lf}function J0(l){var r=l.stateNode,d=l.type,f=l.memoizedProps;switch(r[ts]=l,r[Je]=f,d){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(d=0;d<Eo.length;d++)qe(Eo[d],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),he(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),Xe(r,f.value,f.defaultValue,f.children)}d=f.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||r.textContent===""+d||f.suppressHydrationWarning===!0||my(r.textContent,d)?(f.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),f.onScroll!=null&&qe("scroll",r),f.onScrollEnd!=null&&qe("scrollend",r),f.onClick!=null&&(r.onclick=Ye),r=!0):r=!1,r||el(l,!0)}function X0(l){for(gs=l.return;gs;)switch(gs.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:gs=gs.return}}function Yi(l){if(l!==gs)return!1;if(!Fe)return X0(l),Fe=!0,!1;var r=l.tag,d;if((d=r!==3&&r!==27)&&((d=r===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||km(l.type,l.memoizedProps)),d=!d),d&&wt&&el(l),X0(l),r===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));wt=Ny(l)}else if(r===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));wt=Ny(l)}else r===27?(r=wt,ml(l.type)?(l=Em,Em=null,wt=l):wt=r):wt=gs?vn(l.stateNode.nextSibling):null;return!0}function Jl(){wt=gs=null,Fe=!1}function rf(){var l=Qa;return l!==null&&(Vs===null?Vs=l:Vs.push.apply(Vs,l),Qa=null),l}function io(l){Qa===null?Qa=[l]:Qa.push(l)}var of=C(null),Xl=null,ga=null;function tl(l,r,d){L(of,r._currentValue),r._currentValue=d}function ba(l){l._currentValue=of.current,K(of)}function cf(l,r,d){for(;l!==null;){var f=l.alternate;if((l.childLanes&r)!==r?(l.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),l===d)break;l=l.return}}function df(l,r,d,f){var x=l.child;for(x!==null&&(x.return=l);x!==null;){var b=x.dependencies;if(b!==null){var j=x.child;b=b.firstContext;e:for(;b!==null;){var S=b;b=x;for(var A=0;A<r.length;A++)if(S.context===r[A]){b.lanes|=d,S=b.alternate,S!==null&&(S.lanes|=d),cf(b.return,d,l),f||(j=null);break e}b=S.next}}else if(x.tag===18){if(j=x.return,j===null)throw Error(a(341));j.lanes|=d,b=j.alternate,b!==null&&(b.lanes|=d),cf(j,d,l),j=null}else j=x.child;if(j!==null)j.return=x;else for(j=x;j!==null;){if(j===l){j=null;break}if(x=j.sibling,x!==null){x.return=j.return,j=x;break}j=j.return}x=j}}function Ji(l,r,d,f){l=null;for(var x=r,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var j=x.alternate;if(j===null)throw Error(a(387));if(j=j.memoizedProps,j!==null){var S=x.type;Qs(x.pendingProps.value,j.value)||(l!==null?l.push(S):l=[S])}}else if(x===ue.current){if(j=x.alternate,j===null)throw Error(a(387));j.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(l!==null?l.push(Ro):l=[Ro])}x=x.return}l!==null&&df(r,l,d,f),r.flags|=262144}function Wc(l){for(l=l.firstContext;l!==null;){if(!Qs(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ql(l){Xl=l,ga=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function bs(l){return Q0(Xl,l)}function Kc(l,r){return Xl===null&&Ql(l),Q0(l,r)}function Q0(l,r){var d=r._currentValue;if(r={context:r,memoizedValue:d,next:null},ga===null){if(l===null)throw Error(a(308));ga=r,l.dependencies={lanes:0,firstContext:r},l.flags|=524288}else ga=ga.next=r;return d}var d2=typeof AbortController<"u"?AbortController:function(){var l=[],r=this.signal={aborted:!1,addEventListener:function(d,f){l.push(f)}};this.abort=function(){r.aborted=!0,l.forEach(function(d){return d()})}},u2=t.unstable_scheduleCallback,h2=t.unstable_NormalPriority,Ft={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new d2,data:new Map,refCount:0}}function ro(l){l.refCount--,l.refCount===0&&u2(h2,function(){l.controller.abort()})}var oo=null,hf=0,Xi=0,Qi=null;function f2(l,r){if(oo===null){var d=oo=[];hf=0,Xi=pm(),Qi={status:"pending",value:void 0,then:function(f){d.push(f)}}}return hf++,r.then(eg,eg),r}function eg(){if(--hf===0&&oo!==null){Qi!==null&&(Qi.status="fulfilled");var l=oo;oo=null,Xi=0,Qi=null;for(var r=0;r<l.length;r++)(0,l[r])()}}function m2(l,r){var d=[],f={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return l.then(function(){f.status="fulfilled",f.value=r;for(var x=0;x<d.length;x++)(0,d[x])(r)},function(x){for(f.status="rejected",f.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),f}var tg=M.S;M.S=function(l,r){Pb=yt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&f2(l,r),tg!==null&&tg(l,r)};var ei=C(null);function ff(){var l=ei.current;return l!==null?l:pt.pooledCache}function Gc(l,r){r===null?L(ei,ei.current):L(ei,r.pool)}function sg(){var l=ff();return l===null?null:{parent:Ft._currentValue,pool:l}}var er=Error(a(460)),mf=Error(a(474)),Fc=Error(a(542)),Zc={then:function(){}};function ng(l){return l=l.status,l==="fulfilled"||l==="rejected"}function ag(l,r,d){switch(d=l[d],d===void 0?l.push(r):d!==r&&(r.then(Ye,Ye),r=d),r.status){case"fulfilled":return r.value;case"rejected":throw l=r.reason,ig(l),l;default:if(typeof r.status=="string")r.then(Ye,Ye);else{if(l=pt,l!==null&&100<l.shellSuspendCounter)throw Error(a(482));l=r,l.status="pending",l.then(function(f){if(r.status==="pending"){var x=r;x.status="fulfilled",x.value=f}},function(f){if(r.status==="pending"){var x=r;x.status="rejected",x.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw l=r.reason,ig(l),l}throw si=r,er}}function ti(l){try{var r=l._init;return r(l._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(si=d,er):d}}var si=null;function lg(){if(si===null)throw Error(a(459));var l=si;return si=null,l}function ig(l){if(l===er||l===Fc)throw Error(a(483))}var tr=null,co=0;function Yc(l){var r=co;return co+=1,tr===null&&(tr=[]),ag(tr,l,r)}function uo(l,r){r=r.props.ref,l.ref=r!==void 0?r:null}function Jc(l,r){throw r.$$typeof===y?Error(a(525)):(l=Object.prototype.toString.call(r),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":l)))}function rg(l){function r(U,B){if(l){var q=U.deletions;q===null?(U.deletions=[B],U.flags|=16):q.push(B)}}function d(U,B){if(!l)return null;for(;B!==null;)r(U,B),B=B.sibling;return null}function f(U){for(var B=new Map;U!==null;)U.key!==null?B.set(U.key,U):B.set(U.index,U),U=U.sibling;return B}function x(U,B){return U=pa(U,B),U.index=0,U.sibling=null,U}function b(U,B,q){return U.index=q,l?(q=U.alternate,q!==null?(q=q.index,q<B?(U.flags|=67108866,B):q):(U.flags|=67108866,B)):(U.flags|=1048576,B)}function j(U){return l&&U.alternate===null&&(U.flags|=67108866),U}function S(U,B,q,te){return B===null||B.tag!==6?(B=tf(q,U.mode,te),B.return=U,B):(B=x(B,q),B.return=U,B)}function A(U,B,q,te){var ke=q.type;return ke===N?Q(U,B,q.props.children,te,q.key):B!==null&&(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Y&&ti(ke)===B.type)?(B=x(B,q.props),uo(B,q),B.return=U,B):(B=qc(q.type,q.key,q.props,null,U.mode,te),uo(B,q),B.return=U,B)}function V(U,B,q,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=sf(q,U.mode,te),B.return=U,B):(B=x(B,q.children||[]),B.return=U,B)}function Q(U,B,q,te,ke){return B===null||B.tag!==7?(B=Yl(q,U.mode,te,ke),B.return=U,B):(B=x(B,q),B.return=U,B)}function se(U,B,q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=tf(""+B,U.mode,q),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return q=qc(B.type,B.key,B.props,null,U.mode,q),uo(q,B),q.return=U,q;case w:return B=sf(B,U.mode,q),B.return=U,B;case Y:return B=ti(B),se(U,B,q)}if(P(B)||xe(B))return B=Yl(B,U.mode,q,null),B.return=U,B;if(typeof B.then=="function")return se(U,Yc(B),q);if(B.$$typeof===R)return se(U,Kc(U,B),q);Jc(U,B)}return null}function G(U,B,q,te){var ke=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ke!==null?null:S(U,B,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return q.key===ke?A(U,B,q,te):null;case w:return q.key===ke?V(U,B,q,te):null;case Y:return q=ti(q),G(U,B,q,te)}if(P(q)||xe(q))return ke!==null?null:Q(U,B,q,te,null);if(typeof q.then=="function")return G(U,B,Yc(q),te);if(q.$$typeof===R)return G(U,B,Kc(U,q),te);Jc(U,q)}return null}function F(U,B,q,te,ke){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(q)||null,S(B,U,""+te,ke);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return U=U.get(te.key===null?q:te.key)||null,A(B,U,te,ke);case w:return U=U.get(te.key===null?q:te.key)||null,V(B,U,te,ke);case Y:return te=ti(te),F(U,B,q,te,ke)}if(P(te)||xe(te))return U=U.get(q)||null,Q(B,U,te,ke,null);if(typeof te.then=="function")return F(U,B,q,Yc(te),ke);if(te.$$typeof===R)return F(U,B,q,Kc(B,te),ke);Jc(B,te)}return null}function ye(U,B,q,te){for(var ke=null,Qe=null,we=B,Be=B=0,We=null;we!==null&&Be<q.length;Be++){we.index>Be?(We=we,we=null):We=we.sibling;var et=G(U,we,q[Be],te);if(et===null){we===null&&(we=We);break}l&&we&&et.alternate===null&&r(U,we),B=b(et,B,Be),Qe===null?ke=et:Qe.sibling=et,Qe=et,we=We}if(Be===q.length)return d(U,we),Fe&&xa(U,Be),ke;if(we===null){for(;Be<q.length;Be++)we=se(U,q[Be],te),we!==null&&(B=b(we,B,Be),Qe===null?ke=we:Qe.sibling=we,Qe=we);return Fe&&xa(U,Be),ke}for(we=f(we);Be<q.length;Be++)We=F(we,U,Be,q[Be],te),We!==null&&(l&&We.alternate!==null&&we.delete(We.key===null?Be:We.key),B=b(We,B,Be),Qe===null?ke=We:Qe.sibling=We,Qe=We);return l&&we.forEach(function(yl){return r(U,yl)}),Fe&&xa(U,Be),ke}function Me(U,B,q,te){if(q==null)throw Error(a(151));for(var ke=null,Qe=null,we=B,Be=B=0,We=null,et=q.next();we!==null&&!et.done;Be++,et=q.next()){we.index>Be?(We=we,we=null):We=we.sibling;var yl=G(U,we,et.value,te);if(yl===null){we===null&&(we=We);break}l&&we&&yl.alternate===null&&r(U,we),B=b(yl,B,Be),Qe===null?ke=yl:Qe.sibling=yl,Qe=yl,we=We}if(et.done)return d(U,we),Fe&&xa(U,Be),ke;if(we===null){for(;!et.done;Be++,et=q.next())et=se(U,et.value,te),et!==null&&(B=b(et,B,Be),Qe===null?ke=et:Qe.sibling=et,Qe=et);return Fe&&xa(U,Be),ke}for(we=f(we);!et.done;Be++,et=q.next())et=F(we,U,Be,et.value,te),et!==null&&(l&&et.alternate!==null&&we.delete(et.key===null?Be:et.key),B=b(et,B,Be),Qe===null?ke=et:Qe.sibling=et,Qe=et);return l&&we.forEach(function(zz){return r(U,zz)}),Fe&&xa(U,Be),ke}function ft(U,B,q,te){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case v:e:{for(var ke=q.key;B!==null;){if(B.key===ke){if(ke=q.type,ke===N){if(B.tag===7){d(U,B.sibling),te=x(B,q.props.children),te.return=U,U=te;break e}}else if(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Y&&ti(ke)===B.type){d(U,B.sibling),te=x(B,q.props),uo(te,q),te.return=U,U=te;break e}d(U,B);break}else r(U,B);B=B.sibling}q.type===N?(te=Yl(q.props.children,U.mode,te,q.key),te.return=U,U=te):(te=qc(q.type,q.key,q.props,null,U.mode,te),uo(te,q),te.return=U,U=te)}return j(U);case w:e:{for(ke=q.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){d(U,B.sibling),te=x(B,q.children||[]),te.return=U,U=te;break e}else{d(U,B);break}else r(U,B);B=B.sibling}te=sf(q,U.mode,te),te.return=U,U=te}return j(U);case Y:return q=ti(q),ft(U,B,q,te)}if(P(q))return ye(U,B,q,te);if(xe(q)){if(ke=xe(q),typeof ke!="function")throw Error(a(150));return q=ke.call(q),Me(U,B,q,te)}if(typeof q.then=="function")return ft(U,B,Yc(q),te);if(q.$$typeof===R)return ft(U,B,Kc(U,q),te);Jc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,B!==null&&B.tag===6?(d(U,B.sibling),te=x(B,q),te.return=U,U=te):(d(U,B),te=tf(q,U.mode,te),te.return=U,U=te),j(U)):d(U,B)}return function(U,B,q,te){try{co=0;var ke=ft(U,B,q,te);return tr=null,ke}catch(we){if(we===er||we===Fc)throw we;var Qe=en(29,we,null,U.mode);return Qe.lanes=te,Qe.return=U,Qe}finally{}}}var ni=rg(!0),og=rg(!1),sl=!1;function pf(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(l,r){l=l.updateQueue,r.updateQueue===l&&(r.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function nl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function al(l,r,d){var f=l.updateQueue;if(f===null)return null;if(f=f.shared,(nt&2)!==0){var x=f.pending;return x===null?r.next=r:(r.next=x.next,x.next=r),f.pending=r,r=$c(l),W0(l,null,d),r}return Ic(l,f,r,d),$c(l)}function ho(l,r,d){if(r=r.updateQueue,r!==null&&(r=r.shared,(d&4194048)!==0)){var f=r.lanes;f&=l.pendingLanes,d|=f,r.lanes=d,Zr(l,d)}}function gf(l,r){var d=l.updateQueue,f=l.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var x=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var j={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?x=b=j:b=b.next=j,d=d.next}while(d!==null);b===null?x=b=r:b=b.next=r}else x=b=r;d={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=r:l.next=r,d.lastBaseUpdate=r}var bf=!1;function fo(){if(bf){var l=Qi;if(l!==null)throw l}}function mo(l,r,d,f){bf=!1;var x=l.updateQueue;sl=!1;var b=x.firstBaseUpdate,j=x.lastBaseUpdate,S=x.shared.pending;if(S!==null){x.shared.pending=null;var A=S,V=A.next;A.next=null,j===null?b=V:j.next=V,j=A;var Q=l.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==j&&(S===null?Q.firstBaseUpdate=V:S.next=V,Q.lastBaseUpdate=A))}if(b!==null){var se=x.baseState;j=0,Q=V=A=null,S=b;do{var G=S.lane&-536870913,F=G!==S.lane;if(F?(Ve&G)===G:(f&G)===G){G!==0&&G===Xi&&(bf=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=l,Me=S;G=r;var ft=d;switch(Me.tag){case 1:if(ye=Me.payload,typeof ye=="function"){se=ye.call(ft,se,G);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Me.payload,G=typeof ye=="function"?ye.call(ft,se,G):ye,G==null)break e;se=g({},se,G);break e;case 2:sl=!0}}G=S.callback,G!==null&&(l.flags|=64,F&&(l.flags|=8192),F=x.callbacks,F===null?x.callbacks=[G]:F.push(G))}else F={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(V=Q=F,A=se):Q=Q.next=F,j|=G;if(S=S.next,S===null){if(S=x.shared.pending,S===null)break;F=S,S=F.next,F.next=null,x.lastBaseUpdate=F,x.shared.pending=null}}while(!0);Q===null&&(A=se),x.baseState=A,x.firstBaseUpdate=V,x.lastBaseUpdate=Q,b===null&&(x.shared.lanes=0),cl|=j,l.lanes=j,l.memoizedState=se}}function cg(l,r){if(typeof l!="function")throw Error(a(191,l));l.call(r)}function dg(l,r){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)cg(d[l],r)}var sr=C(null),Xc=C(0);function ug(l,r){l=Ca,L(Xc,l),L(sr,r),Ca=l|r.baseLanes}function yf(){L(Xc,Ca),L(sr,sr.current)}function vf(){Ca=Xc.current,K(sr),K(Xc)}var tn=C(null),yn=null;function ll(l){var r=l.alternate;L(Vt,Vt.current&1),L(tn,l),yn===null&&(r===null||sr.current!==null||r.memoizedState!==null)&&(yn=l)}function wf(l){L(Vt,Vt.current),L(tn,l),yn===null&&(yn=l)}function hg(l){l.tag===22?(L(Vt,Vt.current),L(tn,l),yn===null&&(yn=l)):il()}function il(){L(Vt,Vt.current),L(tn,tn.current)}function sn(l){K(tn),yn===l&&(yn=null),K(Vt)}var Vt=C(0);function Qc(l){for(var r=l;r!==null;){if(r.tag===13){var d=r.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Cm(d)||Mm(d)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break;for(;r.sibling===null;){if(r.return===null||r.return===l)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ya=0,_e=null,ut=null,Zt=null,ed=!1,nr=!1,ai=!1,td=0,po=0,ar=null,p2=0;function Lt(){throw Error(a(321))}function jf(l,r){if(r===null)return!1;for(var d=0;d<r.length&&d<l.length;d++)if(!Qs(l[d],r[d]))return!1;return!0}function Nf(l,r,d,f,x,b){return ya=b,_e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,M.H=l===null||l.memoizedState===null?Zg:Pf,ai=!1,b=d(f,x),ai=!1,nr&&(b=mg(r,d,f,x)),fg(l),b}function fg(l){M.H=bo;var r=ut!==null&&ut.next!==null;if(ya=0,Zt=ut=_e=null,ed=!1,po=0,ar=null,r)throw Error(a(300));l===null||Yt||(l=l.dependencies,l!==null&&Wc(l)&&(Yt=!0))}function mg(l,r,d,f){_e=l;var x=0;do{if(nr&&(ar=null),po=0,nr=!1,25<=x)throw Error(a(301));if(x+=1,Zt=ut=null,l.updateQueue!=null){var b=l.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}M.H=Yg,b=r(d,f)}while(nr);return b}function x2(){var l=M.H,r=l.useState()[0];return r=typeof r.then=="function"?xo(r):r,l=l.useState()[0],(ut!==null?ut.memoizedState:null)!==l&&(_e.flags|=1024),r}function kf(){var l=td!==0;return td=0,l}function zf(l,r,d){r.updateQueue=l.updateQueue,r.flags&=-2053,l.lanes&=~d}function Sf(l){if(ed){for(l=l.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}ed=!1}ya=0,Zt=ut=_e=null,nr=!1,po=td=0,ar=null}function Rs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?_e.memoizedState=Zt=l:Zt=Zt.next=l,Zt}function Wt(){if(ut===null){var l=_e.alternate;l=l!==null?l.memoizedState:null}else l=ut.next;var r=Zt===null?_e.memoizedState:Zt.next;if(r!==null)Zt=r,ut=l;else{if(l===null)throw _e.alternate===null?Error(a(467)):Error(a(310));ut=l,l={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Zt===null?_e.memoizedState=Zt=l:Zt=Zt.next=l}return Zt}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(l){var r=po;return po+=1,ar===null&&(ar=[]),l=ag(ar,l,r),r=_e,(Zt===null?r.memoizedState:Zt.next)===null&&(r=r.alternate,M.H=r===null||r.memoizedState===null?Zg:Pf),l}function nd(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return xo(l);if(l.$$typeof===R)return bs(l)}throw Error(a(438,String(l)))}function Cf(l){var r=null,d=_e.updateQueue;if(d!==null&&(r=d.memoCache),r==null){var f=_e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(x){return x.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),d===null&&(d=sd(),_e.updateQueue=d),d.memoCache=r,d=r.data[r.index],d===void 0)for(d=r.data[r.index]=Array(l),f=0;f<l;f++)d[f]=ee;return r.index++,d}function va(l,r){return typeof r=="function"?r(l):r}function ad(l){var r=Wt();return Mf(r,ut,l)}function Mf(l,r,d){var f=l.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=d;var x=l.baseQueue,b=f.pending;if(b!==null){if(x!==null){var j=x.next;x.next=b.next,b.next=j}r.baseQueue=x=b,f.pending=null}if(b=l.baseState,x===null)l.memoizedState=b;else{r=x.next;var S=j=null,A=null,V=r,Q=!1;do{var se=V.lane&-536870913;if(se!==V.lane?(Ve&se)===se:(ya&se)===se){var G=V.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),se===Xi&&(Q=!0);else if((ya&G)===G){V=V.next,G===Xi&&(Q=!0);continue}else se={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(S=A=se,j=b):A=A.next=se,_e.lanes|=G,cl|=G;se=V.action,ai&&d(b,se),b=V.hasEagerState?V.eagerState:d(b,se)}else G={lane:se,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(S=A=G,j=b):A=A.next=G,_e.lanes|=se,cl|=se;V=V.next}while(V!==null&&V!==r);if(A===null?j=b:A.next=S,!Qs(b,l.memoizedState)&&(Yt=!0,Q&&(d=Qi,d!==null)))throw d;l.memoizedState=b,l.baseState=j,l.baseQueue=A,f.lastRenderedState=b}return x===null&&(f.lanes=0),[l.memoizedState,f.dispatch]}function Ef(l){var r=Wt(),d=r.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=l;var f=d.dispatch,x=d.pending,b=r.memoizedState;if(x!==null){d.pending=null;var j=x=x.next;do b=l(b,j.action),j=j.next;while(j!==x);Qs(b,r.memoizedState)||(Yt=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),d.lastRenderedState=b}return[b,f]}function pg(l,r,d){var f=_e,x=Wt(),b=Fe;if(b){if(d===void 0)throw Error(a(407));d=d()}else d=r();var j=!Qs((ut||x).memoizedState,d);if(j&&(x.memoizedState=d,Yt=!0),x=x.queue,Df(bg.bind(null,f,x,l),[l]),x.getSnapshot!==r||j||Zt!==null&&Zt.memoizedState.tag&1){if(f.flags|=2048,lr(9,{destroy:void 0},gg.bind(null,f,x,d,r),null),pt===null)throw Error(a(349));b||(ya&127)!==0||xg(f,r,d)}return d}function xg(l,r,d){l.flags|=16384,l={getSnapshot:r,value:d},r=_e.updateQueue,r===null?(r=sd(),_e.updateQueue=r,r.stores=[l]):(d=r.stores,d===null?r.stores=[l]:d.push(l))}function gg(l,r,d,f){r.value=d,r.getSnapshot=f,yg(r)&&vg(l)}function bg(l,r,d){return d(function(){yg(r)&&vg(l)})}function yg(l){var r=l.getSnapshot;l=l.value;try{var d=r();return!Qs(l,d)}catch{return!0}}function vg(l){var r=Zl(l,2);r!==null&&Ws(r,l,2)}function Tf(l){var r=Rs();if(typeof l=="function"){var d=l;if(l=d(),ai){dn(!0);try{d()}finally{dn(!1)}}}return r.memoizedState=r.baseState=l,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:l},r}function wg(l,r,d,f){return l.baseState=d,Mf(l,ut,typeof f=="function"?f:va)}function g2(l,r,d,f,x){if(rd(l))throw Error(a(485));if(l=r.action,l!==null){var b={payload:x,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){b.listeners.push(j)}};M.T!==null?d(!0):b.isTransition=!1,f(b),d=r.pending,d===null?(b.next=r.pending=b,jg(r,b)):(b.next=d.next,r.pending=d.next=b)}}function jg(l,r){var d=r.action,f=r.payload,x=l.state;if(r.isTransition){var b=M.T,j={};M.T=j;try{var S=d(x,f),A=M.S;A!==null&&A(j,S),Ng(l,r,S)}catch(V){Af(l,r,V)}finally{b!==null&&j.types!==null&&(b.types=j.types),M.T=b}}else try{b=d(x,f),Ng(l,r,b)}catch(V){Af(l,r,V)}}function Ng(l,r,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(f){kg(l,r,f)},function(f){return Af(l,r,f)}):kg(l,r,d)}function kg(l,r,d){r.status="fulfilled",r.value=d,zg(r),l.state=d,r=l.pending,r!==null&&(d=r.next,d===r?l.pending=null:(d=d.next,r.next=d,jg(l,d)))}function Af(l,r,d){var f=l.pending;if(l.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=d,zg(r),r=r.next;while(r!==f)}l.action=null}function zg(l){l=l.listeners;for(var r=0;r<l.length;r++)(0,l[r])()}function Sg(l,r){return r}function Cg(l,r){if(Fe){var d=pt.formState;if(d!==null){e:{var f=_e;if(Fe){if(wt){t:{for(var x=wt,b=bn;x.nodeType!==8;){if(!b){x=null;break t}if(x=vn(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){wt=vn(x.nextSibling),f=x.data==="F!";break e}}el(f)}f=!1}f&&(r=d[0])}}return d=Rs(),d.memoizedState=d.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:r},d.queue=f,d=Kg.bind(null,_e,f),f.dispatch=d,f=Tf(!1),b=Bf.bind(null,_e,!1,f.queue),f=Rs(),x={state:r,dispatch:null,action:l,pending:null},f.queue=x,d=g2.bind(null,_e,x,b,d),x.dispatch=d,f.memoizedState=l,[r,d,!1]}function Mg(l){var r=Wt();return Eg(r,ut,l)}function Eg(l,r,d){if(r=Mf(l,r,Sg)[0],l=ad(va)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=xo(r)}catch(j){throw j===er?Fc:j}else f=r;r=Wt();var x=r.queue,b=x.dispatch;return d!==r.memoizedState&&(_e.flags|=2048,lr(9,{destroy:void 0},b2.bind(null,x,d),null)),[f,b,l]}function b2(l,r){l.action=r}function Tg(l){var r=Wt(),d=ut;if(d!==null)return Eg(r,d,l);Wt(),r=r.memoizedState,d=Wt();var f=d.queue.dispatch;return d.memoizedState=l,[r,f,!1]}function lr(l,r,d,f){return l={tag:l,create:d,deps:f,inst:r,next:null},r=_e.updateQueue,r===null&&(r=sd(),_e.updateQueue=r),d=r.lastEffect,d===null?r.lastEffect=l.next=l:(f=d.next,d.next=l,l.next=f,r.lastEffect=l),l}function Ag(){return Wt().memoizedState}function ld(l,r,d,f){var x=Rs();_e.flags|=l,x.memoizedState=lr(1|r,{destroy:void 0},d,f===void 0?null:f)}function id(l,r,d,f){var x=Wt();f=f===void 0?null:f;var b=x.memoizedState.inst;ut!==null&&f!==null&&jf(f,ut.memoizedState.deps)?x.memoizedState=lr(r,b,d,f):(_e.flags|=l,x.memoizedState=lr(1|r,b,d,f))}function Dg(l,r){ld(8390656,8,l,r)}function Df(l,r){id(2048,8,l,r)}function y2(l){_e.flags|=4;var r=_e.updateQueue;if(r===null)r=sd(),_e.updateQueue=r,r.events=[l];else{var d=r.events;d===null?r.events=[l]:d.push(l)}}function Og(l){var r=Wt().memoizedState;return y2({ref:r,nextImpl:l}),function(){if((nt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Rg(l,r){return id(4,2,l,r)}function Lg(l,r){return id(4,4,l,r)}function _g(l,r){if(typeof r=="function"){l=l();var d=r(l);return function(){typeof d=="function"?d():r(null)}}if(r!=null)return l=l(),r.current=l,function(){r.current=null}}function Bg(l,r,d){d=d!=null?d.concat([l]):null,id(4,4,_g.bind(null,r,l),d)}function Of(){}function Pg(l,r){var d=Wt();r=r===void 0?null:r;var f=d.memoizedState;return r!==null&&jf(r,f[1])?f[0]:(d.memoizedState=[l,r],l)}function Ug(l,r){var d=Wt();r=r===void 0?null:r;var f=d.memoizedState;if(r!==null&&jf(r,f[1]))return f[0];if(f=l(),ai){dn(!0);try{l()}finally{dn(!1)}}return d.memoizedState=[f,r],f}function Rf(l,r,d){return d===void 0||(ya&1073741824)!==0&&(Ve&261930)===0?l.memoizedState=r:(l.memoizedState=d,l=Hb(),_e.lanes|=l,cl|=l,d)}function Hg(l,r,d,f){return Qs(d,r)?d:sr.current!==null?(l=Rf(l,d,f),Qs(l,r)||(Yt=!0),l):(ya&42)===0||(ya&1073741824)!==0&&(Ve&261930)===0?(Yt=!0,l.memoizedState=d):(l=Hb(),_e.lanes|=l,cl|=l,r)}function Ig(l,r,d,f,x){var b=D.p;D.p=b!==0&&8>b?b:8;var j=M.T,S={};M.T=S,Bf(l,!1,r,d);try{var A=x(),V=M.S;if(V!==null&&V(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var Q=m2(A,f);go(l,r,Q,ln(l))}else go(l,r,f,ln(l))}catch(se){go(l,r,{then:function(){},status:"rejected",reason:se},ln())}finally{D.p=b,j!==null&&S.types!==null&&(j.types=S.types),M.T=j}}function v2(){}function Lf(l,r,d,f){if(l.tag!==5)throw Error(a(476));var x=$g(l).queue;Ig(l,x,r,Z,d===null?v2:function(){return qg(l),d(f)})}function $g(l){var r=l.memoizedState;if(r!==null)return r;r={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:Z},next:null};var d={};return r.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:d},next:null},l.memoizedState=r,l=l.alternate,l!==null&&(l.memoizedState=r),r}function qg(l){var r=$g(l);r.next===null&&(r=l.alternate.memoizedState),go(l,r.next.queue,{},ln())}function _f(){return bs(Ro)}function Vg(){return Wt().memoizedState}function Wg(){return Wt().memoizedState}function w2(l){for(var r=l.return;r!==null;){switch(r.tag){case 24:case 3:var d=ln();l=nl(d);var f=al(r,l,d);f!==null&&(Ws(f,r,d),ho(f,r,d)),r={cache:uf()},l.payload=r;return}r=r.return}}function j2(l,r,d){var f=ln();d={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},rd(l)?Gg(r,d):(d=Qh(l,r,d,f),d!==null&&(Ws(d,l,f),Fg(d,r,f)))}function Kg(l,r,d){var f=ln();go(l,r,d,f)}function go(l,r,d,f){var x={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(rd(l))Gg(r,x);else{var b=l.alternate;if(l.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var j=r.lastRenderedState,S=b(j,d);if(x.hasEagerState=!0,x.eagerState=S,Qs(S,j))return Ic(l,r,x,0),pt===null&&Hc(),!1}catch{}finally{}if(d=Qh(l,r,x,f),d!==null)return Ws(d,l,f),Fg(d,r,f),!0}return!1}function Bf(l,r,d,f){if(f={lane:2,revertLane:pm(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},rd(l)){if(r)throw Error(a(479))}else r=Qh(l,d,f,2),r!==null&&Ws(r,l,2)}function rd(l){var r=l.alternate;return l===_e||r!==null&&r===_e}function Gg(l,r){nr=ed=!0;var d=l.pending;d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r}function Fg(l,r,d){if((d&4194048)!==0){var f=r.lanes;f&=l.pendingLanes,d|=f,r.lanes=d,Zr(l,d)}}var bo={readContext:bs,use:nd,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};bo.useEffectEvent=Lt;var Zg={readContext:bs,use:nd,useCallback:function(l,r){return Rs().memoizedState=[l,r===void 0?null:r],l},useContext:bs,useEffect:Dg,useImperativeHandle:function(l,r,d){d=d!=null?d.concat([l]):null,ld(4194308,4,_g.bind(null,r,l),d)},useLayoutEffect:function(l,r){return ld(4194308,4,l,r)},useInsertionEffect:function(l,r){ld(4,2,l,r)},useMemo:function(l,r){var d=Rs();r=r===void 0?null:r;var f=l();if(ai){dn(!0);try{l()}finally{dn(!1)}}return d.memoizedState=[f,r],f},useReducer:function(l,r,d){var f=Rs();if(d!==void 0){var x=d(r);if(ai){dn(!0);try{d(r)}finally{dn(!1)}}}else x=r;return f.memoizedState=f.baseState=x,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:x},f.queue=l,l=l.dispatch=j2.bind(null,_e,l),[f.memoizedState,l]},useRef:function(l){var r=Rs();return l={current:l},r.memoizedState=l},useState:function(l){l=Tf(l);var r=l.queue,d=Kg.bind(null,_e,r);return r.dispatch=d,[l.memoizedState,d]},useDebugValue:Of,useDeferredValue:function(l,r){var d=Rs();return Rf(d,l,r)},useTransition:function(){var l=Tf(!1);return l=Ig.bind(null,_e,l.queue,!0,!1),Rs().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,r,d){var f=_e,x=Rs();if(Fe){if(d===void 0)throw Error(a(407));d=d()}else{if(d=r(),pt===null)throw Error(a(349));(Ve&127)!==0||xg(f,r,d)}x.memoizedState=d;var b={value:d,getSnapshot:r};return x.queue=b,Dg(bg.bind(null,f,b,l),[l]),f.flags|=2048,lr(9,{destroy:void 0},gg.bind(null,f,b,d,r),null),d},useId:function(){var l=Rs(),r=pt.identifierPrefix;if(Fe){var d=Fn,f=Gn;d=(f&~(1<<32-ms(f)-1)).toString(32)+d,r="_"+r+"R_"+d,d=td++,0<d&&(r+="H"+d.toString(32)),r+="_"}else d=p2++,r="_"+r+"r_"+d.toString(32)+"_";return l.memoizedState=r},useHostTransitionStatus:_f,useFormState:Cg,useActionState:Cg,useOptimistic:function(l){var r=Rs();r.memoizedState=r.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=d,r=Bf.bind(null,_e,!0,d),d.dispatch=r,[l,r]},useMemoCache:Cf,useCacheRefresh:function(){return Rs().memoizedState=w2.bind(null,_e)},useEffectEvent:function(l){var r=Rs(),d={impl:l};return r.memoizedState=d,function(){if((nt&2)!==0)throw Error(a(440));return d.impl.apply(void 0,arguments)}}},Pf={readContext:bs,use:nd,useCallback:Pg,useContext:bs,useEffect:Df,useImperativeHandle:Bg,useInsertionEffect:Rg,useLayoutEffect:Lg,useMemo:Ug,useReducer:ad,useRef:Ag,useState:function(){return ad(va)},useDebugValue:Of,useDeferredValue:function(l,r){var d=Wt();return Hg(d,ut.memoizedState,l,r)},useTransition:function(){var l=ad(va)[0],r=Wt().memoizedState;return[typeof l=="boolean"?l:xo(l),r]},useSyncExternalStore:pg,useId:Vg,useHostTransitionStatus:_f,useFormState:Mg,useActionState:Mg,useOptimistic:function(l,r){var d=Wt();return wg(d,ut,l,r)},useMemoCache:Cf,useCacheRefresh:Wg};Pf.useEffectEvent=Og;var Yg={readContext:bs,use:nd,useCallback:Pg,useContext:bs,useEffect:Df,useImperativeHandle:Bg,useInsertionEffect:Rg,useLayoutEffect:Lg,useMemo:Ug,useReducer:Ef,useRef:Ag,useState:function(){return Ef(va)},useDebugValue:Of,useDeferredValue:function(l,r){var d=Wt();return ut===null?Rf(d,l,r):Hg(d,ut.memoizedState,l,r)},useTransition:function(){var l=Ef(va)[0],r=Wt().memoizedState;return[typeof l=="boolean"?l:xo(l),r]},useSyncExternalStore:pg,useId:Vg,useHostTransitionStatus:_f,useFormState:Tg,useActionState:Tg,useOptimistic:function(l,r){var d=Wt();return ut!==null?wg(d,ut,l,r):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Wg};Yg.useEffectEvent=Og;function Uf(l,r,d,f){r=l.memoizedState,d=d(f,r),d=d==null?r:g({},r,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var Hf={enqueueSetState:function(l,r,d){l=l._reactInternals;var f=ln(),x=nl(f);x.payload=r,d!=null&&(x.callback=d),r=al(l,x,f),r!==null&&(Ws(r,l,f),ho(r,l,f))},enqueueReplaceState:function(l,r,d){l=l._reactInternals;var f=ln(),x=nl(f);x.tag=1,x.payload=r,d!=null&&(x.callback=d),r=al(l,x,f),r!==null&&(Ws(r,l,f),ho(r,l,f))},enqueueForceUpdate:function(l,r){l=l._reactInternals;var d=ln(),f=nl(d);f.tag=2,r!=null&&(f.callback=r),r=al(l,f,d),r!==null&&(Ws(r,l,d),ho(r,l,d))}};function Jg(l,r,d,f,x,b,j){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(f,b,j):r.prototype&&r.prototype.isPureReactComponent?!no(d,f)||!no(x,b):!0}function Xg(l,r,d,f){l=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(d,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(d,f),r.state!==l&&Hf.enqueueReplaceState(r,r.state,null)}function li(l,r){var d=r;if("ref"in r){d={};for(var f in r)f!=="ref"&&(d[f]=r[f])}if(l=l.defaultProps){d===r&&(d=g({},d));for(var x in l)d[x]===void 0&&(d[x]=l[x])}return d}function Qg(l){Uc(l)}function eb(l){console.error(l)}function tb(l){Uc(l)}function od(l,r){try{var d=l.onUncaughtError;d(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function sb(l,r,d){try{var f=l.onCaughtError;f(d.value,{componentStack:d.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function If(l,r,d){return d=nl(d),d.tag=3,d.payload={element:null},d.callback=function(){od(l,r)},d}function nb(l){return l=nl(l),l.tag=3,l}function ab(l,r,d,f){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var b=f.value;l.payload=function(){return x(b)},l.callback=function(){sb(r,d,f)}}var j=d.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(l.callback=function(){sb(r,d,f),typeof x!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var S=f.stack;this.componentDidCatch(f.value,{componentStack:S!==null?S:""})})}function N2(l,r,d,f,x){if(d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=d.alternate,r!==null&&Ji(r,d,x,!0),d=tn.current,d!==null){switch(d.tag){case 31:case 13:return yn===null?vd():d.alternate===null&&_t===0&&(_t=3),d.flags&=-257,d.flags|=65536,d.lanes=x,f===Zc?d.flags|=16384:(r=d.updateQueue,r===null?d.updateQueue=new Set([f]):r.add(f),hm(l,f,x)),!1;case 22:return d.flags|=65536,f===Zc?d.flags|=16384:(r=d.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},d.updateQueue=r):(d=r.retryQueue,d===null?r.retryQueue=new Set([f]):d.add(f)),hm(l,f,x)),!1}throw Error(a(435,d.tag))}return hm(l,f,x),vd(),!1}if(Fe)return r=tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=x,f!==lf&&(l=Error(a(422),{cause:f}),io(pn(l,d)))):(f!==lf&&(r=Error(a(423),{cause:f}),io(pn(r,d))),l=l.current.alternate,l.flags|=65536,x&=-x,l.lanes|=x,f=pn(f,d),x=If(l.stateNode,f,x),gf(l,x),_t!==4&&(_t=2)),!1;var b=Error(a(520),{cause:f});if(b=pn(b,d),So===null?So=[b]:So.push(b),_t!==4&&(_t=2),r===null)return!0;f=pn(f,d),d=r;do{switch(d.tag){case 3:return d.flags|=65536,l=x&-x,d.lanes|=l,l=If(d.stateNode,f,l),gf(d,l),!1;case 1:if(r=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(dl===null||!dl.has(b))))return d.flags|=65536,x&=-x,d.lanes|=x,x=nb(x),ab(x,l,d,f),gf(d,x),!1}d=d.return}while(d!==null);return!1}var $f=Error(a(461)),Yt=!1;function ys(l,r,d,f){r.child=l===null?og(r,null,d,f):ni(r,l.child,d,f)}function lb(l,r,d,f,x){d=d.render;var b=r.ref;if("ref"in f){var j={};for(var S in f)S!=="ref"&&(j[S]=f[S])}else j=f;return Ql(r),f=Nf(l,r,d,j,b,x),S=kf(),l!==null&&!Yt?(zf(l,r,x),wa(l,r,x)):(Fe&&S&&nf(r),r.flags|=1,ys(l,r,f,x),r.child)}function ib(l,r,d,f,x){if(l===null){var b=d.type;return typeof b=="function"&&!ef(b)&&b.defaultProps===void 0&&d.compare===null?(r.tag=15,r.type=b,rb(l,r,b,f,x)):(l=qc(d.type,null,f,r,r.mode,x),l.ref=r.ref,l.return=r,r.child=l)}if(b=l.child,!Yf(l,x)){var j=b.memoizedProps;if(d=d.compare,d=d!==null?d:no,d(j,f)&&l.ref===r.ref)return wa(l,r,x)}return r.flags|=1,l=pa(b,f),l.ref=r.ref,l.return=r,r.child=l}function rb(l,r,d,f,x){if(l!==null){var b=l.memoizedProps;if(no(b,f)&&l.ref===r.ref)if(Yt=!1,r.pendingProps=f=b,Yf(l,x))(l.flags&131072)!==0&&(Yt=!0);else return r.lanes=l.lanes,wa(l,r,x)}return qf(l,r,d,f,x)}function ob(l,r,d,f){var x=f.children,b=l!==null?l.memoizedState:null;if(l===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,l!==null){for(f=r.child=l.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;f=x&~b}else f=0,r.child=null;return cb(l,r,b,d,f)}if((d&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},l!==null&&Gc(r,b!==null?b.cachePool:null),b!==null?ug(r,b):yf(),hg(r);else return f=r.lanes=536870912,cb(l,r,b!==null?b.baseLanes|d:d,d,f)}else b!==null?(Gc(r,b.cachePool),ug(r,b),il(),r.memoizedState=null):(l!==null&&Gc(r,null),yf(),il());return ys(l,r,x,d),r.child}function yo(l,r){return l!==null&&l.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function cb(l,r,d,f,x){var b=ff();return b=b===null?null:{parent:Ft._currentValue,pool:b},r.memoizedState={baseLanes:d,cachePool:b},l!==null&&Gc(r,null),yf(),hg(r),l!==null&&Ji(l,r,f,!0),r.childLanes=x,null}function cd(l,r){return r=ud({mode:r.mode,children:r.children},l.mode),r.ref=l.ref,l.child=r,r.return=l,r}function db(l,r,d){return ni(r,l.child,null,d),l=cd(r,r.pendingProps),l.flags|=2,sn(r),r.memoizedState=null,l}function k2(l,r,d){var f=r.pendingProps,x=(r.flags&128)!==0;if(r.flags&=-129,l===null){if(Fe){if(f.mode==="hidden")return l=cd(r,f),r.lanes=536870912,yo(null,l);if(wf(r),(l=wt)?(l=jy(l,bn),l=l!==null&&l.data==="&"?l:null,l!==null&&(r.memoizedState={dehydrated:l,treeContext:Xa!==null?{id:Gn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},d=G0(l),d.return=r,r.child=d,gs=r,wt=null)):l=null,l===null)throw el(r);return r.lanes=536870912,null}return cd(r,f)}var b=l.memoizedState;if(b!==null){var j=b.dehydrated;if(wf(r),x)if(r.flags&256)r.flags&=-257,r=db(l,r,d);else if(r.memoizedState!==null)r.child=l.child,r.flags|=128,r=null;else throw Error(a(558));else if(Yt||Ji(l,r,d,!1),x=(d&l.childLanes)!==0,Yt||x){if(f=pt,f!==null&&(j=Yr(f,d),j!==0&&j!==b.retryLane))throw b.retryLane=j,Zl(l,j),Ws(f,l,j),$f;vd(),r=db(l,r,d)}else l=b.treeContext,wt=vn(j.nextSibling),gs=r,Fe=!0,Qa=null,bn=!1,l!==null&&Y0(r,l),r=cd(r,f),r.flags|=4096;return r}return l=pa(l.child,{mode:f.mode,children:f.children}),l.ref=r.ref,r.child=l,l.return=r,l}function dd(l,r){var d=r.ref;if(d===null)l!==null&&l.ref!==null&&(r.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(l===null||l.ref!==d)&&(r.flags|=4194816)}}function qf(l,r,d,f,x){return Ql(r),d=Nf(l,r,d,f,void 0,x),f=kf(),l!==null&&!Yt?(zf(l,r,x),wa(l,r,x)):(Fe&&f&&nf(r),r.flags|=1,ys(l,r,d,x),r.child)}function ub(l,r,d,f,x,b){return Ql(r),r.updateQueue=null,d=mg(r,f,d,x),fg(l),f=kf(),l!==null&&!Yt?(zf(l,r,b),wa(l,r,b)):(Fe&&f&&nf(r),r.flags|=1,ys(l,r,d,b),r.child)}function hb(l,r,d,f,x){if(Ql(r),r.stateNode===null){var b=Gi,j=d.contextType;typeof j=="object"&&j!==null&&(b=bs(j)),b=new d(f,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Hf,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=f,b.state=r.memoizedState,b.refs={},pf(r),j=d.contextType,b.context=typeof j=="object"&&j!==null?bs(j):Gi,b.state=r.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(Uf(r,d,j,f),b.state=r.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(j=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),j!==b.state&&Hf.enqueueReplaceState(b,b.state,null),mo(r,f,b,x),fo(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(l===null){b=r.stateNode;var S=r.memoizedProps,A=li(d,S);b.props=A;var V=b.context,Q=d.contextType;j=Gi,typeof Q=="object"&&Q!==null&&(j=bs(Q));var se=d.getDerivedStateFromProps;Q=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Q||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S||V!==j)&&Xg(r,b,f,j),sl=!1;var G=r.memoizedState;b.state=G,mo(r,f,b,x),fo(),V=r.memoizedState,S||G!==V||sl?(typeof se=="function"&&(Uf(r,d,se,f),V=r.memoizedState),(A=sl||Jg(r,d,A,f,G,V,j))?(Q||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=V),b.props=f,b.state=V,b.context=j,f=A):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{b=r.stateNode,xf(l,r),j=r.memoizedProps,Q=li(d,j),b.props=Q,se=r.pendingProps,G=b.context,V=d.contextType,A=Gi,typeof V=="object"&&V!==null&&(A=bs(V)),S=d.getDerivedStateFromProps,(V=typeof S=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==se||G!==A)&&Xg(r,b,f,A),sl=!1,G=r.memoizedState,b.state=G,mo(r,f,b,x),fo();var F=r.memoizedState;j!==se||G!==F||sl||l!==null&&l.dependencies!==null&&Wc(l.dependencies)?(typeof S=="function"&&(Uf(r,d,S,f),F=r.memoizedState),(Q=sl||Jg(r,d,Q,f,G,F,A)||l!==null&&l.dependencies!==null&&Wc(l.dependencies))?(V||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,F,A),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,F,A)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||j===l.memoizedProps&&G===l.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===l.memoizedProps&&G===l.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=F),b.props=f,b.state=F,b.context=A,f=Q):(typeof b.componentDidUpdate!="function"||j===l.memoizedProps&&G===l.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===l.memoizedProps&&G===l.memoizedState||(r.flags|=1024),f=!1)}return b=f,dd(l,r),f=(r.flags&128)!==0,b||f?(b=r.stateNode,d=f&&typeof d.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,l!==null&&f?(r.child=ni(r,l.child,null,x),r.child=ni(r,null,d,x)):ys(l,r,d,x),r.memoizedState=b.state,l=r.child):l=wa(l,r,x),l}function fb(l,r,d,f){return Jl(),r.flags|=256,ys(l,r,d,f),r.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(l){return{baseLanes:l,cachePool:sg()}}function Kf(l,r,d){return l=l!==null?l.childLanes&~d:0,r&&(l|=an),l}function mb(l,r,d){var f=r.pendingProps,x=!1,b=(r.flags&128)!==0,j;if((j=b)||(j=l!==null&&l.memoizedState===null?!1:(Vt.current&2)!==0),j&&(x=!0,r.flags&=-129),j=(r.flags&32)!==0,r.flags&=-33,l===null){if(Fe){if(x?ll(r):il(),(l=wt)?(l=jy(l,bn),l=l!==null&&l.data!=="&"?l:null,l!==null&&(r.memoizedState={dehydrated:l,treeContext:Xa!==null?{id:Gn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},d=G0(l),d.return=r,r.child=d,gs=r,wt=null)):l=null,l===null)throw el(r);return Mm(l)?r.lanes=32:r.lanes=536870912,null}var S=f.children;return f=f.fallback,x?(il(),x=r.mode,S=ud({mode:"hidden",children:S},x),f=Yl(f,x,d,null),S.return=r,f.return=r,S.sibling=f,r.child=S,f=r.child,f.memoizedState=Wf(d),f.childLanes=Kf(l,j,d),r.memoizedState=Vf,yo(null,f)):(ll(r),Gf(r,S))}var A=l.memoizedState;if(A!==null&&(S=A.dehydrated,S!==null)){if(b)r.flags&256?(ll(r),r.flags&=-257,r=Ff(l,r,d)):r.memoizedState!==null?(il(),r.child=l.child,r.flags|=128,r=null):(il(),S=f.fallback,x=r.mode,f=ud({mode:"visible",children:f.children},x),S=Yl(S,x,d,null),S.flags|=2,f.return=r,S.return=r,f.sibling=S,r.child=f,ni(r,l.child,null,d),f=r.child,f.memoizedState=Wf(d),f.childLanes=Kf(l,j,d),r.memoizedState=Vf,r=yo(null,f));else if(ll(r),Mm(S)){if(j=S.nextSibling&&S.nextSibling.dataset,j)var V=j.dgst;j=V,f=Error(a(419)),f.stack="",f.digest=j,io({value:f,source:null,stack:null}),r=Ff(l,r,d)}else if(Yt||Ji(l,r,d,!1),j=(d&l.childLanes)!==0,Yt||j){if(j=pt,j!==null&&(f=Yr(j,d),f!==0&&f!==A.retryLane))throw A.retryLane=f,Zl(l,f),Ws(j,l,f),$f;Cm(S)||vd(),r=Ff(l,r,d)}else Cm(S)?(r.flags|=192,r.child=l.child,r=null):(l=A.treeContext,wt=vn(S.nextSibling),gs=r,Fe=!0,Qa=null,bn=!1,l!==null&&Y0(r,l),r=Gf(r,f.children),r.flags|=4096);return r}return x?(il(),S=f.fallback,x=r.mode,A=l.child,V=A.sibling,f=pa(A,{mode:"hidden",children:f.children}),f.subtreeFlags=A.subtreeFlags&65011712,V!==null?S=pa(V,S):(S=Yl(S,x,d,null),S.flags|=2),S.return=r,f.return=r,f.sibling=S,r.child=f,yo(null,f),f=r.child,S=l.child.memoizedState,S===null?S=Wf(d):(x=S.cachePool,x!==null?(A=Ft._currentValue,x=x.parent!==A?{parent:A,pool:A}:x):x=sg(),S={baseLanes:S.baseLanes|d,cachePool:x}),f.memoizedState=S,f.childLanes=Kf(l,j,d),r.memoizedState=Vf,yo(l.child,f)):(ll(r),d=l.child,l=d.sibling,d=pa(d,{mode:"visible",children:f.children}),d.return=r,d.sibling=null,l!==null&&(j=r.deletions,j===null?(r.deletions=[l],r.flags|=16):j.push(l)),r.child=d,r.memoizedState=null,d)}function Gf(l,r){return r=ud({mode:"visible",children:r},l.mode),r.return=l,l.child=r}function ud(l,r){return l=en(22,l,null,r),l.lanes=0,l}function Ff(l,r,d){return ni(r,l.child,null,d),l=Gf(r,r.pendingProps.children),l.flags|=2,r.memoizedState=null,l}function pb(l,r,d){l.lanes|=r;var f=l.alternate;f!==null&&(f.lanes|=r),cf(l.return,r,d)}function Zf(l,r,d,f,x,b){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:x,treeForkCount:b}:(j.isBackwards=r,j.rendering=null,j.renderingStartTime=0,j.last=f,j.tail=d,j.tailMode=x,j.treeForkCount=b)}function xb(l,r,d){var f=r.pendingProps,x=f.revealOrder,b=f.tail;f=f.children;var j=Vt.current,S=(j&2)!==0;if(S?(j=j&1|2,r.flags|=128):j&=1,L(Vt,j),ys(l,r,f,d),f=Fe?lo:0,!S&&l!==null&&(l.flags&128)!==0)e:for(l=r.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&pb(l,d,r);else if(l.tag===19)pb(l,d,r);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(x){case"forwards":for(d=r.child,x=null;d!==null;)l=d.alternate,l!==null&&Qc(l)===null&&(x=d),d=d.sibling;d=x,d===null?(x=r.child,r.child=null):(x=d.sibling,d.sibling=null),Zf(r,!1,x,d,b,f);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=r.child,r.child=null;x!==null;){if(l=x.alternate,l!==null&&Qc(l)===null){r.child=x;break}l=x.sibling,x.sibling=d,d=x,x=l}Zf(r,!0,d,null,b,f);break;case"together":Zf(r,!1,null,null,void 0,f);break;default:r.memoizedState=null}return r.child}function wa(l,r,d){if(l!==null&&(r.dependencies=l.dependencies),cl|=r.lanes,(d&r.childLanes)===0)if(l!==null){if(Ji(l,r,d,!1),(d&r.childLanes)===0)return null}else return null;if(l!==null&&r.child!==l.child)throw Error(a(153));if(r.child!==null){for(l=r.child,d=pa(l,l.pendingProps),r.child=d,d.return=r;l.sibling!==null;)l=l.sibling,d=d.sibling=pa(l,l.pendingProps),d.return=r;d.sibling=null}return r.child}function Yf(l,r){return(l.lanes&r)!==0?!0:(l=l.dependencies,!!(l!==null&&Wc(l)))}function z2(l,r,d){switch(r.tag){case 3:De(r,r.stateNode.containerInfo),tl(r,Ft,l.memoizedState.cache),Jl();break;case 27:case 5:He(r);break;case 4:De(r,r.stateNode.containerInfo);break;case 10:tl(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,wf(r),null;break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(ll(r),r.flags|=128,null):(d&r.child.childLanes)!==0?mb(l,r,d):(ll(r),l=wa(l,r,d),l!==null?l.sibling:null);ll(r);break;case 19:var x=(l.flags&128)!==0;if(f=(d&r.childLanes)!==0,f||(Ji(l,r,d,!1),f=(d&r.childLanes)!==0),x){if(f)return xb(l,r,d);r.flags|=128}if(x=r.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),L(Vt,Vt.current),f)break;return null;case 22:return r.lanes=0,ob(l,r,d,r.pendingProps);case 24:tl(r,Ft,l.memoizedState.cache)}return wa(l,r,d)}function gb(l,r,d){if(l!==null)if(l.memoizedProps!==r.pendingProps)Yt=!0;else{if(!Yf(l,d)&&(r.flags&128)===0)return Yt=!1,z2(l,r,d);Yt=(l.flags&131072)!==0}else Yt=!1,Fe&&(r.flags&1048576)!==0&&Z0(r,lo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var f=r.pendingProps;if(l=ti(r.elementType),r.type=l,typeof l=="function")ef(l)?(f=li(l,f),r.tag=1,r=hb(null,r,l,f,d)):(r.tag=0,r=qf(null,r,l,f,d));else{if(l!=null){var x=l.$$typeof;if(x===H){r.tag=11,r=lb(null,r,l,f,d);break e}else if(x===$){r.tag=14,r=ib(null,r,l,f,d);break e}}throw r=ae(l)||l,Error(a(306,r,""))}}return r;case 0:return qf(l,r,r.type,r.pendingProps,d);case 1:return f=r.type,x=li(f,r.pendingProps),hb(l,r,f,x,d);case 3:e:{if(De(r,r.stateNode.containerInfo),l===null)throw Error(a(387));f=r.pendingProps;var b=r.memoizedState;x=b.element,xf(l,r),mo(r,f,null,d);var j=r.memoizedState;if(f=j.cache,tl(r,Ft,f),f!==b.cache&&df(r,[Ft],d,!0),fo(),f=j.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:j.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=fb(l,r,f,d);break e}else if(f!==x){x=pn(Error(a(424)),r),io(x),r=fb(l,r,f,d);break e}else{switch(l=r.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(wt=vn(l.firstChild),gs=r,Fe=!0,Qa=null,bn=!0,d=og(r,null,f,d),r.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Jl(),f===x){r=wa(l,r,d);break e}ys(l,r,f,d)}r=r.child}return r;case 26:return dd(l,r),l===null?(d=My(r.type,null,r.pendingProps,null))?r.memoizedState=d:Fe||(d=r.type,l=r.pendingProps,f=Cd(ve.current).createElement(d),f[ts]=r,f[Je]=l,vs(f,d,l),Gt(f),r.stateNode=f):r.memoizedState=My(r.type,l.memoizedProps,r.pendingProps,l.memoizedState),null;case 27:return He(r),l===null&&Fe&&(f=r.stateNode=zy(r.type,r.pendingProps,ve.current),gs=r,bn=!0,x=wt,ml(r.type)?(Em=x,wt=vn(f.firstChild)):wt=x),ys(l,r,r.pendingProps.children,d),dd(l,r),l===null&&(r.flags|=4194304),r.child;case 5:return l===null&&Fe&&((x=f=wt)&&(f=tz(f,r.type,r.pendingProps,bn),f!==null?(r.stateNode=f,gs=r,wt=vn(f.firstChild),bn=!1,x=!0):x=!1),x||el(r)),He(r),x=r.type,b=r.pendingProps,j=l!==null?l.memoizedProps:null,f=b.children,km(x,b)?f=null:j!==null&&km(x,j)&&(r.flags|=32),r.memoizedState!==null&&(x=Nf(l,r,x2,null,null,d),Ro._currentValue=x),dd(l,r),ys(l,r,f,d),r.child;case 6:return l===null&&Fe&&((l=d=wt)&&(d=sz(d,r.pendingProps,bn),d!==null?(r.stateNode=d,gs=r,wt=null,l=!0):l=!1),l||el(r)),null;case 13:return mb(l,r,d);case 4:return De(r,r.stateNode.containerInfo),f=r.pendingProps,l===null?r.child=ni(r,null,f,d):ys(l,r,f,d),r.child;case 11:return lb(l,r,r.type,r.pendingProps,d);case 7:return ys(l,r,r.pendingProps,d),r.child;case 8:return ys(l,r,r.pendingProps.children,d),r.child;case 12:return ys(l,r,r.pendingProps.children,d),r.child;case 10:return f=r.pendingProps,tl(r,r.type,f.value),ys(l,r,f.children,d),r.child;case 9:return x=r.type._context,f=r.pendingProps.children,Ql(r),x=bs(x),f=f(x),r.flags|=1,ys(l,r,f,d),r.child;case 14:return ib(l,r,r.type,r.pendingProps,d);case 15:return rb(l,r,r.type,r.pendingProps,d);case 19:return xb(l,r,d);case 31:return k2(l,r,d);case 22:return ob(l,r,d,r.pendingProps);case 24:return Ql(r),f=bs(Ft),l===null?(x=ff(),x===null&&(x=pt,b=uf(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=d),x=b),r.memoizedState={parent:f,cache:x},pf(r),tl(r,Ft,x)):((l.lanes&d)!==0&&(xf(l,r),mo(r,null,null,d),fo()),x=l.memoizedState,b=r.memoizedState,x.parent!==f?(x={parent:f,cache:f},r.memoizedState=x,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=x),tl(r,Ft,f)):(f=b.cache,tl(r,Ft,f),f!==x.cache&&df(r,[Ft],d,!0))),ys(l,r,r.pendingProps.children,d),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ja(l){l.flags|=4}function Jf(l,r,d,f,x){if((r=(l.mode&32)!==0)&&(r=!1),r){if(l.flags|=16777216,(x&335544128)===x)if(l.stateNode.complete)l.flags|=8192;else if(Vb())l.flags|=8192;else throw si=Zc,mf}else l.flags&=-16777217}function bb(l,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Oy(r))if(Vb())l.flags|=8192;else throw si=Zc,mf}function hd(l,r){r!==null&&(l.flags|=4),l.flags&16384&&(r=l.tag!==22?Za():536870912,l.lanes|=r,cr|=r)}function vo(l,r){if(!Fe)switch(l.tailMode){case"hidden":r=l.tail;for(var d=null;r!==null;)r.alternate!==null&&(d=r),r=r.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?r||l.tail===null?l.tail=null:l.tail.sibling=null:f.sibling=null}}function jt(l){var r=l.alternate!==null&&l.alternate.child===l.child,d=0,f=0;if(r)for(var x=l.child;x!==null;)d|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)d|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=f,l.childLanes=d,r}function S2(l,r,d){var f=r.pendingProps;switch(af(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return jt(r),null;case 3:return d=r.stateNode,f=null,l!==null&&(f=l.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),ba(Ft),Le(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(Yi(r)?ja(r):l===null||l.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,rf())),jt(r),null;case 26:var x=r.type,b=r.memoizedState;return l===null?(ja(r),b!==null?(jt(r),bb(r,b)):(jt(r),Jf(r,x,null,f,d))):b?b!==l.memoizedState?(ja(r),jt(r),bb(r,b)):(jt(r),r.flags&=-16777217):(l=l.memoizedProps,l!==f&&ja(r),jt(r),Jf(r,x,l,f,d)),null;case 27:if(Ys(r),d=ve.current,x=r.type,l!==null&&r.stateNode!=null)l.memoizedProps!==f&&ja(r);else{if(!f){if(r.stateNode===null)throw Error(a(166));return jt(r),null}l=X.current,Yi(r)?J0(r):(l=zy(x,f,d),r.stateNode=l,ja(r))}return jt(r),null;case 5:if(Ys(r),x=r.type,l!==null&&r.stateNode!=null)l.memoizedProps!==f&&ja(r);else{if(!f){if(r.stateNode===null)throw Error(a(166));return jt(r),null}if(b=X.current,Yi(r))J0(r);else{var j=Cd(ve.current);switch(b){case 1:b=j.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:b=j.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":b=j.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":b=j.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":b=j.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?j.createElement("select",{is:f.is}):j.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?j.createElement(x,{is:f.is}):j.createElement(x)}}b[ts]=r,b[Je]=f;e:for(j=r.child;j!==null;){if(j.tag===5||j.tag===6)b.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===r)break e;for(;j.sibling===null;){if(j.return===null||j.return===r)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}r.stateNode=b;e:switch(vs(b,x,f),x){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ja(r)}}return jt(r),Jf(r,r.type,l===null?null:l.memoizedProps,r.pendingProps,d),null;case 6:if(l&&r.stateNode!=null)l.memoizedProps!==f&&ja(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(a(166));if(l=ve.current,Yi(r)){if(l=r.stateNode,d=r.memoizedProps,f=null,x=gs,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}l[ts]=r,l=!!(l.nodeValue===d||f!==null&&f.suppressHydrationWarning===!0||my(l.nodeValue,d)),l||el(r,!0)}else l=Cd(l).createTextNode(f),l[ts]=r,r.stateNode=l}return jt(r),null;case 31:if(d=r.memoizedState,l===null||l.memoizedState!==null){if(f=Yi(r),d!==null){if(l===null){if(!f)throw Error(a(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(557));l[ts]=r}else Jl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),l=!1}else d=rf(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=d),l=!0;if(!l)return r.flags&256?(sn(r),r):(sn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return jt(r),null;case 13:if(f=r.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(x=Yi(r),f!==null&&f.dehydrated!==null){if(l===null){if(!x)throw Error(a(318));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));x[ts]=r}else Jl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),x=!1}else x=rf(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=x),x=!0;if(!x)return r.flags&256?(sn(r),r):(sn(r),null)}return sn(r),(r.flags&128)!==0?(r.lanes=d,r):(d=f!==null,l=l!==null&&l.memoizedState!==null,d&&(f=r.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==x&&(f.flags|=2048)),d!==l&&d&&(r.child.flags|=8192),hd(r,r.updateQueue),jt(r),null);case 4:return Le(),l===null&&ym(r.stateNode.containerInfo),jt(r),null;case 10:return ba(r.type),jt(r),null;case 19:if(K(Vt),f=r.memoizedState,f===null)return jt(r),null;if(x=(r.flags&128)!==0,b=f.rendering,b===null)if(x)vo(f,!1);else{if(_t!==0||l!==null&&(l.flags&128)!==0)for(l=r.child;l!==null;){if(b=Qc(l),b!==null){for(r.flags|=128,vo(f,!1),l=b.updateQueue,r.updateQueue=l,hd(r,l),r.subtreeFlags=0,l=d,d=r.child;d!==null;)K0(d,l),d=d.sibling;return L(Vt,Vt.current&1|2),Fe&&xa(r,f.treeForkCount),r.child}l=l.sibling}f.tail!==null&&yt()>gd&&(r.flags|=128,x=!0,vo(f,!1),r.lanes=4194304)}else{if(!x)if(l=Qc(b),l!==null){if(r.flags|=128,x=!0,l=l.updateQueue,r.updateQueue=l,hd(r,l),vo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Fe)return jt(r),null}else 2*yt()-f.renderingStartTime>gd&&d!==536870912&&(r.flags|=128,x=!0,vo(f,!1),r.lanes=4194304);f.isBackwards?(b.sibling=r.child,r.child=b):(l=f.last,l!==null?l.sibling=b:r.child=b,f.last=b)}return f.tail!==null?(l=f.tail,f.rendering=l,f.tail=l.sibling,f.renderingStartTime=yt(),l.sibling=null,d=Vt.current,L(Vt,x?d&1|2:d&1),Fe&&xa(r,f.treeForkCount),l):(jt(r),null);case 22:case 23:return sn(r),vf(),f=r.memoizedState!==null,l!==null?l.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(d&536870912)!==0&&(r.flags&128)===0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),d=r.updateQueue,d!==null&&hd(r,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==d&&(r.flags|=2048),l!==null&&K(ei),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),ba(Ft),jt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function C2(l,r){switch(af(r),r.tag){case 1:return l=r.flags,l&65536?(r.flags=l&-65537|128,r):null;case 3:return ba(Ft),Le(),l=r.flags,(l&65536)!==0&&(l&128)===0?(r.flags=l&-65537|128,r):null;case 26:case 27:case 5:return Ys(r),null;case 31:if(r.memoizedState!==null){if(sn(r),r.alternate===null)throw Error(a(340));Jl()}return l=r.flags,l&65536?(r.flags=l&-65537|128,r):null;case 13:if(sn(r),l=r.memoizedState,l!==null&&l.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Jl()}return l=r.flags,l&65536?(r.flags=l&-65537|128,r):null;case 19:return K(Vt),null;case 4:return Le(),null;case 10:return ba(r.type),null;case 22:case 23:return sn(r),vf(),l!==null&&K(ei),l=r.flags,l&65536?(r.flags=l&-65537|128,r):null;case 24:return ba(Ft),null;case 25:return null;default:return null}}function yb(l,r){switch(af(r),r.tag){case 3:ba(Ft),Le();break;case 26:case 27:case 5:Ys(r);break;case 4:Le();break;case 31:r.memoizedState!==null&&sn(r);break;case 13:sn(r);break;case 19:K(Vt);break;case 10:ba(r.type);break;case 22:case 23:sn(r),vf(),l!==null&&K(ei);break;case 24:ba(Ft)}}function wo(l,r){try{var d=r.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var x=f.next;d=x;do{if((d.tag&l)===l){f=void 0;var b=d.create,j=d.inst;f=b(),j.destroy=f}d=d.next}while(d!==x)}}catch(S){rt(r,r.return,S)}}function rl(l,r,d){try{var f=r.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var b=x.next;f=b;do{if((f.tag&l)===l){var j=f.inst,S=j.destroy;if(S!==void 0){j.destroy=void 0,x=r;var A=d,V=S;try{V()}catch(Q){rt(x,A,Q)}}}f=f.next}while(f!==b)}}catch(Q){rt(r,r.return,Q)}}function vb(l){var r=l.updateQueue;if(r!==null){var d=l.stateNode;try{dg(r,d)}catch(f){rt(l,l.return,f)}}}function wb(l,r,d){d.props=li(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(f){rt(l,r,f)}}function jo(l,r){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var f=l.stateNode;break;case 30:f=l.stateNode;break;default:f=l.stateNode}typeof d=="function"?l.refCleanup=d(f):d.current=f}}catch(x){rt(l,r,x)}}function Zn(l,r){var d=l.ref,f=l.refCleanup;if(d!==null)if(typeof f=="function")try{f()}catch(x){rt(l,r,x)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){rt(l,r,x)}else d.current=null}function jb(l){var r=l.type,d=l.memoizedProps,f=l.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":d.autoFocus&&f.focus();break e;case"img":d.src?f.src=d.src:d.srcSet&&(f.srcset=d.srcSet)}}catch(x){rt(l,l.return,x)}}function Xf(l,r,d){try{var f=l.stateNode;Z2(f,l.type,d,r),f[Je]=r}catch(x){rt(l,l.return,x)}}function Nb(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ml(l.type)||l.tag===4}function Qf(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Nb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ml(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function em(l,r,d){var f=l.tag;if(f===5||f===6)l=l.stateNode,r?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,r):(r=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,r.appendChild(l),d=d._reactRootContainer,d!=null||r.onclick!==null||(r.onclick=Ye));else if(f!==4&&(f===27&&ml(l.type)&&(d=l.stateNode,r=null),l=l.child,l!==null))for(em(l,r,d),l=l.sibling;l!==null;)em(l,r,d),l=l.sibling}function fd(l,r,d){var f=l.tag;if(f===5||f===6)l=l.stateNode,r?d.insertBefore(l,r):d.appendChild(l);else if(f!==4&&(f===27&&ml(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(fd(l,r,d),l=l.sibling;l!==null;)fd(l,r,d),l=l.sibling}function kb(l){var r=l.stateNode,d=l.memoizedProps;try{for(var f=l.type,x=r.attributes;x.length;)r.removeAttributeNode(x[0]);vs(r,f,d),r[ts]=l,r[Je]=d}catch(b){rt(l,l.return,b)}}var Na=!1,Jt=!1,tm=!1,zb=typeof WeakSet=="function"?WeakSet:Set,ls=null;function M2(l,r){if(l=l.containerInfo,jm=Rd,l=B0(l),Gh(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var x=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var j=0,S=-1,A=-1,V=0,Q=0,se=l,G=null;t:for(;;){for(var F;se!==d||x!==0&&se.nodeType!==3||(S=j+x),se!==b||f!==0&&se.nodeType!==3||(A=j+f),se.nodeType===3&&(j+=se.nodeValue.length),(F=se.firstChild)!==null;)G=se,se=F;for(;;){if(se===l)break t;if(G===d&&++V===x&&(S=j),G===b&&++Q===f&&(A=j),(F=se.nextSibling)!==null)break;se=G,G=se.parentNode}se=F}d=S===-1||A===-1?null:{start:S,end:A}}else d=null}d=d||{start:0,end:0}}else d=null;for(Nm={focusedElem:l,selectionRange:d},Rd=!1,ls=r;ls!==null;)if(r=ls,l=r.child,(r.subtreeFlags&1028)!==0&&l!==null)l.return=r,ls=l;else for(;ls!==null;){switch(r=ls,b=r.alternate,l=r.flags,r.tag){case 0:if((l&4)!==0&&(l=r.updateQueue,l=l!==null?l.events:null,l!==null))for(d=0;d<l.length;d++)x=l[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&b!==null){l=void 0,d=r,x=b.memoizedProps,b=b.memoizedState,f=d.stateNode;try{var ye=li(d.type,x);l=f.getSnapshotBeforeUpdate(ye,b),f.__reactInternalSnapshotBeforeUpdate=l}catch(Me){rt(d,d.return,Me)}}break;case 3:if((l&1024)!==0){if(l=r.stateNode.containerInfo,d=l.nodeType,d===9)Sm(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Sm(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(a(163))}if(l=r.sibling,l!==null){l.return=r.return,ls=l;break}ls=r.return}}function Sb(l,r,d){var f=d.flags;switch(d.tag){case 0:case 11:case 15:za(l,d),f&4&&wo(5,d);break;case 1:if(za(l,d),f&4)if(l=d.stateNode,r===null)try{l.componentDidMount()}catch(j){rt(d,d.return,j)}else{var x=li(d.type,r.memoizedProps);r=r.memoizedState;try{l.componentDidUpdate(x,r,l.__reactInternalSnapshotBeforeUpdate)}catch(j){rt(d,d.return,j)}}f&64&&vb(d),f&512&&jo(d,d.return);break;case 3:if(za(l,d),f&64&&(l=d.updateQueue,l!==null)){if(r=null,d.child!==null)switch(d.child.tag){case 27:case 5:r=d.child.stateNode;break;case 1:r=d.child.stateNode}try{dg(l,r)}catch(j){rt(d,d.return,j)}}break;case 27:r===null&&f&4&&kb(d);case 26:case 5:za(l,d),r===null&&f&4&&jb(d),f&512&&jo(d,d.return);break;case 12:za(l,d);break;case 31:za(l,d),f&4&&Eb(l,d);break;case 13:za(l,d),f&4&&Tb(l,d),f&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=B2.bind(null,d),nz(l,d))));break;case 22:if(f=d.memoizedState!==null||Na,!f){r=r!==null&&r.memoizedState!==null||Jt,x=Na;var b=Jt;Na=f,(Jt=r)&&!b?Sa(l,d,(d.subtreeFlags&8772)!==0):za(l,d),Na=x,Jt=b}break;case 30:break;default:za(l,d)}}function Cb(l){var r=l.alternate;r!==null&&(l.alternate=null,Cb(r)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(r=l.stateNode,r!==null&&Pi(r)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Et=null,Is=!1;function ka(l,r,d){for(d=d.child;d!==null;)Mb(l,r,d),d=d.sibling}function Mb(l,r,d){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ps,d)}catch{}switch(d.tag){case 26:Jt||Zn(d,r),ka(l,r,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Jt||Zn(d,r);var f=Et,x=Is;ml(d.type)&&(Et=d.stateNode,Is=!1),ka(l,r,d),Ao(d.stateNode),Et=f,Is=x;break;case 5:Jt||Zn(d,r);case 6:if(f=Et,x=Is,Et=null,ka(l,r,d),Et=f,Is=x,Et!==null)if(Is)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(d.stateNode)}catch(b){rt(d,r,b)}else try{Et.removeChild(d.stateNode)}catch(b){rt(d,r,b)}break;case 18:Et!==null&&(Is?(l=Et,vy(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),gr(l)):vy(Et,d.stateNode));break;case 4:f=Et,x=Is,Et=d.stateNode.containerInfo,Is=!0,ka(l,r,d),Et=f,Is=x;break;case 0:case 11:case 14:case 15:rl(2,d,r),Jt||rl(4,d,r),ka(l,r,d);break;case 1:Jt||(Zn(d,r),f=d.stateNode,typeof f.componentWillUnmount=="function"&&wb(d,r,f)),ka(l,r,d);break;case 21:ka(l,r,d);break;case 22:Jt=(f=Jt)||d.memoizedState!==null,ka(l,r,d),Jt=f;break;default:ka(l,r,d)}}function Eb(l,r){if(r.memoizedState===null&&(l=r.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{gr(l)}catch(d){rt(r,r.return,d)}}}function Tb(l,r){if(r.memoizedState===null&&(l=r.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{gr(l)}catch(d){rt(r,r.return,d)}}function E2(l){switch(l.tag){case 31:case 13:case 19:var r=l.stateNode;return r===null&&(r=l.stateNode=new zb),r;case 22:return l=l.stateNode,r=l._retryCache,r===null&&(r=l._retryCache=new zb),r;default:throw Error(a(435,l.tag))}}function md(l,r){var d=E2(l);r.forEach(function(f){if(!d.has(f)){d.add(f);var x=P2.bind(null,l,f);f.then(x,x)}})}function $s(l,r){var d=r.deletions;if(d!==null)for(var f=0;f<d.length;f++){var x=d[f],b=l,j=r,S=j;e:for(;S!==null;){switch(S.tag){case 27:if(ml(S.type)){Et=S.stateNode,Is=!1;break e}break;case 5:Et=S.stateNode,Is=!1;break e;case 3:case 4:Et=S.stateNode.containerInfo,Is=!0;break e}S=S.return}if(Et===null)throw Error(a(160));Mb(b,j,x),Et=null,Is=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ab(r,l),r=r.sibling}var _n=null;function Ab(l,r){var d=l.alternate,f=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:$s(r,l),qs(l),f&4&&(rl(3,l,l.return),wo(3,l),rl(5,l,l.return));break;case 1:$s(r,l),qs(l),f&512&&(Jt||d===null||Zn(d,d.return)),f&64&&Na&&(l=l.updateQueue,l!==null&&(f=l.callbacks,f!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?f:d.concat(f))));break;case 26:var x=_n;if($s(r,l),qs(l),f&512&&(Jt||d===null||Zn(d,d.return)),f&4){var b=d!==null?d.memoizedState:null;if(f=l.memoizedState,d===null)if(f===null)if(l.stateNode===null){e:{f=l.type,d=l.memoizedProps,x=x.ownerDocument||x;t:switch(f){case"title":b=x.getElementsByTagName("title")[0],(!b||b[Ya]||b[ts]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(f),x.head.insertBefore(b,x.querySelector("head > title"))),vs(b,f,d),b[ts]=l,Gt(b),f=b;break e;case"link":var j=Ay("link","href",x).get(f+(d.href||""));if(j){for(var S=0;S<j.length;S++)if(b=j[S],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){j.splice(S,1);break t}}b=x.createElement(f),vs(b,f,d),x.head.appendChild(b);break;case"meta":if(j=Ay("meta","content",x).get(f+(d.content||""))){for(S=0;S<j.length;S++)if(b=j[S],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){j.splice(S,1);break t}}b=x.createElement(f),vs(b,f,d),x.head.appendChild(b);break;default:throw Error(a(468,f))}b[ts]=l,Gt(b),f=b}l.stateNode=f}else Dy(x,l.type,l.stateNode);else l.stateNode=Ty(x,f,l.memoizedProps);else b!==f?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,f===null?Dy(x,l.type,l.stateNode):Ty(x,f,l.memoizedProps)):f===null&&l.stateNode!==null&&Xf(l,l.memoizedProps,d.memoizedProps)}break;case 27:$s(r,l),qs(l),f&512&&(Jt||d===null||Zn(d,d.return)),d!==null&&f&4&&Xf(l,l.memoizedProps,d.memoizedProps);break;case 5:if($s(r,l),qs(l),f&512&&(Jt||d===null||Zn(d,d.return)),l.flags&32){x=l.stateNode;try{st(x,"")}catch(ye){rt(l,l.return,ye)}}f&4&&l.stateNode!=null&&(x=l.memoizedProps,Xf(l,x,d!==null?d.memoizedProps:x)),f&1024&&(tm=!0);break;case 6:if($s(r,l),qs(l),f&4){if(l.stateNode===null)throw Error(a(162));f=l.memoizedProps,d=l.stateNode;try{d.nodeValue=f}catch(ye){rt(l,l.return,ye)}}break;case 3:if(Td=null,x=_n,_n=Md(r.containerInfo),$s(r,l),_n=x,qs(l),f&4&&d!==null&&d.memoizedState.isDehydrated)try{gr(r.containerInfo)}catch(ye){rt(l,l.return,ye)}tm&&(tm=!1,Db(l));break;case 4:f=_n,_n=Md(l.stateNode.containerInfo),$s(r,l),qs(l),_n=f;break;case 12:$s(r,l),qs(l);break;case 31:$s(r,l),qs(l),f&4&&(f=l.updateQueue,f!==null&&(l.updateQueue=null,md(l,f)));break;case 13:$s(r,l),qs(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(xd=yt()),f&4&&(f=l.updateQueue,f!==null&&(l.updateQueue=null,md(l,f)));break;case 22:x=l.memoizedState!==null;var A=d!==null&&d.memoizedState!==null,V=Na,Q=Jt;if(Na=V||x,Jt=Q||A,$s(r,l),Jt=Q,Na=V,qs(l),f&8192)e:for(r=l.stateNode,r._visibility=x?r._visibility&-2:r._visibility|1,x&&(d===null||A||Na||Jt||ii(l)),d=null,r=l;;){if(r.tag===5||r.tag===26){if(d===null){A=d=r;try{if(b=A.stateNode,x)j=b.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{S=A.stateNode;var se=A.memoizedProps.style,G=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ye){rt(A,A.return,ye)}}}else if(r.tag===6){if(d===null){A=r;try{A.stateNode.nodeValue=x?"":A.memoizedProps}catch(ye){rt(A,A.return,ye)}}}else if(r.tag===18){if(d===null){A=r;try{var F=A.stateNode;x?wy(F,!0):wy(A.stateNode,!1)}catch(ye){rt(A,A.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===l)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;d===r&&(d=null),r=r.return}d===r&&(d=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=l.updateQueue,f!==null&&(d=f.retryQueue,d!==null&&(f.retryQueue=null,md(l,d))));break;case 19:$s(r,l),qs(l),f&4&&(f=l.updateQueue,f!==null&&(l.updateQueue=null,md(l,f)));break;case 30:break;case 21:break;default:$s(r,l),qs(l)}}function qs(l){var r=l.flags;if(r&2){try{for(var d,f=l.return;f!==null;){if(Nb(f)){d=f;break}f=f.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var x=d.stateNode,b=Qf(l);fd(l,b,x);break;case 5:var j=d.stateNode;d.flags&32&&(st(j,""),d.flags&=-33);var S=Qf(l);fd(l,S,j);break;case 3:case 4:var A=d.stateNode.containerInfo,V=Qf(l);em(l,V,A);break;default:throw Error(a(161))}}catch(Q){rt(l,l.return,Q)}l.flags&=-3}r&4096&&(l.flags&=-4097)}function Db(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var r=l;Db(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),l=l.sibling}}function za(l,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Sb(l,r.alternate,r),r=r.sibling}function ii(l){for(l=l.child;l!==null;){var r=l;switch(r.tag){case 0:case 11:case 14:case 15:rl(4,r,r.return),ii(r);break;case 1:Zn(r,r.return);var d=r.stateNode;typeof d.componentWillUnmount=="function"&&wb(r,r.return,d),ii(r);break;case 27:Ao(r.stateNode);case 26:case 5:Zn(r,r.return),ii(r);break;case 22:r.memoizedState===null&&ii(r);break;case 30:ii(r);break;default:ii(r)}l=l.sibling}}function Sa(l,r,d){for(d=d&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,x=l,b=r,j=b.flags;switch(b.tag){case 0:case 11:case 15:Sa(x,b,d),wo(4,b);break;case 1:if(Sa(x,b,d),f=b,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(V){rt(f,f.return,V)}if(f=b,x=f.updateQueue,x!==null){var S=f.stateNode;try{var A=x.shared.hiddenCallbacks;if(A!==null)for(x.shared.hiddenCallbacks=null,x=0;x<A.length;x++)cg(A[x],S)}catch(V){rt(f,f.return,V)}}d&&j&64&&vb(b),jo(b,b.return);break;case 27:kb(b);case 26:case 5:Sa(x,b,d),d&&f===null&&j&4&&jb(b),jo(b,b.return);break;case 12:Sa(x,b,d);break;case 31:Sa(x,b,d),d&&j&4&&Eb(x,b);break;case 13:Sa(x,b,d),d&&j&4&&Tb(x,b);break;case 22:b.memoizedState===null&&Sa(x,b,d),jo(b,b.return);break;case 30:break;default:Sa(x,b,d)}r=r.sibling}}function sm(l,r){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&ro(d))}function nm(l,r){l=null,r.alternate!==null&&(l=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==l&&(r.refCount++,l!=null&&ro(l))}function Bn(l,r,d,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ob(l,r,d,f),r=r.sibling}function Ob(l,r,d,f){var x=r.flags;switch(r.tag){case 0:case 11:case 15:Bn(l,r,d,f),x&2048&&wo(9,r);break;case 1:Bn(l,r,d,f);break;case 3:Bn(l,r,d,f),x&2048&&(l=null,r.alternate!==null&&(l=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==l&&(r.refCount++,l!=null&&ro(l)));break;case 12:if(x&2048){Bn(l,r,d,f),l=r.stateNode;try{var b=r.memoizedProps,j=b.id,S=b.onPostCommit;typeof S=="function"&&S(j,r.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(A){rt(r,r.return,A)}}else Bn(l,r,d,f);break;case 31:Bn(l,r,d,f);break;case 13:Bn(l,r,d,f);break;case 23:break;case 22:b=r.stateNode,j=r.alternate,r.memoizedState!==null?b._visibility&2?Bn(l,r,d,f):No(l,r):b._visibility&2?Bn(l,r,d,f):(b._visibility|=2,ir(l,r,d,f,(r.subtreeFlags&10256)!==0||!1)),x&2048&&sm(j,r);break;case 24:Bn(l,r,d,f),x&2048&&nm(r.alternate,r);break;default:Bn(l,r,d,f)}}function ir(l,r,d,f,x){for(x=x&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=l,j=r,S=d,A=f,V=j.flags;switch(j.tag){case 0:case 11:case 15:ir(b,j,S,A,x),wo(8,j);break;case 23:break;case 22:var Q=j.stateNode;j.memoizedState!==null?Q._visibility&2?ir(b,j,S,A,x):No(b,j):(Q._visibility|=2,ir(b,j,S,A,x)),x&&V&2048&&sm(j.alternate,j);break;case 24:ir(b,j,S,A,x),x&&V&2048&&nm(j.alternate,j);break;default:ir(b,j,S,A,x)}r=r.sibling}}function No(l,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var d=l,f=r,x=f.flags;switch(f.tag){case 22:No(d,f),x&2048&&sm(f.alternate,f);break;case 24:No(d,f),x&2048&&nm(f.alternate,f);break;default:No(d,f)}r=r.sibling}}var ko=8192;function rr(l,r,d){if(l.subtreeFlags&ko)for(l=l.child;l!==null;)Rb(l,r,d),l=l.sibling}function Rb(l,r,d){switch(l.tag){case 26:rr(l,r,d),l.flags&ko&&l.memoizedState!==null&&pz(d,_n,l.memoizedState,l.memoizedProps);break;case 5:rr(l,r,d);break;case 3:case 4:var f=_n;_n=Md(l.stateNode.containerInfo),rr(l,r,d),_n=f;break;case 22:l.memoizedState===null&&(f=l.alternate,f!==null&&f.memoizedState!==null?(f=ko,ko=16777216,rr(l,r,d),ko=f):rr(l,r,d));break;default:rr(l,r,d)}}function Lb(l){var r=l.alternate;if(r!==null&&(l=r.child,l!==null)){r.child=null;do r=l.sibling,l.sibling=null,l=r;while(l!==null)}}function zo(l){var r=l.deletions;if((l.flags&16)!==0){if(r!==null)for(var d=0;d<r.length;d++){var f=r[d];ls=f,Bb(f,l)}Lb(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)_b(l),l=l.sibling}function _b(l){switch(l.tag){case 0:case 11:case 15:zo(l),l.flags&2048&&rl(9,l,l.return);break;case 3:zo(l);break;case 12:zo(l);break;case 22:var r=l.stateNode;l.memoizedState!==null&&r._visibility&2&&(l.return===null||l.return.tag!==13)?(r._visibility&=-3,pd(l)):zo(l);break;default:zo(l)}}function pd(l){var r=l.deletions;if((l.flags&16)!==0){if(r!==null)for(var d=0;d<r.length;d++){var f=r[d];ls=f,Bb(f,l)}Lb(l)}for(l=l.child;l!==null;){switch(r=l,r.tag){case 0:case 11:case 15:rl(8,r,r.return),pd(r);break;case 22:d=r.stateNode,d._visibility&2&&(d._visibility&=-3,pd(r));break;default:pd(r)}l=l.sibling}}function Bb(l,r){for(;ls!==null;){var d=ls;switch(d.tag){case 0:case 11:case 15:rl(8,d,r);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var f=d.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ro(d.memoizedState.cache)}if(f=d.child,f!==null)f.return=d,ls=f;else e:for(d=l;ls!==null;){f=ls;var x=f.sibling,b=f.return;if(Cb(f),f===d){ls=null;break e}if(x!==null){x.return=b,ls=x;break e}ls=b}}}var T2={getCacheForType:function(l){var r=bs(Ft),d=r.data.get(l);return d===void 0&&(d=l(),r.data.set(l,d)),d},cacheSignal:function(){return bs(Ft).controller.signal}},A2=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,$e=null,Ve=0,it=0,nn=null,ol=!1,or=!1,am=!1,Ca=0,_t=0,cl=0,ri=0,lm=0,an=0,cr=0,So=null,Vs=null,im=!1,xd=0,Pb=0,gd=1/0,bd=null,dl=null,as=0,ul=null,dr=null,Ma=0,rm=0,om=null,Ub=null,Co=0,cm=null;function ln(){return(nt&2)!==0&&Ve!==0?Ve&-Ve:M.T!==null?pm():Cc()}function Hb(){if(an===0)if((Ve&536870912)===0||Fe){var l=ct;ct<<=1,(ct&3932160)===0&&(ct=262144),an=l}else an=536870912;return l=tn.current,l!==null&&(l.flags|=32),an}function Ws(l,r,d){(l===pt&&(it===2||it===9)||l.cancelPendingCommit!==null)&&(ur(l,0),hl(l,Ve,an,!1)),ql(l,d),((nt&2)===0||l!==pt)&&(l===pt&&((nt&2)===0&&(ri|=d),_t===4&&hl(l,Ve,an,!1)),Yn(l))}function Ib(l,r,d){if((nt&6)!==0)throw Error(a(327));var f=!d&&(r&127)===0&&(r&l.expiredLanes)===0||Oe(l,r),x=f?R2(l,r):um(l,r,!0),b=f;do{if(x===0){or&&!f&&hl(l,r,0,!1);break}else{if(d=l.current.alternate,b&&!D2(d)){x=um(l,r,!1),b=!1;continue}if(x===2){if(b=r,l.errorRecoveryDisabledLanes&b)var j=0;else j=l.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){r=j;e:{var S=l;x=So;var A=S.current.memoizedState.isDehydrated;if(A&&(ur(S,j).flags|=256),j=um(S,j,!1),j!==2){if(am&&!A){S.errorRecoveryDisabledLanes|=b,ri|=b,x=4;break e}b=Vs,Vs=x,b!==null&&(Vs===null?Vs=b:Vs.push.apply(Vs,b))}x=j}if(b=!1,x!==2)continue}}if(x===1){ur(l,0),hl(l,r,0,!0);break}e:{switch(f=l,b=x,b){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:hl(f,r,an,!ol);break e;case 2:Vs=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(x=xd+300-yt(),10<x)){if(hl(f,r,an,!ol),$l(f,0,!0)!==0)break e;Ma=r,f.timeoutHandle=by($b.bind(null,f,d,Vs,bd,im,r,an,ri,cr,ol,b,"Throttled",-0,0),x);break e}$b(f,d,Vs,bd,im,r,an,ri,cr,ol,b,null,-0,0)}}break}while(!0);Yn(l)}function $b(l,r,d,f,x,b,j,S,A,V,Q,se,G,F){if(l.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ye},Rb(r,b,se);var ye=(b&62914560)===b?xd-yt():(b&4194048)===b?Pb-yt():0;if(ye=xz(se,ye),ye!==null){Ma=b,l.cancelPendingCommit=ye(Yb.bind(null,l,r,b,d,f,x,j,S,A,Q,se,null,G,F)),hl(l,b,j,!V);return}}Yb(l,r,b,d,f,x,j,S,A)}function D2(l){for(var r=l;;){var d=r.tag;if((d===0||d===11||d===15)&&r.flags&16384&&(d=r.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var f=0;f<d.length;f++){var x=d[f],b=x.getSnapshot;x=x.value;try{if(!Qs(b(),x))return!1}catch{return!1}}if(d=r.child,r.subtreeFlags&16384&&d!==null)d.return=r,r=d;else{if(r===l)break;for(;r.sibling===null;){if(r.return===null||r.return===l)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hl(l,r,d,f){r&=~lm,r&=~ri,l.suspendedLanes|=r,l.pingedLanes&=~r,f&&(l.warmLanes|=r),f=l.expirationTimes;for(var x=r;0<x;){var b=31-ms(x),j=1<<b;f[b]=-1,x&=~j}d!==0&&Fr(l,d,r)}function yd(){return(nt&6)===0?(Mo(0),!1):!0}function dm(){if($e!==null){if(it===0)var l=$e.return;else l=$e,ga=Xl=null,Sf(l),tr=null,co=0,l=$e;for(;l!==null;)yb(l.alternate,l),l=l.return;$e=null}}function ur(l,r){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,X2(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),Ma=0,dm(),pt=l,$e=d=pa(l.current,null),Ve=r,it=0,nn=null,ol=!1,or=Oe(l,r),am=!1,cr=an=lm=ri=cl=_t=0,Vs=So=null,im=!1,(r&8)!==0&&(r|=r&32);var f=l.entangledLanes;if(f!==0)for(l=l.entanglements,f&=r;0<f;){var x=31-ms(f),b=1<<x;r|=l[x],f&=~b}return Ca=r,Hc(),d}function qb(l,r){_e=null,M.H=bo,r===er||r===Fc?(r=lg(),it=3):r===mf?(r=lg(),it=4):it=r===$f?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,nn=r,$e===null&&(_t=1,od(l,pn(r,l.current)))}function Vb(){var l=tn.current;return l===null?!0:(Ve&4194048)===Ve?yn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?l===yn:!1}function Wb(){var l=M.H;return M.H=bo,l===null?bo:l}function Kb(){var l=M.A;return M.A=T2,l}function vd(){_t=4,ol||(Ve&4194048)!==Ve&&tn.current!==null||(or=!0),(cl&134217727)===0&&(ri&134217727)===0||pt===null||hl(pt,Ve,an,!1)}function um(l,r,d){var f=nt;nt|=2;var x=Wb(),b=Kb();(pt!==l||Ve!==r)&&(bd=null,ur(l,r)),r=!1;var j=_t;e:do try{if(it!==0&&$e!==null){var S=$e,A=nn;switch(it){case 8:dm(),j=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(r=!0);var V=it;if(it=0,nn=null,hr(l,S,A,V),d&&or){j=0;break e}break;default:V=it,it=0,nn=null,hr(l,S,A,V)}}O2(),j=_t;break}catch(Q){qb(l,Q)}while(!0);return r&&l.shellSuspendCounter++,ga=Xl=null,nt=f,M.H=x,M.A=b,$e===null&&(pt=null,Ve=0,Hc()),j}function O2(){for(;$e!==null;)Gb($e)}function R2(l,r){var d=nt;nt|=2;var f=Wb(),x=Kb();pt!==l||Ve!==r?(bd=null,gd=yt()+500,ur(l,r)):or=Oe(l,r);e:do try{if(it!==0&&$e!==null){r=$e;var b=nn;t:switch(it){case 1:it=0,nn=null,hr(l,r,b,1);break;case 2:case 9:if(ng(b)){it=0,nn=null,Fb(r);break}r=function(){it!==2&&it!==9||pt!==l||(it=7),Yn(l)},b.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ng(b)?(it=0,nn=null,Fb(r)):(it=0,nn=null,hr(l,r,b,7));break;case 5:var j=null;switch($e.tag){case 26:j=$e.memoizedState;case 5:case 27:var S=$e;if(j?Oy(j):S.stateNode.complete){it=0,nn=null;var A=S.sibling;if(A!==null)$e=A;else{var V=S.return;V!==null?($e=V,wd(V)):$e=null}break t}}it=0,nn=null,hr(l,r,b,5);break;case 6:it=0,nn=null,hr(l,r,b,6);break;case 8:dm(),_t=6;break e;default:throw Error(a(462))}}L2();break}catch(Q){qb(l,Q)}while(!0);return ga=Xl=null,M.H=f,M.A=x,nt=d,$e!==null?0:(pt=null,Ve=0,Hc(),_t)}function L2(){for(;$e!==null&&!ia();)Gb($e)}function Gb(l){var r=gb(l.alternate,l,Ca);l.memoizedProps=l.pendingProps,r===null?wd(l):$e=r}function Fb(l){var r=l,d=r.alternate;switch(r.tag){case 15:case 0:r=ub(d,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=ub(d,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:Sf(r);default:yb(d,r),r=$e=K0(r,Ca),r=gb(d,r,Ca)}l.memoizedProps=l.pendingProps,r===null?wd(l):$e=r}function hr(l,r,d,f){ga=Xl=null,Sf(r),tr=null,co=0;var x=r.return;try{if(N2(l,x,r,d,Ve)){_t=1,od(l,pn(d,l.current)),$e=null;return}}catch(b){if(x!==null)throw $e=x,b;_t=1,od(l,pn(d,l.current)),$e=null;return}r.flags&32768?(Fe||f===1?l=!0:or||(Ve&536870912)!==0?l=!1:(ol=l=!0,(f===2||f===9||f===3||f===6)&&(f=tn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Zb(r,l)):wd(r)}function wd(l){var r=l;do{if((r.flags&32768)!==0){Zb(r,ol);return}l=r.return;var d=S2(r.alternate,r,Ca);if(d!==null){$e=d;return}if(r=r.sibling,r!==null){$e=r;return}$e=r=l}while(r!==null);_t===0&&(_t=5)}function Zb(l,r){do{var d=C2(l.alternate,l);if(d!==null){d.flags&=32767,$e=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!r&&(l=l.sibling,l!==null)){$e=l;return}$e=l=d}while(l!==null);_t=6,$e=null}function Yb(l,r,d,f,x,b,j,S,A){l.cancelPendingCommit=null;do jd();while(as!==0);if((nt&6)!==0)throw Error(a(327));if(r!==null){if(r===l.current)throw Error(a(177));if(b=r.lanes|r.childLanes,b|=Xh,Gr(l,d,b,j,S,A),l===pt&&($e=pt=null,Ve=0),dr=r,ul=l,Ma=d,rm=b,om=x,Ub=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,U2(Xs,function(){return ty(),null})):(l.callbackNode=null,l.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=M.T,M.T=null,x=D.p,D.p=2,j=nt,nt|=4;try{M2(l,r,d)}finally{nt=j,D.p=x,M.T=f}}as=1,Jb(),Xb(),Qb()}}function Jb(){if(as===1){as=0;var l=ul,r=dr,d=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||d){d=M.T,M.T=null;var f=D.p;D.p=2;var x=nt;nt|=4;try{Ab(r,l);var b=Nm,j=B0(l.containerInfo),S=b.focusedElem,A=b.selectionRange;if(j!==S&&S&&S.ownerDocument&&_0(S.ownerDocument.documentElement,S)){if(A!==null&&Gh(S)){var V=A.start,Q=A.end;if(Q===void 0&&(Q=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min(Q,S.value.length);else{var se=S.ownerDocument||document,G=se&&se.defaultView||window;if(G.getSelection){var F=G.getSelection(),ye=S.textContent.length,Me=Math.min(A.start,ye),ft=A.end===void 0?Me:Math.min(A.end,ye);!F.extend&&Me>ft&&(j=ft,ft=Me,Me=j);var U=L0(S,Me),B=L0(S,ft);if(U&&B&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==B.node||F.focusOffset!==B.offset)){var q=se.createRange();q.setStart(U.node,U.offset),F.removeAllRanges(),Me>ft?(F.addRange(q),F.extend(B.node,B.offset)):(q.setEnd(B.node,B.offset),F.addRange(q))}}}}for(se=[],F=S;F=F.parentNode;)F.nodeType===1&&se.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var te=se[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Rd=!!jm,Nm=jm=null}finally{nt=x,D.p=f,M.T=d}}l.current=r,as=2}}function Xb(){if(as===2){as=0;var l=ul,r=dr,d=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||d){d=M.T,M.T=null;var f=D.p;D.p=2;var x=nt;nt|=4;try{Sb(l,r.alternate,r)}finally{nt=x,D.p=f,M.T=d}}as=3}}function Qb(){if(as===4||as===3){as=0,ra();var l=ul,r=dr,d=Ma,f=Ub;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?as=5:(as=0,dr=ul=null,ey(l,l.pendingLanes));var x=l.pendingLanes;if(x===0&&(dl=null),Sc(d),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ps,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=M.T,x=D.p,D.p=2,M.T=null;try{for(var b=l.onRecoverableError,j=0;j<f.length;j++){var S=f[j];b(S.value,{componentStack:S.stack})}}finally{M.T=r,D.p=x}}(Ma&3)!==0&&jd(),Yn(l),x=l.pendingLanes,(d&261930)!==0&&(x&42)!==0?l===cm?Co++:(Co=0,cm=l):Co=0,Mo(0)}}function ey(l,r){(l.pooledCacheLanes&=r)===0&&(r=l.pooledCache,r!=null&&(l.pooledCache=null,ro(r)))}function jd(){return Jb(),Xb(),Qb(),ty()}function ty(){if(as!==5)return!1;var l=ul,r=rm;rm=0;var d=Sc(Ma),f=M.T,x=D.p;try{D.p=32>d?32:d,M.T=null,d=om,om=null;var b=ul,j=Ma;if(as=0,dr=ul=null,Ma=0,(nt&6)!==0)throw Error(a(331));var S=nt;if(nt|=4,_b(b.current),Ob(b,b.current,j,d),nt=S,Mo(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ps,b)}catch{}return!0}finally{D.p=x,M.T=f,ey(l,r)}}function sy(l,r,d){r=pn(d,r),r=If(l.stateNode,r,2),l=al(l,r,2),l!==null&&(ql(l,2),Yn(l))}function rt(l,r,d){if(l.tag===3)sy(l,l,d);else for(;r!==null;){if(r.tag===3){sy(r,l,d);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(dl===null||!dl.has(f))){l=pn(d,l),d=nb(2),f=al(r,d,2),f!==null&&(ab(d,f,r,l),ql(f,2),Yn(f));break}}r=r.return}}function hm(l,r,d){var f=l.pingCache;if(f===null){f=l.pingCache=new A2;var x=new Set;f.set(r,x)}else x=f.get(r),x===void 0&&(x=new Set,f.set(r,x));x.has(d)||(am=!0,x.add(d),l=_2.bind(null,l,r,d),r.then(l,l))}function _2(l,r,d){var f=l.pingCache;f!==null&&f.delete(r),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,pt===l&&(Ve&d)===d&&(_t===4||_t===3&&(Ve&62914560)===Ve&&300>yt()-xd?(nt&2)===0&&ur(l,0):lm|=d,cr===Ve&&(cr=0)),Yn(l)}function ny(l,r){r===0&&(r=Za()),l=Zl(l,r),l!==null&&(ql(l,r),Yn(l))}function B2(l){var r=l.memoizedState,d=0;r!==null&&(d=r.retryLane),ny(l,d)}function P2(l,r){var d=0;switch(l.tag){case 31:case 13:var f=l.stateNode,x=l.memoizedState;x!==null&&(d=x.retryLane);break;case 19:f=l.stateNode;break;case 22:f=l.stateNode._retryCache;break;default:throw Error(a(314))}f!==null&&f.delete(r),ny(l,d)}function U2(l,r){return Ge(l,r)}var Nd=null,fr=null,fm=!1,kd=!1,mm=!1,fl=0;function Yn(l){l!==fr&&l.next===null&&(fr===null?Nd=fr=l:fr=fr.next=l),kd=!0,fm||(fm=!0,I2())}function Mo(l,r){if(!mm&&kd){mm=!0;do for(var d=!1,f=Nd;f!==null;){if(l!==0){var x=f.pendingLanes;if(x===0)var b=0;else{var j=f.suspendedLanes,S=f.pingedLanes;b=(1<<31-ms(42|l)+1)-1,b&=x&~(j&~S),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,ry(f,b))}else b=Ve,b=$l(f,f===pt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Oe(f,b)||(d=!0,ry(f,b));f=f.next}while(d);mm=!1}}function H2(){ay()}function ay(){kd=fm=!1;var l=0;fl!==0&&J2()&&(l=fl);for(var r=yt(),d=null,f=Nd;f!==null;){var x=f.next,b=ly(f,r);b===0?(f.next=null,d===null?Nd=x:d.next=x,x===null&&(fr=d)):(d=f,(l!==0||(b&3)!==0)&&(kd=!0)),f=x}as!==0&&as!==5||Mo(l),fl!==0&&(fl=0)}function ly(l,r){for(var d=l.suspendedLanes,f=l.pingedLanes,x=l.expirationTimes,b=l.pendingLanes&-62914561;0<b;){var j=31-ms(b),S=1<<j,A=x[j];A===-1?((S&d)===0||(S&f)!==0)&&(x[j]=Kr(S,r)):A<=r&&(l.expiredLanes|=S),b&=~S}if(r=pt,d=Ve,d=$l(l,l===r?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),f=l.callbackNode,d===0||l===r&&(it===2||it===9)||l.cancelPendingCommit!==null)return f!==null&&f!==null&&es(f),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||Oe(l,d)){if(r=d&-d,r===l.callbackPriority)return r;switch(f!==null&&es(f),Sc(d)){case 2:case 8:d=Il;break;case 32:d=Xs;break;case 268435456:d=An;break;default:d=Xs}return f=iy.bind(null,l),d=Ge(d,f),l.callbackPriority=r,l.callbackNode=d,r}return f!==null&&f!==null&&es(f),l.callbackPriority=2,l.callbackNode=null,2}function iy(l,r){if(as!==0&&as!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(jd()&&l.callbackNode!==d)return null;var f=Ve;return f=$l(l,l===pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),f===0?null:(Ib(l,f,r),ly(l,yt()),l.callbackNode!=null&&l.callbackNode===d?iy.bind(null,l):null)}function ry(l,r){if(jd())return null;Ib(l,r,!0)}function I2(){Q2(function(){(nt&6)!==0?Ge(ca,H2):ay()})}function pm(){if(fl===0){var l=Xi;l===0&&(l=Ga,Ga<<=1,(Ga&261888)===0&&(Ga=256)),fl=l}return fl}function oy(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ss(""+l)}function cy(l,r){var d=r.ownerDocument.createElement("input");return d.name=r.name,d.value=r.value,l.id&&d.setAttribute("form",l.id),r.parentNode.insertBefore(d,r),l=new FormData(l),d.parentNode.removeChild(d),l}function $2(l,r,d,f,x){if(r==="submit"&&d&&d.stateNode===x){var b=oy((x[Je]||null).action),j=f.submitter;j&&(r=(r=j[Je]||null)?oy(r.formAction):j.getAttribute("formAction"),r!==null&&(b=r,j=null));var S=new _c("action","action",null,f,x);l.push({event:S,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(fl!==0){var A=j?cy(x,j):new FormData(x);Lf(d,{pending:!0,data:A,method:x.method,action:b},null,A)}}else typeof b=="function"&&(S.preventDefault(),A=j?cy(x,j):new FormData(x),Lf(d,{pending:!0,data:A,method:x.method,action:b},b,A))},currentTarget:x}]})}}for(var xm=0;xm<Jh.length;xm++){var gm=Jh[xm],q2=gm.toLowerCase(),V2=gm[0].toUpperCase()+gm.slice(1);Ln(q2,"on"+V2)}Ln(H0,"onAnimationEnd"),Ln(I0,"onAnimationIteration"),Ln($0,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(i2,"onTransitionRun"),Ln(r2,"onTransitionStart"),Ln(o2,"onTransitionCancel"),Ln(q0,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function dy(l,r){r=(r&4)!==0;for(var d=0;d<l.length;d++){var f=l[d],x=f.event;f=f.listeners;e:{var b=void 0;if(r)for(var j=f.length-1;0<=j;j--){var S=f[j],A=S.instance,V=S.currentTarget;if(S=S.listener,A!==b&&x.isPropagationStopped())break e;b=S,x.currentTarget=V;try{b(x)}catch(Q){Uc(Q)}x.currentTarget=null,b=A}else for(j=0;j<f.length;j++){if(S=f[j],A=S.instance,V=S.currentTarget,S=S.listener,A!==b&&x.isPropagationStopped())break e;b=S,x.currentTarget=V;try{b(x)}catch(Q){Uc(Q)}x.currentTarget=null,b=A}}}}function qe(l,r){var d=r[ha];d===void 0&&(d=r[ha]=new Set);var f=l+"__bubble";d.has(f)||(uy(r,l,2,!1),d.add(f))}function bm(l,r,d){var f=0;r&&(f|=4),uy(d,l,f,r)}var zd="_reactListening"+Math.random().toString(36).slice(2);function ym(l){if(!l[zd]){l[zd]=!0,hn.forEach(function(d){d!=="selectionchange"&&(W2.has(d)||bm(d,!1,l),bm(d,!0,l))});var r=l.nodeType===9?l:l.ownerDocument;r===null||r[zd]||(r[zd]=!0,bm("selectionchange",!1,r))}}function uy(l,r,d,f){switch(Hy(r)){case 2:var x=yz;break;case 8:x=vz;break;default:x=Rm}d=x.bind(null,r,d,l),x=void 0,!Os||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(x=!0),f?x!==void 0?l.addEventListener(r,d,{capture:!0,passive:x}):l.addEventListener(r,d,!0):x!==void 0?l.addEventListener(r,d,{passive:x}):l.addEventListener(r,d,!1)}function vm(l,r,d,f,x){var b=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var j=f.tag;if(j===3||j===4){var S=f.stateNode.containerInfo;if(S===x)break;if(j===4)for(j=f.return;j!==null;){var A=j.tag;if((A===3||A===4)&&j.stateNode.containerInfo===x)return;j=j.return}for(;S!==null;){if(j=Wn(S),j===null)return;if(A=j.tag,A===5||A===6||A===26||A===27){f=b=j;continue e}S=S.parentNode}}f=f.return}vt(function(){var V=b,Q=zs(d),se=[];e:{var G=V0.get(l);if(G!==void 0){var F=_c,ye=l;switch(l){case"keypress":if(Rc(d)===0)break e;case"keydown":case"keyup":F=Pk;break;case"focusin":ye="focus",F=$h;break;case"focusout":ye="blur",F=$h;break;case"beforeblur":case"afterblur":F=$h;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Sk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ik;break;case H0:case I0:case $0:F=Ek;break;case q0:F=qk;break;case"scroll":case"scrollend":F=kk;break;case"wheel":F=Wk;break;case"copy":case"cut":case"paste":F=Ak;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=w0;break;case"toggle":case"beforetoggle":F=Gk}var Me=(r&4)!==0,ft=!Me&&(l==="scroll"||l==="scrollend"),U=Me?G!==null?G+"Capture":null:G;Me=[];for(var B=V,q;B!==null;){var te=B;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||U===null||(te=at(B,U),te!=null&&Me.push(To(B,te,q))),ft)break;B=B.return}0<Me.length&&(G=new F(G,ye,null,d,Q),se.push({event:G,listeners:Me}))}}if((r&7)===0){e:{if(G=l==="mouseover"||l==="pointerover",F=l==="mouseout"||l==="pointerout",G&&d!==qt&&(ye=d.relatedTarget||d.fromElement)&&(Wn(ye)||ye[ua]))break e;if((F||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,F?(ye=d.relatedTarget||d.toElement,F=V,ye=ye?Wn(ye):null,ye!==null&&(ft=o(ye),Me=ye.tag,ye!==ft||Me!==5&&Me!==27&&Me!==6)&&(ye=null)):(F=null,ye=V),F!==ye)){if(Me=y0,te="onMouseLeave",U="onMouseEnter",B="mouse",(l==="pointerout"||l==="pointerover")&&(Me=w0,te="onPointerLeave",U="onPointerEnter",B="pointer"),ft=F==null?G:Ja(F),q=ye==null?G:Ja(ye),G=new Me(te,B+"leave",F,d,Q),G.target=ft,G.relatedTarget=q,te=null,Wn(Q)===V&&(Me=new Me(U,B+"enter",ye,d,Q),Me.target=q,Me.relatedTarget=ft,te=Me),ft=te,F&&ye)t:{for(Me=K2,U=F,B=ye,q=0,te=U;te;te=Me(te))q++;te=0;for(var ke=B;ke;ke=Me(ke))te++;for(;0<q-te;)U=Me(U),q--;for(;0<te-q;)B=Me(B),te--;for(;q--;){if(U===B||B!==null&&U===B.alternate){Me=U;break t}U=Me(U),B=Me(B)}Me=null}else Me=null;F!==null&&hy(se,G,F,Me,!1),ye!==null&&ft!==null&&hy(se,ft,ye,Me,!0)}}e:{if(G=V?Ja(V):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var Qe=E0;else if(C0(G))if(T0)Qe=n2;else{Qe=t2;var we=e2}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?V&&dt(V.elementType)&&(Qe=E0):Qe=s2;if(Qe&&(Qe=Qe(l,V))){M0(se,Qe,d,Q);break e}we&&we(l,G,V),l==="focusout"&&V&&G.type==="number"&&V.memoizedProps.value!=null&&Se(G,"number",G.value)}switch(we=V?Ja(V):window,l){case"focusin":(C0(we)||we.contentEditable==="true")&&(Vi=we,Fh=V,ao=null);break;case"focusout":ao=Fh=Vi=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,P0(se,d,Q);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":P0(se,d,Q)}var Be;if(Vh)e:{switch(l){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else qi?z0(l,d)&&(We="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(We="onCompositionStart");We&&(j0&&d.locale!=="ko"&&(qi||We!=="onCompositionStart"?We==="onCompositionEnd"&&qi&&(Be=g0()):(Kn=Q,Ii="value"in Kn?Kn.value:Kn.textContent,qi=!0)),we=Sd(V,We),0<we.length&&(We=new v0(We,l,null,d,Q),se.push({event:We,listeners:we}),Be?We.data=Be:(Be=S0(d),Be!==null&&(We.data=Be)))),(Be=Zk?Yk(l,d):Jk(l,d))&&(We=Sd(V,"onBeforeInput"),0<We.length&&(we=new v0("onBeforeInput","beforeinput",null,d,Q),se.push({event:we,listeners:We}),we.data=Be)),$2(se,l,V,d,Q)}dy(se,r)})}function To(l,r,d){return{instance:l,listener:r,currentTarget:d}}function Sd(l,r){for(var d=r+"Capture",f=[];l!==null;){var x=l,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=at(l,d),x!=null&&f.unshift(To(l,x,b)),x=at(l,r),x!=null&&f.push(To(l,x,b))),l.tag===3)return f;l=l.return}return[]}function K2(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function hy(l,r,d,f,x){for(var b=r._reactName,j=[];d!==null&&d!==f;){var S=d,A=S.alternate,V=S.stateNode;if(S=S.tag,A!==null&&A===f)break;S!==5&&S!==26&&S!==27||V===null||(A=V,x?(V=at(d,b),V!=null&&j.unshift(To(d,V,A))):x||(V=at(d,b),V!=null&&j.push(To(d,V,A)))),d=d.return}j.length!==0&&l.push({event:r,listeners:j})}var G2=/\r\n?/g,F2=/\u0000|\uFFFD/g;function fy(l){return(typeof l=="string"?l:""+l).replace(G2,`
`).replace(F2,"")}function my(l,r){return r=fy(r),fy(l)===r}function ht(l,r,d,f,x,b){switch(d){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||st(l,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&st(l,""+f);break;case"className":Hi(l,"class",f);break;case"tabIndex":Hi(l,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(l,d,f);break;case"style":ie(l,f,b);break;case"data":if(r!=="object"){Hi(l,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||d!=="href")){l.removeAttribute(d);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){l.removeAttribute(d);break}f=ss(""+f),l.setAttribute(d,f);break;case"action":case"formAction":if(typeof f=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(r!=="input"&&ht(l,r,"name",x.name,x,null),ht(l,r,"formEncType",x.formEncType,x,null),ht(l,r,"formMethod",x.formMethod,x,null),ht(l,r,"formTarget",x.formTarget,x,null)):(ht(l,r,"encType",x.encType,x,null),ht(l,r,"method",x.method,x,null),ht(l,r,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){l.removeAttribute(d);break}f=ss(""+f),l.setAttribute(d,f);break;case"onClick":f!=null&&(l.onclick=Ye);break;case"onScroll":f!=null&&qe("scroll",l);break;case"onScrollEnd":f!=null&&qe("scrollend",l);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(d=f.__html,d!=null){if(x.children!=null)throw Error(a(60));l.innerHTML=d}}break;case"multiple":l.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":l.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){l.removeAttribute("xlink:href");break}d=ss(""+f),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?l.setAttribute(d,""+f):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":f===!0?l.setAttribute(d,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?l.setAttribute(d,f):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?l.setAttribute(d,f):l.removeAttribute(d);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?l.removeAttribute(d):l.setAttribute(d,f);break;case"popover":qe("beforetoggle",l),qe("toggle",l),Ui(l,"popover",f);break;case"xlinkActuate":Rn(l,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Rn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Rn(l,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Rn(l,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Rn(l,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Rn(l,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Rn(l,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Rn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Rn(l,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ui(l,"is",f);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Rt.get(d)||d,Ui(l,d,f))}}function wm(l,r,d,f,x,b){switch(d){case"style":ie(l,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(d=f.__html,d!=null){if(x.children!=null)throw Error(a(60));l.innerHTML=d}}break;case"children":typeof f=="string"?st(l,f):(typeof f=="number"||typeof f=="bigint")&&st(l,""+f);break;case"onScroll":f!=null&&qe("scroll",l);break;case"onScrollEnd":f!=null&&qe("scrollend",l);break;case"onClick":f!=null&&(l.onclick=Ye);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),r=d.slice(2,x?d.length-7:void 0),b=l[Je]||null,b=b!=null?b[d]:null,typeof b=="function"&&l.removeEventListener(r,b,x),typeof f=="function")){typeof b!="function"&&b!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(r,f,x);break e}d in l?l[d]=f:f===!0?l.setAttribute(d,""):Ui(l,d,f)}}}function vs(l,r,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",l),qe("load",l);var f=!1,x=!1,b;for(b in d)if(d.hasOwnProperty(b)){var j=d[b];if(j!=null)switch(b){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:ht(l,r,b,j,d,null)}}x&&ht(l,r,"srcSet",d.srcSet,d,null),f&&ht(l,r,"src",d.src,d,null);return;case"input":qe("invalid",l);var S=b=j=x=null,A=null,V=null;for(f in d)if(d.hasOwnProperty(f)){var Q=d[f];if(Q!=null)switch(f){case"name":x=Q;break;case"type":j=Q;break;case"checked":A=Q;break;case"defaultChecked":V=Q;break;case"value":b=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:ht(l,r,f,Q,d,null)}}he(l,b,S,A,V,j,x,!1);return;case"select":qe("invalid",l),f=j=b=null;for(x in d)if(d.hasOwnProperty(x)&&(S=d[x],S!=null))switch(x){case"value":b=S;break;case"defaultValue":j=S;break;case"multiple":f=S;default:ht(l,r,x,S,d,null)}r=b,d=j,l.multiple=!!f,r!=null?tt(l,!!f,r,!1):d!=null&&tt(l,!!f,d,!0);return;case"textarea":qe("invalid",l),b=x=f=null;for(j in d)if(d.hasOwnProperty(j)&&(S=d[j],S!=null))switch(j){case"value":f=S;break;case"defaultValue":x=S;break;case"children":b=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:ht(l,r,j,S,d,null)}Xe(l,f,x,b);return;case"option":for(A in d)if(d.hasOwnProperty(A)&&(f=d[A],f!=null))switch(A){case"selected":l.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ht(l,r,A,f,d,null)}return;case"dialog":qe("beforetoggle",l),qe("toggle",l),qe("cancel",l),qe("close",l);break;case"iframe":case"object":qe("load",l);break;case"video":case"audio":for(f=0;f<Eo.length;f++)qe(Eo[f],l);break;case"image":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"embed":case"source":case"link":qe("error",l),qe("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in d)if(d.hasOwnProperty(V)&&(f=d[V],f!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:ht(l,r,V,f,d,null)}return;default:if(dt(r)){for(Q in d)d.hasOwnProperty(Q)&&(f=d[Q],f!==void 0&&wm(l,r,Q,f,d,void 0));return}}for(S in d)d.hasOwnProperty(S)&&(f=d[S],f!=null&&ht(l,r,S,f,d,null))}function Z2(l,r,d,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,j=null,S=null,A=null,V=null,Q=null;for(F in d){var se=d[F];if(d.hasOwnProperty(F)&&se!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":A=se;default:f.hasOwnProperty(F)||ht(l,r,F,null,f,se)}}for(var G in f){var F=f[G];if(se=d[G],f.hasOwnProperty(G)&&(F!=null||se!=null))switch(G){case"type":b=F;break;case"name":x=F;break;case"checked":V=F;break;case"defaultChecked":Q=F;break;case"value":j=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,r));break;default:F!==se&&ht(l,r,G,F,f,se)}}le(l,j,S,A,V,Q,b,x);return;case"select":F=j=S=G=null;for(b in d)if(A=d[b],d.hasOwnProperty(b)&&A!=null)switch(b){case"value":break;case"multiple":F=A;default:f.hasOwnProperty(b)||ht(l,r,b,null,f,A)}for(x in f)if(b=f[x],A=d[x],f.hasOwnProperty(x)&&(b!=null||A!=null))switch(x){case"value":G=b;break;case"defaultValue":S=b;break;case"multiple":j=b;default:b!==A&&ht(l,r,x,b,f,A)}r=S,d=j,f=F,G!=null?tt(l,!!d,G,!1):!!f!=!!d&&(r!=null?tt(l,!!d,r,!0):tt(l,!!d,d?[]:"",!1));return;case"textarea":F=G=null;for(S in d)if(x=d[S],d.hasOwnProperty(S)&&x!=null&&!f.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(l,r,S,null,f,x)}for(j in f)if(x=f[j],b=d[j],f.hasOwnProperty(j)&&(x!=null||b!=null))switch(j){case"value":G=x;break;case"defaultValue":F=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:x!==b&&ht(l,r,j,x,f,b)}mt(l,G,F);return;case"option":for(var ye in d)if(G=d[ye],d.hasOwnProperty(ye)&&G!=null&&!f.hasOwnProperty(ye))switch(ye){case"selected":l.selected=!1;break;default:ht(l,r,ye,null,f,G)}for(A in f)if(G=f[A],F=d[A],f.hasOwnProperty(A)&&G!==F&&(G!=null||F!=null))switch(A){case"selected":l.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ht(l,r,A,G,f,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in d)G=d[Me],d.hasOwnProperty(Me)&&G!=null&&!f.hasOwnProperty(Me)&&ht(l,r,Me,null,f,G);for(V in f)if(G=f[V],F=d[V],f.hasOwnProperty(V)&&G!==F&&(G!=null||F!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:ht(l,r,V,G,f,F)}return;default:if(dt(r)){for(var ft in d)G=d[ft],d.hasOwnProperty(ft)&&G!==void 0&&!f.hasOwnProperty(ft)&&wm(l,r,ft,void 0,f,G);for(Q in f)G=f[Q],F=d[Q],!f.hasOwnProperty(Q)||G===F||G===void 0&&F===void 0||wm(l,r,Q,G,f,F);return}}for(var U in d)G=d[U],d.hasOwnProperty(U)&&G!=null&&!f.hasOwnProperty(U)&&ht(l,r,U,null,f,G);for(se in f)G=f[se],F=d[se],!f.hasOwnProperty(se)||G===F||G==null&&F==null||ht(l,r,se,G,f,F)}function py(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y2(){if(typeof performance.getEntriesByType=="function"){for(var l=0,r=0,d=performance.getEntriesByType("resource"),f=0;f<d.length;f++){var x=d[f],b=x.transferSize,j=x.initiatorType,S=x.duration;if(b&&S&&py(j)){for(j=0,S=x.responseEnd,f+=1;f<d.length;f++){var A=d[f],V=A.startTime;if(V>S)break;var Q=A.transferSize,se=A.initiatorType;Q&&py(se)&&(A=A.responseEnd,j+=Q*(A<S?1:(S-V)/(A-V)))}if(--f,r+=8*(b+j)/(x.duration/1e3),l++,10<l)break}}if(0<l)return r/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var jm=null,Nm=null;function Cd(l){return l.nodeType===9?l:l.ownerDocument}function xy(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gy(l,r){if(l===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&r==="foreignObject"?0:l}function km(l,r){return l==="textarea"||l==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zm=null;function J2(){var l=window.event;return l&&l.type==="popstate"?l===zm?!1:(zm=l,!0):(zm=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,Q2=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(l){return yy.resolve(null).then(l).catch(ez)}:by;function ez(l){setTimeout(function(){throw l})}function ml(l){return l==="head"}function vy(l,r){var d=r,f=0;do{var x=d.nextSibling;if(l.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(f===0){l.removeChild(x),gr(r);return}f--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")f++;else if(d==="html")Ao(l.ownerDocument.documentElement);else if(d==="head"){d=l.ownerDocument.head,Ao(d);for(var b=d.firstChild;b;){var j=b.nextSibling,S=b.nodeName;b[Ya]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=j}}else d==="body"&&Ao(l.ownerDocument.body);d=x}while(d);gr(r)}function wy(l,r){var d=l;l=0;do{var f=d.nextSibling;if(d.nodeType===1?r?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(r?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),f&&f.nodeType===8)if(d=f.data,d==="/$"){if(l===0)break;l--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||l++;d=f}while(d)}function Sm(l){var r=l.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var d=r;switch(r=r.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Sm(d),Pi(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function tz(l,r,d,f){for(;l.nodeType===1;){var x=d;if(l.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(f){if(!l[Ya])switch(r){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(b=l.getAttribute("rel"),b==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(b!==x.rel||l.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||l.getAttribute("title")!==(x.title==null?null:x.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(b=l.getAttribute("src"),(b!==(x.src==null?null:x.src)||l.getAttribute("type")!==(x.type==null?null:x.type)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(r==="input"&&l.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&l.getAttribute("name")===b)return l}else return l;if(l=vn(l.nextSibling),l===null)break}return null}function sz(l,r,d){if(r==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=vn(l.nextSibling),l===null))return null;return l}function jy(l,r){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!r||(l=vn(l.nextSibling),l===null))return null;return l}function Cm(l){return l.data==="$?"||l.data==="$~"}function Mm(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function nz(l,r){var d=l.ownerDocument;if(l.data==="$~")l._reactRetry=r;else if(l.data!=="$?"||d.readyState!=="loading")r();else{var f=function(){r(),d.removeEventListener("DOMContentLoaded",f)};d.addEventListener("DOMContentLoaded",f),l._reactRetry=f}}function vn(l){for(;l!=null;l=l.nextSibling){var r=l.nodeType;if(r===1||r===3)break;if(r===8){if(r=l.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return l}var Em=null;function Ny(l){l=l.nextSibling;for(var r=0;l;){if(l.nodeType===8){var d=l.data;if(d==="/$"||d==="/&"){if(r===0)return vn(l.nextSibling);r--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||r++}l=l.nextSibling}return null}function ky(l){l=l.previousSibling;for(var r=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(r===0)return l;r--}else d!=="/$"&&d!=="/&"||r++}l=l.previousSibling}return null}function zy(l,r,d){switch(r=Cd(d),l){case"html":if(l=r.documentElement,!l)throw Error(a(452));return l;case"head":if(l=r.head,!l)throw Error(a(453));return l;case"body":if(l=r.body,!l)throw Error(a(454));return l;default:throw Error(a(451))}}function Ao(l){for(var r=l.attributes;r.length;)l.removeAttributeNode(r[0]);Pi(l)}var wn=new Map,Sy=new Set;function Md(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Ea=D.d;D.d={f:az,r:lz,D:iz,C:rz,L:oz,m:cz,X:uz,S:dz,M:hz};function az(){var l=Ea.f(),r=yd();return l||r}function lz(l){var r=On(l);r!==null&&r.tag===5&&r.type==="form"?qg(r):Ea.r(l)}var mr=typeof document>"u"?null:document;function Cy(l,r,d){var f=mr;if(f&&typeof r=="string"&&r){var x=_(r);x='link[rel="'+l+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),Sy.has(x)||(Sy.add(x),l={rel:l,crossOrigin:d,href:r},f.querySelector(x)===null&&(r=f.createElement("link"),vs(r,"link",l),Gt(r),f.head.appendChild(r)))}}function iz(l){Ea.D(l),Cy("dns-prefetch",l,null)}function rz(l,r){Ea.C(l,r),Cy("preconnect",l,r)}function oz(l,r,d){Ea.L(l,r,d);var f=mr;if(f&&l&&r){var x='link[rel="preload"][as="'+_(r)+'"]';r==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+_(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+_(d.imageSizes)+'"]')):x+='[href="'+_(l)+'"]';var b=x;switch(r){case"style":b=pr(l);break;case"script":b=xr(l)}wn.has(b)||(l=g({rel:"preload",href:r==="image"&&d&&d.imageSrcSet?void 0:l,as:r},d),wn.set(b,l),f.querySelector(x)!==null||r==="style"&&f.querySelector(Do(b))||r==="script"&&f.querySelector(Oo(b))||(r=f.createElement("link"),vs(r,"link",l),Gt(r),f.head.appendChild(r)))}}function cz(l,r){Ea.m(l,r);var d=mr;if(d&&l){var f=r&&typeof r.as=="string"?r.as:"script",x='link[rel="modulepreload"][as="'+_(f)+'"][href="'+_(l)+'"]',b=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=xr(l)}if(!wn.has(b)&&(l=g({rel:"modulepreload",href:l},r),wn.set(b,l),d.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Oo(b)))return}f=d.createElement("link"),vs(f,"link",l),Gt(f),d.head.appendChild(f)}}}function dz(l,r,d){Ea.S(l,r,d);var f=mr;if(f&&l){var x=fa(f).hoistableStyles,b=pr(l);r=r||"default";var j=x.get(b);if(!j){var S={loading:0,preload:null};if(j=f.querySelector(Do(b)))S.loading=5;else{l=g({rel:"stylesheet",href:l,"data-precedence":r},d),(d=wn.get(b))&&Tm(l,d);var A=j=f.createElement("link");Gt(A),vs(A,"link",l),A._p=new Promise(function(V,Q){A.onload=V,A.onerror=Q}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ed(j,r,f)}j={type:"stylesheet",instance:j,count:1,state:S},x.set(b,j)}}}function uz(l,r){Ea.X(l,r);var d=mr;if(d&&l){var f=fa(d).hoistableScripts,x=xr(l),b=f.get(x);b||(b=d.querySelector(Oo(x)),b||(l=g({src:l,async:!0},r),(r=wn.get(x))&&Am(l,r),b=d.createElement("script"),Gt(b),vs(b,"link",l),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(x,b))}}function hz(l,r){Ea.M(l,r);var d=mr;if(d&&l){var f=fa(d).hoistableScripts,x=xr(l),b=f.get(x);b||(b=d.querySelector(Oo(x)),b||(l=g({src:l,async:!0,type:"module"},r),(r=wn.get(x))&&Am(l,r),b=d.createElement("script"),Gt(b),vs(b,"link",l),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(x,b))}}function My(l,r,d,f){var x=(x=ve.current)?Md(x):null;if(!x)throw Error(a(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(r=pr(d.href),d=fa(x).hoistableStyles,f=d.get(r),f||(f={type:"style",instance:null,count:0,state:null},d.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=pr(d.href);var b=fa(x).hoistableStyles,j=b.get(l);if(j||(x=x.ownerDocument||x,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(l,j),(b=x.querySelector(Do(l)))&&!b._p&&(j.instance=b,j.state.loading=5),wn.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},wn.set(l,d),b||fz(x,l,d,j.state))),r&&f===null)throw Error(a(528,""));return j}if(r&&f!==null)throw Error(a(529,""));return null;case"script":return r=d.async,d=d.src,typeof d=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=xr(d),d=fa(x).hoistableScripts,f=d.get(r),f||(f={type:"script",instance:null,count:0,state:null},d.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,l))}}function pr(l){return'href="'+_(l)+'"'}function Do(l){return'link[rel="stylesheet"]['+l+"]"}function Ey(l){return g({},l,{"data-precedence":l.precedence,precedence:null})}function fz(l,r,d,f){l.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=l.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),vs(r,"link",d),Gt(r),l.head.appendChild(r))}function xr(l){return'[src="'+_(l)+'"]'}function Oo(l){return"script[async]"+l}function Ty(l,r,d){if(r.count++,r.instance===null)switch(r.type){case"style":var f=l.querySelector('style[data-href~="'+_(d.href)+'"]');if(f)return r.instance=f,Gt(f),f;var x=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return f=(l.ownerDocument||l).createElement("style"),Gt(f),vs(f,"style",x),Ed(f,d.precedence,l),r.instance=f;case"stylesheet":x=pr(d.href);var b=l.querySelector(Do(x));if(b)return r.state.loading|=4,r.instance=b,Gt(b),b;f=Ey(d),(x=wn.get(x))&&Tm(f,x),b=(l.ownerDocument||l).createElement("link"),Gt(b);var j=b;return j._p=new Promise(function(S,A){j.onload=S,j.onerror=A}),vs(b,"link",f),r.state.loading|=4,Ed(b,d.precedence,l),r.instance=b;case"script":return b=xr(d.src),(x=l.querySelector(Oo(b)))?(r.instance=x,Gt(x),x):(f=d,(x=wn.get(b))&&(f=g({},d),Am(f,x)),l=l.ownerDocument||l,x=l.createElement("script"),Gt(x),vs(x,"link",f),l.head.appendChild(x),r.instance=x);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,Ed(f,d.precedence,l));return r.instance}function Ed(l,r,d){for(var f=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,b=x,j=0;j<f.length;j++){var S=f[j];if(S.dataset.precedence===r)b=S;else if(b!==x)break}b?b.parentNode.insertBefore(l,b.nextSibling):(r=d.nodeType===9?d.head:d,r.insertBefore(l,r.firstChild))}function Tm(l,r){l.crossOrigin==null&&(l.crossOrigin=r.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=r.referrerPolicy),l.title==null&&(l.title=r.title)}function Am(l,r){l.crossOrigin==null&&(l.crossOrigin=r.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=r.referrerPolicy),l.integrity==null&&(l.integrity=r.integrity)}var Td=null;function Ay(l,r,d){if(Td===null){var f=new Map,x=Td=new Map;x.set(d,f)}else x=Td,f=x.get(d),f||(f=new Map,x.set(d,f));if(f.has(l))return f;for(f.set(l,null),d=d.getElementsByTagName(l),x=0;x<d.length;x++){var b=d[x];if(!(b[Ya]||b[ts]||l==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var j=b.getAttribute(r)||"";j=l+j;var S=f.get(j);S?S.push(b):f.set(j,[b])}}return f}function Dy(l,r,d){l=l.ownerDocument||l,l.head.insertBefore(d,r==="title"?l.querySelector("head > title"):null)}function mz(l,r,d){if(d===1||r.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return l=r.disabled,typeof r.precedence=="string"&&l==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Oy(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function pz(l,r,d,f){if(d.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=pr(f.href),b=r.querySelector(Do(x));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Ad.bind(l),r.then(l,l)),d.state.loading|=4,d.instance=b,Gt(b);return}b=r.ownerDocument||r,f=Ey(f),(x=wn.get(x))&&Tm(f,x),b=b.createElement("link"),Gt(b);var j=b;j._p=new Promise(function(S,A){j.onload=S,j.onerror=A}),vs(b,"link",f),d.instance=b}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(d,r),(r=d.state.preload)&&(d.state.loading&3)===0&&(l.count++,d=Ad.bind(l),r.addEventListener("load",d),r.addEventListener("error",d))}}var Dm=0;function xz(l,r){return l.stylesheets&&l.count===0&&Od(l,l.stylesheets),0<l.count||0<l.imgCount?function(d){var f=setTimeout(function(){if(l.stylesheets&&Od(l,l.stylesheets),l.unsuspend){var b=l.unsuspend;l.unsuspend=null,b()}},6e4+r);0<l.imgBytes&&Dm===0&&(Dm=62500*Y2());var x=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Od(l,l.stylesheets),l.unsuspend)){var b=l.unsuspend;l.unsuspend=null,b()}},(l.imgBytes>Dm?50:800)+r);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(f),clearTimeout(x)}}:null}function Ad(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Dd=null;function Od(l,r){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Dd=new Map,r.forEach(gz,l),Dd=null,Ad.call(l))}function gz(l,r){if(!(r.state.loading&4)){var d=Dd.get(l);if(d)var f=d.get(null);else{d=new Map,Dd.set(l,d);for(var x=l.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var j=x[b];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(d.set(j.dataset.precedence,j),f=j)}f&&d.set(null,f)}x=r.instance,j=x.getAttribute("data-precedence"),b=d.get(j)||f,b===f&&d.set(null,x),d.set(j,x),this.count++,f=Ad.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),b?b.parentNode.insertBefore(x,b.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(x,l.firstChild)),r.state.loading|=4}}var Ro={$$typeof:R,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function bz(l,r,d,f,x,b,j,S,A){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Ry(l,r,d,f,x,b,j,S,A,V,Q,se){return l=new bz(l,r,d,j,A,V,Q,se,S),r=1,b===!0&&(r|=24),b=en(3,null,null,r),l.current=b,b.stateNode=l,r=uf(),r.refCount++,l.pooledCache=r,r.refCount++,b.memoizedState={element:f,isDehydrated:d,cache:r},pf(b),l}function Ly(l){return l?(l=Gi,l):Gi}function _y(l,r,d,f,x,b){x=Ly(x),f.context===null?f.context=x:f.pendingContext=x,f=nl(r),f.payload={element:d},b=b===void 0?null:b,b!==null&&(f.callback=b),d=al(l,f,r),d!==null&&(Ws(d,l,r),ho(d,l,r))}function By(l,r){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<r?d:r}}function Om(l,r){By(l,r),(l=l.alternate)&&By(l,r)}function Py(l){if(l.tag===13||l.tag===31){var r=Zl(l,67108864);r!==null&&Ws(r,l,67108864),Om(l,67108864)}}function Uy(l){if(l.tag===13||l.tag===31){var r=ln();r=Bi(r);var d=Zl(l,r);d!==null&&Ws(d,l,r),Om(l,r)}}var Rd=!0;function yz(l,r,d,f){var x=M.T;M.T=null;var b=D.p;try{D.p=2,Rm(l,r,d,f)}finally{D.p=b,M.T=x}}function vz(l,r,d,f){var x=M.T;M.T=null;var b=D.p;try{D.p=8,Rm(l,r,d,f)}finally{D.p=b,M.T=x}}function Rm(l,r,d,f){if(Rd){var x=Lm(f);if(x===null)vm(l,r,f,Ld,d),Iy(l,f);else if(jz(x,l,r,d,f))f.stopPropagation();else if(Iy(l,f),r&4&&-1<wz.indexOf(l)){for(;x!==null;){var b=On(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var j=Dn(b.pendingLanes);if(j!==0){var S=b;for(S.pendingLanes|=2,S.entangledLanes|=2;j;){var A=1<<31-ms(j);S.entanglements[1]|=A,j&=~A}Yn(b),(nt&6)===0&&(gd=yt()+500,Mo(0))}}break;case 31:case 13:S=Zl(b,2),S!==null&&Ws(S,b,2),yd(),Om(b,2)}if(b=Lm(f),b===null&&vm(l,r,f,Ld,d),b===x)break;x=b}x!==null&&f.stopPropagation()}else vm(l,r,f,null,d)}}function Lm(l){return l=zs(l),_m(l)}var Ld=null;function _m(l){if(Ld=null,l=Wn(l),l!==null){var r=o(l);if(r===null)l=null;else{var d=r.tag;if(d===13){if(l=c(r),l!==null)return l;l=null}else if(d===31){if(l=u(r),l!==null)return l;l=null}else if(d===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;l=null}else r!==l&&(l=null)}}return Ld=l,null}function Hy(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case ca:return 2;case Il:return 8;case Xs:case Ka:return 32;case An:return 268435456;default:return 32}default:return 32}}var Bm=!1,pl=null,xl=null,gl=null,Lo=new Map,_o=new Map,bl=[],wz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iy(l,r){switch(l){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":Lo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(r.pointerId)}}function Bo(l,r,d,f,x,b){return l===null||l.nativeEvent!==b?(l={blockedOn:r,domEventName:d,eventSystemFlags:f,nativeEvent:b,targetContainers:[x]},r!==null&&(r=On(r),r!==null&&Py(r)),l):(l.eventSystemFlags|=f,r=l.targetContainers,x!==null&&r.indexOf(x)===-1&&r.push(x),l)}function jz(l,r,d,f,x){switch(r){case"focusin":return pl=Bo(pl,l,r,d,f,x),!0;case"dragenter":return xl=Bo(xl,l,r,d,f,x),!0;case"mouseover":return gl=Bo(gl,l,r,d,f,x),!0;case"pointerover":var b=x.pointerId;return Lo.set(b,Bo(Lo.get(b)||null,l,r,d,f,x)),!0;case"gotpointercapture":return b=x.pointerId,_o.set(b,Bo(_o.get(b)||null,l,r,d,f,x)),!0}return!1}function $y(l){var r=Wn(l.target);if(r!==null){var d=o(r);if(d!==null){if(r=d.tag,r===13){if(r=c(d),r!==null){l.blockedOn=r,da(l.priority,function(){Uy(d)});return}}else if(r===31){if(r=u(d),r!==null){l.blockedOn=r,da(l.priority,function(){Uy(d)});return}}else if(r===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function _d(l){if(l.blockedOn!==null)return!1;for(var r=l.targetContainers;0<r.length;){var d=Lm(l.nativeEvent);if(d===null){d=l.nativeEvent;var f=new d.constructor(d.type,d);qt=f,d.target.dispatchEvent(f),qt=null}else return r=On(d),r!==null&&Py(r),l.blockedOn=d,!1;r.shift()}return!0}function qy(l,r,d){_d(l)&&d.delete(r)}function Nz(){Bm=!1,pl!==null&&_d(pl)&&(pl=null),xl!==null&&_d(xl)&&(xl=null),gl!==null&&_d(gl)&&(gl=null),Lo.forEach(qy),_o.forEach(qy)}function Bd(l,r){l.blockedOn===r&&(l.blockedOn=null,Bm||(Bm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Nz)))}var Pd=null;function Vy(l){Pd!==l&&(Pd=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pd===l&&(Pd=null);for(var r=0;r<l.length;r+=3){var d=l[r],f=l[r+1],x=l[r+2];if(typeof f!="function"){if(_m(f||d)===null)continue;break}var b=On(d);b!==null&&(l.splice(r,3),r-=3,Lf(b,{pending:!0,data:x,method:d.method,action:f},f,x))}}))}function gr(l){function r(A){return Bd(A,l)}pl!==null&&Bd(pl,l),xl!==null&&Bd(xl,l),gl!==null&&Bd(gl,l),Lo.forEach(r),_o.forEach(r);for(var d=0;d<bl.length;d++){var f=bl[d];f.blockedOn===l&&(f.blockedOn=null)}for(;0<bl.length&&(d=bl[0],d.blockedOn===null);)$y(d),d.blockedOn===null&&bl.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(f=0;f<d.length;f+=3){var x=d[f],b=d[f+1],j=x[Je]||null;if(typeof b=="function")j||Vy(d);else if(j){var S=null;if(b&&b.hasAttribute("formAction")){if(x=b,j=b[Je]||null)S=j.formAction;else if(_m(x)!==null)continue}else S=j.action;typeof S=="function"?d[f+1]=S:(d.splice(f,3),f-=3),Vy(d)}}}function Wy(){function l(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(j){return x=j})},focusReset:"manual",scroll:"manual"})}function r(){x!==null&&(x(),x=null),f||setTimeout(d,20)}function d(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,x=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(d,100),function(){f=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),x!==null&&(x(),x=null)}}}function Pm(l){this._internalRoot=l}Ud.prototype.render=Pm.prototype.render=function(l){var r=this._internalRoot;if(r===null)throw Error(a(409));var d=r.current,f=ln();_y(d,f,l,r,null,null)},Ud.prototype.unmount=Pm.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var r=l.containerInfo;_y(l.current,2,null,l,null,null),yd(),r[ua]=null}};function Ud(l){this._internalRoot=l}Ud.prototype.unstable_scheduleHydration=function(l){if(l){var r=Cc();l={blockedOn:null,target:l,priority:r};for(var d=0;d<bl.length&&r!==0&&r<bl[d].priority;d++);bl.splice(d,0,l),d===0&&$y(l)}};var Ky=e.version;if(Ky!=="19.2.3")throw Error(a(527,Ky,"19.2.3"));D.findDOMNode=function(l){var r=l._reactInternals;if(r===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=m(r),l=l!==null?p(l):null,l=l===null?null:l.stateNode,l};var kz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Ps=Hd.inject(kz),Kt=Hd}catch{}}return Uo.createRoot=function(l,r){if(!i(l))throw Error(a(299));var d=!1,f="",x=Qg,b=eb,j=tb;return r!=null&&(r.unstable_strictMode===!0&&(d=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(x=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(j=r.onRecoverableError)),r=Ry(l,1,!1,null,null,d,f,null,x,b,j,Wy),l[ua]=r.current,ym(l),new Pm(r)},Uo.hydrateRoot=function(l,r,d){if(!i(l))throw Error(a(299));var f=!1,x="",b=Qg,j=eb,S=tb,A=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(j=d.onCaughtError),d.onRecoverableError!==void 0&&(S=d.onRecoverableError),d.formState!==void 0&&(A=d.formState)),r=Ry(l,1,!0,r,d??null,f,x,A,b,j,S,Wy),r.context=Ly(null),d=r.current,f=ln(),f=Bi(f),x=nl(f),x.callback=null,al(d,x,f),d=f,r.current.lanes=d,ql(r,d),Yn(r),l[ua]=r.current,ym(l),new Ud(r)},Uo.version="19.2.3",Uo}var s1;function Oz(){if(s1)return Im.exports;s1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=Dz(),Im.exports}var Rz=Oz();const Lz=gx(Rz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),n1=t=>{const e=Bz(t);return e.charAt(0).toUpperCase()+e.slice(1)},mw=(...t)=>t.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim(),Pz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=pe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:c,...u},h)=>pe.createElement("svg",{ref:h,...Uz,width:e,height:e,stroke:t,strokeWidth:a?Number(s)*24/Number(e):s,className:mw("lucide",i),...!o&&!Pz(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,p])=>pe.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(t,e)=>{const s=pe.forwardRef(({className:a,...i},o)=>pe.createElement(Hz,{ref:o,iconNode:e,className:mw(`lucide-${_z(n1(t))}`,`lucide-${t}`,a),...i}));return s.displayName=n1(t),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],$z=me("arrow-down",Iz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bl=me("arrow-left",qz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],a1=me("arrow-right",Vz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],pw=me("arrow-up-right",Wz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Gz=me("arrow-up",Kz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ap=me("award",Fz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xw=me("badge-check",Zz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qn=me("bell",Yz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Xz=me("bold",Jz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Id=me("book-open",Qz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Gs=me("building-2",eS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],sS=me("calendar-clock",tS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],l1=me("calendar-days",nS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fh=me("calendar",aS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ia=me("chart-column",lS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],mh=me("chart-line",iS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bx=me("check",rS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ei=me("chevron-down",oS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dt=me("chevron-right",cS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gw=me("circle-alert",dS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ls=me("circle-check-big",uS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cr=me("circle-check",hS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nc=me("circle-play",fS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i1=me("circle-question-mark",mS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mr=me("circle-x",pS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Dp=me("clipboard-check",xS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ci=me("clock",gS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],yS=me("code",bS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ph=me("credit-card",vS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$r=me("download",wS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bc=me("eye",jS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ea=me("file-text",NS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bw=me("funnel",kS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],SS=me("globe",zS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],rs=me("graduation-cap",CS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],r1=me("hard-hat",MS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],TS=me("image",ES);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],DS=me("info",AS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],RS=me("italic",OS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],xh=me("layers",LS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],gh=me("layout-dashboard",_S);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],PS=me("library-big",BS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],HS=me("link",US);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],$S=me("list-checks",IS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],VS=me("list-ordered",qS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],KS=me("list",WS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],FS=me("lock",GS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$a=me("log-out",ZS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qa=me("mail",YS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],XS=me("map-pin",JS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qr=me("menu",QS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],o1=me("monitor-play",eC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Rr=me("phone",tC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nC=me("play",sC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yx=me("plus",aC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],yw=me("printer",lC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],rC=me("quote",iC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],vw=me("receipt",oC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],vx=me("refresh-ccw",cC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ti=me("save",dC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aa=me("search",uC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cn=me("settings",hC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],mC=me("share-2",fC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wx=me("shield-check",pC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wm=me("shield",xC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ai=me("square-pen",gC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],yC=me("table",bC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vr=me("trash-2",vC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wi=me("trending-up",wC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ju=me("triangle-alert",jC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],kC=me("trophy",NC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Er=me("truck",zC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],CC=me("user-plus",SC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Va=me("user",MC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zs=me("users",EC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],c1=me("wallet",TC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Km=me("wrench",AC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ac=me("x",DC),ui=t=>`/multiserwis-kutno/${t}`.replace("//","/"),ww={PL:{nav:{home:"Start",catalog:"Szkolenia",rentals:"Wynajem",contact:"Kontakt",admin:"Panel Managera",lms:"Strefa Kursanta"},hero:{badge:"Nowe terminy szkole 2026",title:"Zdobd uprawnienia operatora",subtitle:"online i stacjonarnie",desc:"Kompleksowe kursy UDT z dostpem do teorii w e-learningu. Praktyka na nowoczesnym sprzcie.",cta1:"Przegldaj szkolenia",cta2:"Usugi serwisowe"}},EN:{nav:{home:"Home",catalog:"Courses",rentals:"Rentals",contact:"Contact",admin:"Manager Panel",lms:"Student Zone"},hero:{badge:"New training dates 2026",title:"Get operator certification",subtitle:"online and on-site",desc:"Comprehensive UDT courses with e-learning theory access. Practice on modern equipment.",cta1:"Browse Courses",cta2:"Service & Repairs"}},UA:{nav:{home:"",catalog:"",rentals:"",contact:"",admin:" ",lms:" "},hero:{badge:"   2026",title:"  ",subtitle:"  ",desc:"  UDT      e-learning.    .",cta1:" ",cta2:" "}}},OC={PL:{title:"Kurs na adowarki Teleskopowe UDT (I WJO) | MultiSerwis Kutno",description:"Zrb uprawnienia na adowarki teleskopowe w Kutnie. Teoria online, egzamin pastwowy UDT. Najwysza zdawalno w regionie.",keywords:"kurs adowarki teleskopowe, szkolenia udt kutno, uprawnienia na adowarki, operator adowarki cena",ogTitle:"Zdobd uprawnienia na adowarki Teleskopowe - Szybko i Skutecznie",ogDescription:"Szkolenie hybrydowe: teoria w domu, praktyka na placu. Zapisz si ju dzi!"},EN:{title:"Telescopic Handler Training UDT (I WJO) | MultiSerwis Poland",description:"Get certified for telescopic loaders in Kutno, Poland. Online theory, UDT state exam. Highest pass rate in the region.",keywords:"telescopic handler training, udt poland, loader certification, heavy machinery course",ogTitle:"Get your Telescopic Loader License - Fast & Effective",ogDescription:"Hybrid training: theory at home, practice on site. Sign up today!"},UA:{title:"    UDT (I WJO) | MultiSerwis ",description:"      .  ,   UDT.    .",keywords:"  ,  udt ,  ,   ",ogTitle:"     -   ",ogDescription:" :  ,   .  !"}},Pn=[{id:"c1",title:"Operator Wzkw Widowych (I WJO)",category:"UDT",duration:"35h",price:"650 PLN",image:ui("operator-wozki-widlowe.webp"),isPopular:!0,description:"Ucz si teorii w domu, przyjed tylko na egzamin praktyczny. Oszczd czas i pienidze dziki naszej platformie e-learningowej. Gwarantujemy materiay wideo 4K, testy prbne identyczne z pastwowymi oraz 100% wsparcia instruktora."},{id:"c2",title:"adowarki Teleskopowe - Pene Uprawnienia",category:"UDT",duration:"40h",price:"850 PLN",image:ui("ladowarki-teleskopowe.webp"),isPopular:!0,description:"Szkolenie na wielozadaniowe noniki osprztu. Najbardziej poszukiwane uprawnienia w budownictwie."},{id:"c3",title:"Uprawnienia Energetyczne G1 (Eksploatacja)",category:"SEP",duration:"8h",price:"400 PLN",image:ui("uprawnienia-energetyczne-g1.webp"),description:"Kurs przygotowawczy do egzaminu kwalifikacyjnego na stanowisku Eksploatacji."},{id:"c4",title:"Suwnice i Wcigniki",category:"UDT",duration:"24h",price:"600 PLN",image:ui("suwnice-wciagniki.webp"),description:"Obsuga suwnic sterowanych z poziomu roboczego oraz kabiny."}],d1=[{id:"m1",name:"Manitou MRT 2150",type:"adowarka Teleskopowa",specs:{height:"21m",capacity:"5000kg"},image:ui("manitou-mrt-2150.webp")},{id:"m2",name:"Genie Z-45/25J",type:"Podnonik Przegubowy",specs:{height:"16m",weight:"6500kg"},image:ui("genie-z-4525j.webp")},{id:"m3",name:"JCB 3CX",type:"Koparko-adowarka",specs:{weight:"8000kg",capacity:"1.2m"},image:ui("jcb-3cx.webp")}],Gm=[{id:"uc1",courseId:"c1",progress:45,status:"active",nextLesson:"Bezpieczestwo wymiany butli LPG"},{id:"uc2",courseId:"c3",progress:100,status:"completed",nextLesson:"Egzamin zakoczony"}],kn=[{id:"c1m1",courseId:"c1",title:"Modu 1: Budowa i Zasady Pracy",lessons:[{id:"c1l1",title:"Wprowadzenie i typy wzkw widowych",duration:"15:00",isCompleted:!0,isLocked:!1,type:"video"},{id:"c1l2",title:"Ukad napdowy i mechanizm podnoszenia",duration:"22:30",isCompleted:!0,isLocked:!1,type:"video"},{id:"c1l6a",title:"Przepisy BHP i normy bezpieczestwa",duration:"8:00",isCompleted:!1,isLocked:!1,type:"text"},{id:"c1l7",title:"Test wiedzy - Modu 1",duration:"8 pyta",isCompleted:!1,isLocked:!1,type:"test",questions:[{id:"q1",question:"Jakie bezpieczestwo jest najwaniejsze przy wymianie butli LPG?",type:"single",options:["Bezpieczestwo elektryczne","Bezpieczestwo mechaniczne","Bezpieczestwo chemiczne","Wszystkie wyej wymienione"],correctAnswer:3,explanation:"Przy wymianie butli LPG wszystkie rodzaje bezpieczestwa s wane."},{id:"q2",question:"Wybierz wszystkie czynnoci, ktre naley wykona przed rozpoczciem pracy:",type:"multiple",options:["Sprawdzi hamulce","Sprawdzi stan psychiczny operatora","Sprawdzi widoczno","Sprawdzi opony","Zatankowa paliwo"],correctAnswer:[0,2,3],explanation:"Naley sprawdzi hamulce, widoczno i opony. Stan psychiczny i tankowanie nie s czci rutynowej kontroli przedstartowej."},{id:"q3",question:"Opisz procedur bezpiecznego zatrzymania wzka widowego:",type:"open",explanation:"Prawidowa odpowied powinna zawiera: redukcj prdkoci, pynne hamowanie, obnienie adunku do poziomu jazdy i wyczenie silnika."},{id:"q4",question:"Ile wynosi maksymalny kt nachylenia terenu, na ktrym mona bezpiecznie pracowa wzkiem widowym?",type:"single",options:["5 stopni","10 stopni","15 stopni","20 stopni"],correctAnswer:1,explanation:"Maksymalny bezpieczny kt nachylenia terenu to okoo 10 stopni, aby unikn przechylenia wzka."}]}]},{id:"c1m2",courseId:"c1",title:"Modu 2: Eksploatacja i Dokumentacja",lessons:[{id:"c1l4",title:"Czynnoci przed rozpoczciem pracy",duration:"12:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l5",title:"Bezpieczestwo wymiany butli LPG",duration:"25:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l6b",title:"Dokumentacja techniczna wzka",duration:"5:00",isCompleted:!1,isLocked:!1,type:"text"},{id:"c1l6",title:"Diagram udwigu - czytanie wykresw",duration:"30:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l2test",title:"Test wiedzy - Modu 2",duration:"10 pyta",isCompleted:!1,isLocked:!1,type:"test",questions:[{id:"q2_1",question:"Jak czsto naley wykonywa przegld przed rozpoczciem pracy?",type:"single",options:["Raz w tygodniu","Przed kad zmian robocz","Raz w miesicu","Tylko gdy pojawi si usterka"],correctAnswer:1,explanation:"Przegld przedstartowy naley wykonywa przed kad zmian robocz, aby zapewni bezpieczn eksploatacj."},{id:"q2_2",question:"Wybierz wszystkie elementy, ktre naley sprawdzi przed wymian butli LPG:",type:"multiple",options:["Szczelno instalacji","Kolor butli","Stan zaworw","Dat wanoci butli","Mark butli"],correctAnswer:[0,2,3],explanation:"Naley sprawdzi szczelno instalacji, stan zaworw i dat wanoci butli. Kolor i marka nie s kluczowe dla bezpieczestwa."},{id:"q2_3",question:"Opisz, co oznaczaj poszczeglne linie na wykresie diagramu udwigu:",type:"open",explanation:"Diagram udwigu przedstawia maksymalne obcienie w zalenoci od wysokoci podnoszenia i odlegoci rodka cikoci adunku. Linie pokazuj granice bezpiecznego udwigu."}]}]},{id:"c1m3",courseId:"c1",title:"Modu 3: Dozr Techniczny i Egzamin",lessons:[{id:"c1l8",title:"Przepisy prawne i obowizki pracodawcy",duration:"20:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l8a",title:"Wymagania formalne i prawne UDT",duration:"10:00",isCompleted:!1,isLocked:!1,type:"text"},{id:"c1l9",title:"Dokumentacja techniczno-ruchowa",duration:"15:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c1l10",title:"Egzamin kocowy",duration:"12 pyta",isCompleted:!1,isLocked:!1,type:"test",questions:[{id:"eq1",question:"Ktre przepisy prawne reguluj obsug wzkw widowych w Polsce?",type:"multiple",options:["Kodeks pracy","Przepisy BHP","Rozporzdzenie Ministra Gospodarki","Ustawa o ochronie konkurencji","Norma PN-EN 16307-1"],correctAnswer:[0,1,2,4],explanation:"Obsug wzkw widowych reguluj Kodeks pracy, przepisy BHP, rozporzdzenie Ministra Gospodarki oraz norma PN-EN 16307-1. Ustawa o ochronie konkurencji nie dotyczy tej kwestii."},{id:"eq2",question:"Co zawiera dokumentacja techniczno-ruchowa wzka widowego?",type:"single",options:["Tylko map tras jazdy","Dane techniczne, histori remontw i przegldy","Tylko aktualne przegldy UDT","Numer seryjny i kolor"],correctAnswer:1,explanation:"Dokumentacja techniczno-ruchowa zawiera pene dane techniczne, histori przeprowadzonych remontw i wszystkie wykonane przegldy."},{id:"eq3",question:"Opisz rol inspektora UDT przy zatwierdzaniu wzka do pracy:",type:"open",explanation:"Inspektor UDT sprawdza stan techniczny wzka, weryfikuje bezpieczestwo eksploatacji i zgodno z obowizujcymi normami. Po pozytywnym wyniku kontroli wydaje zawiadczenie o przydatnoci do uytkowania."},{id:"eq4",question:"Jaki jest okres wanoci przegldu UDT dla wzkw widowych objtych dozorem?",type:"single",options:["6 miesicy","1 rok","2 lata","3 lata"],correctAnswer:1,explanation:"Przegld UDT dla wzkw widowych objtych dozorem technicznym naley przeprowadza co 12 miesicy."},{id:"eq5",question:"Wybierz wszystkie dokumenty, ktre powinny towarzyszy wzkowi widowemu objtemu dozorem:",type:"multiple",options:["Dowd rejestracyjny pojazdu","Karta przegldu okresowego","Zawiadczenie UDT o dopuszczeniu do eksploatacji","Karta tankowania paliwa","Ksika rewizyjna UDT"],correctAnswer:[1,2,4],explanation:"Wzkowi objtemu dozorem powinny towarzyszy: karta przegldu okresowego, zawiadczenie UDT i ksika rewizyjna. Dowd rejestracyjny dotyczy pojazdw drogowych, a karta tankowania nie jest dokumentem obowizkowym."},{id:"eq6",question:"Od jakiego wieku mona uzyska uprawnienia do obsugi wzkw widowych?",type:"single",options:["16 lat","18 lat","21 lat","25 lat"],correctAnswer:1,explanation:"Minimalna wymagana wiek do uzyskania uprawnie to 18 lat (dla niektrych kategorii wzkw moe by wymagane 21 lat)."},{id:"eq7",question:"Jakie badania musi przej kandydat na operatora wzka widowego?",type:"multiple",options:["Badania lekarskie","Badania psychologiczne","Badania techniczne","Badania chemiczne","Test wiedzy teoretycznej"],correctAnswer:[0,1,4],explanation:"Kandydat musi przej badania lekarskie, psychologiczne oraz test wiedzy teoretycznej. Badania techniczne i chemiczne nie s wymagane."},{id:"eq8",question:"Wyjanij, co to jest tabela znamionowa wzka widowego i jakie informacje zawiera:",type:"open",explanation:"Tabela znamionowa to trwale przymocowana tabliczka zawierajca kluczowe dane: nazw producenta, typ, numer seryjny, rok produkcji, udwig nominalny (Q), odlego rodka cikoci adunku (c), maksymaln wysoko podnoszenia i mas wasn wzka. Jest to podstawowy dokument identyfikacyjny."}]}]},{id:"c2m1",courseId:"c2",title:"Modu 1: Budowa i Funkcje",lessons:[{id:"c2l1",title:"Wprowadzenie do adowarek teleskopowych",duration:"20:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l2",title:"Ukad hydrauliczny i teleskop",duration:"28:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l3",title:"Wymienne osprzty",duration:"22:00",isCompleted:!1,isLocked:!1,type:"video"}]},{id:"c2m2",courseId:"c2",title:"Modu 2: Obsuga i Bezpieczestwo",lessons:[{id:"c2l4",title:"Zasady bezpiecznej pracy",duration:"18:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l5",title:"Stabilno adowarki",duration:"24:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l6",title:"Praca na wysokoci",duration:"26:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l7",title:"Test praktyczny - symulacja",duration:"30 min",isCompleted:!1,isLocked:!1,type:"test"}]},{id:"c2m3",courseId:"c2",title:"Modu 3: Konserwacja",lessons:[{id:"c2l8",title:"Przegldy okresowe",duration:"16:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l9",title:"Typowe awarie i ich eliminacja",duration:"20:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c2l10",title:"Egzamin kocowy",duration:"25 pyta",isCompleted:!1,isLocked:!1,type:"quiz"}]},{id:"c3m1",courseId:"c3",title:"Modu 1: Podstawy Elektrotechniki",lessons:[{id:"c3l1",title:"Prawo Ohma i Kirchhoffa",duration:"25:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l2",title:"Obwody prdu staego i zmiennego",duration:"30:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l3",title:"Bezpieczestwo pracy z prdem",duration:"35:00",isCompleted:!1,isLocked:!1,type:"video"}]},{id:"c3m2",courseId:"c3",title:"Modu 2: Urzdzenia i Instalacje",lessons:[{id:"c3l4",title:"Rozdzielnice i tablice",duration:"28:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l5",title:"Zabezpieczenia nadprdowe",duration:"32:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l6",title:"Ochrona przeciwporaeniowa",duration:"40:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l7",title:"Test wiedzy - Modu 2",duration:"20 pyta",isCompleted:!1,isLocked:!1,type:"quiz"}]},{id:"c3m3",courseId:"c3",title:"Modu 3: Eksploatacja",lessons:[{id:"c3l8",title:"Przepisy i normy",duration:"22:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l9",title:"Pomiary elektryczne",duration:"35:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l10",title:"Dokumentacja eksploatacyjna",duration:"18:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c3l11",title:"Egzamin kocowy",duration:"30 pyta",isCompleted:!1,isLocked:!1,type:"quiz"}]},{id:"c4m1",courseId:"c4",title:"Modu 1: Budowa Suwnic",lessons:[{id:"c4l1",title:"Typy i konstrukcja suwnic",duration:"24:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l2",title:"Mechanizmy podnoszenia",duration:"28:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l3",title:"Wcigniki i zawiesia",duration:"20:00",isCompleted:!1,isLocked:!1,type:"video"}]},{id:"c4m2",courseId:"c4",title:"Modu 2: Obsuga Suwnic",lessons:[{id:"c4l4",title:"Sterowanie i manewrowanie",duration:"26:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l5",title:"Bezpieczestwo przy podnoszeniu",duration:"30:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l6",title:"Sygnay i komunikacja",duration:"16:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l7",title:"Test praktyczny",duration:"25 min",isCompleted:!1,isLocked:!1,type:"test"}]},{id:"c4m3",courseId:"c4",title:"Modu 3: Konserwacja i UDT",lessons:[{id:"c4l8",title:"Przegldy techniczne",duration:"22:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l9",title:"Przepisy UDT dla dwignic",duration:"28:00",isCompleted:!1,isLocked:!1,type:"video"},{id:"c4l10",title:"Egzamin kocowy",duration:"25 pyta",isCompleted:!1,isLocked:!1,type:"quiz"}]}],kt=[{id:"s1",name:"Adam Nowak",email:"adam.n@firma.pl",company:"LogiTrans Sp. z o.o.",course:"c1",progress:85,expirationDays:12,status:"active",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5","c1l6","c1l7","c1l8","c1l9"]},{id:"s1-c3",name:"Adam Nowak",email:"adam.n@firma.pl",company:"LogiTrans Sp. z o.o.",course:"c3",progress:35,expirationDays:45,status:"active",completedLessons:["c3l1","c3l2","c3l3"]},{id:"s3",name:"Anna Winiewska",email:"a.wisniewska@logistics.com",company:"DHL Supply Chain",course:"c1",progress:95,expirationDays:2,status:"warning",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5","c1l6","c1l7","c1l8","c1l9"]},{id:"s6",name:"Tomasz Lewandowski",email:"t.lewandowski@magazyn.pl",company:"Amazon Fulfillment Poland",course:"c1",progress:45,expirationDays:28,status:"active",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5"]},{id:"s7",name:"Katarzyna Kaczmarek",email:"k.kaczmarek@transport.eu",company:"Trans-Evropa Sp. z o.o.",course:"c1",progress:100,expirationDays:90,status:"active",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5","c1l6","c1l7","c1l8","c1l9","c1l10"]},{id:"s7-c2",name:"Katarzyna Kaczmarek",email:"k.kaczmarek@transport.eu",company:"Trans-Evropa Sp. z o.o.",course:"c2",progress:60,expirationDays:85,status:"active",completedLessons:["c2l1","c2l2","c2l3","c2l4","c2l5","c2l6"]},{id:"s8",name:"Micha Szymaski",email:"m.szymanski@logistyka.com",company:"LogiTrans Sp. z o.o.",course:"c1",progress:30,expirationDays:55,status:"active",completedLessons:["c1l1","c1l2","c1l3"]},{id:"s2",name:"Krzysztof Kowalczyk",email:"k.kowalczyk@budimex.pl",company:"Budimex S.A.",course:"c2",progress:20,expirationDays:45,status:"active",completedLessons:["c2l1","c2l2"]},{id:"s2-c4",name:"Krzysztof Kowalczyk",email:"k.kowalczyk@budimex.pl",company:"Budimex S.A.",course:"c4",progress:15,expirationDays:60,status:"active",completedLessons:["c4l1"]},{id:"s9",name:"Pawe Woniak",email:"p.wozniak@budowa.pl",company:"DHL Supply Chain",course:"c2",progress:70,expirationDays:18,status:"active",completedLessons:["c2l1","c2l2","c2l3","c2l4","c2l5","c2l6","c2l7"]},{id:"s10",name:"Magdalena Dbrowska",email:"m.dabrowska@construction.eu",company:"LogiTrans Sp. z o.o.",course:"c2",progress:55,expirationDays:34,status:"active",completedLessons:["c2l1","c2l2","c2l3","c2l4","c2l5"]},{id:"s11",name:"Bartosz Kamiski",email:"b.kaminski@sprzet.com",company:"Trans-Evropa Sp. z o.o.",course:"c2",progress:100,expirationDays:75,status:"active",completedLessons:["c2l1","c2l2","c2l3","c2l4","c2l5","c2l6","c2l7","c2l8","c2l9","c2l10"]},{id:"s11-c1",name:"Bartosz Kamiski",email:"b.kaminski@sprzet.com",company:"Trans-Evropa Sp. z o.o.",course:"c1",progress:100,expirationDays:120,status:"active",completedLessons:["c1l1","c1l2","c1l3","c1l4","c1l5","c1l6","c1l7","c1l8","c1l9","c1l10"]},{id:"s4",name:"Piotr Zieliski",email:"p.zielinski@serwis.pl",company:"DHL Supply Chain",course:"c3",progress:0,expirationDays:60,status:"active",completedLessons:[]},{id:"s12",name:"ukasz Jankowski",email:"l.jankowski@elektro.pl",company:"Amazon Fulfillment Poland",course:"c3",progress:80,expirationDays:25,status:"active",completedLessons:["c3l1","c3l2","c3l3","c3l4","c3l5","c3l6","c3l7","c3l8","c3l9"]},{id:"s13",name:"Joanna Mazur",email:"j.mazur@energetyka.com",company:"Budimex S.A.",course:"c3",progress:40,expirationDays:48,status:"active",completedLessons:["c3l1","c3l2","c3l3","c3l4"]},{id:"s14",name:"Robert Wieczorek",email:"r.wieczorek@zakad.pl",company:"Tauron Dystrybucja",course:"c3",progress:90,expirationDays:3,status:"warning",completedLessons:["c3l1","c3l2","c3l3","c3l4","c3l5","c3l6","c3l7","c3l8","c3l9","c3l10"]},{id:"s15",name:"Grzegorz Piotrowski",email:"g.piotrowski@przemysl.pl",company:"ArcelorMittal Poland",course:"c4",progress:65,expirationDays:40,status:"active",completedLessons:["c4l1","c4l2","c4l3","c4l4","c4l5","c4l6"]},{id:"s16",name:"Ewa Grabowska",email:"e.grabowska@fabryka.com",company:"KGHM Polska Mied",course:"c4",progress:100,expirationDays:120,status:"active",completedLessons:["c4l1","c4l2","c4l3","c4l4","c4l5","c4l6","c4l7","c4l8","c4l9","c4l10"]},{id:"s16-c3",name:"Ewa Grabowska",email:"e.grabowska@fabryka.com",company:"KGHM Polska Mied",course:"c3",progress:55,expirationDays:100,status:"active",completedLessons:["c3l1","c3l2","c3l3","c3l4","c3l5","c3l6"]},{id:"s17",name:"Daniel Krl",email:"d.krol@hala.eu",company:"Volkswagen Pozna",course:"c4",progress:25,expirationDays:50,status:"active",completedLessons:["c4l1","c4l2"]},{id:"s18",name:"Monika Sikora",email:"m.sikora@magazyn.pl",company:"Indywidualny",course:"c4",progress:0,expirationDays:0,status:"expired",completedLessons:[]}],jw=[{name:"Wzki Widowe",value:45,color:"#003d4d"},{name:"adowarki",value:30,color:"#ff6600"},{name:"Koparki",value:15,color:"#005c73"},{name:"SEP",value:10,color:"#94a3b8"}],RC=t=>t,ta=({onClick:t,variant:e="default"})=>{const s=e==="sidebar"?"flex items-center gap-3 cursor-pointer group":"flex items-center gap-2 cursor-pointer group",a=e==="sidebar"?"w-9 h-9 bg-brand-accent rounded-sm flex items-center justify-center transform group-hover:rotate-45 transition-transform duration-300 p-1":"w-10 h-10 bg-brand-accent rounded-sm flex items-center justify-center transform group-hover:rotate-45 transition-transform duration-300 p-1",i=e==="sidebar"?"text-xl font-heading font-extrabold text-white leading-none tracking-tight":"text-2xl font-heading font-extrabold text-white leading-none tracking-tight";return n.jsxs("div",{className:s,onClick:t,role:t?"button":void 0,children:[n.jsx("div",{className:a,children:n.jsx("img",{src:RC("logo.svg"),alt:"MultiSerwis Logo",className:"w-full h-full scale-[0.85] group-hover:scale-100 transform group-hover:-rotate-45 transition-transform duration-300"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:i,children:["MULTI",n.jsx("span",{className:"text-brand-accent",children:"SERWIS"})]}),n.jsx("span",{className:"text-[10px] text-slate-300 font-medium tracking-[0.2em] uppercase leading-none mt-1",children:"Profesjonalne Szkolenia"})]})]})},LC=({children:t,currentView:e,setView:s,language:a,setLanguage:i,setCatalogCategory:o,onShowLoginModal:c,isLoggedIn:u,userName:h,onLogout:m,onShowNewPanel:p})=>{const[g,y]=pe.useState(!1),[v,w]=pe.useState(!1),[N,k]=pe.useState(!1),[z,E]=pe.useState(!1),[R,H]=pe.useState(!1),[I,W]=pe.useState(!1),$=ww[a].nav;pe.useEffect(()=>{const T=()=>{y(window.scrollY>20)};return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[]);const Y=T=>`
    cursor-pointer text-sm font-bold uppercase tracking-wider transition-colors duration-300
    ${e===T?"text-brand-accent":"text-white hover:text-brand-accent"}
  `;return n.jsxs("div",{className:"min-h-screen flex flex-col bg-brand-surface text-slate-800",children:[n.jsx("div",{className:"bg-brand-dark text-slate-400 py-2 px-4 text-xs md:text-sm border-b border-brand-secondary/30 relative z-[60]",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[n.jsxs("div",{className:"flex space-x-6",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Rr,{size:14,className:"text-brand-accent"})," +48 730 101 000"]}),n.jsxs("span",{className:"flex items-center gap-2 hidden md:flex",children:[n.jsx(qa,{size:14,className:"text-brand-accent"})," biuro@multiserwis.pl"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"font-semibold text-brand-accent uppercase tracking-wide hidden sm:block",children:"Profesjonalne Szkolenia UDT"}),n.jsxs("div",{className:"relative hidden md:block",children:[n.jsxs("button",{onClick:()=>k(!N),className:"flex items-center gap-1 text-white hover:text-brand-accent transition-colors font-bold",children:[n.jsx(SS,{size:14})," ",a," ",n.jsx(Dt,{size:10,className:`transform transition-transform ${N?"rotate-90":""}`})]}),N&&n.jsx("div",{className:"absolute right-0 top-full mt-2 w-auto bg-white rounded shadow-lg border border-slate-200 py-1 z-50",children:["PL","UA","EN"].map(T=>n.jsxs("div",{onClick:()=>{i(T),k(!1)},className:`
                          px-4 py-2 text-xs font-bold cursor-pointer hover:bg-slate-50 hover:text-brand-accent flex items-center gap-2
                          ${a===T?"text-brand-accent":"text-slate-600"}
                        `,children:[T," ",a===T&&n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-brand-accent"})]},T))})]})]})]})}),n.jsxs("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${g?"bg-brand-primary shadow-xl py-3":"bg-brand-primary/95 backdrop-blur-sm py-5"}`,children:[n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 flex justify-between items-center",children:[n.jsx(ta,{onClick:()=>s("HOME")}),n.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[n.jsxs("div",{className:"relative group",onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),children:[n.jsxs("span",{onClick:()=>s("CATALOG"),className:`${Y("CATALOG")} flex items-center gap-1`,children:[$.catalog," ",n.jsx(Dt,{size:14,className:`transform transition-transform ${R?"rotate-90":""}`})]}),R&&n.jsx("div",{className:"absolute left-0 top-full pt-2 w-56 z-50",children:n.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-slate-200 overflow-hidden",children:[n.jsxs("div",{onClick:()=>{o("Wszystkie"),s("CATALOG"),H(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2",children:[n.jsx(rs,{size:16})," Wszystkie szkolenia"]}),n.jsx("div",{className:"border-t border-slate-100"}),[{name:"UDT",label:"Urzdzenia UDT"},{name:"SEP",label:"Uprawnienia SEP"},{name:"BHP",label:"BHP i PPO"},{name:"Inne",label:"Maszyny Budowlane"}].map(T=>n.jsxs("div",{onClick:()=>{o(T.label),s("CATALOG"),H(!1)},className:"px-4 py-2 text-sm text-slate-600 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors",children:["Szkolenia ",T.name]},T.name))]})})]}),n.jsxs("div",{className:"relative group",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[n.jsxs("span",{className:`cursor-pointer text-sm font-bold uppercase tracking-wider transition-colors duration-300 ${e==="RENTALS"||e==="SERVICES"?"text-brand-accent":"text-white hover:text-brand-accent"} flex items-center gap-1`,children:["Usugi ",n.jsx(Dt,{size:14,className:`transform transition-transform ${z?"rotate-90":""}`})]}),z&&n.jsx("div",{className:"absolute left-0 top-full pt-2 w-56 z-50",children:n.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-slate-200 overflow-hidden",children:[n.jsxs("div",{onClick:()=>{s("RENTALS"),E(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2",children:[n.jsx(Er,{size:16})," Wynajem maszyn"]}),n.jsxs("div",{onClick:()=>{s("SERVICES"),E(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2",children:[n.jsx(r1,{size:16})," Serwis i konserwacja"]})]})})]}),n.jsx("span",{onClick:()=>s("CONTACT"),className:Y("CONTACT"),children:$.contact}),u?n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-white text-sm font-bold",children:h}),n.jsx("button",{onClick:m,className:"px-4 py-2 rounded-sm font-bold text-xs uppercase tracking-wide bg-brand-accent text-white hover:bg-brand-accentHover transition-colors",children:"Wyloguj"})]}):n.jsxs("button",{onClick:c,className:"px-5 py-2 rounded-sm font-bold text-sm uppercase tracking-wide transition-all bg-brand-accent text-white hover:bg-brand-accentHover shadow-lg",children:[n.jsx(Va,{size:16,className:"inline mr-2"}),"Zaloguj"]}),p&&n.jsxs("div",{className:"relative group",onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1),children:[n.jsxs("span",{className:`cursor-pointer text-sm font-bold uppercase tracking-wider transition-colors duration-300 ${e==="NEW_ADMIN_PANEL"||e==="NEW_MANAGER_PANEL"||e==="NEW_GUARDIAN_PANEL"||e==="NEW_STUDENT_PANEL"||I?"text-brand-accent":"text-white hover:text-brand-accent"} flex items-center gap-1`,children:["Nowe panele ",n.jsx(Dt,{size:14,className:`transform transition-transform ${I?"rotate-90":""}`})]}),I&&n.jsx("div",{className:"absolute right-0 top-full pt-2 w-72 z-50",children:n.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-slate-200 overflow-hidden",children:[n.jsxs("div",{onClick:()=>{p("admin"),W(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2",children:[n.jsx(Wm,{size:16})," Panel administratora (nowy)"]}),n.jsxs("div",{onClick:()=>{p("manager"),W(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2 border-t border-slate-100",children:[n.jsx(Ia,{size:16})," Panel managera (nowy)"]}),n.jsxs("div",{onClick:()=>{p("guardian"),W(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2 border-t border-slate-100",children:[n.jsx(Gs,{size:16})," Strefa opiekuna (nowa)"]}),n.jsxs("div",{onClick:()=>{p("student"),W(!1)},className:"px-4 py-3 text-sm font-bold text-slate-700 hover:bg-brand-accent hover:text-white cursor-pointer transition-colors flex items-center gap-2 border-t border-slate-100",children:[n.jsx(rs,{size:16})," Strefa kursanta (nowa)"]})]})})]})]}),n.jsx("div",{className:"md:hidden text-white",onClick:()=>w(!v),children:v?n.jsx(ac,{size:28}):n.jsx(qr,{size:28})})]}),v&&n.jsx("div",{className:"md:hidden absolute top-full left-0 w-full bg-brand-primary border-t border-brand-secondary/50 shadow-2xl",children:n.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[n.jsxs("div",{className:"border-b border-brand-secondary/30",children:[n.jsxs("div",{onClick:()=>H(!R),className:"text-white font-bold py-2 flex items-center justify-between cursor-pointer",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(rs,{size:16})," ",$.catalog]}),n.jsx(Dt,{size:16,className:`transform transition-transform ${R?"rotate-90":""}`})]}),R&&n.jsxs("div",{className:"pl-6 py-2 space-y-2",children:[n.jsx("div",{onClick:()=>{o("Wszystkie"),s("CATALOG"),w(!1)},className:"text-slate-300 text-sm py-1",children:"Wszystkie szkolenia"}),[{name:"UDT",label:"Urzdzenia UDT"},{name:"SEP",label:"Uprawnienia SEP"},{name:"BHP",label:"BHP i PPO"},{name:"Inne",label:"Maszyny Budowlane"}].map(T=>n.jsxs("div",{onClick:()=>{o(T.label),s("CATALOG"),w(!1)},className:"text-slate-300 text-sm py-1",children:["Szkolenia ",T.name]},T.name))]})]}),n.jsxs("div",{className:"border-b border-brand-secondary/30",children:[n.jsxs("div",{onClick:()=>E(!z),className:"text-white font-bold py-2 flex items-center justify-between cursor-pointer",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Er,{size:16})," Usugi"]}),n.jsx(Dt,{size:16,className:`transform transition-transform ${z?"rotate-90":""}`})]}),z&&n.jsxs("div",{className:"pl-6 py-2 space-y-2",children:[n.jsxs("div",{onClick:()=>{s("RENTALS"),w(!1)},className:"text-slate-300 text-sm py-1 flex items-center gap-2",children:[n.jsx(Er,{size:14})," Wynajem maszyn"]}),n.jsxs("div",{onClick:()=>{s("SERVICES"),w(!1)},className:"text-slate-300 text-sm py-1 flex items-center gap-2",children:[n.jsx(r1,{size:14})," Serwis i konserwacja"]})]})]}),n.jsx("span",{onClick:()=>{s("CONTACT"),w(!1)},className:"text-white font-bold py-2 border-b border-brand-secondary/30",children:$.contact}),u?n.jsxs("div",{className:"flex items-center justify-between border-b border-brand-secondary/30 pb-2",children:[n.jsx("span",{className:"text-white text-sm font-bold",children:h}),n.jsx("button",{onClick:()=>{m==null||m(),w(!1)},className:"px-4 py-2 rounded-sm font-bold text-xs uppercase bg-brand-accent text-white hover:bg-brand-accentHover",children:"Wyloguj"})]}):n.jsxs("button",{onClick:()=>{c==null||c(),w(!1)},className:"text-white font-bold py-2 border-b border-brand-secondary/30 flex items-center gap-2 bg-brand-accent px-4 rounded",children:[n.jsx(Va,{size:16})," Zaloguj"]}),p&&n.jsxs("div",{className:"border-b border-brand-secondary/30",children:[n.jsxs("div",{onClick:()=>W(!I),className:"text-white font-bold py-2 flex items-center justify-between cursor-pointer",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Wm,{size:16})," Nowe panele"]}),n.jsx(Dt,{size:16,className:`transform transition-transform ${I?"rotate-90":""}`})]}),I&&n.jsxs("div",{className:"pl-6 py-2 space-y-2",children:[n.jsxs("div",{onClick:()=>{p("admin"),w(!1),W(!1)},className:"text-slate-300 text-sm py-1 flex items-center gap-2",children:[n.jsx(Wm,{size:14})," Panel administratora (nowy)"]}),n.jsxs("div",{onClick:()=>{p("manager"),w(!1),W(!1)},className:"text-slate-300 text-sm py-1 flex items-center gap-2",children:[n.jsx(Ia,{size:14})," Panel managera (nowy)"]}),n.jsxs("div",{onClick:()=>{p("guardian"),w(!1),W(!1)},className:"text-slate-300 text-sm py-1 flex items-center gap-2",children:[n.jsx(Gs,{size:14})," Strefa opiekuna (nowa)"]}),n.jsxs("div",{onClick:()=>{p("student"),w(!1),W(!1)},className:"text-slate-300 text-sm py-1 flex items-center gap-2",children:[n.jsx(rs,{size:14})," Strefa kursanta (nowa)"]})]})]}),n.jsx("div",{className:"flex gap-4 pt-2 justify-center",children:["PL","UA","EN"].map(T=>n.jsx("span",{onClick:()=>i(T),className:`text-sm font-bold p-2 rounded ${a===T?"bg-brand-accent text-white":"text-slate-400 bg-brand-dark/30"}`,children:T},T))})]})})]}),n.jsx("main",{className:"flex-grow",children:t}),n.jsxs("footer",{className:"bg-brand-dark text-white pt-16 pb-8 border-t-4 border-brand-accent",children:[n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 grid grid-cols-1 md:grid-cols-4 gap-12",children:[n.jsxs("div",{className:"col-span-1 md:col-span-1",children:[n.jsx("div",{className:"flex flex-col mb-6",children:n.jsxs("span",{className:"text-2xl font-heading font-extrabold text-white leading-none tracking-tight",children:["MULTI",n.jsx("span",{className:"text-brand-accent",children:"SERWIS"})]})}),n.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-6",children:"Lider szkole zawodowych i wynajmu maszyn budowlanych. Dostarczamy najwysz jako usug, certyfikowane szkolenia UDT oraz niezawodny sprzt."}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-8 h-8 bg-brand-secondary/50 rounded flex items-center justify-center hover:bg-brand-accent transition-colors cursor-pointer",children:"F"}),n.jsx("div",{className:"w-8 h-8 bg-brand-secondary/50 rounded flex items-center justify-center hover:bg-brand-accent transition-colors cursor-pointer",children:"I"}),n.jsx("div",{className:"w-8 h-8 bg-brand-secondary/50 rounded flex items-center justify-center hover:bg-brand-accent transition-colors cursor-pointer",children:"L"})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-heading font-bold text-lg mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-brand-accent block"})," Usugi"]}),n.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[n.jsx("li",{className:"hover:text-brand-accent cursor-pointer transition-colors",children:"Szkolenia UDT"}),n.jsx("li",{className:"hover:text-brand-accent cursor-pointer transition-colors",children:"Wynajem adowarek"}),n.jsx("li",{className:"hover:text-brand-accent cursor-pointer transition-colors",children:"Serwis Maszyn"}),n.jsx("li",{className:"hover:text-brand-accent cursor-pointer transition-colors",children:"Uprawnienia SEP"})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-heading font-bold text-lg mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-brand-accent block"})," Kontakt"]}),n.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1",children:n.jsx(Rr,{size:14,className:"text-brand-accent"})}),n.jsxs("div",{children:["+48 730 101 000",n.jsx("br",{}),n.jsx("span",{className:"text-xs text-slate-500",children:"Pn-Pt 8:00 - 16:00"})]})]}),n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsx(qa,{size:14,className:"text-brand-accent"})," biuro@multiserwis.pl"]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1",children:""}),n.jsxs("div",{children:["ul. Siemieradzkiego 18",n.jsx("br",{}),"99-300 Kutno"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-heading font-bold text-lg mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-brand-accent block"})," Certyfikaty"]}),n.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10 flex flex-col items-center justify-center",children:[n.jsx("div",{className:"text-2xl font-bold mb-1 tracking-widest text-slate-200",children:"ISO 9001"}),n.jsx("div",{className:"text-[10px] uppercase text-slate-500",children:"System Zarzdzania Jakoci"})]})]})]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mt-16 pt-8 border-t border-brand-secondary/30 flex flex-col md:flex-row justify-between items-center text-xs text-slate-500",children:[n.jsx("p",{children:" 2026 MultiSerwis. Wszelkie prawa zastrzeone."}),n.jsxs("div",{className:"flex gap-6 mt-4 md:mt-0",children:[n.jsx("span",{className:"hover:text-white cursor-pointer",children:"Polityka Prywatnoci"}),n.jsx("span",{className:"hover:text-white cursor-pointer",children:"Regulamin"})]})]})]})]})};var _C=fw();const BC=gx(_C);var Fm={exports:{}},Zm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function PC(){if(u1)return Zm;u1=1;var t=gc();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var s=typeof Object.is=="function"?Object.is:e,a=t.useState,i=t.useEffect,o=t.useLayoutEffect,c=t.useDebugValue;function u(g,y){var v=y(),w=a({inst:{value:v,getSnapshot:y}}),N=w[0].inst,k=w[1];return o(function(){N.value=v,N.getSnapshot=y,h(N)&&k({inst:N})},[g,v,y]),i(function(){return h(N)&&k({inst:N}),g(function(){h(N)&&k({inst:N})})},[g]),c(v),v}function h(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!s(g,v)}catch{return!0}}function m(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Zm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Zm}var h1;function Nw(){return h1||(h1=1,Fm.exports=PC()),Fm.exports}var kw=Nw();function ws(t){this.content=t}ws.prototype={constructor:ws,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,s){var a=s&&s!=t?this.remove(s):this,i=a.find(t),o=a.content.slice();return i==-1?o.push(s||t,e):(o[i+1]=e,s&&(o[i]=s)),new ws(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var s=this.content.slice();return s.splice(e,2),new ws(s)},addToStart:function(t,e){return new ws([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var s=this.remove(t).content.slice();return s.push(t,e),new ws(s)},addBefore:function(t,e,s){var a=this.remove(e),i=a.content.slice(),o=a.find(t);return i.splice(o==-1?i.length:o,0,e,s),new ws(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ws.from(t),t.size?new ws(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ws.from(t),t.size?new ws(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ws.from(t);for(var s=0;s<t.content.length;s+=2)e=e.remove(t.content[s]);return e},toObject:function(){var t={};return this.forEach(function(e,s){t[e]=s}),t},get size(){return this.content.length>>1}};ws.from=function(t){if(t instanceof ws)return t;var e=[];if(t)for(var s in t)e.push(s,t[s]);return new ws(e)};function zw(t,e,s){for(let a=0;;a++){if(a==t.childCount||a==e.childCount)return t.childCount==e.childCount?null:s;let i=t.child(a),o=e.child(a);if(i==o){s+=i.nodeSize;continue}if(!i.sameMarkup(o))return s;if(i.isText&&i.text!=o.text){for(let c=0;i.text[c]==o.text[c];c++)s++;return s}if(i.content.size||o.content.size){let c=zw(i.content,o.content,s+1);if(c!=null)return c}s+=i.nodeSize}}function Sw(t,e,s,a){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:s,b:a};let c=t.child(--i),u=e.child(--o),h=c.nodeSize;if(c==u){s-=h,a-=h;continue}if(!c.sameMarkup(u))return{a:s,b:a};if(c.isText&&c.text!=u.text){let m=0,p=Math.min(c.text.length,u.text.length);for(;m<p&&c.text[c.text.length-m-1]==u.text[u.text.length-m-1];)m++,s--,a--;return{a:s,b:a}}if(c.content.size||u.content.size){let m=Sw(c.content,u.content,s-1,a-1);if(m)return m}s-=h,a-=h}}class ne{constructor(e,s){if(this.content=e,this.size=s||0,s==null)for(let a=0;a<e.length;a++)this.size+=e[a].nodeSize}nodesBetween(e,s,a,i=0,o){for(let c=0,u=0;u<s;c++){let h=this.content[c],m=u+h.nodeSize;if(m>e&&a(h,i+u,o||null,c)!==!1&&h.content.size){let p=u+1;h.nodesBetween(Math.max(0,e-p),Math.min(h.content.size,s-p),a,i+p)}u=m}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,s,a,i){let o="",c=!0;return this.nodesBetween(e,s,(u,h)=>{let m=u.isText?u.text.slice(Math.max(e,h)-h,s-h):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&m||u.isTextblock)&&a&&(c?c=!1:o+=a),o+=m},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let s=this.lastChild,a=e.firstChild,i=this.content.slice(),o=0;for(s.isText&&s.sameMarkup(a)&&(i[i.length-1]=s.withText(s.text+a.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ne(i,this.size+e.size)}cut(e,s=this.size){if(e==0&&s==this.size)return this;let a=[],i=0;if(s>e)for(let o=0,c=0;c<s;o++){let u=this.content[o],h=c+u.nodeSize;h>e&&((c<e||h>s)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,s-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,s-c-1))),a.push(u),i+=u.nodeSize),c=h}return new ne(a,i)}cutByIndex(e,s){return e==s?ne.empty:e==0&&s==this.content.length?this:new ne(this.content.slice(e,s))}replaceChild(e,s){let a=this.content[e];if(a==s)return this;let i=this.content.slice(),o=this.size+s.nodeSize-a.nodeSize;return i[e]=s,new ne(i,o)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let s=0;s<this.content.length;s++)if(!this.content[s].eq(e.content[s]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let s=this.content[e];if(!s)throw new RangeError("Index "+e+" out of range for "+this);return s}maybeChild(e){return this.content[e]||null}forEach(e){for(let s=0,a=0;s<this.content.length;s++){let i=this.content[s];e(i,a,s),a+=i.nodeSize}}findDiffStart(e,s=0){return zw(this,e,s)}findDiffEnd(e,s=this.size,a=e.size){return Sw(this,e,s,a)}findIndex(e){if(e==0)return $d(0,e);if(e==this.size)return $d(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let s=0,a=0;;s++){let i=this.child(s),o=a+i.nodeSize;if(o>=e)return o==e?$d(s+1,o):$d(s,a);a=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,s){if(!s)return ne.empty;if(!Array.isArray(s))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(s.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let s,a=0;for(let i=0;i<e.length;i++){let o=e[i];a+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(s||(s=e.slice(0,i)),s[s.length-1]=o.withText(s[s.length-1].text+o.text)):s&&s.push(o)}return new ne(s||e,a)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const Ym={index:0,offset:0};function $d(t,e){return Ym.index=t,Ym.offset=e,Ym}function Nu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let s=Array.isArray(t);if(Array.isArray(e)!=s)return!1;if(s){if(t.length!=e.length)return!1;for(let a=0;a<t.length;a++)if(!Nu(t[a],e[a]))return!1}else{for(let a in t)if(!(a in e)||!Nu(t[a],e[a]))return!1;for(let a in e)if(!(a in t))return!1}return!0}let xt=class Op{constructor(e,s){this.type=e,this.attrs=s}addToSet(e){let s,a=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))s||(s=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!a&&o.type.rank>this.type.rank&&(s||(s=e.slice(0,i)),s.push(this),a=!0),s&&s.push(o)}}return s||(s=e.slice()),a||s.push(this),s}removeFromSet(e){for(let s=0;s<e.length;s++)if(this.eq(e[s]))return e.slice(0,s).concat(e.slice(s+1));return e}isInSet(e){for(let s=0;s<e.length;s++)if(this.eq(e[s]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Nu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let s in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,s){if(!s)throw new RangeError("Invalid input for Mark.fromJSON");let a=e.marks[s.type];if(!a)throw new RangeError(`There is no mark type ${s.type} in this schema`);let i=a.create(s.attrs);return a.checkAttrs(i.attrs),i}static sameSet(e,s){if(e==s)return!0;if(e.length!=s.length)return!1;for(let a=0;a<e.length;a++)if(!e[a].eq(s[a]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Op.none;if(e instanceof Op)return[e];let s=e.slice();return s.sort((a,i)=>a.type.rank-i.type.rank),s}};xt.none=[];class ku extends Error{}class fe{constructor(e,s,a){this.content=e,this.openStart=s,this.openEnd=a}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,s){let a=Mw(this.content,e+this.openStart,s);return a&&new fe(a,this.openStart,this.openEnd)}removeBetween(e,s){return new fe(Cw(this.content,e+this.openStart,s+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,s){if(!s)return fe.empty;let a=s.openStart||0,i=s.openEnd||0;if(typeof a!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new fe(ne.fromJSON(e,s.content),a,i)}static maxOpen(e,s=!0){let a=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(s||!o.type.spec.isolating);o=o.firstChild)a++;for(let o=e.lastChild;o&&!o.isLeaf&&(s||!o.type.spec.isolating);o=o.lastChild)i++;return new fe(e,a,i)}}fe.empty=new fe(ne.empty,0,0);function Cw(t,e,s){let{index:a,offset:i}=t.findIndex(e),o=t.maybeChild(a),{index:c,offset:u}=t.findIndex(s);if(i==e||o.isText){if(u!=s&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(s))}if(a!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(a,o.copy(Cw(o.content,e-i-1,s-i-1)))}function Mw(t,e,s,a){let{index:i,offset:o}=t.findIndex(e),c=t.maybeChild(i);if(o==e||c.isText)return a&&!a.canReplace(i,i,s)?null:t.cut(0,e).append(s).append(t.cut(e));let u=Mw(c.content,e-o-1,s,c);return u&&t.replaceChild(i,c.copy(u))}function UC(t,e,s){if(s.openStart>t.depth)throw new ku("Inserted content deeper than insertion position");if(t.depth-s.openStart!=e.depth-s.openEnd)throw new ku("Inconsistent open depths");return Ew(t,e,s,0)}function Ew(t,e,s,a){let i=t.index(a),o=t.node(a);if(i==e.index(a)&&a<t.depth-s.openStart){let c=Ew(t,e,s,a+1);return o.copy(o.content.replaceChild(i,c))}else if(s.content.size)if(!s.openStart&&!s.openEnd&&t.depth==a&&e.depth==a){let c=t.parent,u=c.content;return gi(c,u.cut(0,t.parentOffset).append(s.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=HC(s,t);return gi(o,Aw(t,c,u,e,a))}else return gi(o,zu(t,e,a))}function Tw(t,e){if(!e.type.compatibleContent(t.type))throw new ku("Cannot join "+e.type.name+" onto "+t.type.name)}function Rp(t,e,s){let a=t.node(s);return Tw(a,e.node(s)),a}function xi(t,e){let s=e.length-1;s>=0&&t.isText&&t.sameMarkup(e[s])?e[s]=t.withText(e[s].text+t.text):e.push(t)}function Go(t,e,s,a){let i=(e||t).node(s),o=0,c=e?e.index(s):i.childCount;t&&(o=t.index(s),t.depth>s?o++:t.textOffset&&(xi(t.nodeAfter,a),o++));for(let u=o;u<c;u++)xi(i.child(u),a);e&&e.depth==s&&e.textOffset&&xi(e.nodeBefore,a)}function gi(t,e){return t.type.checkContent(e),t.copy(e)}function Aw(t,e,s,a,i){let o=t.depth>i&&Rp(t,e,i+1),c=a.depth>i&&Rp(s,a,i+1),u=[];return Go(null,t,i,u),o&&c&&e.index(i)==s.index(i)?(Tw(o,c),xi(gi(o,Aw(t,e,s,a,i+1)),u)):(o&&xi(gi(o,zu(t,e,i+1)),u),Go(e,s,i,u),c&&xi(gi(c,zu(s,a,i+1)),u)),Go(a,null,i,u),new ne(u)}function zu(t,e,s){let a=[];if(Go(null,t,s,a),t.depth>s){let i=Rp(t,e,s+1);xi(gi(i,zu(t,e,s+1)),a)}return Go(e,null,s,a),new ne(a)}function HC(t,e){let s=e.depth-t.openStart,i=e.node(s).copy(t.content);for(let o=s-1;o>=0;o--)i=e.node(o).copy(ne.from(i));return{start:i.resolveNoCache(t.openStart+s),end:i.resolveNoCache(i.content.size-t.openEnd-s)}}class lc{constructor(e,s,a){this.pos=e,this.path=s,this.parentOffset=a,this.depth=s.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,s=this.index(this.depth);if(s==e.childCount)return null;let a=this.pos-this.path[this.path.length-1],i=e.child(s);return a?e.child(s).cut(a):i}get nodeBefore(){let e=this.index(this.depth),s=this.pos-this.path[this.path.length-1];return s?this.parent.child(e).cut(0,s):e==0?null:this.parent.child(e-1)}posAtIndex(e,s){s=this.resolveDepth(s);let a=this.path[s*3],i=s==0?0:this.path[s*3-1]+1;for(let o=0;o<e;o++)i+=a.child(o).nodeSize;return i}marks(){let e=this.parent,s=this.index();if(e.content.size==0)return xt.none;if(this.textOffset)return e.child(s).marks;let a=e.maybeChild(s-1),i=e.maybeChild(s);if(!a){let u=a;a=i,i=u}let o=a.marks;for(var c=0;c<o.length;c++)o[c].type.spec.inclusive===!1&&(!i||!o[c].isInSet(i.marks))&&(o=o[c--].removeFromSet(o));return o}marksAcross(e){let s=this.parent.maybeChild(this.index());if(!s||!s.isInline)return null;let a=s.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}sharedDepth(e){for(let s=this.depth;s>0;s--)if(this.start(s)<=e&&this.end(s)>=e)return s;return 0}blockRange(e=this,s){if(e.pos<this.pos)return e.blockRange(this);for(let a=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);a>=0;a--)if(e.pos<=this.end(a)&&(!s||s(this.node(a))))return new Su(this,e,a);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let s=1;s<=this.depth;s++)e+=(e?"/":"")+this.node(s).type.name+"_"+this.index(s-1);return e+":"+this.parentOffset}static resolve(e,s){if(!(s>=0&&s<=e.content.size))throw new RangeError("Position "+s+" out of range");let a=[],i=0,o=s;for(let c=e;;){let{index:u,offset:h}=c.content.findIndex(o),m=o-h;if(a.push(c,u,i+h),!m||(c=c.child(u),c.isText))break;o=m-1,i+=h+1}return new lc(s,a,o)}static resolveCached(e,s){let a=f1.get(e);if(a)for(let o=0;o<a.elts.length;o++){let c=a.elts[o];if(c.pos==s)return c}else f1.set(e,a=new IC);let i=a.elts[a.i]=lc.resolve(e,s);return a.i=(a.i+1)%$C,i}}class IC{constructor(){this.elts=[],this.i=0}}const $C=12,f1=new WeakMap;class Su{constructor(e,s,a){this.$from=e,this.$to=s,this.depth=a}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const qC=Object.create(null);class $n{constructor(e,s,a,i=xt.none){this.type=e,this.attrs=s,this.marks=i,this.content=a||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,s,a,i=0){this.content.nodesBetween(e,s,a,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,s,a,i){return this.content.textBetween(e,s,a,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,s,a){return this.type==e&&Nu(this.attrs,s||e.defaultAttrs||qC)&&xt.sameSet(this.marks,a||xt.none)}copy(e=null){return e==this.content?this:new $n(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new $n(this.type,this.attrs,this.content,e)}cut(e,s=this.content.size){return e==0&&s==this.content.size?this:this.copy(this.content.cut(e,s))}slice(e,s=this.content.size,a=!1){if(e==s)return fe.empty;let i=this.resolve(e),o=this.resolve(s),c=a?0:i.sharedDepth(s),u=i.start(c),m=i.node(c).content.cut(i.pos-u,o.pos-u);return new fe(m,i.depth-c,o.depth-c)}replace(e,s,a){return UC(this.resolve(e),this.resolve(s),a)}nodeAt(e){for(let s=this;;){let{index:a,offset:i}=s.content.findIndex(e);if(s=s.maybeChild(a),!s)return null;if(i==e||s.isText)return s;e-=i+1}}childAfter(e){let{index:s,offset:a}=this.content.findIndex(e);return{node:this.content.maybeChild(s),index:s,offset:a}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:s,offset:a}=this.content.findIndex(e);if(a<e)return{node:this.content.child(s),index:s,offset:a};let i=this.content.child(s-1);return{node:i,index:s-1,offset:a-i.nodeSize}}resolve(e){return lc.resolveCached(this,e)}resolveNoCache(e){return lc.resolve(this,e)}rangeHasMark(e,s,a){let i=!1;return s>e&&this.nodesBetween(e,s,o=>(a.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Dw(this.marks,e)}contentMatchAt(e){let s=this.type.contentMatch.matchFragment(this.content,0,e);if(!s)throw new Error("Called contentMatchAt on a node with invalid content");return s}canReplace(e,s,a=ne.empty,i=0,o=a.childCount){let c=this.contentMatchAt(e).matchFragment(a,i,o),u=c&&c.matchFragment(this.content,s);if(!u||!u.validEnd)return!1;for(let h=i;h<o;h++)if(!this.type.allowsMarks(a.child(h).marks))return!1;return!0}canReplaceWith(e,s,a,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(a),c=o&&o.matchFragment(this.content,s);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=xt.none;for(let s=0;s<this.marks.length;s++){let a=this.marks[s];a.type.checkAttrs(a.attrs),e=a.addToSet(e)}if(!xt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(s=>s.type.name)}`);this.content.forEach(s=>s.check())}toJSON(){let e={type:this.type.name};for(let s in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(s=>s.toJSON())),e}static fromJSON(e,s){if(!s)throw new RangeError("Invalid input for Node.fromJSON");let a;if(s.marks){if(!Array.isArray(s.marks))throw new RangeError("Invalid mark data for Node.fromJSON");a=s.marks.map(e.markFromJSON)}if(s.type=="text"){if(typeof s.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(s.text,a)}let i=ne.fromJSON(e,s.content),o=e.nodeType(s.type).create(s.attrs,i,a);return o.type.checkAttrs(o.attrs),o}}$n.prototype.text=void 0;class Cu extends $n{constructor(e,s,a,i){if(super(e,s,null,i),!a)throw new RangeError("Empty text nodes are not allowed");this.text=a}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Dw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,s){return this.text.slice(e,s)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Cu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Cu(this.type,this.attrs,e,this.marks)}cut(e=0,s=this.text.length){return e==0&&s==this.text.length?this:this.withText(this.text.slice(e,s))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Dw(t,e){for(let s=t.length-1;s>=0;s--)e=t[s].type.name+"("+e+")";return e}class ji{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,s){let a=new VC(e,s);if(a.next==null)return ji.empty;let i=Ow(a);a.next&&a.err("Unexpected trailing text");let o=JC(YC(i));return XC(o,a),o}matchType(e){for(let s=0;s<this.next.length;s++)if(this.next[s].type==e)return this.next[s].next;return null}matchFragment(e,s=0,a=e.childCount){let i=this;for(let o=s;i&&o<a;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:s}=this.next[e];if(!(s.isText||s.hasRequiredAttrs()))return s}return null}compatible(e){for(let s=0;s<this.next.length;s++)for(let a=0;a<e.next.length;a++)if(this.next[s].type==e.next[a].type)return!0;return!1}fillBefore(e,s=!1,a=0){let i=[this];function o(c,u){let h=c.matchFragment(e,a);if(h&&(!s||h.validEnd))return ne.from(u.map(m=>m.createAndFill()));for(let m=0;m<c.next.length;m++){let{type:p,next:g}=c.next[m];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let y=o(g,u.concat(p));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let a=0;a<this.wrapCache.length;a+=2)if(this.wrapCache[a]==e)return this.wrapCache[a+1];let s=this.computeWrapping(e);return this.wrapCache.push(e,s),s}computeWrapping(e){let s=Object.create(null),a=[{match:this,type:null,via:null}];for(;a.length;){let i=a.shift(),o=i.match;if(o.matchType(e)){let c=[];for(let u=i;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<o.next.length;c++){let{type:u,next:h}=o.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in s)&&(!i.type||h.validEnd)&&(a.push({match:u.contentMatch,type:u,via:i}),s[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function s(a){e.push(a);for(let i=0;i<a.next.length;i++)e.indexOf(a.next[i].next)==-1&&s(a.next[i].next)}return s(this),e.map((a,i)=>{let o=i+(a.validEnd?"*":" ")+" ";for(let c=0;c<a.next.length;c++)o+=(c?", ":"")+a.next[c].type.name+"->"+e.indexOf(a.next[c].next);return o}).join(`
`)}}ji.empty=new ji(!0);class VC{constructor(e,s){this.string=e,this.nodeTypes=s,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Ow(t){let e=[];do e.push(WC(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function WC(t){let e=[];do e.push(KC(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function KC(t){let e=ZC(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=GC(t,e);else break;return e}function m1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function GC(t,e){let s=m1(t),a=s;return t.eat(",")&&(t.next!="}"?a=m1(t):a=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:s,max:a,expr:e}}function FC(t,e){let s=t.nodeTypes,a=s[e];if(a)return[a];let i=[];for(let o in s){let c=s[o];c.isInGroup(e)&&i.push(c)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function ZC(t){if(t.eat("(")){let e=Ow(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=FC(t,t.next).map(s=>(t.inline==null?t.inline=s.isInline:t.inline!=s.isInline&&t.err("Mixing inline and block content"),{type:"name",value:s}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function YC(t){let e=[[]];return i(o(t,0),s()),e;function s(){return e.push([])-1}function a(c,u,h){let m={term:h,to:u};return e[c].push(m),m}function i(c,u){c.forEach(h=>h.to=u)}function o(c,u){if(c.type=="choice")return c.exprs.reduce((h,m)=>h.concat(o(m,u)),[]);if(c.type=="seq")for(let h=0;;h++){let m=o(c.exprs[h],u);if(h==c.exprs.length-1)return m;i(m,u=s())}else if(c.type=="star"){let h=s();return a(u,h),i(o(c.expr,h),h),[a(h)]}else if(c.type=="plus"){let h=s();return i(o(c.expr,u),h),i(o(c.expr,h),h),[a(h)]}else{if(c.type=="opt")return[a(u)].concat(o(c.expr,u));if(c.type=="range"){let h=u;for(let m=0;m<c.min;m++){let p=s();i(o(c.expr,h),p),h=p}if(c.max==-1)i(o(c.expr,h),h);else for(let m=c.min;m<c.max;m++){let p=s();a(h,p),i(o(c.expr,h),p),h=p}return[a(h)]}else{if(c.type=="name")return[a(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function Rw(t,e){return e-t}function p1(t,e){let s=[];return a(e),s.sort(Rw);function a(i){let o=t[i];if(o.length==1&&!o[0].term)return a(o[0].to);s.push(i);for(let c=0;c<o.length;c++){let{term:u,to:h}=o[c];!u&&s.indexOf(h)==-1&&a(h)}}}function JC(t){let e=Object.create(null);return s(p1(t,0));function s(a){let i=[];a.forEach(c=>{t[c].forEach(({term:u,to:h})=>{if(!u)return;let m;for(let p=0;p<i.length;p++)i[p][0]==u&&(m=i[p][1]);p1(t,h).forEach(p=>{m||i.push([u,m=[]]),m.indexOf(p)==-1&&m.push(p)})})});let o=e[a.join(",")]=new ji(a.indexOf(t.length-1)>-1);for(let c=0;c<i.length;c++){let u=i[c][1].sort(Rw);o.next.push({type:i[c][0],next:e[u.join(",")]||s(u)})}return o}}function XC(t,e){for(let s=0,a=[t];s<a.length;s++){let i=a[s],o=!i.validEnd,c=[];for(let u=0;u<i.next.length;u++){let{type:h,next:m}=i.next[u];c.push(h.name),o&&!(h.isText||h.hasRequiredAttrs())&&(o=!1),a.indexOf(m)==-1&&a.push(m)}o&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Lw(t){let e=Object.create(null);for(let s in t){let a=t[s];if(!a.hasDefault)return null;e[s]=a.default}return e}function _w(t,e){let s=Object.create(null);for(let a in t){let i=e&&e[a];if(i===void 0){let o=t[a];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+a)}s[a]=i}return s}function Bw(t,e,s,a){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${s} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function Pw(t,e){let s=Object.create(null);if(e)for(let a in e)s[a]=new e3(t,a,e[a]);return s}let x1=class Uw{constructor(e,s,a){this.name=e,this.schema=s,this.spec=a,this.markSet=null,this.groups=a.group?a.group.split(" "):[],this.attrs=Pw(e,a.attrs),this.defaultAttrs=Lw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(a.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ji.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_w(this.attrs,e)}create(e=null,s,a){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $n(this,this.computeAttrs(e),ne.from(s),xt.setFrom(a))}createChecked(e=null,s,a){return s=ne.from(s),this.checkContent(s),new $n(this,this.computeAttrs(e),s,xt.setFrom(a))}createAndFill(e=null,s,a){if(e=this.computeAttrs(e),s=ne.from(s),s.size){let c=this.contentMatch.fillBefore(s);if(!c)return null;s=c.append(s)}let i=this.contentMatch.matchFragment(s),o=i&&i.fillBefore(ne.empty,!0);return o?new $n(this,e,s.append(o),xt.setFrom(a)):null}validContent(e){let s=this.contentMatch.matchFragment(e);if(!s||!s.validEnd)return!1;for(let a=0;a<e.childCount;a++)if(!this.allowsMarks(e.child(a).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Bw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let s=0;s<e.length;s++)if(!this.allowsMarkType(e[s].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let s;for(let a=0;a<e.length;a++)this.allowsMarkType(e[a].type)?s&&s.push(e[a]):s||(s=e.slice(0,a));return s?s.length?s:xt.none:e}static compile(e,s){let a=Object.create(null);e.forEach((o,c)=>a[o]=new Uw(o,s,c));let i=s.spec.topNode||"doc";if(!a[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!a.text)throw new RangeError("Every schema needs a 'text' type");for(let o in a.text.attrs)throw new RangeError("The text node type should not have attributes");return a}};function QC(t,e,s){let a=s.split("|");return i=>{let o=i===null?"null":typeof i;if(a.indexOf(o)<0)throw new RangeError(`Expected value of type ${a} for attribute ${e} on type ${t}, got ${o}`)}}class e3{constructor(e,s,a){this.hasDefault=Object.prototype.hasOwnProperty.call(a,"default"),this.default=a.default,this.validate=typeof a.validate=="string"?QC(e,s,a.validate):a.validate}get isRequired(){return!this.hasDefault}}class bh{constructor(e,s,a,i){this.name=e,this.rank=s,this.schema=a,this.spec=i,this.attrs=Pw(e,i.attrs),this.excluded=null;let o=Lw(this.attrs);this.instance=o?new xt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new xt(this,_w(this.attrs,e))}static compile(e,s){let a=Object.create(null),i=0;return e.forEach((o,c)=>a[o]=new bh(o,i++,s,c)),a}removeFromSet(e){for(var s=0;s<e.length;s++)e[s].type==this&&(e=e.slice(0,s).concat(e.slice(s+1)),s--);return e}isInSet(e){for(let s=0;s<e.length;s++)if(e[s].type==this)return e[s]}checkAttrs(e){Bw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Hw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let s=this.spec={};for(let i in e)s[i]=e[i];s.nodes=ws.from(e.nodes),s.marks=ws.from(e.marks||{}),this.nodes=x1.compile(this.spec.nodes,this),this.marks=bh.compile(this.spec.marks,this);let a=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],c=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=a[c]||(a[c]=ji.parse(c,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?g1(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],c=o.spec.excludes;o.excluded=c==null?[o]:c==""?[]:g1(this,c.split(" "))}this.nodeFromJSON=i=>$n.fromJSON(this,i),this.markFromJSON=i=>xt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,s=null,a,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof x1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(s,a,i)}text(e,s){let a=this.nodes.text;return new Cu(a,a.defaultAttrs,e,xt.setFrom(s))}mark(e,s){return typeof e=="string"&&(e=this.marks[e]),e.create(s)}nodeType(e){let s=this.nodes[e];if(!s)throw new RangeError("Unknown node type: "+e);return s}}function g1(t,e){let s=[];for(let a=0;a<e.length;a++){let i=e[a],o=t.marks[i],c=o;if(o)s.push(o);else for(let u in t.marks){let h=t.marks[u];(i=="_"||h.spec.group&&h.spec.group.split(" ").indexOf(i)>-1)&&s.push(c=h)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[a]+"'")}return s}function t3(t){return t.tag!=null}function s3(t){return t.style!=null}class Al{constructor(e,s){this.schema=e,this.rules=s,this.tags=[],this.styles=[];let a=this.matchedStyles=[];s.forEach(i=>{if(t3(i))this.tags.push(i);else if(s3(i)){let o=/[^=]*/.exec(i.style)[0];a.indexOf(o)<0&&a.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,s={}){let a=new y1(this,s,!1);return a.addAll(e,xt.none,s.from,s.to),a.finish()}parseSlice(e,s={}){let a=new y1(this,s,!0);return a.addAll(e,xt.none,s.from,s.to),fe.maxOpen(a.finish())}matchTag(e,s,a){for(let i=a?this.tags.indexOf(a)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(l3(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||s.matchesContext(o.context))){if(o.getAttrs){let c=o.getAttrs(e);if(c===!1)continue;o.attrs=c||void 0}return o}}}matchStyle(e,s,a,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let c=this.styles[o],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!a.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=s))){if(c.getAttrs){let h=c.getAttrs(s);if(h===!1)continue;c.attrs=h||void 0}return c}}}static schemaRules(e){let s=[];function a(i){let o=i.priority==null?50:i.priority,c=0;for(;c<s.length;c++){let u=s[c];if((u.priority==null?50:u.priority)<o)break}s.splice(c,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(c=>{a(c=v1(c)),c.mark||c.ignore||c.clearMark||(c.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(c=>{a(c=v1(c)),c.node||c.ignore||c.mark||(c.node=i)})}return s}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Al(e,Al.schemaRules(e)))}}const Iw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},n3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},$w={ol:!0,ul:!0},ic=1,Lp=2,Fo=4;function b1(t,e,s){return e!=null?(e?ic:0)|(e==="full"?Lp:0):t&&t.whitespace=="pre"?ic|Lp:s&~Fo}class qd{constructor(e,s,a,i,o,c){this.type=e,this.attrs=s,this.marks=a,this.solid=i,this.options=c,this.content=[],this.activeMarks=xt.none,this.match=o||(c&Fo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let s=this.type.contentMatch.fillBefore(ne.from(e));if(s)this.match=this.type.contentMatch.matchFragment(s);else{let a=this.type.contentMatch,i;return(i=a.findWrapping(e.type))?(this.match=a,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ic)){let a=this.content[this.content.length-1],i;if(a&&a.isText&&(i=/[ \t\r\n\u000c]+$/.exec(a.text))){let o=a;a.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let s=ne.from(this.content);return!e&&this.match&&(s=s.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,s,this.marks):s}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Iw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class y1{constructor(e,s,a){this.parser=e,this.options=s,this.isOpen=a,this.open=0,this.localPreserveWS=!1;let i=s.topNode,o,c=b1(null,s.preserveWhitespace,0)|(a?Fo:0);i?o=new qd(i.type,i.attrs,xt.none,!0,s.topMatch||i.type.contentMatch,c):a?o=new qd(null,null,xt.none,!0,null,c):o=new qd(e.schema.topNodeType,null,xt.none,!0,null,c),this.nodes=[o],this.find=s.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,s){e.nodeType==3?this.addTextNode(e,s):e.nodeType==1&&this.addElement(e,s)}addTextNode(e,s){let a=e.nodeValue,i=this.top,o=i.options&Lp?"full":this.localPreserveWS||(i.options&ic)>0,{schema:c}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(a)){if(o)if(o==="full")a=a.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(a)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=a.split(/\r?\n|\r/);for(let h=0;h<u.length;h++)h&&this.insertNode(c.linebreakReplacement.create(),s,!0),u[h]&&this.insertNode(c.text(u[h]),s,!/\S/.test(u[h]));a=""}else a=a.replace(/\r?\n|\r/g," ");else if(a=a.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(a)&&this.open==this.nodes.length-1){let u=i.content[i.content.length-1],h=e.previousSibling;(!u||h&&h.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(a=a.slice(1))}a&&this.insertNode(c.text(a),s,!/\S/.test(a)),this.findInText(e)}else this.findInside(e)}addElement(e,s,a){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;$w.hasOwnProperty(c)&&this.parser.normalizeLists&&a3(e);let h=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,a));e:if(h?h.ignore:n3.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,s);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(e=h.skip);let m,p=this.needsBlock;if(Iw.hasOwnProperty(c))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),m=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,s);break e}let g=h&&h.skip?s:this.readStyles(e,s);g&&this.addAll(e,g),m&&this.sync(o),this.needsBlock=p}else{let m=this.readStyles(e,s);m&&this.addElementByRule(e,h,m,h.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,s){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),s)}ignoreFallback(e,s){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),s,!0)}readStyles(e,s){let a=e.style;if(a&&a.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],c=a.getPropertyValue(o);if(c)for(let u=void 0;;){let h=this.parser.matchStyle(o,c,this,u);if(!h)break;if(h.ignore)return null;if(h.clearMark?s=s.filter(m=>!h.clearMark(m)):s=s.concat(this.parser.schema.marks[h.mark].create(h.attrs)),h.consuming===!1)u=h;else break}}return s}addElementByRule(e,s,a,i){let o,c;if(s.node)if(c=this.parser.schema.nodes[s.node],c.isLeaf)this.insertNode(c.create(s.attrs),a,e.nodeName=="BR")||this.leafFallback(e,a);else{let h=this.enter(c,s.attrs||null,a,s.preserveWhitespace);h&&(o=!0,a=h)}else{let h=this.parser.schema.marks[s.mark];a=a.concat(h.create(s.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(i)this.addElement(e,a,i);else if(s.getContent)this.findInside(e),s.getContent(e,this.parser.schema).forEach(h=>this.insertNode(h,a,!1));else{let h=e;typeof s.contentElement=="string"?h=e.querySelector(s.contentElement):typeof s.contentElement=="function"?h=s.contentElement(e):s.contentElement&&(h=s.contentElement),this.findAround(e,h,!0),this.addAll(h,a),this.findAround(e,h,!1)}o&&this.sync(u)&&this.open--}addAll(e,s,a,i){let o=a||0;for(let c=a?e.childNodes[a]:e.firstChild,u=i==null?null:e.childNodes[i];c!=u;c=c.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(c,s);this.findAtPoint(e,o)}findPlace(e,s,a){let i,o;for(let c=this.open,u=0;c>=0;c--){let h=this.nodes[c],m=h.findWrapping(e);if(m&&(!i||i.length>m.length+u)&&(i=m,o=h,!m.length))break;if(h.solid){if(a)break;u+=2}}if(!i)return null;this.sync(o);for(let c=0;c<i.length;c++)s=this.enterInner(i[c],null,s,!1);return s}insertNode(e,s,a){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(s=this.enterInner(o,null,s))}let i=this.findPlace(e,s,a);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let c=xt.none;for(let u of i.concat(e.marks))(o.type?o.type.allowsMarkType(u.type):w1(u.type,e.type))&&(c=u.addToSet(c));return o.content.push(e.mark(c)),!0}return!1}enter(e,s,a,i){let o=this.findPlace(e.create(s),a,!1);return o&&(o=this.enterInner(e,s,a,!0,i)),o}enterInner(e,s,a,i=!1,o){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=b1(e,o,c.options);c.options&Fo&&c.content.length==0&&(u|=Fo);let h=xt.none;return a=a.filter(m=>(c.type?c.type.allowsMarkType(m.type):w1(m.type,e))?(h=m.addToSet(h),!1):!0),this.nodes.push(new qd(e,s,h,i,null,u)),this.open++,a}closeExtra(e=!1){let s=this.nodes.length-1;if(s>this.open){for(;s>this.open;s--)this.nodes[s-1].content.push(this.nodes[s].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let s=this.open;s>=0;s--){if(this.nodes[s]==e)return this.open=s,!0;this.localPreserveWS&&(this.nodes[s].options|=ic)}return!1}get currentPos(){this.closeExtra();let e=0;for(let s=this.open;s>=0;s--){let a=this.nodes[s].content;for(let i=a.length-1;i>=0;i--)e+=a[i].nodeSize;s&&e++}return e}findAtPoint(e,s){if(this.find)for(let a=0;a<this.find.length;a++)this.find[a].node==e&&this.find[a].offset==s&&(this.find[a].pos=this.currentPos)}findInside(e){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&(this.find[s].pos=this.currentPos)}findAround(e,s,a){if(e!=s&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&s.compareDocumentPosition(this.find[i].node)&(a?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&(this.find[s].pos=this.currentPos-(e.nodeValue.length-this.find[s].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let s=e.split("/"),a=this.options.context,i=!this.isOpen&&(!a||a.parent.type==this.nodes[0].type),o=-(a?a.depth+1:0)+(i?0:1),c=(u,h)=>{for(;u>=0;u--){let m=s[u];if(m==""){if(u==s.length-1||u==0)continue;for(;h>=o;h--)if(c(u-1,h))return!0;return!1}else{let p=h>0||h==0&&i?this.nodes[h].type:a&&h>=o?a.node(h-o).type:null;if(!p||p.name!=m&&!p.isInGroup(m))return!1;h--}}return!0};return c(s.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let s=e.depth;s>=0;s--){let a=e.node(s).contentMatchAt(e.indexAfter(s)).defaultType;if(a&&a.isTextblock&&a.defaultAttrs)return a}for(let s in this.parser.schema.nodes){let a=this.parser.schema.nodes[s];if(a.isTextblock&&a.defaultAttrs)return a}}}function a3(t){for(let e=t.firstChild,s=null;e;e=e.nextSibling){let a=e.nodeType==1?e.nodeName.toLowerCase():null;a&&$w.hasOwnProperty(a)&&s?(s.appendChild(e),e=s):a=="li"?s=e:a&&(s=null)}}function l3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function v1(t){let e={};for(let s in t)e[s]=t[s];return e}function w1(t,e){let s=e.schema.nodes;for(let a in s){let i=s[a];if(!i.allowsMarkType(t))continue;let o=[],c=u=>{o.push(u);for(let h=0;h<u.edgeCount;h++){let{type:m,next:p}=u.edge(h);if(m==e||o.indexOf(p)<0&&c(p))return!0}};if(c(i.contentMatch))return!0}}class Di{constructor(e,s){this.nodes=e,this.marks=s}serializeFragment(e,s={},a){a||(a=Jm(s).createDocumentFragment());let i=a,o=[];return e.forEach(c=>{if(o.length||c.marks.length){let u=0,h=0;for(;u<o.length&&h<c.marks.length;){let m=c.marks[h];if(!this.marks[m.type.name]){h++;continue}if(!m.eq(o[u][0])||m.type.spec.spanning===!1)break;u++,h++}for(;u<o.length;)i=o.pop()[1];for(;h<c.marks.length;){let m=c.marks[h++],p=this.serializeMark(m,c.isInline,s);p&&(o.push([m,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(c,s))}),a}serializeNodeInner(e,s){let{dom:a,contentDOM:i}=mu(Jm(s),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,s,i)}return a}serializeNode(e,s={}){let a=this.serializeNodeInner(e,s);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,s);o&&((o.contentDOM||o.dom).appendChild(a),a=o.dom)}return a}serializeMark(e,s,a={}){let i=this.marks[e.type.name];return i&&mu(Jm(a),i(e,s),null,e.attrs)}static renderSpec(e,s,a=null,i){return mu(e,s,a,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Di(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let s=j1(e.nodes);return s.text||(s.text=a=>a.text),s}static marksFromSchema(e){return j1(e.marks)}}function j1(t){let e={};for(let s in t){let a=t[s].spec.toDOM;a&&(e[s]=a)}return e}function Jm(t){return t.document||window.document}const N1=new WeakMap;function i3(t){let e=N1.get(t);return e===void 0&&N1.set(t,e=r3(t)),e}function r3(t){let e=null;function s(a){if(a&&typeof a=="object")if(Array.isArray(a))if(typeof a[0]=="string")e||(e=[]),e.push(a);else for(let i=0;i<a.length;i++)s(a[i]);else for(let i in a)s(a[i])}return s(t),e}function mu(t,e,s,a){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(a&&(o=i3(a))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=i.indexOf(" ");c>0&&(s=i.slice(0,c),i=i.slice(c+1));let u,h=s?t.createElementNS(s,i):t.createElement(i),m=e[1],p=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){p=2;for(let g in m)if(m[g]!=null){let y=g.indexOf(" ");y>0?h.setAttributeNS(g.slice(0,y),g.slice(y+1),m[g]):g=="style"&&h.style?h.style.cssText=m[g]:h.setAttribute(g,m[g])}}for(let g=p;g<e.length;g++){let y=e[g];if(y===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:h,contentDOM:h}}else{let{dom:v,contentDOM:w}=mu(t,y,s,a);if(h.appendChild(v),w){if(u)throw new RangeError("Multiple content holes");u=w}}}return{dom:h,contentDOM:u}}const qw=65535,Vw=Math.pow(2,16);function o3(t,e){return t+e*Vw}function k1(t){return t&qw}function c3(t){return(t-(t&qw))/Vw}const Ww=1,Kw=2,pu=4,Gw=8;class _p{constructor(e,s,a){this.pos=e,this.delInfo=s,this.recover=a}get deleted(){return(this.delInfo&Gw)>0}get deletedBefore(){return(this.delInfo&(Ww|pu))>0}get deletedAfter(){return(this.delInfo&(Kw|pu))>0}get deletedAcross(){return(this.delInfo&pu)>0}}class rn{constructor(e,s=!1){if(this.ranges=e,this.inverted=s,!e.length&&rn.empty)return rn.empty}recover(e){let s=0,a=k1(e);if(!this.inverted)for(let i=0;i<a;i++)s+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[a*3]+s+c3(e)}mapResult(e,s=1){return this._map(e,s,!1)}map(e,s=1){return this._map(e,s,!0)}_map(e,s,a){let i=0,o=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?i:0);if(h>e)break;let m=this.ranges[u+o],p=this.ranges[u+c],g=h+m;if(e<=g){let y=m?e==h?-1:e==g?1:s:s,v=h+i+(y<0?0:p);if(a)return v;let w=e==(s<0?h:g)?null:o3(u/3,e-h),N=e==h?Kw:e==g?Ww:pu;return(s<0?e!=h:e!=g)&&(N|=Gw),new _p(v,N,w)}i+=p-m}return a?e+i:new _p(e+i,0,null)}touches(e,s){let a=0,i=k1(s),o=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?a:0);if(h>e)break;let m=this.ranges[u+o],p=h+m;if(e<=p&&u==i*3)return!0;a+=this.ranges[u+c]-m}return!1}forEach(e){let s=this.inverted?2:1,a=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let c=this.ranges[i],u=c-(this.inverted?o:0),h=c+(this.inverted?0:o),m=this.ranges[i+s],p=this.ranges[i+a];e(u,u+m,h,h+p),o+=p-m}}invert(){return new rn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?rn.empty:new rn(e<0?[0,-e,0]:[0,0,e])}}rn.empty=new rn([]);class rc{constructor(e,s,a=0,i=e?e.length:0){this.mirror=s,this.from=a,this.to=i,this._maps=e||[],this.ownData=!(e||s)}get maps(){return this._maps}slice(e=0,s=this.maps.length){return new rc(this._maps,this.mirror,e,s)}appendMap(e,s){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),s!=null&&this.setMirror(this._maps.length-1,s)}appendMapping(e){for(let s=0,a=this._maps.length;s<e._maps.length;s++){let i=e.getMirror(s);this.appendMap(e._maps[s],i!=null&&i<s?a+i:void 0)}}getMirror(e){if(this.mirror){for(let s=0;s<this.mirror.length;s++)if(this.mirror[s]==e)return this.mirror[s+(s%2?-1:1)]}}setMirror(e,s){this.mirror||(this.mirror=[]),this.mirror.push(e,s)}appendMappingInverted(e){for(let s=e.maps.length-1,a=this._maps.length+e._maps.length;s>=0;s--){let i=e.getMirror(s);this.appendMap(e._maps[s].invert(),i!=null&&i>s?a-i-1:void 0)}}invert(){let e=new rc;return e.appendMappingInverted(this),e}map(e,s=1){if(this.mirror)return this._map(e,s,!0);for(let a=this.from;a<this.to;a++)e=this._maps[a].map(e,s);return e}mapResult(e,s=1){return this._map(e,s,!1)}_map(e,s,a){let i=0;for(let o=this.from;o<this.to;o++){let c=this._maps[o],u=c.mapResult(e,s);if(u.recover!=null){let h=this.getMirror(o);if(h!=null&&h>o&&h<this.to){o=h,e=this._maps[h].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return a?e:new _p(e,i,null)}}const Xm=Object.create(null);class Ts{getMap(){return rn.empty}merge(e){return null}static fromJSON(e,s){if(!s||!s.stepType)throw new RangeError("Invalid input for Step.fromJSON");let a=Xm[s.stepType];if(!a)throw new RangeError(`No step type ${s.stepType} defined`);return a.fromJSON(e,s)}static jsonID(e,s){if(e in Xm)throw new RangeError("Duplicate use of step JSON ID "+e);return Xm[e]=s,s.prototype.jsonID=e,s}}class Xt{constructor(e,s){this.doc=e,this.failed=s}static ok(e){return new Xt(e,null)}static fail(e){return new Xt(null,e)}static fromReplace(e,s,a,i){try{return Xt.ok(e.replace(s,a,i))}catch(o){if(o instanceof ku)return Xt.fail(o.message);throw o}}}function jx(t,e,s){let a=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(jx(o.content,e,o))),o.isInline&&(o=e(o,s,i)),a.push(o)}return ne.fromArray(a)}class Ml extends Ts{constructor(e,s,a){super(),this.from=e,this.to=s,this.mark=a}apply(e){let s=e.slice(this.from,this.to),a=e.resolve(this.from),i=a.node(a.sharedDepth(this.to)),o=new fe(jx(s.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),i),s.openStart,s.openEnd);return Xt.fromReplace(e,this.from,this.to,o)}invert(){return new In(this.from,this.to,this.mark)}map(e){let s=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return s.deleted&&a.deleted||s.pos>=a.pos?null:new Ml(s.pos,a.pos,this.mark)}merge(e){return e instanceof Ml&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ml(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ml(s.from,s.to,e.markFromJSON(s.mark))}}Ts.jsonID("addMark",Ml);class In extends Ts{constructor(e,s,a){super(),this.from=e,this.to=s,this.mark=a}apply(e){let s=e.slice(this.from,this.to),a=new fe(jx(s.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),s.openStart,s.openEnd);return Xt.fromReplace(e,this.from,this.to,a)}invert(){return new Ml(this.from,this.to,this.mark)}map(e){let s=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return s.deleted&&a.deleted||s.pos>=a.pos?null:new In(s.pos,a.pos,this.mark)}merge(e){return e instanceof In&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new In(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new In(s.from,s.to,e.markFromJSON(s.mark))}}Ts.jsonID("removeMark",In);class El extends Ts{constructor(e,s){super(),this.pos=e,this.mark=s}apply(e){let s=e.nodeAt(this.pos);if(!s)return Xt.fail("No node at mark step's position");let a=s.type.create(s.attrs,null,this.mark.addToSet(s.marks));return Xt.fromReplace(e,this.pos,this.pos+1,new fe(ne.from(a),0,s.isLeaf?0:1))}invert(e){let s=e.nodeAt(this.pos);if(s){let a=this.mark.addToSet(s.marks);if(a.length==s.marks.length){for(let i=0;i<s.marks.length;i++)if(!s.marks[i].isInSet(a))return new El(this.pos,s.marks[i]);return new El(this.pos,this.mark)}}return new Ni(this.pos,this.mark)}map(e){let s=e.mapResult(this.pos,1);return s.deletedAfter?null:new El(s.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new El(s.pos,e.markFromJSON(s.mark))}}Ts.jsonID("addNodeMark",El);class Ni extends Ts{constructor(e,s){super(),this.pos=e,this.mark=s}apply(e){let s=e.nodeAt(this.pos);if(!s)return Xt.fail("No node at mark step's position");let a=s.type.create(s.attrs,null,this.mark.removeFromSet(s.marks));return Xt.fromReplace(e,this.pos,this.pos+1,new fe(ne.from(a),0,s.isLeaf?0:1))}invert(e){let s=e.nodeAt(this.pos);return!s||!this.mark.isInSet(s.marks)?this:new El(this.pos,this.mark)}map(e){let s=e.mapResult(this.pos,1);return s.deletedAfter?null:new Ni(s.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ni(s.pos,e.markFromJSON(s.mark))}}Ts.jsonID("removeNodeMark",Ni);class is extends Ts{constructor(e,s,a,i=!1){super(),this.from=e,this.to=s,this.slice=a,this.structure=i}apply(e){return this.structure&&Bp(e,this.from,this.to)?Xt.fail("Structure replace would overwrite content"):Xt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new rn([this.from,this.to-this.from,this.slice.size])}invert(e){return new is(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let s=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return s.deletedAcross&&a.deletedAcross?null:new is(s.pos,Math.max(s.pos,a.pos),this.slice,this.structure)}merge(e){if(!(e instanceof is)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let s=this.slice.size+e.slice.size==0?fe.empty:new fe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new is(this.from,this.to+(e.to-e.from),s,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let s=this.slice.size+e.slice.size==0?fe.empty:new fe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new is(e.from,this.to,s,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new is(s.from,s.to,fe.fromJSON(e,s.slice),!!s.structure)}}Ts.jsonID("replace",is);class us extends Ts{constructor(e,s,a,i,o,c,u=!1){super(),this.from=e,this.to=s,this.gapFrom=a,this.gapTo=i,this.slice=o,this.insert=c,this.structure=u}apply(e){if(this.structure&&(Bp(e,this.from,this.gapFrom)||Bp(e,this.gapTo,this.to)))return Xt.fail("Structure gap-replace would overwrite content");let s=e.slice(this.gapFrom,this.gapTo);if(s.openStart||s.openEnd)return Xt.fail("Gap is not a flat range");let a=this.slice.insertAt(this.insert,s.content);return a?Xt.fromReplace(e,this.from,this.to,a):Xt.fail("Content does not fit in gap")}getMap(){return new rn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let s=this.gapTo-this.gapFrom;return new us(this.from,this.from+this.slice.size+s,this.from+this.insert,this.from+this.insert+s,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let s=e.mapResult(this.from,1),a=e.mapResult(this.to,-1),i=this.from==this.gapFrom?s.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?a.pos:e.map(this.gapTo,1);return s.deletedAcross&&a.deletedAcross||i<s.pos||o>a.pos?null:new us(s.pos,a.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,s){if(typeof s.from!="number"||typeof s.to!="number"||typeof s.gapFrom!="number"||typeof s.gapTo!="number"||typeof s.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new us(s.from,s.to,s.gapFrom,s.gapTo,fe.fromJSON(e,s.slice),s.insert,!!s.structure)}}Ts.jsonID("replaceAround",us);function Bp(t,e,s){let a=t.resolve(e),i=s-e,o=a.depth;for(;i>0&&o>0&&a.indexAfter(o)==a.node(o).childCount;)o--,i--;if(i>0){let c=a.node(o).maybeChild(a.indexAfter(o));for(;i>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,i--}}return!1}function d3(t,e,s,a){let i=[],o=[],c,u;t.doc.nodesBetween(e,s,(h,m,p)=>{if(!h.isInline)return;let g=h.marks;if(!a.isInSet(g)&&p.type.allowsMarkType(a.type)){let y=Math.max(m,e),v=Math.min(m+h.nodeSize,s),w=a.addToSet(g);for(let N=0;N<g.length;N++)g[N].isInSet(w)||(c&&c.to==y&&c.mark.eq(g[N])?c.to=v:i.push(c=new In(y,v,g[N])));u&&u.to==y?u.to=v:o.push(u=new Ml(y,v,a))}}),i.forEach(h=>t.step(h)),o.forEach(h=>t.step(h))}function u3(t,e,s,a){let i=[],o=0;t.doc.nodesBetween(e,s,(c,u)=>{if(!c.isInline)return;o++;let h=null;if(a instanceof bh){let m=c.marks,p;for(;p=a.isInSet(m);)(h||(h=[])).push(p),m=p.removeFromSet(m)}else a?a.isInSet(c.marks)&&(h=[a]):h=c.marks;if(h&&h.length){let m=Math.min(u+c.nodeSize,s);for(let p=0;p<h.length;p++){let g=h[p],y;for(let v=0;v<i.length;v++){let w=i[v];w.step==o-1&&g.eq(i[v].style)&&(y=w)}y?(y.to=m,y.step=o):i.push({style:g,from:Math.max(u,e),to:m,step:o})}}}),i.forEach(c=>t.step(new In(c.from,c.to,c.style)))}function Nx(t,e,s,a=s.contentMatch,i=!0){let o=t.doc.nodeAt(e),c=[],u=e+1;for(let h=0;h<o.childCount;h++){let m=o.child(h),p=u+m.nodeSize,g=a.matchType(m.type);if(!g)c.push(new is(u,p,fe.empty));else{a=g;for(let y=0;y<m.marks.length;y++)s.allowsMarkType(m.marks[y].type)||t.step(new In(u,p,m.marks[y]));if(i&&m.isText&&s.whitespace!="pre"){let y,v=/\r?\n|\r/g,w;for(;y=v.exec(m.text);)w||(w=new fe(ne.from(s.schema.text(" ",s.allowedMarks(m.marks))),0,0)),c.push(new is(u+y.index,u+y.index+y[0].length,w))}}u=p}if(!a.validEnd){let h=a.fillBefore(ne.empty,!0);t.replace(u,u,new fe(h,0,0))}for(let h=c.length-1;h>=0;h--)t.step(c[h])}function h3(t,e,s){return(e==0||t.canReplace(e,t.childCount))&&(s==t.childCount||t.canReplace(0,s))}function Wr(t){let s=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let a=t.depth,i=0,o=0;;--a){let c=t.$from.node(a),u=t.$from.index(a)+i,h=t.$to.indexAfter(a)-o;if(a<t.depth&&c.canReplace(u,h,s))return a;if(a==0||c.type.spec.isolating||!h3(c,u,h))break;u&&(i=1),h<c.childCount&&(o=1)}return null}function f3(t,e,s){let{$from:a,$to:i,depth:o}=e,c=a.before(o+1),u=i.after(o+1),h=c,m=u,p=ne.empty,g=0;for(let w=o,N=!1;w>s;w--)N||a.index(w)>0?(N=!0,p=ne.from(a.node(w).copy(p)),g++):h--;let y=ne.empty,v=0;for(let w=o,N=!1;w>s;w--)N||i.after(w+1)<i.end(w)?(N=!0,y=ne.from(i.node(w).copy(y)),v++):m++;t.step(new us(h,m,c,u,new fe(p.append(y),g,v),p.size-g,!0))}function kx(t,e,s=null,a=t){let i=m3(t,e),o=i&&p3(a,e);return o?i.map(z1).concat({type:e,attrs:s}).concat(o.map(z1)):null}function z1(t){return{type:t,attrs:null}}function m3(t,e){let{parent:s,startIndex:a,endIndex:i}=t,o=s.contentMatchAt(a).findWrapping(e);if(!o)return null;let c=o.length?o[0]:e;return s.canReplaceWith(a,i,c)?o:null}function p3(t,e){let{parent:s,startIndex:a,endIndex:i}=t,o=s.child(a),c=e.contentMatch.findWrapping(o.type);if(!c)return null;let h=(c.length?c[c.length-1]:e).contentMatch;for(let m=a;h&&m<i;m++)h=h.matchType(s.child(m).type);return!h||!h.validEnd?null:c}function x3(t,e,s){let a=ne.empty;for(let c=s.length-1;c>=0;c--){if(a.size){let u=s[c].type.contentMatch.matchFragment(a);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}a=ne.from(s[c].type.create(s[c].attrs,a))}let i=e.start,o=e.end;t.step(new us(i,o,i,o,new fe(a,0,0),s.length,!0))}function g3(t,e,s,a,i){if(!a.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,s,(c,u)=>{let h=typeof i=="function"?i(c):i;if(c.isTextblock&&!c.hasMarkup(a,h)&&b3(t.doc,t.mapping.slice(o).map(u),a)){let m=null;if(a.schema.linebreakReplacement){let v=a.whitespace=="pre",w=!!a.contentMatch.matchType(a.schema.linebreakReplacement);v&&!w?m=!1:!v&&w&&(m=!0)}m===!1&&Zw(t,c,u,o),Nx(t,t.mapping.slice(o).map(u,1),a,void 0,m===null);let p=t.mapping.slice(o),g=p.map(u,1),y=p.map(u+c.nodeSize,1);return t.step(new us(g,y,g+1,y-1,new fe(ne.from(a.create(h,null,c.marks)),0,0),1,!0)),m===!0&&Fw(t,c,u,o),!1}})}function Fw(t,e,s,a){e.forEach((i,o)=>{if(i.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(i.text);){let h=t.mapping.slice(a).map(s+1+o+c.index);t.replaceWith(h,h+1,e.type.schema.linebreakReplacement.create())}}})}function Zw(t,e,s,a){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let c=t.mapping.slice(a).map(s+1+o);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function b3(t,e,s){let a=t.resolve(e),i=a.index();return a.parent.canReplaceWith(i,i+1,s)}function y3(t,e,s,a,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");s||(s=o.type);let c=s.create(a,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,c);if(!s.validContent(o.content))throw new RangeError("Invalid content for node type "+s.name);t.step(new us(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new fe(ne.from(c),0,0),1,!0))}function Ua(t,e,s=1,a){let i=t.resolve(e),o=i.depth-s,c=a&&a[a.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!c.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let m=i.depth-1,p=s-2;m>o;m--,p--){let g=i.node(m),y=i.index(m);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(y,g.childCount),w=a&&a[p+1];w&&(v=v.replaceChild(0,w.type.create(w.attrs)));let N=a&&a[p]||g;if(!g.canReplace(y+1,g.childCount)||!N.type.validContent(v))return!1}let u=i.indexAfter(o),h=a&&a[0];return i.node(o).canReplaceWith(u,u,h?h.type:i.node(o+1).type)}function v3(t,e,s=1,a){let i=t.doc.resolve(e),o=ne.empty,c=ne.empty;for(let u=i.depth,h=i.depth-s,m=s-1;u>h;u--,m--){o=ne.from(i.node(u).copy(o));let p=a&&a[m];c=ne.from(p?p.type.create(p.attrs,c):i.node(u).copy(c))}t.step(new is(e,e,new fe(o.append(c),s,s),!0))}function Pl(t,e){let s=t.resolve(e),a=s.index();return Yw(s.nodeBefore,s.nodeAfter)&&s.parent.canReplace(a,a+1)}function w3(t,e){e.content.size||t.type.compatibleContent(e.type);let s=t.contentMatchAt(t.childCount),{linebreakReplacement:a}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),c=o.type==a?t.type.schema.nodes.text:o.type;if(s=s.matchType(c),!s||!t.type.allowsMarks(o.marks))return!1}return s.validEnd}function Yw(t,e){return!!(t&&e&&!t.isLeaf&&w3(t,e))}function yh(t,e,s=-1){let a=t.resolve(e);for(let i=a.depth;;i--){let o,c,u=a.index(i);if(i==a.depth?(o=a.nodeBefore,c=a.nodeAfter):s>0?(o=a.node(i+1),u++,c=a.node(i).maybeChild(u)):(o=a.node(i).maybeChild(u-1),c=a.node(i+1)),o&&!o.isTextblock&&Yw(o,c)&&a.node(i).canReplace(u,u+1))return e;if(i==0)break;e=s<0?a.before(i):a.after(i)}}function j3(t,e,s){let a=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-s),c=o.node().type;if(i&&c.inlineContent){let p=c.whitespace=="pre",g=!!c.contentMatch.matchType(i);p&&!g?a=!1:!p&&g&&(a=!0)}let u=t.steps.length;if(a===!1){let p=t.doc.resolve(e+s);Zw(t,p.node(),p.before(),u)}c.inlineContent&&Nx(t,e+s-1,c,o.node().contentMatchAt(o.index()),a==null);let h=t.mapping.slice(u),m=h.map(e-s);if(t.step(new is(m,h.map(e+s,-1),fe.empty,!0)),a===!0){let p=t.doc.resolve(m);Fw(t,p.node(),p.before(),t.steps.length)}return t}function N3(t,e,s){let a=t.resolve(e);if(a.parent.canReplaceWith(a.index(),a.index(),s))return e;if(a.parentOffset==0)for(let i=a.depth-1;i>=0;i--){let o=a.index(i);if(a.node(i).canReplaceWith(o,o,s))return a.before(i+1);if(o>0)return null}if(a.parentOffset==a.parent.content.size)for(let i=a.depth-1;i>=0;i--){let o=a.indexAfter(i);if(a.node(i).canReplaceWith(o,o,s))return a.after(i+1);if(o<a.node(i).childCount)return null}return null}function Jw(t,e,s){let a=t.resolve(e);if(!s.content.size)return e;let i=s.content;for(let o=0;o<s.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(s.openStart==0&&s.size?2:1);o++)for(let c=a.depth;c>=0;c--){let u=c==a.depth?0:a.pos<=(a.start(c+1)+a.end(c+1))/2?-1:1,h=a.index(c)+(u>0?1:0),m=a.node(c),p=!1;if(o==1)p=m.canReplace(h,h,i);else{let g=m.contentMatchAt(h).findWrapping(i.firstChild.type);p=g&&m.canReplaceWith(h,h,g[0])}if(p)return u==0?a.pos:u<0?a.before(c+1):a.after(c+1)}return null}function vh(t,e,s=e,a=fe.empty){if(e==s&&!a.size)return null;let i=t.resolve(e),o=t.resolve(s);return Xw(i,o,a)?new is(e,s,a):new k3(i,o,a).fit()}function Xw(t,e,s){return!s.openStart&&!s.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),s.content)}class k3{constructor(e,s,a){this.$from=e,this.$to=s,this.unplaced=a,this.frontier=[],this.placed=ne.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let m=this.findFittable();m?this.placeNodes(m):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),s=this.placed.size-this.depth-this.$from.depth,a=this.$from,i=this.close(e<0?this.$to:a.doc.resolve(e));if(!i)return null;let o=this.placed,c=a.depth,u=i.depth;for(;c&&u&&o.childCount==1;)o=o.firstChild.content,c--,u--;let h=new fe(o,c,u);return e>-1?new us(a.pos,e,this.$to.pos,this.$to.end(),h,s):h.size||a.pos!=this.$to.pos?new is(a.pos,i.pos,h):null}findFittable(){let e=this.unplaced.openStart;for(let s=this.unplaced.content,a=0,i=this.unplaced.openEnd;a<e;a++){let o=s.firstChild;if(s.childCount>1&&(i=0),o.type.spec.isolating&&i<=a){e=a;break}s=o.content}for(let s=1;s<=2;s++)for(let a=s==1?e:this.unplaced.openStart;a>=0;a--){let i,o=null;a?(o=Qm(this.unplaced.content,a-1).firstChild,i=o.content):i=this.unplaced.content;let c=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:h,match:m}=this.frontier[u],p,g=null;if(s==1&&(c?m.matchType(c.type)||(g=m.fillBefore(ne.from(c),!1)):o&&h.compatibleContent(o.type)))return{sliceDepth:a,frontierDepth:u,parent:o,inject:g};if(s==2&&c&&(p=m.findWrapping(c.type)))return{sliceDepth:a,frontierDepth:u,parent:o,wrap:p};if(o&&m.matchType(o.type))break}}}openMore(){let{content:e,openStart:s,openEnd:a}=this.unplaced,i=Qm(e,s);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new fe(e,s+1,Math.max(a,i.size+s>=e.size-a?s+1:0)),!0)}dropNode(){let{content:e,openStart:s,openEnd:a}=this.unplaced,i=Qm(e,s);if(i.childCount<=1&&s>0){let o=e.size-s<=s+i.size;this.unplaced=new fe(qo(e,s-1,1),s-1,o?s-1:a)}else this.unplaced=new fe(qo(e,s,1),s,a)}placeNodes({sliceDepth:e,frontierDepth:s,parent:a,inject:i,wrap:o}){for(;this.depth>s;)this.closeFrontierNode();if(o)for(let N=0;N<o.length;N++)this.openFrontierNode(o[N]);let c=this.unplaced,u=a?a.content:c.content,h=c.openStart-e,m=0,p=[],{match:g,type:y}=this.frontier[s];if(i){for(let N=0;N<i.childCount;N++)p.push(i.child(N));g=g.matchFragment(i)}let v=u.size+e-(c.content.size-c.openEnd);for(;m<u.childCount;){let N=u.child(m),k=g.matchType(N.type);if(!k)break;m++,(m>1||h==0||N.content.size)&&(g=k,p.push(Qw(N.mark(y.allowedMarks(N.marks)),m==1?h:0,m==u.childCount?v:-1)))}let w=m==u.childCount;w||(v=-1),this.placed=Vo(this.placed,s,ne.from(p)),this.frontier[s].match=g,w&&v<0&&a&&a.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let N=0,k=u;N<v;N++){let z=k.lastChild;this.frontier.push({type:z.type,match:z.contentMatchAt(z.childCount)}),k=z.content}this.unplaced=w?e==0?fe.empty:new fe(qo(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new fe(qo(c.content,e,m),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],s;if(!e.type.isTextblock||!ep(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(s=this.findCloseLevel(this.$to))&&s.depth==this.depth)return-1;let{depth:a}=this.$to,i=this.$to.after(a);for(;a>1&&i==this.$to.end(--a);)++i;return i}findCloseLevel(e){e:for(let s=Math.min(this.depth,e.depth);s>=0;s--){let{match:a,type:i}=this.frontier[s],o=s<e.depth&&e.end(s+1)==e.pos+(e.depth-(s+1)),c=ep(e,s,i,a,o);if(c){for(let u=s-1;u>=0;u--){let{match:h,type:m}=this.frontier[u],p=ep(e,u,m,h,!0);if(!p||p.childCount)continue e}return{depth:s,fit:c,move:o?e.doc.resolve(e.after(s+1)):e}}}}close(e){let s=this.findCloseLevel(e);if(!s)return null;for(;this.depth>s.depth;)this.closeFrontierNode();s.fit.childCount&&(this.placed=Vo(this.placed,s.depth,s.fit)),e=s.move;for(let a=s.depth+1;a<=e.depth;a++){let i=e.node(a),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(a));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,s=null,a){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Vo(this.placed,this.depth,ne.from(e.create(s,a))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let s=this.frontier.pop().match.fillBefore(ne.empty,!0);s.childCount&&(this.placed=Vo(this.placed,this.frontier.length,s))}}function qo(t,e,s){return e==0?t.cutByIndex(s,t.childCount):t.replaceChild(0,t.firstChild.copy(qo(t.firstChild.content,e-1,s)))}function Vo(t,e,s){return e==0?t.append(s):t.replaceChild(t.childCount-1,t.lastChild.copy(Vo(t.lastChild.content,e-1,s)))}function Qm(t,e){for(let s=0;s<e;s++)t=t.firstChild.content;return t}function Qw(t,e,s){if(e<=0)return t;let a=t.content;return e>1&&(a=a.replaceChild(0,Qw(a.firstChild,e-1,a.childCount==1?s-1:0))),e>0&&(a=t.type.contentMatch.fillBefore(a).append(a),s<=0&&(a=a.append(t.type.contentMatch.matchFragment(a).fillBefore(ne.empty,!0)))),t.copy(a)}function ep(t,e,s,a,i){let o=t.node(e),c=i?t.indexAfter(e):t.index(e);if(c==o.childCount&&!s.compatibleContent(o.type))return null;let u=a.fillBefore(o.content,!0,c);return u&&!z3(s,o.content,c)?u:null}function z3(t,e,s){for(let a=s;a<e.childCount;a++)if(!t.allowsMarks(e.child(a).marks))return!0;return!1}function S3(t){return t.spec.defining||t.spec.definingForContent}function C3(t,e,s,a){if(!a.size)return t.deleteRange(e,s);let i=t.doc.resolve(e),o=t.doc.resolve(s);if(Xw(i,o,a))return t.step(new is(e,s,a));let c=tj(i,o);c[c.length-1]==0&&c.pop();let u=-(i.depth+1);c.unshift(u);for(let y=i.depth,v=i.pos-1;y>0;y--,v--){let w=i.node(y).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;c.indexOf(y)>-1?u=y:i.before(y)==v&&c.splice(1,0,-y)}let h=c.indexOf(u),m=[],p=a.openStart;for(let y=a.content,v=0;;v++){let w=y.firstChild;if(m.push(w),v==a.openStart)break;y=w.content}for(let y=p-1;y>=0;y--){let v=m[y],w=S3(v.type);if(w&&!v.sameMarkup(i.node(Math.abs(u)-1)))p=y;else if(w||!v.type.isTextblock)break}for(let y=a.openStart;y>=0;y--){let v=(y+p+1)%(a.openStart+1),w=m[v];if(w)for(let N=0;N<c.length;N++){let k=c[(N+h)%c.length],z=!0;k<0&&(z=!1,k=-k);let E=i.node(k-1),R=i.index(k-1);if(E.canReplaceWith(R,R,w.type,w.marks))return t.replace(i.before(k),z?o.after(k):s,new fe(ej(a.content,0,a.openStart,v),v,a.openEnd))}}let g=t.steps.length;for(let y=c.length-1;y>=0&&(t.replace(e,s,a),!(t.steps.length>g));y--){let v=c[y];v<0||(e=i.before(v),s=o.after(v))}}function ej(t,e,s,a,i){if(e<s){let o=t.firstChild;t=t.replaceChild(0,o.copy(ej(o.content,e+1,s,a,o)))}if(e>a){let o=i.contentMatchAt(0),c=o.fillBefore(t).append(t);t=c.append(o.matchFragment(c).fillBefore(ne.empty,!0))}return t}function M3(t,e,s,a){if(!a.isInline&&e==s&&t.doc.resolve(e).parent.content.size){let i=N3(t.doc,e,a.type);i!=null&&(e=s=i)}t.replaceRange(e,s,new fe(ne.from(a),0,0))}function E3(t,e,s){let a=t.doc.resolve(e),i=t.doc.resolve(s),o=tj(a,i);for(let c=0;c<o.length;c++){let u=o[c],h=c==o.length-1;if(h&&u==0||a.node(u).type.contentMatch.validEnd)return t.delete(a.start(u),i.end(u));if(u>0&&(h||a.node(u-1).canReplace(a.index(u-1),i.indexAfter(u-1))))return t.delete(a.before(u),i.after(u))}for(let c=1;c<=a.depth&&c<=i.depth;c++)if(e-a.start(c)==a.depth-c&&s>a.end(c)&&i.end(c)-s!=i.depth-c&&a.start(c-1)==i.start(c-1)&&a.node(c-1).canReplace(a.index(c-1),i.index(c-1)))return t.delete(a.before(c),s);t.delete(e,s)}function tj(t,e){let s=[],a=Math.min(t.depth,e.depth);for(let i=a;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&s.push(i)}return s}class Tr extends Ts{constructor(e,s,a){super(),this.pos=e,this.attr=s,this.value=a}apply(e){let s=e.nodeAt(this.pos);if(!s)return Xt.fail("No node at attribute step's position");let a=Object.create(null);for(let o in s.attrs)a[o]=s.attrs[o];a[this.attr]=this.value;let i=s.type.create(a,null,s.marks);return Xt.fromReplace(e,this.pos,this.pos+1,new fe(ne.from(i),0,s.isLeaf?0:1))}getMap(){return rn.empty}invert(e){return new Tr(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let s=e.mapResult(this.pos,1);return s.deletedAfter?null:new Tr(s.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,s){if(typeof s.pos!="number"||typeof s.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Tr(s.pos,s.attr,s.value)}}Ts.jsonID("attr",Tr);class oc extends Ts{constructor(e,s){super(),this.attr=e,this.value=s}apply(e){let s=Object.create(null);for(let i in e.attrs)s[i]=e.attrs[i];s[this.attr]=this.value;let a=e.type.create(s,e.content,e.marks);return Xt.ok(a)}getMap(){return rn.empty}invert(e){return new oc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,s){if(typeof s.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new oc(s.attr,s.value)}}Ts.jsonID("docAttr",oc);let Lr=class extends Error{};Lr=function t(e){let s=Error.call(this,e);return s.__proto__=t.prototype,s};Lr.prototype=Object.create(Error.prototype);Lr.prototype.constructor=Lr;Lr.prototype.name="TransformError";class zx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new rc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let s=this.maybeStep(e);if(s.failed)throw new Lr(s.failed);return this}maybeStep(e){let s=e.apply(this.doc);return s.failed||this.addStep(e,s.doc),s}get docChanged(){return this.steps.length>0}addStep(e,s){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=s}replace(e,s=e,a=fe.empty){let i=vh(this.doc,e,s,a);return i&&this.step(i),this}replaceWith(e,s,a){return this.replace(e,s,new fe(ne.from(a),0,0))}delete(e,s){return this.replace(e,s,fe.empty)}insert(e,s){return this.replaceWith(e,e,s)}replaceRange(e,s,a){return C3(this,e,s,a),this}replaceRangeWith(e,s,a){return M3(this,e,s,a),this}deleteRange(e,s){return E3(this,e,s),this}lift(e,s){return f3(this,e,s),this}join(e,s=1){return j3(this,e,s),this}wrap(e,s){return x3(this,e,s),this}setBlockType(e,s=e,a,i=null){return g3(this,e,s,a,i),this}setNodeMarkup(e,s,a=null,i){return y3(this,e,s,a,i),this}setNodeAttribute(e,s,a){return this.step(new Tr(e,s,a)),this}setDocAttribute(e,s){return this.step(new oc(e,s)),this}addNodeMark(e,s){return this.step(new El(e,s)),this}removeNodeMark(e,s){let a=this.doc.nodeAt(e);if(!a)throw new RangeError("No node at position "+e);if(s instanceof xt)s.isInSet(a.marks)&&this.step(new Ni(e,s));else{let i=a.marks,o,c=[];for(;o=s.isInSet(i);)c.push(new Ni(e,o)),i=o.removeFromSet(i);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,s=1,a){return v3(this,e,s,a),this}addMark(e,s,a){return d3(this,e,s,a),this}removeMark(e,s,a){return u3(this,e,s,a),this}clearIncompatible(e,s,a){return Nx(this,e,s,a),this}}const tp=Object.create(null);class Ae{constructor(e,s,a){this.$anchor=e,this.$head=s,this.ranges=a||[new sj(e.min(s),e.max(s))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let s=0;s<e.length;s++)if(e[s].$from.pos!=e[s].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,s=fe.empty){let a=s.content.lastChild,i=null;for(let u=0;u<s.openEnd;u++)i=a,a=a.lastChild;let o=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:h,$to:m}=c[u],p=e.mapping.slice(o);e.replaceRange(p.map(h.pos),p.map(m.pos),u?fe.empty:s),u==0&&M1(e,o,(a?a.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,s){let a=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:c,$to:u}=i[o],h=e.mapping.slice(a),m=h.map(c.pos),p=h.map(u.pos);o?e.deleteRange(m,p):(e.replaceRangeWith(m,p,s),M1(e,a,s.isInline?-1:1))}}static findFrom(e,s,a=!1){let i=e.parent.inlineContent?new Ce(e):jr(e.node(0),e.parent,e.pos,e.index(),s,a);if(i)return i;for(let o=e.depth-1;o>=0;o--){let c=s<0?jr(e.node(0),e.node(o),e.before(o+1),e.index(o),s,a):jr(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,s,a);if(c)return c}return null}static near(e,s=1){return this.findFrom(e,s)||this.findFrom(e,-s)||new cn(e.node(0))}static atStart(e){return jr(e,e,0,0,1)||new cn(e)}static atEnd(e){return jr(e,e,e.content.size,e.childCount,-1)||new cn(e)}static fromJSON(e,s){if(!s||!s.type)throw new RangeError("Invalid input for Selection.fromJSON");let a=tp[s.type];if(!a)throw new RangeError(`No selection type ${s.type} defined`);return a.fromJSON(e,s)}static jsonID(e,s){if(e in tp)throw new RangeError("Duplicate use of selection JSON ID "+e);return tp[e]=s,s.prototype.jsonID=e,s}getBookmark(){return Ce.between(this.$anchor,this.$head).getBookmark()}}Ae.prototype.visible=!0;class sj{constructor(e,s){this.$from=e,this.$to=s}}let S1=!1;function C1(t){!S1&&!t.parent.inlineContent&&(S1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ce extends Ae{constructor(e,s=e){C1(e),C1(s),super(e,s)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,s){let a=e.resolve(s.map(this.head));if(!a.parent.inlineContent)return Ae.near(a);let i=e.resolve(s.map(this.anchor));return new Ce(i.parent.inlineContent?i:a,a)}replace(e,s=fe.empty){if(super.replace(e,s),s==fe.empty){let a=this.$from.marksAcross(this.$to);a&&e.ensureMarks(a)}}eq(e){return e instanceof Ce&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,s){if(typeof s.anchor!="number"||typeof s.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ce(e.resolve(s.anchor),e.resolve(s.head))}static create(e,s,a=s){let i=e.resolve(s);return new this(i,a==s?i:e.resolve(a))}static between(e,s,a){let i=e.pos-s.pos;if((!a||i)&&(a=i>=0?1:-1),!s.parent.inlineContent){let o=Ae.findFrom(s,a,!0)||Ae.findFrom(s,-a,!0);if(o)s=o.$head;else return Ae.near(s,a)}return e.parent.inlineContent||(i==0?e=s:(e=(Ae.findFrom(e,-a,!0)||Ae.findFrom(e,a,!0)).$anchor,e.pos<s.pos!=i<0&&(e=s))),new Ce(e,s)}}Ae.jsonID("text",Ce);class wh{constructor(e,s){this.anchor=e,this.head=s}map(e){return new wh(e.map(this.anchor),e.map(this.head))}resolve(e){return Ce.between(e.resolve(this.anchor),e.resolve(this.head))}}class ze extends Ae{constructor(e){let s=e.nodeAfter,a=e.node(0).resolve(e.pos+s.nodeSize);super(e,a),this.node=s}map(e,s){let{deleted:a,pos:i}=s.mapResult(this.anchor),o=e.resolve(i);return a?Ae.near(o):new ze(o)}content(){return new fe(ne.from(this.node),0,0)}eq(e){return e instanceof ze&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Sx(this.anchor)}static fromJSON(e,s){if(typeof s.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ze(e.resolve(s.anchor))}static create(e,s){return new ze(e.resolve(s))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ze.prototype.visible=!1;Ae.jsonID("node",ze);class Sx{constructor(e){this.anchor=e}map(e){let{deleted:s,pos:a}=e.mapResult(this.anchor);return s?new wh(a,a):new Sx(a)}resolve(e){let s=e.resolve(this.anchor),a=s.nodeAfter;return a&&ze.isSelectable(a)?new ze(s):Ae.near(s)}}class cn extends Ae{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,s=fe.empty){if(s==fe.empty){e.delete(0,e.doc.content.size);let a=Ae.atStart(e.doc);a.eq(e.selection)||e.setSelection(a)}else super.replace(e,s)}toJSON(){return{type:"all"}}static fromJSON(e){return new cn(e)}map(e){return new cn(e)}eq(e){return e instanceof cn}getBookmark(){return T3}}Ae.jsonID("all",cn);const T3={map(){return this},resolve(t){return new cn(t)}};function jr(t,e,s,a,i,o=!1){if(e.inlineContent)return Ce.create(t,s);for(let c=a-(i>0?0:1);i>0?c<e.childCount:c>=0;c+=i){let u=e.child(c);if(u.isAtom){if(!o&&ze.isSelectable(u))return ze.create(t,s-(i<0?u.nodeSize:0))}else{let h=jr(t,u,s+i,i<0?u.childCount:0,i,o);if(h)return h}s+=u.nodeSize*i}return null}function M1(t,e,s){let a=t.steps.length-1;if(a<e)return;let i=t.steps[a];if(!(i instanceof is||i instanceof us))return;let o=t.mapping.maps[a],c;o.forEach((u,h,m,p)=>{c==null&&(c=p)}),t.setSelection(Ae.near(t.doc.resolve(c),s))}const E1=1,Vd=2,T1=4;class A3 extends zx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|E1)&~Vd,this.storedMarks=null,this}get selectionSet(){return(this.updated&E1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Vd,this}ensureMarks(e){return xt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Vd)>0}addStep(e,s){super.addStep(e,s),this.updated=this.updated&~Vd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,s=!0){let a=this.selection;return s&&(e=e.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||xt.none))),a.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,s,a){let i=this.doc.type.schema;if(s==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(a==null&&(a=s),!e)return this.deleteRange(s,a);let o=this.storedMarks;if(!o){let c=this.doc.resolve(s);o=a==s?c.marks():c.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(s,a,i.text(e,o)),!this.selection.empty&&this.selection.to==s+e.length&&this.setSelection(Ae.near(this.selection.$to)),this}}setMeta(e,s){return this.meta[typeof e=="string"?e:e.key]=s,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=T1,this}get scrolledIntoView(){return(this.updated&T1)>0}}function A1(t,e){return!e||!t?t:t.bind(e)}class Wo{constructor(e,s,a){this.name=e,this.init=A1(s.init,a),this.apply=A1(s.apply,a)}}const D3=[new Wo("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Wo("selection",{init(t,e){return t.selection||Ae.atStart(e.doc)},apply(t){return t.selection}}),new Wo("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,s,a){return a.selection.$cursor?t.storedMarks:null}}),new Wo("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class sp{constructor(e,s){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=D3.slice(),s&&s.forEach(a=>{if(this.pluginsByKey[a.key])throw new RangeError("Adding different instances of a keyed plugin ("+a.key+")");this.plugins.push(a),this.pluginsByKey[a.key]=a,a.spec.state&&this.fields.push(new Wo(a.key,a.spec.state,a))})}}class Sr{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,s=-1){for(let a=0;a<this.config.plugins.length;a++)if(a!=s){let i=this.config.plugins[a];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let s=[e],a=this.applyInner(e),i=null;for(;;){let o=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let h=i?i[c].n:0,m=i?i[c].state:this,p=h<s.length&&u.spec.appendTransaction.call(u,h?s.slice(h):s,m,a);if(p&&a.filterTransaction(p,c)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<c?{state:a,n:s.length}:{state:this,n:0})}s.push(p),a=a.applyInner(p),o=!0}i&&(i[c]={state:a,n:s.length})}}if(!o)return{state:a,transactions:s}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let s=new Sr(this.config),a=this.config.fields;for(let i=0;i<a.length;i++){let o=a[i];s[o.name]=o.apply(e,this[o.name],this,s)}return s}get tr(){return new A3(this)}static create(e){let s=new sp(e.doc?e.doc.type.schema:e.schema,e.plugins),a=new Sr(s);for(let i=0;i<s.fields.length;i++)a[s.fields[i].name]=s.fields[i].init(e,a);return a}reconfigure(e){let s=new sp(this.schema,e.plugins),a=s.fields,i=new Sr(s);for(let o=0;o<a.length;o++){let c=a[o].name;i[c]=this.hasOwnProperty(c)?this[c]:a[o].init(e,i)}return i}toJSON(e){let s={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(s.storedMarks=this.storedMarks.map(a=>a.toJSON())),e&&typeof e=="object")for(let a in e){if(a=="doc"||a=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[a],o=i.spec.state;o&&o.toJSON&&(s[a]=o.toJSON.call(i,this[i.key]))}return s}static fromJSON(e,s,a){if(!s)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new sp(e.schema,e.plugins),o=new Sr(i);return i.fields.forEach(c=>{if(c.name=="doc")o.doc=$n.fromJSON(e.schema,s.doc);else if(c.name=="selection")o.selection=Ae.fromJSON(o.doc,s.selection);else if(c.name=="storedMarks")s.storedMarks&&(o.storedMarks=s.storedMarks.map(e.schema.markFromJSON));else{if(a)for(let u in a){let h=a[u],m=h.spec.state;if(h.key==c.name&&m&&m.fromJSON&&Object.prototype.hasOwnProperty.call(s,u)){o[c.name]=m.fromJSON.call(h,e,s[u],o);return}}o[c.name]=c.init(e,o)}}),o}}function nj(t,e,s){for(let a in t){let i=t[a];i instanceof Function?i=i.bind(e):a=="handleDOMEvents"&&(i=nj(i,e,{})),s[a]=i}return s}class St{constructor(e){this.spec=e,this.props={},e.props&&nj(e.props,this,this.props),this.key=e.key?e.key.key:aj("plugin")}getState(e){return e[this.key]}}const np=Object.create(null);function aj(t){return t in np?t+"$"+ ++np[t]:(np[t]=0,t+"$")}class Ht{constructor(e="key"){this.key=aj(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Cx=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function lj(t,e){let{$cursor:s}=t.selection;return!s||(e?!e.endOfTextblock("backward",t):s.parentOffset>0)?null:s}const ij=(t,e,s)=>{let a=lj(t,s);if(!a)return!1;let i=Mx(a);if(!i){let c=a.blockRange(),u=c&&Wr(c);return u==null?!1:(e&&e(t.tr.lift(c,u).scrollIntoView()),!0)}let o=i.nodeBefore;if(pj(t,i,e,-1))return!0;if(a.parent.content.size==0&&(_r(o,"end")||ze.isSelectable(o)))for(let c=a.depth;;c--){let u=vh(t.doc,a.before(c),a.after(c),fe.empty);if(u&&u.slice.size<u.to-u.from){if(e){let h=t.tr.step(u);h.setSelection(_r(o,"end")?Ae.findFrom(h.doc.resolve(h.mapping.map(i.pos,-1)),-1):ze.create(h.doc,i.pos-o.nodeSize)),e(h.scrollIntoView())}return!0}if(c==1||a.node(c-1).childCount>1)break}return o.isAtom&&i.depth==a.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},O3=(t,e,s)=>{let a=lj(t,s);if(!a)return!1;let i=Mx(a);return i?rj(t,i,e):!1},R3=(t,e,s)=>{let a=cj(t,s);if(!a)return!1;let i=Ex(a);return i?rj(t,i,e):!1};function rj(t,e,s){let a=e.nodeBefore,i=a,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let c=e.nodeAfter,u=c,h=e.pos+1;for(;!u.isTextblock;h++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let m=vh(t.doc,o,h,fe.empty);if(!m||m.from!=o||m instanceof is&&m.slice.size>=h-o)return!1;if(s){let p=t.tr.step(m);p.setSelection(Ce.create(p.doc,o)),s(p.scrollIntoView())}return!0}function _r(t,e,s=!1){for(let a=t;a;a=e=="start"?a.firstChild:a.lastChild){if(a.isTextblock)return!0;if(s&&a.childCount!=1)return!1}return!1}const oj=(t,e,s)=>{let{$head:a,empty:i}=t.selection,o=a;if(!i)return!1;if(a.parent.isTextblock){if(s?!s.endOfTextblock("backward",t):a.parentOffset>0)return!1;o=Mx(a)}let c=o&&o.nodeBefore;return!c||!ze.isSelectable(c)?!1:(e&&e(t.tr.setSelection(ze.create(t.doc,o.pos-c.nodeSize)).scrollIntoView()),!0)};function Mx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function cj(t,e){let{$cursor:s}=t.selection;return!s||(e?!e.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)?null:s}const dj=(t,e,s)=>{let a=cj(t,s);if(!a)return!1;let i=Ex(a);if(!i)return!1;let o=i.nodeAfter;if(pj(t,i,e,1))return!0;if(a.parent.content.size==0&&(_r(o,"start")||ze.isSelectable(o))){let c=vh(t.doc,a.before(),a.after(),fe.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(_r(o,"start")?Ae.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):ze.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return o.isAtom&&i.depth==a.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},uj=(t,e,s)=>{let{$head:a,empty:i}=t.selection,o=a;if(!i)return!1;if(a.parent.isTextblock){if(s?!s.endOfTextblock("forward",t):a.parentOffset<a.parent.content.size)return!1;o=Ex(a)}let c=o&&o.nodeAfter;return!c||!ze.isSelectable(c)?!1:(e&&e(t.tr.setSelection(ze.create(t.doc,o.pos)).scrollIntoView()),!0)};function Ex(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let s=t.node(e);if(t.index(e)+1<s.childCount)return t.doc.resolve(t.after(e+1));if(s.type.spec.isolating)break}return null}const L3=(t,e)=>{let s=t.selection,a=s instanceof ze,i;if(a){if(s.node.isTextblock||!Pl(t.doc,s.from))return!1;i=s.from}else if(i=yh(t.doc,s.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);a&&o.setSelection(ze.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},_3=(t,e)=>{let s=t.selection,a;if(s instanceof ze){if(s.node.isTextblock||!Pl(t.doc,s.to))return!1;a=s.to}else if(a=yh(t.doc,s.to,1),a==null)return!1;return e&&e(t.tr.join(a).scrollIntoView()),!0},B3=(t,e)=>{let{$from:s,$to:a}=t.selection,i=s.blockRange(a),o=i&&Wr(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},hj=(t,e)=>{let{$head:s,$anchor:a}=t.selection;return!s.parent.type.spec.code||!s.sameParent(a)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Tx(t){for(let e=0;e<t.edgeCount;e++){let{type:s}=t.edge(e);if(s.isTextblock&&!s.hasRequiredAttrs())return s}return null}const P3=(t,e)=>{let{$head:s,$anchor:a}=t.selection;if(!s.parent.type.spec.code||!s.sameParent(a))return!1;let i=s.node(-1),o=s.indexAfter(-1),c=Tx(i.contentMatchAt(o));if(!c||!i.canReplaceWith(o,o,c))return!1;if(e){let u=s.after(),h=t.tr.replaceWith(u,u,c.createAndFill());h.setSelection(Ae.near(h.doc.resolve(u),1)),e(h.scrollIntoView())}return!0},fj=(t,e)=>{let s=t.selection,{$from:a,$to:i}=s;if(s instanceof cn||a.parent.inlineContent||i.parent.inlineContent)return!1;let o=Tx(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let c=(!a.parentOffset&&i.index()<i.parent.childCount?a:i).pos,u=t.tr.insert(c,o.createAndFill());u.setSelection(Ce.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},mj=(t,e)=>{let{$cursor:s}=t.selection;if(!s||s.parent.content.size)return!1;if(s.depth>1&&s.after()!=s.end(-1)){let o=s.before();if(Ua(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let a=s.blockRange(),i=a&&Wr(a);return i==null?!1:(e&&e(t.tr.lift(a,i).scrollIntoView()),!0)};function U3(t){return(e,s)=>{let{$from:a,$to:i}=e.selection;if(e.selection instanceof ze&&e.selection.node.isBlock)return!a.parentOffset||!Ua(e.doc,a.pos)?!1:(s&&s(e.tr.split(a.pos).scrollIntoView()),!0);if(!a.depth)return!1;let o=[],c,u,h=!1,m=!1;for(let v=a.depth;;v--)if(a.node(v).isBlock){h=a.end(v)==a.pos+(a.depth-v),m=a.start(v)==a.pos-(a.depth-v),u=Tx(a.node(v-1).contentMatchAt(a.indexAfter(v-1))),o.unshift(h&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof Ce||e.selection instanceof cn)&&p.deleteSelection();let g=p.mapping.map(a.pos),y=Ua(p.doc,g,o.length,o);if(y||(o[0]=u?{type:u}:null,y=Ua(p.doc,g,o.length,o)),!y)return!1;if(p.split(g,o.length,o),!h&&m&&a.node(c).type!=u){let v=p.mapping.map(a.before(c)),w=p.doc.resolve(v);u&&a.node(c-1).canReplaceWith(w.index(),w.index()+1,u)&&p.setNodeMarkup(p.mapping.map(a.before(c)),u)}return s&&s(p.scrollIntoView()),!0}}const H3=U3(),I3=(t,e)=>{let{$from:s,to:a}=t.selection,i,o=s.sharedDepth(a);return o==0?!1:(i=s.before(o),e&&e(t.tr.setSelection(ze.create(t.doc,i))),!0)};function $3(t,e,s){let a=e.nodeBefore,i=e.nodeAfter,o=e.index();return!a||!i||!a.type.compatibleContent(i.type)?!1:!a.content.size&&e.parent.canReplace(o-1,o)?(s&&s(t.tr.delete(e.pos-a.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Pl(t.doc,e.pos))?!1:(s&&s(t.tr.join(e.pos).scrollIntoView()),!0)}function pj(t,e,s,a){let i=e.nodeBefore,o=e.nodeAfter,c,u,h=i.type.spec.isolating||o.type.spec.isolating;if(!h&&$3(t,e,s))return!0;let m=!h&&e.parent.canReplace(e.index(),e.index()+1);if(m&&(c=(u=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&u.matchType(c[0]||o.type).validEnd){if(s){let v=e.pos+o.nodeSize,w=ne.empty;for(let z=c.length-1;z>=0;z--)w=ne.from(c[z].create(null,w));w=ne.from(i.copy(w));let N=t.tr.step(new us(e.pos-1,v,e.pos,v,new fe(w,1,0),c.length,!0)),k=N.doc.resolve(v+2*c.length);k.nodeAfter&&k.nodeAfter.type==i.type&&Pl(N.doc,k.pos)&&N.join(k.pos),s(N.scrollIntoView())}return!0}let p=o.type.spec.isolating||a>0&&h?null:Ae.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),y=g&&Wr(g);if(y!=null&&y>=e.depth)return s&&s(t.tr.lift(g,y).scrollIntoView()),!0;if(m&&_r(o,"start",!0)&&_r(i,"end")){let v=i,w=[];for(;w.push(v),!v.isTextblock;)v=v.lastChild;let N=o,k=1;for(;!N.isTextblock;N=N.firstChild)k++;if(v.canReplace(v.childCount,v.childCount,N.content)){if(s){let z=ne.empty;for(let R=w.length-1;R>=0;R--)z=ne.from(w[R].copy(z));let E=t.tr.step(new us(e.pos-w.length,e.pos+o.nodeSize,e.pos+k,e.pos+o.nodeSize-k,new fe(z,w.length,0),0,!0));s(E.scrollIntoView())}return!0}}return!1}function xj(t){return function(e,s){let a=e.selection,i=t<0?a.$from:a.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(s&&s(e.tr.setSelection(Ce.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const q3=xj(-1),V3=xj(1);function W3(t,e=null){return function(s,a){let{$from:i,$to:o}=s.selection,c=i.blockRange(o),u=c&&kx(c,t,e);return u?(a&&a(s.tr.wrap(c,u).scrollIntoView()),!0):!1}}function D1(t,e=null){return function(s,a){let i=!1;for(let o=0;o<s.selection.ranges.length&&!i;o++){let{$from:{pos:c},$to:{pos:u}}=s.selection.ranges[o];s.doc.nodesBetween(c,u,(h,m)=>{if(i)return!1;if(!(!h.isTextblock||h.hasMarkup(t,e)))if(h.type==t)i=!0;else{let p=s.doc.resolve(m),g=p.index();i=p.parent.canReplaceWith(g,g+1,t)}})}if(!i)return!1;if(a){let o=s.tr;for(let c=0;c<s.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:h}}=s.selection.ranges[c];o.setBlockType(u,h,t,e)}a(o.scrollIntoView())}return!0}}function Ax(...t){return function(e,s,a){for(let i=0;i<t.length;i++)if(t[i](e,s,a))return!0;return!1}}Ax(Cx,ij,oj);Ax(Cx,dj,uj);Ax(hj,fj,mj,H3);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function K3(t,e=null){return function(s,a){let{$from:i,$to:o}=s.selection,c=i.blockRange(o);if(!c)return!1;let u=a?s.tr:null;return G3(u,c,t,e)?(a&&a(u.scrollIntoView()),!0):!1}}function G3(t,e,s,a=null){let i=!1,o=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(s)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let h=c.resolve(e.start-2);o=new Su(h,h,e.depth),e.endIndex<e.parent.childCount&&(e=new Su(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=kx(o,s,a,e);return u?(t&&F3(t,e,u,i,s),!0):!1}function F3(t,e,s,a,i){let o=ne.empty;for(let p=s.length-1;p>=0;p--)o=ne.from(s[p].type.create(s[p].attrs,o));t.step(new us(e.start-(a?2:0),e.end,e.start,e.end,new fe(o,0,0),s.length,!0));let c=0;for(let p=0;p<s.length;p++)s[p].type==i&&(c=p+1);let u=s.length-c,h=e.start+s.length-(a?2:0),m=e.parent;for(let p=e.startIndex,g=e.endIndex,y=!0;p<g;p++,y=!1)!y&&Ua(t.doc,h,u)&&(t.split(h,u),h+=2*u),h+=m.child(p).nodeSize;return t}function Z3(t){return function(e,s){let{$from:a,$to:i}=e.selection,o=a.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);return o?s?a.node(o.depth-1).type==t?Y3(e,s,t,o):J3(e,s,o):!0:!1}}function Y3(t,e,s,a){let i=t.tr,o=a.end,c=a.$to.end(a.depth);o<c&&(i.step(new us(o-1,c,o,c,new fe(ne.from(s.create(null,a.parent.copy())),1,0),1,!0)),a=new Su(i.doc.resolve(a.$from.pos),i.doc.resolve(c),a.depth));const u=Wr(a);if(u==null)return!1;i.lift(a,u);let h=i.doc.resolve(i.mapping.map(o,-1)-1);return Pl(i.doc,h.pos)&&h.nodeBefore.type==h.nodeAfter.type&&i.join(h.pos),e(i.scrollIntoView()),!0}function J3(t,e,s){let a=t.tr,i=s.parent;for(let v=s.end,w=s.endIndex-1,N=s.startIndex;w>N;w--)v-=i.child(w).nodeSize,a.delete(v-1,v+1);let o=a.doc.resolve(s.start),c=o.nodeAfter;if(a.mapping.map(s.end)!=s.start+o.nodeAfter.nodeSize)return!1;let u=s.startIndex==0,h=s.endIndex==i.childCount,m=o.node(-1),p=o.index(-1);if(!m.canReplace(p+(u?0:1),p+1,c.content.append(h?ne.empty:ne.from(i))))return!1;let g=o.pos,y=g+c.nodeSize;return a.step(new us(g-(u?1:0),y+(h?1:0),g+1,y-1,new fe((u?ne.empty:ne.from(i.copy(ne.empty))).append(h?ne.empty:ne.from(i.copy(ne.empty))),u?0:1,h?0:1),u?0:1)),e(a.scrollIntoView()),!0}function X3(t){return function(e,s){let{$from:a,$to:i}=e.selection,o=a.blockRange(i,m=>m.childCount>0&&m.firstChild.type==t);if(!o)return!1;let c=o.startIndex;if(c==0)return!1;let u=o.parent,h=u.child(c-1);if(h.type!=t)return!1;if(s){let m=h.lastChild&&h.lastChild.type==u.type,p=ne.from(m?t.create():null),g=new fe(ne.from(t.create(null,ne.from(u.type.create(null,p)))),m?3:1,0),y=o.start,v=o.end;s(e.tr.step(new us(y-(m?3:1),v,y,v,g,1,!0)).scrollIntoView())}return!0}}const js=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Br=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Pp=null;const La=function(t,e,s){let a=Pp||(Pp=document.createRange());return a.setEnd(t,s??t.nodeValue.length),a.setStart(t,e||0),a},Q3=function(){Pp=null},ki=function(t,e,s,a){return s&&(O1(t,e,s,a,-1)||O1(t,e,s,a,1))},eM=/^(img|br|input|textarea|hr)$/i;function O1(t,e,s,a,i){for(var o;;){if(t==s&&e==a)return!0;if(e==(i<0?0:Sn(t))){let c=t.parentNode;if(!c||c.nodeType!=1||yc(t)||eM.test(t.nodeName)||t.contentEditable=="false")return!1;e=js(t)+(i<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(i<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((o=c.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=c,e=i<0?Sn(t):0}else return!1}}function Sn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function tM(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Sn(t)}else if(t.parentNode&&!yc(t))e=js(t),t=t.parentNode;else return null}}function sM(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!yc(t))e=js(t)+1,t=t.parentNode;else return null}}function nM(t,e,s){for(let a=e==0,i=e==Sn(t);a||i;){if(t==s)return!0;let o=js(t);if(t=t.parentNode,!t)return!1;a=a&&o==0,i=i&&o==Sn(t)}}function yc(t){let e;for(let s=t;s&&!(e=s.pmViewDesc);s=s.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const jh=function(t){return t.focusNode&&ki(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function di(t,e){let s=document.createEvent("Event");return s.initEvent("keydown",!0,!0),s.keyCode=t,s.key=s.code=e,s}function aM(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function lM(t,e,s){if(t.caretPositionFromPoint)try{let a=t.caretPositionFromPoint(e,s);if(a)return{node:a.offsetNode,offset:Math.min(Sn(a.offsetNode),a.offset)}}catch{}if(t.caretRangeFromPoint){let a=t.caretRangeFromPoint(e,s);if(a)return{node:a.startContainer,offset:Math.min(Sn(a.startContainer),a.startOffset)}}}const sa=typeof navigator<"u"?navigator:null,R1=typeof document<"u"?document:null,Ul=sa&&sa.userAgent||"",Up=/Edge\/(\d+)/.exec(Ul),gj=/MSIE \d/.exec(Ul),Hp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ul),Fs=!!(gj||Hp||Up),Dl=gj?document.documentMode:Hp?+Hp[1]:Up?+Up[1]:0,Mn=!Fs&&/gecko\/(\d+)/i.test(Ul);Mn&&+(/Firefox\/(\d+)/.exec(Ul)||[0,0])[1];const Ip=!Fs&&/Chrome\/(\d+)/.exec(Ul),cs=!!Ip,bj=Ip?+Ip[1]:0,Ms=!Fs&&!!sa&&/Apple Computer/.test(sa.vendor),Pr=Ms&&(/Mobile\/\w+/.test(Ul)||!!sa&&sa.maxTouchPoints>2),zn=Pr||(sa?/Mac/.test(sa.platform):!1),yj=sa?/Win/.test(sa.platform):!1,Pa=/Android \d/.test(Ul),vc=!!R1&&"webkitFontSmoothing"in R1.documentElement.style,iM=vc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function rM(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ta(t,e){return typeof t=="number"?t:t[e]}function oM(t){let e=t.getBoundingClientRect(),s=e.width/t.offsetWidth||1,a=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*s,top:e.top,bottom:e.top+t.clientHeight*a}}function L1(t,e,s){let a=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let c=s||t.dom;c;){if(c.nodeType!=1){c=Br(c);continue}let u=c,h=u==o.body,m=h?rM(o):oM(u),p=0,g=0;if(e.top<m.top+Ta(a,"top")?g=-(m.top-e.top+Ta(i,"top")):e.bottom>m.bottom-Ta(a,"bottom")&&(g=e.bottom-e.top>m.bottom-m.top?e.top+Ta(i,"top")-m.top:e.bottom-m.bottom+Ta(i,"bottom")),e.left<m.left+Ta(a,"left")?p=-(m.left-e.left+Ta(i,"left")):e.right>m.right-Ta(a,"right")&&(p=e.right-m.right+Ta(i,"right")),p||g)if(h)o.defaultView.scrollBy(p,g);else{let v=u.scrollLeft,w=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let N=u.scrollLeft-v,k=u.scrollTop-w;e={left:e.left-N,top:e.top-k,right:e.right-N,bottom:e.bottom-k}}let y=h?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(y))break;c=y=="absolute"?c.offsetParent:Br(c)}}function cM(t){let e=t.dom.getBoundingClientRect(),s=Math.max(0,e.top),a,i;for(let o=(e.left+e.right)/2,c=s+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=t.root.elementFromPoint(o,c);if(!u||u==t.dom||!t.dom.contains(u))continue;let h=u.getBoundingClientRect();if(h.top>=s-20){a=u,i=h.top;break}}return{refDOM:a,refTop:i,stack:vj(t.dom)}}function vj(t){let e=[],s=t.ownerDocument;for(let a=t;a&&(e.push({dom:a,top:a.scrollTop,left:a.scrollLeft}),t!=s);a=Br(a));return e}function dM({refDOM:t,refTop:e,stack:s}){let a=t?t.getBoundingClientRect().top:0;wj(s,a==0?0:a-e)}function wj(t,e){for(let s=0;s<t.length;s++){let{dom:a,top:i,left:o}=t[s];a.scrollTop!=i+e&&(a.scrollTop=i+e),a.scrollLeft!=o&&(a.scrollLeft=o)}}let br=null;function uM(t){if(t.setActive)return t.setActive();if(br)return t.focus(br);let e=vj(t);t.focus(br==null?{get preventScroll(){return br={preventScroll:!0},!0}}:void 0),br||(br=!1,wj(e,0))}function jj(t,e){let s,a=2e8,i,o=0,c=e.top,u=e.top,h,m;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=La(p).getClientRects();else continue;for(let v=0;v<y.length;v++){let w=y[v];if(w.top<=c&&w.bottom>=u){c=Math.max(w.bottom,c),u=Math.min(w.top,u);let N=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(N<a){s=p,a=N,i=N&&s.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&N&&(o=g+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!h&&w.left<=e.left&&w.right>=e.left&&(h=p,m={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!s&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=g+1)}}return!s&&h&&(s=h,i=m,a=0),s&&s.nodeType==3?hM(s,i):!s||a&&s.nodeType==1?{node:t,offset:o}:jj(s,i)}function hM(t,e){let s=t.nodeValue.length,a=document.createRange(),i;for(let o=0;o<s;o++){a.setEnd(t,o+1),a.setStart(t,o);let c=wl(a,1);if(c.top!=c.bottom&&Dx(e,c)){i={node:t,offset:o+(e.left>=(c.left+c.right)/2?1:0)};break}}return a.detach(),i||{node:t,offset:0}}function Dx(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function fM(t,e){let s=t.parentNode;return s&&/^li$/i.test(s.nodeName)&&e.left<t.getBoundingClientRect().left?s:t}function mM(t,e,s){let{node:a,offset:i}=jj(e,s),o=-1;if(a.nodeType==1&&!a.firstChild){let c=a.getBoundingClientRect();o=c.left!=c.right&&s.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(a,i,o)}function pM(t,e,s,a){let i=-1;for(let o=e,c=!1;o!=t.dom;){let u=t.docView.nearestDesc(o,!0),h;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((h=u.dom.getBoundingClientRect()).width||h.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&h.left>a.left||h.top>a.top?i=u.posBefore:(!c&&h.right<a.left||h.bottom<a.top)&&(i=u.posAfter),c=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?a.top<(h.top+h.bottom)/2:a.left<(h.left+h.right)/2)?u.posBefore:u.posAfter;o=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,s,-1)}function Nj(t,e,s){let a=t.childNodes.length;if(a&&s.top<s.bottom)for(let i=Math.max(0,Math.min(a-1,Math.floor(a*(e.top-s.top)/(s.bottom-s.top))-2)),o=i;;){let c=t.childNodes[o];if(c.nodeType==1){let u=c.getClientRects();for(let h=0;h<u.length;h++){let m=u[h];if(Dx(e,m))return Nj(c,e,m)}}if((o=(o+1)%a)==i)break}return t}function xM(t,e){let s=t.dom.ownerDocument,a,i=0,o=lM(s,e.left,e.top);o&&({node:a,offset:i}=o);let c=(t.root.elementFromPoint?t.root:s).elementFromPoint(e.left,e.top),u;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let m=t.dom.getBoundingClientRect();if(!Dx(e,m)||(c=Nj(t.dom,e,m),!c))return null}if(Ms)for(let m=c;a&&m;m=Br(m))m.draggable&&(a=void 0);if(c=fM(c,e),a){if(Mn&&a.nodeType==1&&(i=Math.min(i,a.childNodes.length),i<a.childNodes.length)){let p=a.childNodes[i],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let m;vc&&i&&a.nodeType==1&&(m=a.childNodes[i-1]).nodeType==1&&m.contentEditable=="false"&&m.getBoundingClientRect().top>=e.top&&i--,a==t.dom&&i==a.childNodes.length-1&&a.lastChild.nodeType==1&&e.top>a.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||a.nodeType!=1||a.childNodes[i-1].nodeName!="BR")&&(u=pM(t,a,i,e))}u==null&&(u=mM(t,c,e));let h=t.docView.nearestDesc(c,!0);return{pos:u,inside:h?h.posAtStart-h.border:-1}}function _1(t){return t.top<t.bottom||t.left<t.right}function wl(t,e){let s=t.getClientRects();if(s.length){let a=s[e<0?0:s.length-1];if(_1(a))return a}return Array.prototype.find.call(s,_1)||t.getBoundingClientRect()}const gM=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function kj(t,e,s){let{node:a,offset:i,atom:o}=t.docView.domFromPos(e,s<0?-1:1),c=vc||Mn;if(a.nodeType==3)if(c&&(gM.test(a.nodeValue)||(s<0?!i:i==a.nodeValue.length))){let h=wl(La(a,i,i),s);if(Mn&&i&&/\s/.test(a.nodeValue[i-1])&&i<a.nodeValue.length){let m=wl(La(a,i-1,i-1),-1);if(m.top==h.top){let p=wl(La(a,i,i+1),-1);if(p.top!=h.top)return Ho(p,p.left<m.left)}}return h}else{let h=i,m=i,p=s<0?1:-1;return s<0&&!i?(m++,p=-1):s>=0&&i==a.nodeValue.length?(h--,p=1):s<0?h--:m++,Ho(wl(La(a,h,m),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(s<0||i==Sn(a))){let h=a.childNodes[i-1];if(h.nodeType==1)return ap(h.getBoundingClientRect(),!1)}if(o==null&&i<Sn(a)){let h=a.childNodes[i];if(h.nodeType==1)return ap(h.getBoundingClientRect(),!0)}return ap(a.getBoundingClientRect(),s>=0)}if(o==null&&i&&(s<0||i==Sn(a))){let h=a.childNodes[i-1],m=h.nodeType==3?La(h,Sn(h)-(c?0:1)):h.nodeType==1&&(h.nodeName!="BR"||!h.nextSibling)?h:null;if(m)return Ho(wl(m,1),!1)}if(o==null&&i<Sn(a)){let h=a.childNodes[i];for(;h.pmViewDesc&&h.pmViewDesc.ignoreForCoords;)h=h.nextSibling;let m=h?h.nodeType==3?La(h,0,c?0:1):h.nodeType==1?h:null:null;if(m)return Ho(wl(m,-1),!0)}return Ho(wl(a.nodeType==3?La(a):a,-s),s>=0)}function Ho(t,e){if(t.width==0)return t;let s=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:s,right:s}}function ap(t,e){if(t.height==0)return t;let s=e?t.top:t.bottom;return{top:s,bottom:s,left:t.left,right:t.right}}function zj(t,e,s){let a=t.state,i=t.root.activeElement;a!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return s()}finally{a!=e&&t.updateState(a),i!=t.dom&&i&&i.focus()}}function bM(t,e,s){let a=e.selection,i=s=="up"?a.$from:a.$to;return zj(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,s=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(o,!0);if(!u)break;if(u.node.isBlock){o=u.contentDOM||u.dom;break}o=u.dom.parentNode}let c=kj(t,i.pos,1);for(let u=o.firstChild;u;u=u.nextSibling){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=La(u,0,u.nodeValue.length).getClientRects();else continue;for(let m=0;m<h.length;m++){let p=h[m];if(p.bottom>p.top+1&&(s=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}const yM=/[\u0590-\u08ac]/;function vM(t,e,s){let{$head:a}=e.selection;if(!a.parent.isTextblock)return!1;let i=a.parentOffset,o=!i,c=i==a.parent.content.size,u=t.domSelection();return u?!yM.test(a.parent.textContent)||!u.modify?s=="left"||s=="backward"?o:c:zj(t,e,()=>{let{focusNode:h,focusOffset:m,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),y=u.caretBidiLevel;u.modify("move",s,"character");let v=a.depth?t.docView.domAfterPos(a.before()):t.dom,{focusNode:w,focusOffset:N}=t.domSelectionRange(),k=w&&!v.contains(w.nodeType==1?w:w.parentNode)||h==w&&m==N;try{u.collapse(p,g),h&&(h!=p||m!=g)&&u.extend&&u.extend(h,m)}catch{}return y!=null&&(u.caretBidiLevel=y),k}):a.pos==a.start()||a.pos==a.end()}let B1=null,P1=null,U1=!1;function wM(t,e,s){return B1==e&&P1==s?U1:(B1=e,P1=s,U1=s=="up"||s=="down"?bM(t,e,s):vM(t,e,s))}const En=0,H1=1,hi=2,na=3;class wc{constructor(e,s,a,i){this.parent=e,this.children=s,this.dom=a,this.contentDOM=i,this.dirty=En,a.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,s,a){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let s=0;s<this.children.length;s++)e+=this.children[s].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let s=0,a=this.posAtStart;;s++){let i=this.children[s];if(i==e)return a;a+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,s,a){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(a<0){let o,c;if(e==this.contentDOM)o=e.childNodes[s-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(c)+c.size:this.posAtStart}else{let o,c;if(e==this.contentDOM)o=e.childNodes[s];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(c):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=s>js(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(s==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&s==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??a>0?this.posAtEnd:this.posAtStart}nearestDesc(e,s=!1){for(let a=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),c;if(o&&(!s||o.node))if(a&&(c=o.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))a=!1;else return o}}getDesc(e){let s=e.pmViewDesc;for(let a=s;a;a=a.parent)if(a==this)return s}posFromDOM(e,s,a){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,s,a)}return-1}descAt(e){for(let s=0,a=0;s<this.children.length;s++){let i=this.children[s],o=a+i.size;if(a==e&&o!=a){for(;!i.border&&i.children.length;)for(let c=0;c<i.children.length;c++){let u=i.children[c];if(u.size){i=u;break}}return i}if(e<o)return i.descAt(e-a-i.border);a=o}}domFromPos(e,s){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let a=0,i=0;for(let o=0;a<this.children.length;a++){let c=this.children[a],u=o+c.size;if(u>e||c instanceof Cj){i=e-o;break}o=u}if(i)return this.children[a].domFromPos(i-this.children[a].border,s);for(let o;a&&!(o=this.children[a-1]).size&&o instanceof Sj&&o.side>=0;a--);if(s<=0){let o,c=!0;for(;o=a?this.children[a-1]:null,!(!o||o.dom.parentNode==this.contentDOM);a--,c=!1);return o&&s&&c&&!o.border&&!o.domAtom?o.domFromPos(o.size,s):{node:this.contentDOM,offset:o?js(o.dom)+1:0}}else{let o,c=!0;for(;o=a<this.children.length?this.children[a]:null,!(!o||o.dom.parentNode==this.contentDOM);a++,c=!1);return o&&c&&!o.border&&!o.domAtom?o.domFromPos(0,s):{node:this.contentDOM,offset:o?js(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,s,a=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:s,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let c=a,u=0;;u++){let h=this.children[u],m=c+h.size;if(i==-1&&e<=m){let p=c+h.border;if(e>=p&&s<=m-h.border&&h.node&&h.contentDOM&&this.contentDOM.contains(h.contentDOM))return h.parseRange(e,s,p);e=c;for(let g=u;g>0;g--){let y=this.children[g-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=js(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(m>s||u==this.children.length-1)){s=m;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){o=js(g.dom);break}s+=g.size}o==-1&&(o=this.contentDOM.childNodes.length);break}c=m}return{node:this.contentDOM,from:e,to:s,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let s=this.children[e<0?0:this.children.length-1];return s.size==0||s.emptyChildAt(e)}domAfterPos(e){let{node:s,offset:a}=this.domFromPos(e,0);if(s.nodeType!=1||a==s.childNodes.length)throw new RangeError("No node after pos "+e);return s.childNodes[a]}setSelection(e,s,a,i=!1){let o=Math.min(e,s),c=Math.max(e,s);for(let v=0,w=0;v<this.children.length;v++){let N=this.children[v],k=w+N.size;if(o>w&&c<k)return N.setSelection(e-w-N.border,s-w-N.border,a,i);w=k}let u=this.domFromPos(e,e?-1:1),h=s==e?u:this.domFromPos(s,s?-1:1),m=a.root.getSelection(),p=a.domSelectionRange(),g=!1;if((Mn||Ms)&&e==s){let{node:v,offset:w}=u;if(v.nodeType==3){if(g=!!(w&&v.nodeValue[w-1]==`
`),g&&w==v.nodeValue.length)for(let N=v,k;N;N=N.parentNode){if(k=N.nextSibling){k.nodeName=="BR"&&(u=h={node:k.parentNode,offset:js(k)+1});break}let z=N.pmViewDesc;if(z&&z.node&&z.node.isBlock)break}}else{let N=v.childNodes[w-1];g=N&&(N.nodeName=="BR"||N.contentEditable=="false")}}if(Mn&&p.focusNode&&p.focusNode!=h.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||g&&Ms)&&ki(u.node,u.offset,p.anchorNode,p.anchorOffset)&&ki(h.node,h.offset,p.focusNode,p.focusOffset))return;let y=!1;if((m.extend||e==s)&&!(g&&Mn)){m.collapse(u.node,u.offset);try{e!=s&&m.extend(h.node,h.offset),y=!0}catch{}}if(!y){if(e>s){let w=u;u=h,h=w}let v=document.createRange();v.setEnd(h.node,h.offset),v.setStart(u.node,u.offset),m.removeAllRanges(),m.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,s){for(let a=0,i=0;i<this.children.length;i++){let o=this.children[i],c=a+o.size;if(a==c?e<=c&&s>=a:e<c&&s>a){let u=a+o.border,h=c-o.border;if(e>=u&&s<=h){this.dirty=e==a||s==c?hi:H1,e==u&&s==h&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=na:o.markDirty(e-u,s-u);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?hi:na}a=c}this.dirty=hi}markParentsDirty(){let e=1;for(let s=this.parent;s;s=s.parent,e++){let a=e==1?hi:H1;s.dirty<a&&(s.dirty=a)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Sj extends wc{constructor(e,s,a,i){let o,c=s.type.toDOM;if(typeof c=="function"&&(c=c(a,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!s.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=s,this.widget=s,o=this}matchesWidget(e){return this.dirty==En&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let s=this.widget.spec.stopEvent;return s?s(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class jM extends wc{constructor(e,s,a,i){super(e,[],s,null),this.textDOM=a,this.text=i}get size(){return this.text.length}localPosFromDOM(e,s){return e!=this.textDOM?this.posAtStart+(s?this.size:0):this.posAtStart+s}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class zi extends wc{constructor(e,s,a,i,o){super(e,[],a,i),this.mark=s,this.spec=o}static create(e,s,a,i){let o=i.nodeViews[s.type.name],c=o&&o(s,i,a);return(!c||!c.dom)&&(c=Di.renderSpec(document,s.type.spec.toDOM(s,a),null,s.attrs)),new zi(e,s,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&na||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=na&&this.mark.eq(e)}markDirty(e,s){if(super.markDirty(e,s),this.dirty!=En){let a=this.parent;for(;!a.node;)a=a.parent;a.dirty<this.dirty&&(a.dirty=this.dirty),this.dirty=En}}slice(e,s,a){let i=zi.create(this.parent,this.mark,!0,a),o=this.children,c=this.size;s<c&&(o=qp(o,s,c,a)),e>0&&(o=qp(o,0,e,a));for(let u=0;u<o.length;u++)o[u].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ol extends wc{constructor(e,s,a,i,o,c,u,h,m){super(e,[],o,c),this.node=s,this.outerDeco=a,this.innerDeco=i,this.nodeDOM=u}static create(e,s,a,i,o,c){let u=o.nodeViews[s.type.name],h,m=u&&u(s,o,()=>{if(!h)return c;if(h.parent)return h.parent.posBeforeChild(h)},a,i),p=m&&m.dom,g=m&&m.contentDOM;if(s.isText){if(!p)p=document.createTextNode(s.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=Di.renderSpec(document,s.type.spec.toDOM(s),null,s.attrs));!g&&!s.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),s.type.spec.draggable&&(p.draggable=!0));let y=p;return p=Tj(p,a,s),m?h=new NM(e,s,a,i,p,g||null,y,m,o,c+1):s.isText?new Nh(e,s,a,i,p,y,o):new Ol(e,s,a,i,p,g||null,y,o,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let s=this.children.length-1;s>=0;s--){let a=this.children[s];if(this.dom.contains(a.dom.parentNode)){e.contentElement=a.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,s,a){return this.dirty==En&&e.eq(this.node)&&Mu(s,this.outerDeco)&&a.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,s){let a=this.node.inlineContent,i=s,o=e.composing?this.localCompositionInfo(e,s):null,c=o&&o.pos>-1?o:null,u=o&&o.pos<0,h=new zM(this,c&&c.node,e);MM(this.node,this.innerDeco,(m,p,g)=>{m.spec.marks?h.syncToMarks(m.spec.marks,a,e):m.type.side>=0&&!g&&h.syncToMarks(p==this.node.childCount?xt.none:this.node.child(p).marks,a,e),h.placeWidget(m,e,i)},(m,p,g,y)=>{h.syncToMarks(m.marks,a,e);let v;h.findNodeMatch(m,p,g,y)||u&&e.state.selection.from>i&&e.state.selection.to<i+m.nodeSize&&(v=h.findIndexWithChild(o.node))>-1&&h.updateNodeAt(m,p,g,v,e)||h.updateNextNode(m,p,g,e,y,i)||h.addNode(m,p,g,e,i),i+=m.nodeSize}),h.syncToMarks([],a,e),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==hi)&&(c&&this.protectLocalComposition(e,c),Mj(this.contentDOM,this.children,e),Pr&&EM(this.dom))}localCompositionInfo(e,s){let{from:a,to:i}=e.state.selection;if(!(e.state.selection instanceof Ce)||a<s||i>s+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let c=o.nodeValue,u=TM(this.node.content,c,a-s,i-s);return u<0?null:{node:o,pos:u,text:c}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:s,pos:a,text:i}){if(this.getDesc(s))return;let o=s;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let c=new jM(this,o,s,i);e.input.compositionNodes.push(c),this.children=qp(this.children,a,a+i.length,e,c)}update(e,s,a,i){return this.dirty==na||!e.sameMarkup(this.node)?!1:(this.updateInner(e,s,a,i),!0)}updateInner(e,s,a,i){this.updateOuterDeco(s),this.node=e,this.innerDeco=a,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=En}updateOuterDeco(e){if(Mu(e,this.outerDeco))return;let s=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=Ej(this.dom,this.nodeDOM,$p(this.outerDeco,this.node,s),$p(e,this.node,s)),this.dom!=a&&(a.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function I1(t,e,s,a,i){Tj(a,e,t);let o=new Ol(void 0,t,e,s,a,a,a,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Nh extends Ol{constructor(e,s,a,i,o,c,u){super(e,s,a,i,o,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,s,a,i){return this.dirty==na||this.dirty!=En&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(s),(this.dirty!=En||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=En,!0)}inParent(){let e=this.parent.contentDOM;for(let s=this.nodeDOM;s;s=s.parentNode)if(s==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,s,a){return e==this.nodeDOM?this.posAtStart+Math.min(s,this.node.text.length):super.localPosFromDOM(e,s,a)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,s,a){let i=this.node.cut(e,s),o=document.createTextNode(i.text);return new Nh(this.parent,i,this.outerDeco,this.innerDeco,o,o,a)}markDirty(e,s){super.markDirty(e,s),this.dom!=this.nodeDOM&&(e==0||s==this.nodeDOM.nodeValue.length)&&(this.dirty=na)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Cj extends wc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==En&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class NM extends Ol{constructor(e,s,a,i,o,c,u,h,m,p){super(e,s,a,i,o,c,u,m,p),this.spec=h}update(e,s,a,i){if(this.dirty==na)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,s,a);return o&&this.updateInner(e,s,a,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,s,a,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,s,a,i){this.spec.setSelection?this.spec.setSelection(e,s,a.root):super.setSelection(e,s,a,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Mj(t,e,s){let a=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let c=e[o],u=c.dom;if(u.parentNode==t){for(;u!=a;)a=$1(a),i=!0;a=a.nextSibling}else i=!0,t.insertBefore(u,a);if(c instanceof zi){let h=a?a.previousSibling:t.lastChild;Mj(c.contentDOM,c.children,s),a=h?h.nextSibling:t.firstChild}}for(;a;)a=$1(a),i=!0;i&&s.trackWrites==t&&(s.trackWrites=null)}const Zo=function(t){t&&(this.nodeName=t)};Zo.prototype=Object.create(null);const fi=[new Zo];function $p(t,e,s){if(t.length==0)return fi;let a=s?fi[0]:new Zo,i=[a];for(let o=0;o<t.length;o++){let c=t[o].type.attrs;if(c){c.nodeName&&i.push(a=new Zo(c.nodeName));for(let u in c){let h=c[u];h!=null&&(s&&i.length==1&&i.push(a=new Zo(e.isInline?"span":"div")),u=="class"?a.class=(a.class?a.class+" ":"")+h:u=="style"?a.style=(a.style?a.style+";":"")+h:u!="nodeName"&&(a[u]=h))}}}return i}function Ej(t,e,s,a){if(s==fi&&a==fi)return e;let i=e;for(let o=0;o<a.length;o++){let c=a[o],u=s[o];if(o){let h;u&&u.nodeName==c.nodeName&&i!=t&&(h=i.parentNode)&&h.nodeName.toLowerCase()==c.nodeName||(h=document.createElement(c.nodeName),h.pmIsDeco=!0,h.appendChild(i),u=fi[0]),i=h}kM(i,u||fi[0],c)}return i}function kM(t,e,s){for(let a in e)a!="class"&&a!="style"&&a!="nodeName"&&!(a in s)&&t.removeAttribute(a);for(let a in s)a!="class"&&a!="style"&&a!="nodeName"&&s[a]!=e[a]&&t.setAttribute(a,s[a]);if(e.class!=s.class){let a=e.class?e.class.split(" ").filter(Boolean):[],i=s.class?s.class.split(" ").filter(Boolean):[];for(let o=0;o<a.length;o++)i.indexOf(a[o])==-1&&t.classList.remove(a[o]);for(let o=0;o<i.length;o++)a.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=s.style){if(e.style){let a=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=a.exec(e.style);)t.style.removeProperty(i[1])}s.style&&(t.style.cssText+=s.style)}}function Tj(t,e,s){return Ej(t,t,fi,$p(e,s,t.nodeType!=1))}function Mu(t,e){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!t[s].type.eq(e[s].type))return!1;return!0}function $1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class zM{constructor(e,s,a){this.lock=s,this.view=a,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=SM(e.node.content,e)}destroyBetween(e,s){if(e!=s){for(let a=e;a<s;a++)this.top.children[a].destroy();this.top.children.splice(e,s-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,s,a){let i=0,o=this.stack.length>>1,c=Math.min(o,e.length);for(;i<c&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=En,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let h=this.index;h<Math.min(this.index+3,this.top.children.length);h++){let m=this.top.children[h];if(m.matchesMark(e[o])&&!this.isLocked(m.dom)){u=h;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let h=zi.create(this.top,e[o],s,a);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,o++}}findNodeMatch(e,s,a,i){let o=-1,c;if(i>=this.preMatch.index&&(c=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&c.matchesNode(e,s,a))o=this.top.children.indexOf(c,this.index);else for(let u=this.index,h=Math.min(this.top.children.length,u+5);u<h;u++){let m=this.top.children[u];if(m.matchesNode(e,s,a)&&!this.preMatch.matched.has(m)){o=u;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,s,a,i,o){let c=this.top.children[i];return c.dirty==na&&c.dom==c.contentDOM&&(c.dirty=hi),c.update(e,s,a,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let s=e.parentNode;if(!s)return-1;if(s==this.top.contentDOM){let a=e.pmViewDesc;if(a){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==a)return i}return-1}e=s}}updateNextNode(e,s,a,i,o,c){for(let u=this.index;u<this.top.children.length;u++){let h=this.top.children[u];if(h instanceof Ol){let m=this.preMatch.matched.get(h);if(m!=null&&m!=o)return!1;let p=h.dom,g,y=this.isLocked(p)&&!(e.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==e.text&&h.dirty!=na&&Mu(s,h.outerDeco));if(!y&&h.update(e,s,a,i))return this.destroyBetween(this.index,u),h.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(g=this.recreateWrapper(h,e,s,a,i,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=hi,g.updateChildren(i,c+1),g.dirty=En),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,s,a,i,o,c){if(e.dirty||s.isAtom||!e.children.length||!e.node.content.eq(s.content)||!Mu(a,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=Ol.create(this.top,s,a,i,o,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let h of u.children)h.parent=u}return e.destroy(),u}addNode(e,s,a,i,o){let c=Ol.create(this.top,e,s,a,i,o);c.contentDOM&&c.updateChildren(i,o+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,s,a){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Sj(this.top,e,s,a);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],s=this.top;for(;e instanceof zi;)s=e,e=s.children[s.children.length-1];(!e||!(e instanceof Nh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ms||cs)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",s),this.addHackNode("BR",this.top))}addHackNode(e,s){if(s==this.top&&this.index<s.children.length&&s.children[this.index].matchesHack(e))this.index++;else{let a=document.createElement(e);e=="IMG"&&(a.className="ProseMirror-separator",a.alt=""),e=="BR"&&(a.className="ProseMirror-trailingBreak");let i=new Cj(this.top,[],a,null);s!=this.top?s.children.push(i):s.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function SM(t,e){let s=e,a=s.children.length,i=t.childCount,o=new Map,c=[];e:for(;i>0;){let u;for(;;)if(a){let m=s.children[a-1];if(m instanceof zi)s=m,a=m.children.length;else{u=m,a--;break}}else{if(s==e)break e;a=s.parent.children.indexOf(s),s=s.parent}let h=u.node;if(h){if(h!=t.child(i-1))break;--i,o.set(u,i),c.push(u)}}return{index:i,matched:o,matches:c.reverse()}}function CM(t,e){return t.type.side-e.type.side}function MM(t,e,s,a){let i=e.locals(t),o=0;if(i.length==0){for(let m=0;m<t.childCount;m++){let p=t.child(m);a(p,i,e.forChild(o,p),m),o+=p.nodeSize}return}let c=0,u=[],h=null;for(let m=0;;){let p,g;for(;c<i.length&&i[c].to==o;){let k=i[c++];k.widget&&(p?(g||(g=[p])).push(k):p=k)}if(p)if(g){g.sort(CM);for(let k=0;k<g.length;k++)s(g[k],m,!!h)}else s(p,m,!!h);let y,v;if(h)v=-1,y=h,h=null;else if(m<t.childCount)v=m,y=t.child(m++);else break;for(let k=0;k<u.length;k++)u[k].to<=o&&u.splice(k--,1);for(;c<i.length&&i[c].from<=o&&i[c].to>o;)u.push(i[c++]);let w=o+y.nodeSize;if(y.isText){let k=w;c<i.length&&i[c].from<k&&(k=i[c].from);for(let z=0;z<u.length;z++)u[z].to<k&&(k=u[z].to);k<w&&(h=y.cut(k-o),y=y.cut(0,k-o),w=k,v=-1)}else for(;c<i.length&&i[c].to<w;)c++;let N=y.isInline&&!y.isLeaf?u.filter(k=>!k.inline):u.slice();a(y,N,e.forChild(o,y),v),o=w}}function EM(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function TM(t,e,s,a){for(let i=0,o=0;i<t.childCount&&o<=a;){let c=t.child(i++),u=o;if(o+=c.nodeSize,!c.isText)continue;let h=c.text;for(;i<t.childCount;){let m=t.child(i++);if(o+=m.nodeSize,!m.isText)break;h+=m.text}if(o>=s){if(o>=a&&h.slice(a-e.length-u,a-u)==e)return a-e.length;let m=u<a?h.lastIndexOf(e,a-u-1):-1;if(m>=0&&m+e.length+u>=s)return u+m;if(s==a&&h.length>=a+e.length-u&&h.slice(a-u,a-u+e.length)==e)return a}}return-1}function qp(t,e,s,a,i){let o=[];for(let c=0,u=0;c<t.length;c++){let h=t[c],m=u,p=u+=h.size;m>=s||p<=e?o.push(h):(m<e&&o.push(h.slice(0,e-m,a)),i&&(o.push(i),i=void 0),p>s&&o.push(h.slice(s-m,h.size,a)))}return o}function Ox(t,e=null){let s=t.domSelectionRange(),a=t.state.doc;if(!s.focusNode)return null;let i=t.docView.nearestDesc(s.focusNode),o=i&&i.size==0,c=t.docView.posFromDOM(s.focusNode,s.focusOffset,1);if(c<0)return null;let u=a.resolve(c),h,m;if(jh(s)){for(h=c;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&ze.isSelectable(g)&&i.parent&&!(g.isInline&&nM(s.focusNode,s.focusOffset,i.dom))){let y=i.posBefore;m=new ze(c==y?u:a.resolve(y))}}else{if(s instanceof t.dom.ownerDocument.defaultView.Selection&&s.rangeCount>1){let g=c,y=c;for(let v=0;v<s.rangeCount;v++){let w=s.getRangeAt(v);g=Math.min(g,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(g<0)return null;[h,c]=y==t.state.selection.anchor?[y,g]:[g,y],u=a.resolve(c)}else h=t.docView.posFromDOM(s.anchorNode,s.anchorOffset,1);if(h<0)return null}let p=a.resolve(h);if(!m){let g=e=="pointer"||t.state.selection.head<u.pos&&!o?1:-1;m=Rx(t,p,u,g)}return m}function Aj(t){return t.editable?t.hasFocus():Oj(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ha(t,e=!1){let s=t.state.selection;if(Dj(t,s),!!Aj(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&cs){let a=t.domSelectionRange(),i=t.domObserver.currentSelection;if(a.anchorNode&&i.anchorNode&&ki(a.anchorNode,a.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)DM(t);else{let{anchor:a,head:i}=s,o,c;q1&&!(s instanceof Ce)&&(s.$from.parent.inlineContent||(o=V1(t,s.from)),!s.empty&&!s.$from.parent.inlineContent&&(c=V1(t,s.to))),t.docView.setSelection(a,i,t,e),q1&&(o&&W1(o),c&&W1(c)),s.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&AM(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const q1=Ms||cs&&bj<63;function V1(t,e){let{node:s,offset:a}=t.docView.domFromPos(e,0),i=a<s.childNodes.length?s.childNodes[a]:null,o=a?s.childNodes[a-1]:null;if(Ms&&i&&i.contentEditable=="false")return lp(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return lp(i);if(o)return lp(o)}}function lp(t){return t.contentEditable="true",Ms&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function W1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function AM(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let s=t.domSelectionRange(),a=s.anchorNode,i=s.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(s.anchorNode!=a||s.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Aj(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function DM(t){let e=t.domSelection();if(!e)return;let s=t.cursorWrapper.dom,a=s.nodeName=="IMG";a?e.collapse(s.parentNode,js(s)+1):e.collapse(s,0),!a&&!t.state.selection.visible&&Fs&&Dl<=11&&(s.disabled=!0,s.disabled=!1)}function Dj(t,e){if(e instanceof ze){let s=t.docView.descAt(e.from);s!=t.lastSelectedViewDesc&&(K1(t),s&&s.selectNode(),t.lastSelectedViewDesc=s)}else K1(t)}function K1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Rx(t,e,s,a){return t.someProp("createSelectionBetween",i=>i(t,e,s))||Ce.between(e,s,a)}function G1(t){return t.editable&&!t.hasFocus()?!1:Oj(t)}function Oj(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function OM(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),s=t.domSelectionRange();return ki(e.node,e.offset,s.anchorNode,s.anchorOffset)}function Vp(t,e){let{$anchor:s,$head:a}=t.selection,i=e>0?s.max(a):s.min(a),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ae.findFrom(o,e)}function jl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function F1(t,e,s){let a=t.state.selection;if(a instanceof Ce)if(s.indexOf("s")>-1){let{$head:i}=a,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let c=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return jl(t,new Ce(a.$anchor,c))}else if(a.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Vp(t.state,e);return i&&i instanceof ze?jl(t,i):!1}else if(!(zn&&s.indexOf("m")>-1)){let i=a.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,c;if(!o||o.isText)return!1;let u=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(c=t.docView.descAt(u))&&!c.contentDOM?ze.isSelectable(o)?jl(t,new ze(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):vc?jl(t,new Ce(t.state.doc.resolve(e<0?u:u+o.nodeSize))):!1:!1}}else return!1;else{if(a instanceof ze&&a.node.isInline)return jl(t,new Ce(e>0?a.$to:a.$from));{let i=Vp(t.state,e);return i?jl(t,i):!1}}}function Eu(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Yo(t,e){let s=t.pmViewDesc;return s&&s.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function yr(t,e){return e<0?RM(t):LM(t)}function RM(t){let e=t.domSelectionRange(),s=e.focusNode,a=e.focusOffset;if(!s)return;let i,o,c=!1;for(Mn&&s.nodeType==1&&a<Eu(s)&&Yo(s.childNodes[a],-1)&&(c=!0);;)if(a>0){if(s.nodeType!=1)break;{let u=s.childNodes[a-1];if(Yo(u,-1))i=s,o=--a;else if(u.nodeType==3)s=u,a=s.nodeValue.length;else break}}else{if(Rj(s))break;{let u=s.previousSibling;for(;u&&Yo(u,-1);)i=s.parentNode,o=js(u),u=u.previousSibling;if(u)s=u,a=Eu(s);else{if(s=s.parentNode,s==t.dom)break;a=0}}}c?Wp(t,s,a):i&&Wp(t,i,o)}function LM(t){let e=t.domSelectionRange(),s=e.focusNode,a=e.focusOffset;if(!s)return;let i=Eu(s),o,c;for(;;)if(a<i){if(s.nodeType!=1)break;let u=s.childNodes[a];if(Yo(u,1))o=s,c=++a;else break}else{if(Rj(s))break;{let u=s.nextSibling;for(;u&&Yo(u,1);)o=u.parentNode,c=js(u)+1,u=u.nextSibling;if(u)s=u,a=0,i=Eu(s);else{if(s=s.parentNode,s==t.dom)break;a=i=0}}}o&&Wp(t,o,c)}function Rj(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function _M(t,e){for(;t&&e==t.childNodes.length&&!yc(t);)e=js(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let s=t.childNodes[e];if(s.nodeType==3)return s;if(s.nodeType==1&&s.contentEditable=="false")break;t=s,e=0}}function BM(t,e){for(;t&&!e&&!yc(t);)e=js(t),t=t.parentNode;for(;t&&e;){let s=t.childNodes[e-1];if(s.nodeType==3)return s;if(s.nodeType==1&&s.contentEditable=="false")break;t=s,e=t.childNodes.length}}function Wp(t,e,s){if(e.nodeType!=3){let o,c;(c=_M(e,s))?(e=c,s=0):(o=BM(e,s))&&(e=o,s=o.nodeValue.length)}let a=t.domSelection();if(!a)return;if(jh(a)){let o=document.createRange();o.setEnd(e,s),o.setStart(e,s),a.removeAllRanges(),a.addRange(o)}else a.extend&&a.extend(e,s);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ha(t)},50)}function Z1(t,e){let s=t.state.doc.resolve(e);if(!(cs||yj)&&s.parent.inlineContent){let i=t.coordsAtPos(e);if(e>s.start()){let o=t.coordsAtPos(e-1),c=(o.top+o.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<s.end()){let o=t.coordsAtPos(e+1),c=(o.top+o.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Y1(t,e,s){let a=t.state.selection;if(a instanceof Ce&&!a.empty||s.indexOf("s")>-1||zn&&s.indexOf("m")>-1)return!1;let{$from:i,$to:o}=a;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Vp(t.state,e);if(c&&c instanceof ze)return jl(t,c)}if(!i.parent.inlineContent){let c=e<0?i:o,u=a instanceof cn?Ae.near(c,e):Ae.findFrom(c,e);return u?jl(t,u):!1}return!1}function J1(t,e){if(!(t.state.selection instanceof Ce))return!0;let{$head:s,$anchor:a,empty:i}=t.state.selection;if(!s.sameParent(a))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!s.textOffset&&(e<0?s.nodeBefore:s.nodeAfter);if(o&&!o.isText){let c=t.state.tr;return e<0?c.delete(s.pos-o.nodeSize,s.pos):c.delete(s.pos,s.pos+o.nodeSize),t.dispatch(c),!0}return!1}function X1(t,e,s){t.domObserver.stop(),e.contentEditable=s,t.domObserver.start()}function PM(t){if(!Ms||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:s}=t.domSelectionRange();if(e&&e.nodeType==1&&s==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let a=e.firstChild;X1(t,a,"true"),setTimeout(()=>X1(t,a,"false"),20)}return!1}function UM(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function HM(t,e){let s=e.keyCode,a=UM(e);if(s==8||zn&&s==72&&a=="c")return J1(t,-1)||yr(t,-1);if(s==46&&!e.shiftKey||zn&&s==68&&a=="c")return J1(t,1)||yr(t,1);if(s==13||s==27)return!0;if(s==37||zn&&s==66&&a=="c"){let i=s==37?Z1(t,t.state.selection.from)=="ltr"?-1:1:-1;return F1(t,i,a)||yr(t,i)}else if(s==39||zn&&s==70&&a=="c"){let i=s==39?Z1(t,t.state.selection.from)=="ltr"?1:-1:1;return F1(t,i,a)||yr(t,i)}else{if(s==38||zn&&s==80&&a=="c")return Y1(t,-1,a)||yr(t,-1);if(s==40||zn&&s==78&&a=="c")return PM(t)||Y1(t,1,a)||yr(t,1);if(a==(zn?"m":"c")&&(s==66||s==73||s==89||s==90))return!0}return!1}function Lx(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let s=[],{content:a,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&a.childCount==1&&a.firstChild.childCount==1;){i--,o--;let v=a.firstChild;s.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),a=v.content}let c=t.someProp("clipboardSerializer")||Di.fromSchema(t.state.schema),u=Hj(),h=u.createElement("div");h.appendChild(c.serializeFragment(a,{document:u}));let m=h.firstChild,p,g=0;for(;m&&m.nodeType==1&&(p=Uj[m.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let w=u.createElement(p[v]);for(;h.firstChild;)w.appendChild(h.firstChild);h.appendChild(w),g++}m=h.firstChild}m&&m.nodeType==1&&m.setAttribute("data-pm-slice",`${i} ${o}${g?` -${g}`:""} ${JSON.stringify(s)}`);let y=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:h,text:y,slice:e}}function Lj(t,e,s,a,i){let o=i.parent.type.spec.code,c,u;if(!s&&!e)return null;let h=!!e&&(a||o||!s);if(h){if(t.someProp("transformPastedText",y=>{e=y(e,o||a,t)}),o)return u=new fe(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",y=>{u=y(u,t,!0)}),u;let g=t.someProp("clipboardTextParser",y=>y(e,i,a,t));if(g)u=g;else{let y=i.marks(),{schema:v}=t.state,w=Di.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(N=>{let k=c.appendChild(document.createElement("p"));N&&k.appendChild(w.serializeNode(v.text(N,y)))})}}else t.someProp("transformPastedHTML",g=>{s=g(s,t)}),c=VM(s),vc&&WM(c);let m=c&&c.querySelector("[data-pm-slice]"),p=m&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(m.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let y=c.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;c=y}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Al.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(h||p),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!IM.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)u=KM(Q1(u,+p[1],+p[2]),p[4]);else if(u=fe.maxOpen($M(u.content,i),!0),u.openStart||u.openEnd){let g=0,y=0;for(let v=u.content.firstChild;g<u.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=u.content.lastChild;y<u.openEnd&&!v.type.spec.isolating;y++,v=v.lastChild);u=Q1(u,g,y)}return t.someProp("transformPasted",g=>{u=g(u,t,h)}),u}const IM=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function $M(t,e){if(t.childCount<2)return t;for(let s=e.depth;s>=0;s--){let i=e.node(s).contentMatchAt(e.index(s)),o,c=[];if(t.forEach(u=>{if(!c)return;let h=i.findWrapping(u.type),m;if(!h)return c=null;if(m=c.length&&o.length&&Bj(h,o,u,c[c.length-1],0))c[c.length-1]=m;else{c.length&&(c[c.length-1]=Pj(c[c.length-1],o.length));let p=_j(u,h);c.push(p),i=i.matchType(p.type),o=h}}),c)return ne.from(c)}return t}function _j(t,e,s=0){for(let a=e.length-1;a>=s;a--)t=e[a].create(null,ne.from(t));return t}function Bj(t,e,s,a,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Bj(t,e,s,a.lastChild,i+1);if(o)return a.copy(a.content.replaceChild(a.childCount-1,o));if(a.contentMatchAt(a.childCount).matchType(i==t.length-1?s.type:t[i+1]))return a.copy(a.content.append(ne.from(_j(s,t,i+1))))}}function Pj(t,e){if(e==0)return t;let s=t.content.replaceChild(t.childCount-1,Pj(t.lastChild,e-1)),a=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(s.append(a))}function Kp(t,e,s,a,i,o){let c=e<0?t.firstChild:t.lastChild,u=c.content;return t.childCount>1&&(o=0),i<a-1&&(u=Kp(u,e,s,a,i+1,o)),i>=s&&(u=e<0?c.contentMatchAt(0).fillBefore(u,o<=i).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(u))}function Q1(t,e,s){return e<t.openStart&&(t=new fe(Kp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),s<t.openEnd&&(t=new fe(Kp(t.content,1,s,t.openEnd,0,0),t.openStart,s)),t}const Uj={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ev=null;function Hj(){return ev||(ev=document.implementation.createHTMLDocument("title"))}let ip=null;function qM(t){let e=window.trustedTypes;return e?(ip||(ip=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:s=>s})),ip.createHTML(t)):t}function VM(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let s=Hj().createElement("div"),a=/<([a-z][^>\s]+)/i.exec(t),i;if((i=a&&Uj[a[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),s.innerHTML=qM(t),i)for(let o=0;o<i.length;o++)s=s.querySelector(i[o])||s;return s}function WM(t){let e=t.querySelectorAll(cs?"span:not([class]):not([style])":"span.Apple-converted-space");for(let s=0;s<e.length;s++){let a=e[s];a.childNodes.length==1&&a.textContent==""&&a.parentNode&&a.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),a)}}function KM(t,e){if(!t.size)return t;let s=t.content.firstChild.type.schema,a;try{a=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:c}=t;for(let u=a.length-2;u>=0;u-=2){let h=s.nodes[a[u]];if(!h||h.hasRequiredAttrs())break;i=ne.from(h.create(a[u+1],i)),o++,c++}return new fe(i,o,c)}const _s={},Bs={},GM={touchstart:!0,touchmove:!0};class FM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ZM(t){for(let e in _s){let s=_s[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=a=>{JM(t,a)&&!_x(t,a)&&(t.editable||!(a.type in Bs))&&s(t,a)},GM[e]?{passive:!0}:void 0)}Ms&&t.dom.addEventListener("input",()=>null),Gp(t)}function Tl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function YM(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Gp(t){t.someProp("handleDOMEvents",e=>{for(let s in e)t.input.eventHandlers[s]||t.dom.addEventListener(s,t.input.eventHandlers[s]=a=>_x(t,a))})}function _x(t,e){return t.someProp("handleDOMEvents",s=>{let a=s[e.type];return a?a(t,e)||e.defaultPrevented:!1})}function JM(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let s=e.target;s!=t.dom;s=s.parentNode)if(!s||s.nodeType==11||s.pmViewDesc&&s.pmViewDesc.stopEvent(e))return!1;return!0}function XM(t,e){!_x(t,e)&&_s[e.type]&&(t.editable||!(e.type in Bs))&&_s[e.type](t,e)}Bs.keydown=(t,e)=>{let s=e;if(t.input.shiftKey=s.keyCode==16||s.shiftKey,!$j(t,s)&&(t.input.lastKeyCode=s.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Pa&&cs&&s.keyCode==13)))if(s.keyCode!=229&&t.domObserver.forceFlush(),Pr&&s.keyCode==13&&!s.ctrlKey&&!s.altKey&&!s.metaKey){let a=Date.now();t.input.lastIOSEnter=a,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==a&&(t.someProp("handleKeyDown",i=>i(t,di(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",a=>a(t,s))||HM(t,s)?s.preventDefault():Tl(t,"key")};Bs.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Bs.keypress=(t,e)=>{let s=e;if($j(t,s)||!s.charCode||s.ctrlKey&&!s.altKey||zn&&s.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,s))){s.preventDefault();return}let a=t.state.selection;if(!(a instanceof Ce)||!a.$from.sameParent(a.$to)){let i=String.fromCharCode(s.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",c=>c(t,a.$from.pos,a.$to.pos,i,o))&&t.dispatch(o()),s.preventDefault()}};function kh(t){return{left:t.clientX,top:t.clientY}}function QM(t,e){let s=e.x-t.clientX,a=e.y-t.clientY;return s*s+a*a<100}function Bx(t,e,s,a,i){if(a==-1)return!1;let o=t.state.doc.resolve(a);for(let c=o.depth+1;c>0;c--)if(t.someProp(e,u=>c>o.depth?u(t,s,o.nodeAfter,o.before(c),i,!0):u(t,s,o.node(c),o.before(c),i,!1)))return!0;return!1}function Ar(t,e,s){if(t.focused||t.focus(),t.state.selection.eq(e))return;let a=t.state.tr.setSelection(e);a.setMeta("pointer",!0),t.dispatch(a)}function e4(t,e){if(e==-1)return!1;let s=t.state.doc.resolve(e),a=s.nodeAfter;return a&&a.isAtom&&ze.isSelectable(a)?(Ar(t,new ze(s)),!0):!1}function t4(t,e){if(e==-1)return!1;let s=t.state.selection,a,i;s instanceof ze&&(a=s.node);let o=t.state.doc.resolve(e);for(let c=o.depth+1;c>0;c--){let u=c>o.depth?o.nodeAfter:o.node(c);if(ze.isSelectable(u)){a&&s.$from.depth>0&&c>=s.$from.depth&&o.before(s.$from.depth+1)==s.$from.pos?i=o.before(s.$from.depth):i=o.before(c);break}}return i!=null?(Ar(t,ze.create(t.state.doc,i)),!0):!1}function s4(t,e,s,a,i){return Bx(t,"handleClickOn",e,s,a)||t.someProp("handleClick",o=>o(t,e,a))||(i?t4(t,s):e4(t,s))}function n4(t,e,s,a){return Bx(t,"handleDoubleClickOn",e,s,a)||t.someProp("handleDoubleClick",i=>i(t,e,a))}function a4(t,e,s,a){return Bx(t,"handleTripleClickOn",e,s,a)||t.someProp("handleTripleClick",i=>i(t,e,a))||l4(t,s,a)}function l4(t,e,s){if(s.button!=0)return!1;let a=t.state.doc;if(e==-1)return a.inlineContent?(Ar(t,Ce.create(a,0,a.content.size)),!0):!1;let i=a.resolve(e);for(let o=i.depth+1;o>0;o--){let c=o>i.depth?i.nodeAfter:i.node(o),u=i.before(o);if(c.inlineContent)Ar(t,Ce.create(a,u+1,u+1+c.content.size));else if(ze.isSelectable(c))Ar(t,ze.create(a,u));else continue;return!0}}function Px(t){return Tu(t)}const Ij=zn?"metaKey":"ctrlKey";_s.mousedown=(t,e)=>{let s=e;t.input.shiftKey=s.shiftKey;let a=Px(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&QM(s,t.input.lastClick)&&!s[Ij]&&t.input.lastClick.button==s.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:s.clientX,y:s.clientY,type:o,button:s.button};let c=t.posAtCoords(kh(s));c&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new i4(t,c,s,!!a)):(o=="doubleClick"?n4:a4)(t,c.pos,c.inside,s)?s.preventDefault():Tl(t,"pointer"))};class i4{constructor(e,s,a,i){this.view=e,this.pos=s,this.event=a,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!a[Ij],this.allowDefault=a.shiftKey;let o,c;if(s.inside>-1)o=e.state.doc.nodeAt(s.inside),c=s.inside;else{let p=e.state.doc.resolve(s.pos);o=p.parent,c=p.depth?p.before():0}const u=i?null:a.target,h=u?e.docView.nearestDesc(u,!0):null;this.target=h&&h.nodeDOM.nodeType==1?h.nodeDOM:null;let{selection:m}=e.state;(a.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||m instanceof ze&&m.from<=c&&m.to>c)&&(this.mightDrag={node:o,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Mn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Tl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ha(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let s=this.pos;this.view.state.doc!=this.startDoc&&(s=this.view.posAtCoords(kh(e))),this.updateAllowDefault(e),this.allowDefault||!s?Tl(this.view,"pointer"):s4(this.view,s.pos,s.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ms&&this.mightDrag&&!this.mightDrag.node.isAtom||cs&&!this.view.state.selection.visible&&Math.min(Math.abs(s.pos-this.view.state.selection.from),Math.abs(s.pos-this.view.state.selection.to))<=2)?(Ar(this.view,Ae.near(this.view.state.doc.resolve(s.pos))),e.preventDefault()):Tl(this.view,"pointer")}move(e){this.updateAllowDefault(e),Tl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_s.touchstart=t=>{t.input.lastTouch=Date.now(),Px(t),Tl(t,"pointer")};_s.touchmove=t=>{t.input.lastTouch=Date.now(),Tl(t,"pointer")};_s.contextmenu=t=>Px(t);function $j(t,e){return t.composing?!0:Ms&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const r4=Pa?5e3:-1;Bs.compositionstart=Bs.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,s=e.selection.$to;if(e.selection instanceof Ce&&(e.storedMarks||!s.textOffset&&s.parentOffset&&s.nodeBefore.marks.some(a=>a.type.spec.inclusive===!1)||cs&&yj&&o4(t)))t.markCursor=t.state.storedMarks||s.marks(),Tu(t,!0),t.markCursor=null;else if(Tu(t,!e.selection.empty),Mn&&e.selection.empty&&s.parentOffset&&!s.textOffset&&s.nodeBefore.marks.length){let a=t.domSelectionRange();for(let i=a.focusNode,o=a.focusOffset;i&&i.nodeType==1&&o!=0;){let c=o<0?i.lastChild:i.childNodes[o-1];if(!c)break;if(c.nodeType==3){let u=t.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else i=c,o=-1}}t.input.composing=!0}qj(t,r4)};function o4(t){let{focusNode:e,focusOffset:s}=t.domSelectionRange();if(!e||e.nodeType!=1||s>=e.childNodes.length)return!1;let a=e.childNodes[s];return a.nodeType==1&&a.contentEditable=="false"}Bs.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,qj(t,20))};function qj(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Tu(t),e))}function Vj(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=d4());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function c4(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let s=tM(e.focusNode,e.focusOffset),a=sM(e.focusNode,e.focusOffset);if(s&&a&&s!=a){let i=a.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(s==o||a==o)return o;if(!i||!i.isText(a.nodeValue))return a;if(t.input.compositionNode==a){let c=s.pmViewDesc;if(!(!c||!c.isText(s.nodeValue)))return a}}return s||a}function d4(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Tu(t,e=!1){if(!(Pa&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Vj(t),e||t.docView&&t.docView.dirty){let s=Ox(t),a=t.state.selection;return s&&!s.eq(a)?t.dispatch(t.state.tr.setSelection(s)):(t.markCursor||e)&&!a.$from.node(a.$from.sharedDepth(a.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function u4(t,e){if(!t.dom.parentNode)return;let s=t.dom.parentNode.appendChild(document.createElement("div"));s.appendChild(e),s.style.cssText="position: fixed; left: -10000px; top: 10px";let a=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),a.removeAllRanges(),a.addRange(i),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s),t.focus()},50)}const cc=Fs&&Dl<15||Pr&&iM<604;_s.copy=Bs.cut=(t,e)=>{let s=e,a=t.state.selection,i=s.type=="cut";if(a.empty)return;let o=cc?null:s.clipboardData,c=a.content(),{dom:u,text:h}=Lx(t,c);o?(s.preventDefault(),o.clearData(),o.setData("text/html",u.innerHTML),o.setData("text/plain",h)):u4(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function h4(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function f4(t,e){if(!t.dom.parentNode)return;let s=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,a=t.dom.parentNode.appendChild(document.createElement(s?"textarea":"div"));s||(a.contentEditable="true"),a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),a.parentNode&&a.parentNode.removeChild(a),s?dc(t,a.value,null,i,e):dc(t,a.textContent,a.innerHTML,i,e)},50)}function dc(t,e,s,a,i){let o=Lj(t,e,s,a,t.state.selection.$from);if(t.someProp("handlePaste",h=>h(t,i,o||fe.empty)))return!0;if(!o)return!1;let c=h4(o),u=c?t.state.tr.replaceSelectionWith(c,a):t.state.tr.replaceSelection(o);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Wj(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let s=t.getData("text/uri-list");return s?s.replace(/\r?\n/g," "):""}Bs.paste=(t,e)=>{let s=e;if(t.composing&&!Pa)return;let a=cc?null:s.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;a&&dc(t,Wj(a),a.getData("text/html"),i,s)?s.preventDefault():f4(t,s)};class Kj{constructor(e,s,a){this.slice=e,this.move=s,this.node=a}}const m4=zn?"altKey":"ctrlKey";function Gj(t,e){let s=t.someProp("dragCopies",a=>!a(e));return s??!e[m4]}_s.dragstart=(t,e)=>{let s=e,a=t.input.mouseDown;if(a&&a.done(),!s.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(kh(s)),c;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ze?i.to-1:i.to))){if(a&&a.mightDrag)c=ze.create(t.state.doc,a.mightDrag.pos);else if(s.target&&s.target.nodeType==1){let g=t.docView.nearestDesc(s.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(c=ze.create(t.state.doc,g.posBefore))}}let u=(c||t.state.selection).content(),{dom:h,text:m,slice:p}=Lx(t,u);(!s.dataTransfer.files.length||!cs||bj>120)&&s.dataTransfer.clearData(),s.dataTransfer.setData(cc?"Text":"text/html",h.innerHTML),s.dataTransfer.effectAllowed="copyMove",cc||s.dataTransfer.setData("text/plain",m),t.dragging=new Kj(p,Gj(t,s),c)};_s.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Bs.dragover=Bs.dragenter=(t,e)=>e.preventDefault();Bs.drop=(t,e)=>{try{p4(t,e,t.dragging)}finally{t.dragging=null}};function p4(t,e,s){if(!e.dataTransfer)return;let a=t.posAtCoords(kh(e));if(!a)return;let i=t.state.doc.resolve(a.pos),o=s&&s.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=Lj(t,Wj(e.dataTransfer),cc?null:e.dataTransfer.getData("text/html"),!1,i);let c=!!(s&&Gj(t,e));if(t.someProp("handleDrop",v=>v(t,e,o||fe.empty,c))){e.preventDefault();return}if(!o)return;e.preventDefault();let u=o?Jw(t.state.doc,i.pos,o):i.pos;u==null&&(u=i.pos);let h=t.state.tr;if(c){let{node:v}=s;v?v.replace(h):h.deleteSelection()}let m=h.mapping.map(u),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=h.doc;if(p?h.replaceRangeWith(m,m,o.content.firstChild):h.replaceRange(m,m,o),h.doc.eq(g))return;let y=h.doc.resolve(m);if(p&&ze.isSelectable(o.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(o.content.firstChild))h.setSelection(new ze(y));else{let v=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((w,N,k,z)=>v=z),h.setSelection(Rx(t,y,h.doc.resolve(v)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))}_s.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ha(t)},20))};_s.blur=(t,e)=>{let s=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),s.relatedTarget&&t.dom.contains(s.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};_s.beforeinput=(t,e)=>{if(cs&&Pa&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:a}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=a||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,di(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Bs)_s[t]=Bs[t];function uc(t,e){if(t==e)return!0;for(let s in t)if(t[s]!==e[s])return!1;for(let s in e)if(!(s in t))return!1;return!0}class Au{constructor(e,s){this.toDOM=e,this.spec=s||bi,this.side=this.spec.side||0}map(e,s,a,i){let{pos:o,deleted:c}=e.mapResult(s.from+i,this.side<0?-1:1);return c?null:new ds(o-a,o-a,this)}valid(){return!0}eq(e){return this==e||e instanceof Au&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&uc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Rl{constructor(e,s){this.attrs=e,this.spec=s||bi}map(e,s,a,i){let o=e.map(s.from+i,this.spec.inclusiveStart?-1:1)-a,c=e.map(s.to+i,this.spec.inclusiveEnd?1:-1)-a;return o>=c?null:new ds(o,c,this)}valid(e,s){return s.from<s.to}eq(e){return this==e||e instanceof Rl&&uc(this.attrs,e.attrs)&&uc(this.spec,e.spec)}static is(e){return e.type instanceof Rl}destroy(){}}class Ux{constructor(e,s){this.attrs=e,this.spec=s||bi}map(e,s,a,i){let o=e.mapResult(s.from+i,1);if(o.deleted)return null;let c=e.mapResult(s.to+i,-1);return c.deleted||c.pos<=o.pos?null:new ds(o.pos-a,c.pos-a,this)}valid(e,s){let{index:a,offset:i}=e.content.findIndex(s.from),o;return i==s.from&&!(o=e.child(a)).isText&&i+o.nodeSize==s.to}eq(e){return this==e||e instanceof Ux&&uc(this.attrs,e.attrs)&&uc(this.spec,e.spec)}destroy(){}}class ds{constructor(e,s,a){this.from=e,this.to=s,this.type=a}copy(e,s){return new ds(e,s,this.type)}eq(e,s=0){return this.type.eq(e.type)&&this.from+s==e.from&&this.to+s==e.to}map(e,s,a){return this.type.map(e,this,s,a)}static widget(e,s,a){return new ds(e,e,new Au(s,a))}static inline(e,s,a,i){return new ds(e,s,new Rl(a,i))}static node(e,s,a,i){return new ds(e,s,new Ux(a,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Rl}get widget(){return this.type instanceof Au}}const Nr=[],bi={};class gt{constructor(e,s){this.local=e.length?e:Nr,this.children=s.length?s:Nr}static create(e,s){return s.length?Du(s,e,0,bi):Cs}find(e,s,a){let i=[];return this.findInner(e??0,s??1e9,i,0,a),i}findInner(e,s,a,i,o){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=s&&u.to>=e&&(!o||o(u.spec))&&a.push(u.copy(u.from+i,u.to+i))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<s&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,s-u,a,i+u,o)}}map(e,s,a){return this==Cs||e.maps.length==0?this:this.mapInner(e,s,0,0,a||bi)}mapInner(e,s,a,i,o){let c;for(let u=0;u<this.local.length;u++){let h=this.local[u].map(e,a,i);h&&h.type.valid(s,h)?(c||(c=[])).push(h):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?x4(this.children,c||[],e,s,a,i,o):c?new gt(c.sort(yi),Nr):Cs}add(e,s){return s.length?this==Cs?gt.create(e,s):this.addInner(e,s,0):this}addInner(e,s,a){let i,o=0;e.forEach((u,h)=>{let m=h+a,p;if(p=Zj(s,u,m)){for(i||(i=this.children.slice());o<i.length&&i[o]<h;)o+=3;i[o]==h?i[o+2]=i[o+2].addInner(u,p,m+1):i.splice(o,0,h,h+u.nodeSize,Du(p,u,m+1,bi)),o+=3}});let c=Fj(o?Yj(s):s,-a);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new gt(c.length?this.local.concat(c).sort(yi):this.local,i||this.children)}remove(e){return e.length==0||this==Cs?this:this.removeInner(e,0)}removeInner(e,s){let a=this.children,i=this.local;for(let o=0;o<a.length;o+=3){let c,u=a[o]+s,h=a[o+1]+s;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<h&&(e[p]=null,(c||(c=[])).push(g));if(!c)continue;a==this.children&&(a=this.children.slice());let m=a[o+2].removeInner(c,u+1);m!=Cs?a[o+2]=m:(a.splice(o,3),o-=3)}if(i.length){for(let o=0,c;o<e.length;o++)if(c=e[o])for(let u=0;u<i.length;u++)i[u].eq(c,s)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return a==this.children&&i==this.local?this:i.length||a.length?new gt(i,a):Cs}forChild(e,s){if(this==Cs)return this;if(s.isLeaf)return gt.empty;let a,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(a=this.children[u+2]);break}let o=e+1,c=o+s.content.size;for(let u=0;u<this.local.length;u++){let h=this.local[u];if(h.from<c&&h.to>o&&h.type instanceof Rl){let m=Math.max(o,h.from)-o,p=Math.min(c,h.to)-o;m<p&&(i||(i=[])).push(h.copy(m,p))}}if(i){let u=new gt(i.sort(yi),Nr);return a?new zl([u,a]):u}return a||Cs}eq(e){if(this==e)return!0;if(!(e instanceof gt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let s=0;s<this.local.length;s++)if(!this.local[s].eq(e.local[s]))return!1;for(let s=0;s<this.children.length;s+=3)if(this.children[s]!=e.children[s]||this.children[s+1]!=e.children[s+1]||!this.children[s+2].eq(e.children[s+2]))return!1;return!0}locals(e){return Hx(this.localsInner(e))}localsInner(e){if(this==Cs)return Nr;if(e.inlineContent||!this.local.some(Rl.is))return this.local;let s=[];for(let a=0;a<this.local.length;a++)this.local[a].type instanceof Rl||s.push(this.local[a]);return s}forEachSet(e){e(this)}}gt.empty=new gt([],[]);gt.removeOverlap=Hx;const Cs=gt.empty;class zl{constructor(e){this.members=e}map(e,s){const a=this.members.map(i=>i.map(e,s,bi));return zl.from(a)}forChild(e,s){if(s.isLeaf)return gt.empty;let a=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,s);o!=Cs&&(o instanceof zl?a=a.concat(o.members):a.push(o))}return zl.from(a)}eq(e){if(!(e instanceof zl)||e.members.length!=this.members.length)return!1;for(let s=0;s<this.members.length;s++)if(!this.members[s].eq(e.members[s]))return!1;return!0}locals(e){let s,a=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!s)s=o;else{a&&(s=s.slice(),a=!1);for(let c=0;c<o.length;c++)s.push(o[c])}}return s?Hx(a?s:s.sort(yi)):Nr}static from(e){switch(e.length){case 0:return Cs;case 1:return e[0];default:return new zl(e.every(s=>s instanceof gt)?e:e.reduce((s,a)=>s.concat(a instanceof gt?a:a.members),[]))}}forEachSet(e){for(let s=0;s<this.members.length;s++)this.members[s].forEachSet(e)}}function x4(t,e,s,a,i,o,c){let u=t.slice();for(let m=0,p=o;m<s.maps.length;m++){let g=0;s.maps[m].forEach((y,v,w,N)=>{let k=N-w-(v-y);for(let z=0;z<u.length;z+=3){let E=u[z+1];if(E<0||y>E+p-g)continue;let R=u[z]+p-g;v>=R?u[z+1]=y<=R?-2:-1:y>=p&&k&&(u[z]+=k,u[z+1]+=k)}g+=k}),p=s.maps[m].map(p,-1)}let h=!1;for(let m=0;m<u.length;m+=3)if(u[m+1]<0){if(u[m+1]==-2){h=!0,u[m+1]=-1;continue}let p=s.map(t[m]+o),g=p-i;if(g<0||g>=a.content.size){h=!0;continue}let y=s.map(t[m+1]+o,-1),v=y-i,{index:w,offset:N}=a.content.findIndex(g),k=a.maybeChild(w);if(k&&N==g&&N+k.nodeSize==v){let z=u[m+2].mapInner(s,k,p+1,t[m]+o+1,c);z!=Cs?(u[m]=g,u[m+1]=v,u[m+2]=z):(u[m+1]=-2,h=!0)}else h=!0}if(h){let m=g4(u,t,e,s,i,o,c),p=Du(m,a,0,c);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,y=0;g<p.children.length;g+=3){let v=p.children[g];for(;y<u.length&&u[y]<v;)y+=3;u.splice(y,0,p.children[g],p.children[g+1],p.children[g+2])}}return new gt(e.sort(yi),u)}function Fj(t,e){if(!e||!t.length)return t;let s=[];for(let a=0;a<t.length;a++){let i=t[a];s.push(new ds(i.from+e,i.to+e,i.type))}return s}function g4(t,e,s,a,i,o,c){function u(h,m){for(let p=0;p<h.local.length;p++){let g=h.local[p].map(a,i,m);g?s.push(g):c.onRemove&&c.onRemove(h.local[p].spec)}for(let p=0;p<h.children.length;p+=3)u(h.children[p+2],h.children[p]+m+1)}for(let h=0;h<t.length;h+=3)t[h+1]==-1&&u(t[h+2],e[h]+o+1);return s}function Zj(t,e,s){if(e.isLeaf)return null;let a=s+e.nodeSize,i=null;for(let o=0,c;o<t.length;o++)(c=t[o])&&c.from>s&&c.to<a&&((i||(i=[])).push(c),t[o]=null);return i}function Yj(t){let e=[];for(let s=0;s<t.length;s++)t[s]!=null&&e.push(t[s]);return e}function Du(t,e,s,a){let i=[],o=!1;e.forEach((u,h)=>{let m=Zj(t,u,h+s);if(m){o=!0;let p=Du(m,u,s+h+1,a);p!=Cs&&i.push(h,h+u.nodeSize,p)}});let c=Fj(o?Yj(t):t,-s).sort(yi);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(a.onRemove&&a.onRemove(c[u].spec),c.splice(u--,1));return c.length||i.length?new gt(c,i):Cs}function yi(t,e){return t.from-e.from||t.to-e.to}function Hx(t){let e=t;for(let s=0;s<e.length-1;s++){let a=e[s];if(a.from!=a.to)for(let i=s+1;i<e.length;i++){let o=e[i];if(o.from==a.from){o.to!=a.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,a.to),tv(e,i+1,o.copy(a.to,o.to)));continue}else{o.from<a.to&&(e==t&&(e=t.slice()),e[s]=a.copy(a.from,o.from),tv(e,i,a.copy(o.from,a.to)));break}}}return e}function tv(t,e,s){for(;e<t.length&&yi(s,t[e])>0;)e++;t.splice(e,0,s)}function rp(t){let e=[];return t.someProp("decorations",s=>{let a=s(t.state);a&&a!=Cs&&e.push(a)}),t.cursorWrapper&&e.push(gt.create(t.state.doc,[t.cursorWrapper.deco])),zl.from(e)}const b4={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},y4=Fs&&Dl<=11;class v4{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class w4{constructor(e,s){this.view=e,this.handleDOMChange=s,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new v4,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(a=>{for(let i=0;i<a.length;i++)this.queue.push(a[i]);Fs&&Dl<=11&&a.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),y4&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,b4)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let s=0;s<e.length;s++)this.queue.push(e[s]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(G1(this.view)){if(this.suppressingSelectionUpdates)return Ha(this.view);if(Fs&&Dl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ki(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let s=new Set,a;for(let o=e.focusNode;o;o=Br(o))s.add(o);for(let o=e.anchorNode;o;o=Br(o))if(s.has(o)){a=o;break}let i=a&&this.view.docView.nearestDesc(a);if(i&&i.ignoreMutation({type:"selection",target:a.nodeType==3?a.parentNode:a}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let s=this.pendingRecords();s.length&&(this.queue=[]);let a=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(a)&&G1(e)&&!this.ignoreSelectionChange(a),o=-1,c=-1,u=!1,h=[];if(e.editable)for(let p=0;p<s.length;p++){let g=this.registerMutation(s[p],h);g&&(o=o<0?g.from:Math.min(g.from,o),c=c<0?g.to:Math.max(g.to,c),g.typeOver&&(u=!0))}if(Mn&&h.length){let p=h.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,y]=p;g.parentNode&&g.parentNode.parentNode==y.parentNode?y.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let y of p){let v=y.parentNode;v&&v.nodeName=="LI"&&(!g||k4(e,g)!=v)&&y.remove()}}}else if((cs||Ms)&&h.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of h)if(p.nodeName=="BR"&&p.parentNode){let g=p.nextSibling;g&&g.nodeType==1&&g.contentEditable=="false"&&p.parentNode.removeChild(p)}}let m=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&jh(a)&&(m=Ox(e))&&m.eq(Ae.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ha(e),this.currentSelection.set(a),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,c),j4(e)),this.handleDOMChange(o,c,u,h),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(a)||Ha(e),this.currentSelection.set(a))}registerMutation(e,s){if(s.indexOf(e.target)>-1)return null;let a=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(a==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!a||a.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];s.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(a.contentDOM&&a.contentDOM!=a.dom&&!a.contentDOM.contains(e.target))return{from:a.posBefore,to:a.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Fs&&Dl<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:y}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let c=i&&i.parentNode==e.target?js(i)+1:0,u=a.localPosFromDOM(e.target,c,-1),h=o&&o.parentNode==e.target?js(o):e.target.childNodes.length,m=a.localPosFromDOM(e.target,h,1);return{from:u,to:m}}else return e.type=="attributes"?{from:a.posAtStart-a.border,to:a.posAtEnd+a.border}:(this.lastChangedTextNode=e.target,{from:a.posAtStart,to:a.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let sv=new WeakMap,nv=!1;function j4(t){if(!sv.has(t)&&(sv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Mn,nv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nv=!0}}function av(t,e){let s=e.startContainer,a=e.startOffset,i=e.endContainer,o=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return ki(c.node,c.offset,i,o)&&([s,a,i,o]=[i,o,s,a]),{anchorNode:s,anchorOffset:a,focusNode:i,focusOffset:o}}function N4(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return av(t,i)}let s;function a(i){i.preventDefault(),i.stopImmediatePropagation(),s=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",a,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",a,!0),s?av(t,s):null}function k4(t,e){for(let s=e.parentNode;s&&s!=t.dom;s=s.parentNode){let a=t.docView.nearestDesc(s,!0);if(a&&a.node.isBlock)return s}return null}function z4(t,e,s){let{node:a,fromOffset:i,toOffset:o,from:c,to:u}=t.docView.parseRange(e,s),h=t.domSelectionRange(),m,p=h.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(m=[{node:p,offset:h.anchorOffset}],jh(h)||m.push({node:h.focusNode,offset:h.focusOffset})),cs&&t.input.lastKeyCode===8)for(let k=o;k>i;k--){let z=a.childNodes[k-1],E=z.pmViewDesc;if(z.nodeName=="BR"&&!E){o=k;break}if(!E||E.size)break}let g=t.state.doc,y=t.someProp("domParser")||Al.fromSchema(t.state.schema),v=g.resolve(c),w=null,N=y.parse(a,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:m,ruleFromNode:S4,context:v});if(m&&m[0].pos!=null){let k=m[0].pos,z=m[1]&&m[1].pos;z==null&&(z=k),w={anchor:k+c,head:z+c}}return{doc:N,sel:w,from:c,to:u}}function S4(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ms&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let s=document.createElement("div");return s.appendChild(document.createElement("li")),{skip:s}}else if(t.parentNode.lastChild==t||Ms&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const C4=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function M4(t,e,s,a,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let $=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Y=Ox(t,$);if(Y&&!t.state.selection.eq(Y)){if(cs&&Pa&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ee=>ee(t,di(13,"Enter"))))return;let T=t.state.tr.setSelection(Y);$=="pointer"?T.setMeta("pointer",!0):$=="key"&&T.scrollIntoView(),o&&T.setMeta("composition",o),t.dispatch(T)}return}let c=t.state.doc.resolve(e),u=c.sharedDepth(s);e=c.before(u+1),s=t.state.doc.resolve(s).after(u+1);let h=t.state.selection,m=z4(t,e,s),p=t.state.doc,g=p.slice(m.from,m.to),y,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,v="end"):(y=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let w=A4(g.content,m.doc.content,m.from,y,v);if(w&&t.input.domChangeCount++,(Pr&&t.input.lastIOSEnter>Date.now()-225||Pa)&&i.some($=>$.nodeType==1&&!C4.test($.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",$=>$(t,di(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(a&&h instanceof Ce&&!h.empty&&h.$head.sameParent(h.$anchor)&&!t.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))w={start:h.from,endA:h.to,endB:h.to};else{if(m.sel){let $=lv(t,t.state.doc,m.sel);if($&&!$.eq(t.state.selection)){let Y=t.state.tr.setSelection($);o&&Y.setMeta("composition",o),t.dispatch(Y)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Ce&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=m.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=m.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),Fs&&Dl<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>m.from&&m.doc.textBetween(w.start-m.from-1,w.start-m.from+1)==" "&&(w.start--,w.endA--,w.endB--);let N=m.doc.resolveNoCache(w.start-m.from),k=m.doc.resolveNoCache(w.endB-m.from),z=p.resolve(w.start),E=N.sameParent(k)&&N.parent.inlineContent&&z.end()>=w.endA;if((Pr&&t.input.lastIOSEnter>Date.now()-225&&(!E||i.some($=>$.nodeName=="DIV"||$.nodeName=="P"))||!E&&N.pos<m.doc.content.size&&(!N.sameParent(k)||!N.parent.inlineContent)&&N.pos<k.pos&&!/\S/.test(m.doc.textBetween(N.pos,k.pos,"","")))&&t.someProp("handleKeyDown",$=>$(t,di(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&T4(p,w.start,w.endA,N,k)&&t.someProp("handleKeyDown",$=>$(t,di(8,"Backspace")))){Pa&&cs&&t.domObserver.suppressSelectionUpdates();return}cs&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),Pa&&!E&&N.start()!=k.start()&&k.parentOffset==0&&N.depth==k.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==w.endA&&(w.endB-=2,k=m.doc.resolveNoCache(w.endB-m.from),setTimeout(()=>{t.someProp("handleKeyDown",function($){return $(t,di(13,"Enter"))})},20));let R=w.start,H=w.endA,I=$=>{let Y=$||t.state.tr.replace(R,H,m.doc.slice(w.start-m.from,w.endB-m.from));if(m.sel){let T=lv(t,Y.doc,m.sel);T&&!(cs&&t.composing&&T.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(T.head==R||T.head==Y.mapping.map(H)-1)||Fs&&T.empty&&T.head==R)&&Y.setSelection(T)}return o&&Y.setMeta("composition",o),Y.scrollIntoView()},W;if(E)if(N.pos==k.pos){Fs&&Dl<=11&&N.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ha(t),20));let $=I(t.state.tr.delete(R,H)),Y=p.resolve(w.start).marksAcross(p.resolve(w.endA));Y&&$.ensureMarks(Y),t.dispatch($)}else if(w.endA==w.endB&&(W=E4(N.parent.content.cut(N.parentOffset,k.parentOffset),z.parent.content.cut(z.parentOffset,w.endA-z.start())))){let $=I(t.state.tr);W.type=="add"?$.addMark(R,H,W.mark):$.removeMark(R,H,W.mark),t.dispatch($)}else if(N.parent.child(N.index()).isText&&N.index()==k.index()-(k.textOffset?0:1)){let $=N.parent.textBetween(N.parentOffset,k.parentOffset),Y=()=>I(t.state.tr.insertText($,R,H));t.someProp("handleTextInput",T=>T(t,R,H,$,Y))||t.dispatch(Y())}else t.dispatch(I());else t.dispatch(I())}function lv(t,e,s){return Math.max(s.anchor,s.head)>e.content.size?null:Rx(t,e.resolve(s.anchor),e.resolve(s.head))}function E4(t,e){let s=t.firstChild.marks,a=e.firstChild.marks,i=s,o=a,c,u,h;for(let p=0;p<a.length;p++)i=a[p].removeFromSet(i);for(let p=0;p<s.length;p++)o=s[p].removeFromSet(o);if(i.length==1&&o.length==0)u=i[0],c="add",h=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&o.length==1)u=o[0],c="remove",h=p=>p.mark(u.removeFromSet(p.marks));else return null;let m=[];for(let p=0;p<e.childCount;p++)m.push(h(e.child(p)));if(ne.from(m).eq(t))return{mark:u,type:c}}function T4(t,e,s,a,i){if(s-e<=i.pos-a.pos||op(a,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!a.parent.isTextblock){let u=o.nodeAfter;return u!=null&&s==e+u.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let c=t.resolve(op(o,!0,!0));return!c.parent.isTextblock||c.pos>s||op(c,!0,!1)<s?!1:a.parent.content.cut(a.parentOffset).eq(c.parent.content)}function op(t,e,s){let a=t.depth,i=e?t.end():t.pos;for(;a>0&&(e||t.indexAfter(a)==t.node(a).childCount);)a--,i++,e=!1;if(s){let o=t.node(a).maybeChild(t.indexAfter(a));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function A4(t,e,s,a,i){let o=t.findDiffStart(e,s);if(o==null)return null;let{a:c,b:u}=t.findDiffEnd(e,s+t.size,s+e.size);if(i=="end"){let h=Math.max(0,o-Math.min(c,u));a-=c+h-o}if(c<o&&t.size<e.size){let h=a<=o&&a>=c?o-a:0;o-=h,o&&o<e.size&&iv(e.textBetween(o-1,o+1))&&(o+=h?1:-1),u=o+(u-c),c=o}else if(u<o){let h=a<=o&&a>=u?o-a:0;o-=h,o&&o<t.size&&iv(t.textBetween(o-1,o+1))&&(o+=h?1:-1),c=o+(c-u),u=o}return{start:o,endA:c,endB:u}}function iv(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),s=t.charCodeAt(1);return e>=56320&&e<=57343&&s>=55296&&s<=56319}class Jj{constructor(e,s){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new FM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=s,this.state=s.state,this.directPlugins=s.plugins||[],this.directPlugins.forEach(uv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=cv(this),ov(this),this.nodeViews=dv(this),this.docView=I1(this.state.doc,rv(this),rp(this),this.dom,this),this.domObserver=new w4(this,(a,i,o,c)=>M4(this,a,i,o,c)),this.domObserver.start(),ZM(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let s in e)this._props[s]=e[s];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Gp(this);let s=this._props;this._props=e,e.plugins&&(e.plugins.forEach(uv),this.directPlugins=e.plugins),this.updateStateInner(e.state,s)}setProps(e){let s={};for(let a in this._props)s[a]=this._props[a];s.state=this.state;for(let a in e)s[a]=e[a];this.update(s)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,s){var a;let i=this.state,o=!1,c=!1;e.storedMarks&&this.composing&&(Vj(this),c=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=s.plugins;if(u||this._props.plugins!=s.plugins||this._props.nodeViews!=s.nodeViews){let v=dv(this);O4(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(u||s.handleDOMEvents!=this._props.handleDOMEvents)&&Gp(this),this.editable=cv(this),ov(this);let h=rp(this),m=rv(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=o||!this.docView.matchesNode(e.doc,m,h);(g||!e.selection.eq(i.selection))&&(c=!0);let y=p=="preserve"&&c&&this.dom.style.overflowAnchor==null&&cM(this);if(c){this.domObserver.stop();let v=g&&(Fs||cs)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&D4(i.selection,e.selection);if(g){let w=cs?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=c4(this)),(o||!this.docView.update(e.doc,m,h,this))&&(this.docView.updateOuterDeco(m),this.docView.destroy(),this.docView=I1(e.doc,m,h,this.dom,this)),w&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&OM(this))?Ha(this,v):(Dj(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((a=this.dragging)===null||a===void 0)&&a.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&dM(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",s=>s(this)))if(this.state.selection instanceof ze){let s=this.docView.domAfterPos(this.state.selection.from);s.nodeType==1&&L1(this,s.getBoundingClientRect(),e)}else L1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s];a.spec.view&&this.pluginViews.push(a.spec.view(this))}for(let s=0;s<this.state.plugins.length;s++){let a=this.state.plugins[s];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}else for(let s=0;s<this.pluginViews.length;s++){let a=this.pluginViews[s];a.update&&a.update(this,e)}}updateDraggedNode(e,s){let a=e.node,i=-1;if(this.state.doc.nodeAt(a.from)==a.node)i=a.from;else{let o=a.from+(this.state.doc.content.size-s.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==a.node&&(i=o)}this.dragging=new Kj(e.slice,e.move,i<0?void 0:ze.create(this.state.doc,i))}someProp(e,s){let a=this._props&&this._props[e],i;if(a!=null&&(i=s?s(a):a))return i;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(i=s?s(u):u))return i}let o=this.state.plugins;if(o)for(let c=0;c<o.length;c++){let u=o[c].props[e];if(u!=null&&(i=s?s(u):u))return i}}hasFocus(){if(Fs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&uM(this.dom),Ha(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let s=this.dom.parentNode;s;s=s.parentNode)if(s.nodeType==9||s.nodeType==11&&s.host)return s.getSelection||(Object.getPrototypeOf(s).getSelection=()=>s.ownerDocument.getSelection()),this._root=s}return e||document}updateRoot(){this._root=null}posAtCoords(e){return xM(this,e)}coordsAtPos(e,s=1){return kj(this,e,s)}domAtPos(e,s=0){return this.docView.domFromPos(e,s)}nodeDOM(e){let s=this.docView.descAt(e);return s?s.nodeDOM:null}posAtDOM(e,s,a=-1){let i=this.docView.posFromDOM(e,s,a);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,s){return wM(this,s||this.state,e)}pasteHTML(e,s){return dc(this,"",e,!1,s||new ClipboardEvent("paste"))}pasteText(e,s){return dc(this,e,null,!0,s||new ClipboardEvent("paste"))}serializeForClipboard(e){return Lx(this,e)}destroy(){this.docView&&(YM(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],rp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Q3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return XM(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ms&&this.root.nodeType===11&&aM(this.dom.ownerDocument)==this.dom&&N4(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Jj.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function rv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",s=>{if(typeof s=="function"&&(s=s(t.state)),s)for(let a in s)a=="class"?e.class+=" "+s[a]:a=="style"?e.style=(e.style?e.style+";":"")+s[a]:!e[a]&&a!="contenteditable"&&a!="nodeName"&&(e[a]=String(s[a]))}),e.translate||(e.translate="no"),[ds.node(0,t.state.doc.content.size,e)]}function ov(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ds.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function cv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function D4(t,e){let s=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(s)!=e.$anchor.start(s)}function dv(t){let e=Object.create(null);function s(a){for(let i in a)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=a[i])}return t.someProp("nodeViews",s),t.someProp("markViews",s),e}function O4(t,e){let s=0,a=0;for(let i in t){if(t[i]!=e[i])return!0;s++}for(let i in e)a++;return s!=a}function uv(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ll={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ou={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},R4=typeof navigator<"u"&&/Mac/.test(navigator.platform),L4=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ns=0;Ns<10;Ns++)Ll[48+Ns]=Ll[96+Ns]=String(Ns);for(var Ns=1;Ns<=24;Ns++)Ll[Ns+111]="F"+Ns;for(var Ns=65;Ns<=90;Ns++)Ll[Ns]=String.fromCharCode(Ns+32),Ou[Ns]=String.fromCharCode(Ns);for(var cp in Ll)Ou.hasOwnProperty(cp)||(Ou[cp]=Ll[cp]);function _4(t){var e=R4&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||L4&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",s=!e&&t.key||(t.shiftKey?Ou:Ll)[t.keyCode]||t.key||"Unidentified";return s=="Esc"&&(s="Escape"),s=="Del"&&(s="Delete"),s=="Left"&&(s="ArrowLeft"),s=="Up"&&(s="ArrowUp"),s=="Right"&&(s="ArrowRight"),s=="Down"&&(s="ArrowDown"),s}const B4=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),P4=typeof navigator<"u"&&/Win/.test(navigator.platform);function U4(t){let e=t.split(/-(?!$)/),s=e[e.length-1];s=="Space"&&(s=" ");let a,i,o,c;for(let u=0;u<e.length-1;u++){let h=e[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))a=!0;else if(/^(c|ctrl|control)$/i.test(h))i=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))B4?c=!0:i=!0;else throw new Error("Unrecognized modifier name: "+h)}return a&&(s="Alt-"+s),i&&(s="Ctrl-"+s),c&&(s="Meta-"+s),o&&(s="Shift-"+s),s}function H4(t){let e=Object.create(null);for(let s in t)e[U4(s)]=t[s];return e}function dp(t,e,s=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),s&&e.shiftKey&&(t="Shift-"+t),t}function I4(t){return new St({props:{handleKeyDown:Ix(t)}})}function Ix(t){let e=H4(t);return function(s,a){let i=_4(a),o,c=e[dp(i,a)];if(c&&c(s.state,s.dispatch,s))return!0;if(i.length==1&&i!=" "){if(a.shiftKey){let u=e[dp(i,a,!1)];if(u&&u(s.state,s.dispatch,s))return!0}if((a.altKey||a.metaKey||a.ctrlKey)&&!(P4&&a.ctrlKey&&a.altKey)&&(o=Ll[a.keyCode])&&o!=i){let u=e[dp(o,a)];if(u&&u(s.state,s.dispatch,s))return!0}}return!1}}var $4=Object.defineProperty,$x=(t,e)=>{for(var s in e)$4(t,s,{get:e[s],enumerable:!0})};function zh(t){const{state:e,transaction:s}=t;let{selection:a}=s,{doc:i}=s,{storedMarks:o}=s;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return a},get doc(){return i},get tr(){return a=s.selection,i=s.doc,o=s.storedMarks,s}}}var Sh=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:s}=this,{view:a}=e,{tr:i}=s,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([c,u])=>[c,(...m)=>{const p=u(...m)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:s,editor:a,state:i}=this,{view:o}=a,c=[],u=!!t,h=t||i.tr,m=()=>(!u&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(h),c.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(s).map(([g,y])=>[g,(...w)=>{const N=this.buildProps(h,e),k=y(...w)(N);return c.push(k),p}])),run:m};return p}createCan(t){const{rawCommands:e,state:s}=this,a=!1,i=t||s.tr,o=this.buildProps(i,a);return{...Object.fromEntries(Object.entries(e).map(([u,h])=>[u,(...m)=>h(...m)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,a)}}buildProps(t,e=!0){const{rawCommands:s,editor:a,state:i}=this,{view:o}=a,c={tr:t,editor:a,view:o,state:zh({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(s).map(([u,h])=>[u,(...m)=>h(...m)(c)]))}};return c}},Xj={};$x(Xj,{blur:()=>q4,clearContent:()=>V4,clearNodes:()=>W4,command:()=>K4,createParagraphNear:()=>G4,cut:()=>F4,deleteCurrentNode:()=>Z4,deleteNode:()=>Y4,deleteRange:()=>J4,deleteSelection:()=>X4,enter:()=>Q4,exitCode:()=>eE,extendMarkRange:()=>tE,first:()=>sE,focus:()=>aE,forEach:()=>lE,insertContent:()=>iE,insertContentAt:()=>cE,joinBackward:()=>hE,joinDown:()=>uE,joinForward:()=>fE,joinItemBackward:()=>mE,joinItemForward:()=>pE,joinTextblockBackward:()=>xE,joinTextblockForward:()=>gE,joinUp:()=>dE,keyboardShortcut:()=>yE,lift:()=>vE,liftEmptyBlock:()=>wE,liftListItem:()=>jE,newlineInCode:()=>NE,resetAttributes:()=>kE,scrollIntoView:()=>zE,selectAll:()=>SE,selectNodeBackward:()=>CE,selectNodeForward:()=>ME,selectParentNode:()=>EE,selectTextblockEnd:()=>TE,selectTextblockStart:()=>AE,setContent:()=>DE,setMark:()=>JE,setMeta:()=>XE,setNode:()=>QE,setNodeSelection:()=>eT,setTextDirection:()=>tT,setTextSelection:()=>sT,sinkListItem:()=>nT,splitBlock:()=>aT,splitListItem:()=>lT,toggleList:()=>iT,toggleMark:()=>rT,toggleNode:()=>oT,toggleWrap:()=>cT,undoInputRule:()=>dT,unsetAllMarks:()=>uT,unsetMark:()=>hT,unsetTextDirection:()=>fT,updateAttributes:()=>mT,wrapIn:()=>pT,wrapInList:()=>xT});var q4=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var s;t.isDestroyed||(e.dom.blur(),(s=window==null?void 0:window.getSelection())==null||s.removeAllRanges())}),!0),V4=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),W4=()=>({state:t,tr:e,dispatch:s})=>{const{selection:a}=e,{ranges:i}=a;return s&&i.forEach(({$from:o,$to:c})=>{t.doc.nodesBetween(o.pos,c.pos,(u,h)=>{if(u.type.isText)return;const{doc:m,mapping:p}=e,g=m.resolve(p.map(h)),y=m.resolve(p.map(h+u.nodeSize)),v=g.blockRange(y);if(!v)return;const w=Wr(v);if(u.type.isTextblock){const{defaultType:N}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,N)}(w||w===0)&&e.lift(v,w)})}),!0},K4=t=>e=>t(e),G4=()=>({state:t,dispatch:e})=>fj(t,e),F4=(t,e)=>({editor:s,tr:a})=>{const{state:i}=s,o=i.doc.slice(t.from,t.to);a.deleteRange(t.from,t.to);const c=a.mapping.map(e);return a.insert(c,o.content),a.setSelection(new Ce(a.doc.resolve(Math.max(c-1,0)))),!0},Z4=()=>({tr:t,dispatch:e})=>{const{selection:s}=t,a=s.$anchor.node();if(a.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===a.type){if(e){const u=i.before(o),h=i.after(o);t.delete(u,h).scrollIntoView()}return!0}return!1};function Qt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Y4=t=>({tr:e,state:s,dispatch:a})=>{const i=Qt(t,s.schema),o=e.selection.$anchor;for(let c=o.depth;c>0;c-=1)if(o.node(c).type===i){if(a){const h=o.before(c),m=o.after(c);e.delete(h,m).scrollIntoView()}return!0}return!1},J4=t=>({tr:e,dispatch:s})=>{const{from:a,to:i}=t;return s&&e.delete(a,i),!0},X4=()=>({state:t,dispatch:e})=>Cx(t,e),Q4=()=>({commands:t})=>t.keyboardShortcut("Enter"),eE=()=>({state:t,dispatch:e})=>P3(t,e);function qx(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Ru(t,e,s={strict:!0}){const a=Object.keys(e);return a.length?a.every(i=>s.strict?e[i]===t[i]:qx(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Qj(t,e,s={}){return t.find(a=>a.type===e&&Ru(Object.fromEntries(Object.keys(s).map(i=>[i,a.attrs[i]])),s))}function hv(t,e,s={}){return!!Qj(t,e,s)}function Vx(t,e,s){var a;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(s=s||((a=i.node.marks[0])==null?void 0:a.attrs),!Qj([...i.node.marks],e,s)))return;let c=i.index,u=t.start()+i.offset,h=c+1,m=u+i.node.nodeSize;for(;c>0&&hv([...t.parent.child(c-1).marks],e,s);)c-=1,u-=t.parent.child(c).nodeSize;for(;h<t.parent.childCount&&hv([...t.parent.child(h).marks],e,s);)m+=t.parent.child(h).nodeSize,h+=1;return{from:u,to:m}}function Wa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var tE=(t,e={})=>({tr:s,state:a,dispatch:i})=>{const o=Wa(t,a.schema),{doc:c,selection:u}=s,{$from:h,from:m,to:p}=u;if(i){const g=Vx(h,o,e);if(g&&g.from<=m&&g.to>=p){const y=Ce.create(c,g.from,g.to);s.setSelection(y)}}return!0},sE=t=>e=>{const s=typeof t=="function"?t(e):t;for(let a=0;a<s.length;a+=1)if(s[a](e))return!0;return!1};function eN(t){return t instanceof Ce}function mi(t=0,e=0,s=0){return Math.min(Math.max(t,e),s)}function tN(t,e=null){if(!e)return null;const s=Ae.atStart(t),a=Ae.atEnd(t);if(e==="start"||e===!0)return s;if(e==="end")return a;const i=s.from,o=a.to;return e==="all"?Ce.create(t,mi(0,i,o),mi(t.content.size,i,o)):Ce.create(t,mi(e,i,o),mi(e,i,o))}function nE(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Wx(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var aE=(t=null,e={})=>({editor:s,view:a,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const c=()=>{(Wx()||nE())&&a.dom.focus(),requestAnimationFrame(()=>{s.isDestroyed||(a.focus(),e!=null&&e.scrollIntoView&&s.commands.scrollIntoView())})};if(a.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!eN(s.state.selection))return c(),!0;const u=tN(i.doc,t)||s.state.selection,h=s.state.selection.eq(u);return o&&(h||i.setSelection(u),h&&i.storedMarks&&i.setStoredMarks(i.storedMarks),c()),!0},lE=(t,e)=>s=>t.every((a,i)=>e(a,{...s,index:i})),iE=(t,e)=>({tr:s,commands:a})=>a.insertContentAt({from:s.selection.from,to:s.selection.to},t,e),sN=t=>{const e=t.childNodes;for(let s=e.length-1;s>=0;s-=1){const a=e[s];a.nodeType===3&&a.nodeValue&&/^(\n\s\s|\n)$/.test(a.nodeValue)?t.removeChild(a):a.nodeType===1&&sN(a)}return t};function Wd(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,s=new window.DOMParser().parseFromString(e,"text/html").body;return sN(s)}function hc(t,e,s){if(t instanceof $n||t instanceof ne)return t;s={slice:!0,parseOptions:{},...s};const a=typeof t=="object"&&t!==null,i=typeof t=="string";if(a)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(t);return s.errorOnInvalidContent&&c.check(),c}catch(o){if(s.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),hc("",e,s)}if(i){if(s.errorOnInvalidContent){let c=!1,u="";const h=new Hw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:m=>(c=!0,u=typeof m=="string"?m:m.outerHTML,null)}]}})});if(s.slice?Al.fromSchema(h).parseSlice(Wd(t),s.parseOptions):Al.fromSchema(h).parse(Wd(t),s.parseOptions),s.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const o=Al.fromSchema(e);return s.slice?o.parseSlice(Wd(t),s.parseOptions).content:o.parse(Wd(t),s.parseOptions)}return hc("",e,s)}function rE(t,e,s){const a=t.steps.length-1;if(a<e)return;const i=t.steps[a];if(!(i instanceof is||i instanceof us))return;const o=t.mapping.maps[a];let c=0;o.forEach((u,h,m,p)=>{c===0&&(c=p)}),t.setSelection(Ae.near(t.doc.resolve(c),s))}var oE=t=>!("type"in t),cE=(t,e,s)=>({tr:a,dispatch:i,editor:o})=>{var c;if(i){s={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...s};let u;const h=k=>{o.emit("contentError",{editor:o,error:k,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},m={preserveWhitespace:"full",...s.parseOptions};if(!s.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{hc(e,o.schema,{parseOptions:m,errorOnInvalidContent:!0})}catch(k){h(k)}try{u=hc(e,o.schema,{parseOptions:m,errorOnInvalidContent:(c=s.errorOnInvalidContent)!=null?c:o.options.enableContentCheck})}catch(k){return h(k),!1}let{from:p,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,v=!0;if((oE(u)?u:[u]).forEach(k=>{k.check(),y=y?k.isText&&k.marks.length===0:!1,v=v?k.isBlock:!1}),p===g&&v){const{parent:k}=a.doc.resolve(p);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(p-=1,g+=1)}let N;if(y){if(Array.isArray(e))N=e.map(k=>k.text||"").join("");else if(e instanceof ne){let k="";e.forEach(z=>{z.text&&(k+=z.text)}),N=k}else typeof e=="object"&&e&&e.text?N=e.text:N=e;a.insertText(N,p,g)}else{N=u;const k=a.doc.resolve(p),z=k.node(),E=k.parentOffset===0,R=z.isText||z.isTextblock,H=z.content.size>0;E&&R&&H&&(p=Math.max(0,p-1)),a.replaceWith(p,g,N)}s.updateSelection&&rE(a,a.steps.length-1,-1),s.applyInputRules&&a.setMeta("applyInputRules",{from:p,text:N}),s.applyPasteRules&&a.setMeta("applyPasteRules",{from:p,text:N})}return!0},dE=()=>({state:t,dispatch:e})=>L3(t,e),uE=()=>({state:t,dispatch:e})=>_3(t,e),hE=()=>({state:t,dispatch:e})=>ij(t,e),fE=()=>({state:t,dispatch:e})=>dj(t,e),mE=()=>({state:t,dispatch:e,tr:s})=>{try{const a=yh(t.doc,t.selection.$from.pos,-1);return a==null?!1:(s.join(a,2),e&&e(s),!0)}catch{return!1}},pE=()=>({state:t,dispatch:e,tr:s})=>{try{const a=yh(t.doc,t.selection.$from.pos,1);return a==null?!1:(s.join(a,2),e&&e(s),!0)}catch{return!1}},xE=()=>({state:t,dispatch:e})=>O3(t,e),gE=()=>({state:t,dispatch:e})=>R3(t,e);function nN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function bE(t){const e=t.split(/-(?!$)/);let s=e[e.length-1];s==="Space"&&(s=" ");let a,i,o,c;for(let u=0;u<e.length-1;u+=1){const h=e[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))a=!0;else if(/^(c|ctrl|control)$/i.test(h))i=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))Wx()||nN()?c=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${h}`)}return a&&(s=`Alt-${s}`),i&&(s=`Ctrl-${s}`),c&&(s=`Meta-${s}`),o&&(s=`Shift-${s}`),s}var yE=t=>({editor:e,view:s,tr:a,dispatch:i})=>{const o=bE(t).split(/-(?!$)/),c=o.find(m=>!["Alt","Ctrl","Meta","Shift"].includes(m)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),h=e.captureTransaction(()=>{s.someProp("handleKeyDown",m=>m(s,u))});return h==null||h.steps.forEach(m=>{const p=m.map(a.mapping);p&&i&&a.maybeStep(p)}),!0};function _l(t,e,s={}){const{from:a,to:i,empty:o}=t.selection,c=e?Qt(e,t.schema):null,u=[];t.doc.nodesBetween(a,i,(g,y)=>{if(g.isText)return;const v=Math.max(a,y),w=Math.min(i,y+g.nodeSize);u.push({node:g,from:v,to:w})});const h=i-a,m=u.filter(g=>c?c.name===g.node.type.name:!0).filter(g=>Ru(g.node.attrs,s,{strict:!1}));return o?!!m.length:m.reduce((g,y)=>g+y.to-y.from,0)>=h}var vE=(t,e={})=>({state:s,dispatch:a})=>{const i=Qt(t,s.schema);return _l(s,i,e)?B3(s,a):!1},wE=()=>({state:t,dispatch:e})=>mj(t,e),jE=t=>({state:e,dispatch:s})=>{const a=Qt(t,e.schema);return Z3(a)(e,s)},NE=()=>({state:t,dispatch:e})=>hj(t,e);function Ch(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function fv(t,e){const s=typeof e=="string"?[e]:e;return Object.keys(t).reduce((a,i)=>(s.includes(i)||(a[i]=t[i]),a),{})}var kE=(t,e)=>({tr:s,state:a,dispatch:i})=>{let o=null,c=null;const u=Ch(typeof t=="string"?t:t.name,a.schema);if(!u)return!1;u==="node"&&(o=Qt(t,a.schema)),u==="mark"&&(c=Wa(t,a.schema));let h=!1;return s.selection.ranges.forEach(m=>{a.doc.nodesBetween(m.$from.pos,m.$to.pos,(p,g)=>{o&&o===p.type&&(h=!0,i&&s.setNodeMarkup(g,void 0,fv(p.attrs,e))),c&&p.marks.length&&p.marks.forEach(y=>{c===y.type&&(h=!0,i&&s.addMark(g,g+p.nodeSize,c.create(fv(y.attrs,e))))})})}),h},zE=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),SE=()=>({tr:t,dispatch:e})=>{if(e){const s=new cn(t.doc);t.setSelection(s)}return!0},CE=()=>({state:t,dispatch:e})=>oj(t,e),ME=()=>({state:t,dispatch:e})=>uj(t,e),EE=()=>({state:t,dispatch:e})=>I3(t,e),TE=()=>({state:t,dispatch:e})=>V3(t,e),AE=()=>({state:t,dispatch:e})=>q3(t,e);function Fp(t,e,s={},a={}){return hc(t,e,{slice:!1,parseOptions:s,errorOnInvalidContent:a.errorOnInvalidContent})}var DE=(t,{errorOnInvalidContent:e,emitUpdate:s=!0,parseOptions:a={}}={})=>({editor:i,tr:o,dispatch:c,commands:u})=>{const{doc:h}=o;if(a.preserveWhitespace!=="full"){const m=Fp(t,i.schema,a,{errorOnInvalidContent:e??i.options.enableContentCheck});return c&&o.replaceWith(0,h.content.size,m).setMeta("preventUpdate",!s),!0}return c&&o.setMeta("preventUpdate",!s),u.insertContentAt({from:0,to:h.content.size},t,{parseOptions:a,errorOnInvalidContent:e??i.options.enableContentCheck})};function aN(t,e){const s=Wa(e,t.schema),{from:a,to:i,empty:o}=t.selection,c=[];o?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(a,i,h=>{c.push(...h.marks)});const u=c.find(h=>h.type.name===s.name);return u?{...u.attrs}:{}}function lN(t,e){const s=new zx(t);return e.forEach(a=>{a.steps.forEach(i=>{s.step(i)})}),s}function OE(t){for(let e=0;e<t.edgeCount;e+=1){const{type:s}=t.edge(e);if(s.isTextblock&&!s.hasRequiredAttrs())return s}return null}function RE(t,e,s){const a=[];return t.nodesBetween(e.from,e.to,(i,o)=>{s(i)&&a.push({node:i,pos:o})}),a}function iN(t,e){for(let s=t.depth;s>0;s-=1){const a=t.node(s);if(e(a))return{pos:s>0?t.before(s):0,start:t.start(s),depth:s,node:a}}}function Mh(t){return e=>iN(e.$from,t)}function Ne(t,e,s){return t.config[e]===void 0&&t.parent?Ne(t.parent,e,s):typeof t.config[e]=="function"?t.config[e].bind({...s,parent:t.parent?Ne(t.parent,e,s):null}):t.config[e]}function Kx(t){return t.map(e=>{const s={name:e.name,options:e.options,storage:e.storage},a=Ne(e,"addExtensions",s);return a?[e,...Kx(a())]:e}).flat(10)}function Gx(t,e){const s=Di.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(s),i.innerHTML}function rN(t){return typeof t=="function"}function lt(t,e=void 0,...s){return rN(t)?e?t.bind(e)(...s):t(...s):t}function LE(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Ur(t){const e=t.filter(i=>i.type==="extension"),s=t.filter(i=>i.type==="node"),a=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:s,markExtensions:a}}function oN(t){const e=[],{nodeExtensions:s,markExtensions:a}=Ur(t),i=[...s,...a],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:i},h=Ne(c,"addGlobalAttributes",u);if(!h)return;h().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([y,v])=>{e.push({type:g,name:y,attribute:{...o,...v}})})})})}),i.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},h=Ne(c,"addAttributes",u);if(!h)return;const m=h();Object.entries(m).forEach(([p,g])=>{const y={...o,...g};typeof(y==null?void 0:y.default)=="function"&&(y.default=y.default()),y!=null&&y.isRequired&&(y==null?void 0:y.default)===void 0&&delete y.default,e.push({type:c.name,name:p,attribute:y})})}),e}function zt(...t){return t.filter(e=>!!e).reduce((e,s)=>{const a={...e};return Object.entries(s).forEach(([i,o])=>{if(!a[i]){a[i]=o;return}if(i==="class"){const u=o?String(o).split(" "):[],h=a[i]?a[i].split(" "):[],m=u.filter(p=>!h.includes(p));a[i]=[...h,...m].join(" ")}else if(i==="style"){const u=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],h=a[i]?a[i].split(";").map(p=>p.trim()).filter(Boolean):[],m=new Map;h.forEach(p=>{const[g,y]=p.split(":").map(v=>v.trim());m.set(g,y)}),u.forEach(p=>{const[g,y]=p.split(":").map(v=>v.trim());m.set(g,y)}),a[i]=Array.from(m.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else a[i]=o}),a},{})}function Lu(t,e){return e.filter(s=>s.type===t.type.name).filter(s=>s.attribute.rendered).map(s=>s.attribute.renderHTML?s.attribute.renderHTML(t.attrs)||{}:{[s.name]:t.attrs[s.name]}).reduce((s,a)=>zt(s,a),{})}function _E(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function mv(t,e){return"style"in t?t:{...t,getAttrs:s=>{const a=t.getAttrs?t.getAttrs(s):t.attrs;if(a===!1)return!1;const i=e.reduce((o,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(s):_E(s.getAttribute(c.name));return u==null?o:{...o,[c.name]:u}},{});return{...a,...i}}}}function pv(t){return Object.fromEntries(Object.entries(t).filter(([e,s])=>e==="attrs"&&LE(s)?!1:s!=null))}function xv(t){var e,s;const a={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(a.default=t.attribute.default),((s=t==null?void 0:t.attribute)==null?void 0:s.validate)!==void 0&&(a.validate=t.attribute.validate),[t.name,a]}function BE(t,e){var s;const a=oN(t),{nodeExtensions:i,markExtensions:o}=Ur(t),c=(s=i.find(m=>Ne(m,"topNode")))==null?void 0:s.name,u=Object.fromEntries(i.map(m=>{const p=a.filter(z=>z.type===m.name),g={name:m.name,options:m.options,storage:m.storage,editor:e},y=t.reduce((z,E)=>{const R=Ne(E,"extendNodeSchema",g);return{...z,...R?R(m):{}}},{}),v=pv({...y,content:lt(Ne(m,"content",g)),marks:lt(Ne(m,"marks",g)),group:lt(Ne(m,"group",g)),inline:lt(Ne(m,"inline",g)),atom:lt(Ne(m,"atom",g)),selectable:lt(Ne(m,"selectable",g)),draggable:lt(Ne(m,"draggable",g)),code:lt(Ne(m,"code",g)),whitespace:lt(Ne(m,"whitespace",g)),linebreakReplacement:lt(Ne(m,"linebreakReplacement",g)),defining:lt(Ne(m,"defining",g)),isolating:lt(Ne(m,"isolating",g)),attrs:Object.fromEntries(p.map(xv))}),w=lt(Ne(m,"parseHTML",g));w&&(v.parseDOM=w.map(z=>mv(z,p)));const N=Ne(m,"renderHTML",g);N&&(v.toDOM=z=>N({node:z,HTMLAttributes:Lu(z,p)}));const k=Ne(m,"renderText",g);return k&&(v.toText=k),[m.name,v]})),h=Object.fromEntries(o.map(m=>{const p=a.filter(k=>k.type===m.name),g={name:m.name,options:m.options,storage:m.storage,editor:e},y=t.reduce((k,z)=>{const E=Ne(z,"extendMarkSchema",g);return{...k,...E?E(m):{}}},{}),v=pv({...y,inclusive:lt(Ne(m,"inclusive",g)),excludes:lt(Ne(m,"excludes",g)),group:lt(Ne(m,"group",g)),spanning:lt(Ne(m,"spanning",g)),code:lt(Ne(m,"code",g)),attrs:Object.fromEntries(p.map(xv))}),w=lt(Ne(m,"parseHTML",g));w&&(v.parseDOM=w.map(k=>mv(k,p)));const N=Ne(m,"renderHTML",g);return N&&(v.toDOM=k=>N({mark:k,HTMLAttributes:Lu(k,p)})),[m.name,v]}));return new Hw({topNode:c,nodes:u,marks:h})}function PE(t){const e=t.filter((s,a)=>t.indexOf(s)!==a);return Array.from(new Set(e))}function Fx(t){return t.sort((s,a)=>{const i=Ne(s,"priority")||100,o=Ne(a,"priority")||100;return i>o?-1:i<o?1:0})}function cN(t){const e=Fx(Kx(t)),s=PE(e.map(a=>a.name));return s.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${s.map(a=>`'${a}'`).join(", ")}]. This can lead to issues.`),e}function dN(t,e,s){const{from:a,to:i}=e,{blockSeparator:o=`

`,textSerializers:c={}}=s||{};let u="";return t.nodesBetween(a,i,(h,m,p,g)=>{var y;h.isBlock&&m>a&&(u+=o);const v=c==null?void 0:c[h.type.name];if(v)return p&&(u+=v({node:h,pos:m,parent:p,index:g,range:e})),!1;h.isText&&(u+=(y=h==null?void 0:h.text)==null?void 0:y.slice(Math.max(a,m)-m,i-m))}),u}function UE(t,e){const s={from:0,to:t.content.size};return dN(t,s,e)}function uN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,s])=>[e,s.spec.toText]))}function HE(t,e){const s=Qt(e,t.schema),{from:a,to:i}=t.selection,o=[];t.doc.nodesBetween(a,i,u=>{o.push(u)});const c=o.reverse().find(u=>u.type.name===s.name);return c?{...c.attrs}:{}}function hN(t,e){const s=Ch(typeof e=="string"?e:e.name,t.schema);return s==="node"?HE(t,e):s==="mark"?aN(t,e):{}}function IE(t,e=JSON.stringify){const s={};return t.filter(a=>{const i=e(a);return Object.prototype.hasOwnProperty.call(s,i)?!1:s[i]=!0})}function $E(t){const e=IE(t);return e.length===1?e:e.filter((s,a)=>!e.filter((o,c)=>c!==a).some(o=>s.oldRange.from>=o.oldRange.from&&s.oldRange.to<=o.oldRange.to&&s.newRange.from>=o.newRange.from&&s.newRange.to<=o.newRange.to))}function fN(t){const{mapping:e,steps:s}=t,a=[];return e.maps.forEach((i,o)=>{const c=[];if(i.ranges.length)i.forEach((u,h)=>{c.push({from:u,to:h})});else{const{from:u,to:h}=s[o];if(u===void 0||h===void 0)return;c.push({from:u,to:h})}c.forEach(({from:u,to:h})=>{const m=e.slice(o).map(u,-1),p=e.slice(o).map(h),g=e.invert().map(m,-1),y=e.invert().map(p);a.push({oldRange:{from:g,to:y},newRange:{from:m,to:p}})})}),$E(a)}function Zx(t,e,s){const a=[];return t===e?s.resolve(t).marks().forEach(i=>{const o=s.resolve(t),c=Vx(o,i.type);c&&a.push({mark:i,...c})}):s.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||a.push(...i.marks.map(c=>({from:o,to:o+i.nodeSize,mark:c})))}),a}var qE=(t,e,s,a=20)=>{const i=t.doc.resolve(s);let o=a,c=null;for(;o>0&&c===null;){const u=i.node(o);(u==null?void 0:u.type.name)===e?c=u:o-=1}return[c,o]};function up(t,e){return e.nodes[t]||e.marks[t]||null}function xu(t,e,s){return Object.fromEntries(Object.entries(s).filter(([a])=>{const i=t.find(o=>o.type===e&&o.name===a);return i?i.attribute.keepOnSplit:!1}))}var VE=(t,e=500)=>{let s="";const a=t.parentOffset;return t.parent.nodesBetween(Math.max(0,a-e),a,(i,o,c,u)=>{var h,m;const p=((m=(h=i.type.spec).toText)==null?void 0:m.call(h,{node:i,pos:o,parent:c,index:u}))||i.textContent||"%leaf%";s+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,a-o))}),s};function Zp(t,e,s={}){const{empty:a,ranges:i}=t.selection,o=e?Wa(e,t.schema):null;if(a)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>o?o.name===g.type.name:!0).find(g=>Ru(g.attrs,s,{strict:!1}));let c=0;const u=[];if(i.forEach(({$from:g,$to:y})=>{const v=g.pos,w=y.pos;t.doc.nodesBetween(v,w,(N,k)=>{if(!N.isText&&!N.marks.length)return;const z=Math.max(v,k),E=Math.min(w,k+N.nodeSize),R=E-z;c+=R,u.push(...N.marks.map(H=>({mark:H,from:z,to:E})))})}),c===0)return!1;const h=u.filter(g=>o?o.name===g.mark.type.name:!0).filter(g=>Ru(g.mark.attrs,s,{strict:!1})).reduce((g,y)=>g+y.to-y.from,0),m=u.filter(g=>o?g.mark.type!==o&&g.mark.type.excludes(o):!0).reduce((g,y)=>g+y.to-y.from,0);return(h>0?h+m:h)>=c}function WE(t,e,s={}){if(!e)return _l(t,null,s)||Zp(t,null,s);const a=Ch(e,t.schema);return a==="node"?_l(t,e,s):a==="mark"?Zp(t,e,s):!1}var KE=(t,e)=>{const{$from:s,$to:a,$anchor:i}=t.selection;if(e){const o=Mh(u=>u.type.name===e)(t.selection);if(!o)return!1;const c=t.doc.resolve(o.pos+1);return i.pos+1===c.end()}return!(a.parentOffset<a.parent.nodeSize-2||s.pos!==a.pos)},GE=t=>{const{$from:e,$to:s}=t.selection;return!(e.parentOffset>0||e.pos!==s.pos)};function gv(t,e){return Array.isArray(e)?e.some(s=>(typeof s=="string"?s:s.name)===t.name):e}function bv(t,e){const{nodeExtensions:s}=Ur(e),a=s.find(c=>c.name===t);if(!a)return!1;const i={name:a.name,options:a.options,storage:a.storage},o=lt(Ne(a,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Eh(t,{checkChildren:e=!0,ignoreWhitespace:s=!1}={}){var a;if(s){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((a=t.text)!=null?a:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(Eh(o,{ignoreWhitespace:s,checkChildren:e})||(i=!1))}),i}return!1}function mN(t){return t instanceof ze}var pN=class xN{constructor(e){this.position=e}static fromJSON(e){return new xN(e.position)}toJSON(){return{position:this.position}}};function FE(t,e){const s=e.mapping.mapResult(t.position);return{position:new pN(s.pos),mapResult:s}}function ZE(t){return new pN(t)}function YE(t,e,s){var a;const{selection:i}=e;let o=null;if(eN(i)&&(o=i.$cursor),o){const u=(a=t.storedMarks)!=null?a:o.marks();return o.parent.type.allowsMarkType(s)&&(!!s.isInSet(u)||!u.some(m=>m.type.excludes(s)))}const{ranges:c}=i;return c.some(({$from:u,$to:h})=>{let m=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(s):!1;return t.doc.nodesBetween(u.pos,h.pos,(p,g,y)=>{if(m)return!1;if(p.isInline){const v=!y||y.type.allowsMarkType(s),w=!!s.isInSet(p.marks)||!p.marks.some(N=>N.type.excludes(s));m=v&&w}return!m}),m})}var JE=(t,e={})=>({tr:s,state:a,dispatch:i})=>{const{selection:o}=s,{empty:c,ranges:u}=o,h=Wa(t,a.schema);if(i)if(c){const m=aN(a,h);s.addStoredMark(h.create({...m,...e}))}else u.forEach(m=>{const p=m.$from.pos,g=m.$to.pos;a.doc.nodesBetween(p,g,(y,v)=>{const w=Math.max(v,p),N=Math.min(v+y.nodeSize,g);y.marks.find(z=>z.type===h)?y.marks.forEach(z=>{h===z.type&&s.addMark(w,N,h.create({...z.attrs,...e}))}):s.addMark(w,N,h.create(e))})});return YE(a,s,h)},XE=(t,e)=>({tr:s})=>(s.setMeta(t,e),!0),QE=(t,e={})=>({state:s,dispatch:a,chain:i})=>{const o=Qt(t,s.schema);let c;return s.selection.$anchor.sameParent(s.selection.$head)&&(c=s.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:u})=>D1(o,{...c,...e})(s)?!0:u.clearNodes()).command(({state:u})=>D1(o,{...c,...e})(u,a)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},eT=t=>({tr:e,dispatch:s})=>{if(s){const{doc:a}=e,i=mi(t,0,a.content.size),o=ze.create(a,i);e.setSelection(o)}return!0},tT=(t,e)=>({tr:s,state:a,dispatch:i})=>{const{selection:o}=a;let c,u;return typeof e=="number"?(c=e,u=e):e&&"from"in e&&"to"in e?(c=e.from,u=e.to):(c=o.from,u=o.to),i&&s.doc.nodesBetween(c,u,(h,m)=>{h.isText||s.setNodeMarkup(m,void 0,{...h.attrs,dir:t})}),!0},sT=t=>({tr:e,dispatch:s})=>{if(s){const{doc:a}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,c=Ce.atStart(a).from,u=Ce.atEnd(a).to,h=mi(i,c,u),m=mi(o,c,u),p=Ce.create(a,h,m);e.setSelection(p)}return!0},nT=t=>({state:e,dispatch:s})=>{const a=Qt(t,e.schema);return X3(a)(e,s)};function yv(t,e){const s=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(s){const a=s.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(a)}}var aT=({keepMarks:t=!0}={})=>({tr:e,state:s,dispatch:a,editor:i})=>{const{selection:o,doc:c}=e,{$from:u,$to:h}=o,m=i.extensionManager.attributes,p=xu(m,u.node().type.name,u.node().attrs);if(o instanceof ze&&o.node.isBlock)return!u.parentOffset||!Ua(c,u.pos)?!1:(a&&(t&&yv(s,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=h.parentOffset===h.parent.content.size,y=u.depth===0?void 0:OE(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=g&&y?[{type:y,attrs:p}]:void 0,w=Ua(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!w&&Ua(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(w=!0,v=y?[{type:y,attrs:p}]:void 0),a){if(w&&(o instanceof Ce&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),y&&!g&&!u.parentOffset&&u.parent.type!==y)){const N=e.mapping.map(u.before()),k=e.doc.resolve(N);u.node(-1).canReplaceWith(k.index(),k.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&yv(s,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},lT=(t,e={})=>({tr:s,state:a,dispatch:i,editor:o})=>{var c;const u=Qt(t,a.schema),{$from:h,$to:m}=a.selection,p=a.selection.node;if(p&&p.isBlock||h.depth<2||!h.sameParent(m))return!1;const g=h.node(-1);if(g.type!==u)return!1;const y=o.extensionManager.attributes;if(h.parent.content.size===0&&h.node(-1).childCount===h.indexAfter(-1)){if(h.depth===2||h.node(-3).type!==u||h.index(-2)!==h.node(-2).childCount-1)return!1;if(i){let z=ne.empty;const E=h.index(-1)?1:h.index(-2)?2:3;for(let Y=h.depth-E;Y>=h.depth-3;Y-=1)z=ne.from(h.node(Y).copy(z));const R=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,H={...xu(y,h.node().type.name,h.node().attrs),...e},I=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(H))||void 0;z=z.append(ne.from(u.createAndFill(null,I)||void 0));const W=h.before(h.depth-(E-1));s.replace(W,h.after(-R),new fe(z,4-E,0));let $=-1;s.doc.nodesBetween(W,s.doc.content.size,(Y,T)=>{if($>-1)return!1;Y.isTextblock&&Y.content.size===0&&($=T+1)}),$>-1&&s.setSelection(Ce.near(s.doc.resolve($))),s.scrollIntoView()}return!0}const v=m.pos===h.end()?g.contentMatchAt(0).defaultType:null,w={...xu(y,g.type.name,g.attrs),...e},N={...xu(y,h.node().type.name,h.node().attrs),...e};s.delete(h.pos,m.pos);const k=v?[{type:u,attrs:w},{type:v,attrs:N}]:[{type:u,attrs:w}];if(!Ua(s.doc,h.pos,2))return!1;if(i){const{selection:z,storedMarks:E}=a,{splittableMarks:R}=o.extensionManager,H=E||z.$to.parentOffset&&z.$from.marks();if(s.split(h.pos,2,k).scrollIntoView(),!H||!i)return!0;const I=H.filter(W=>R.includes(W.type.name));s.ensureMarks(I)}return!0},hp=(t,e)=>{const s=Mh(c=>c.type===e)(t.selection);if(!s)return!0;const a=t.doc.resolve(Math.max(0,s.pos-1)).before(s.depth);if(a===void 0)return!0;const i=t.doc.nodeAt(a);return s.node.type===(i==null?void 0:i.type)&&Pl(t.doc,s.pos)&&t.join(s.pos),!0},fp=(t,e)=>{const s=Mh(c=>c.type===e)(t.selection);if(!s)return!0;const a=t.doc.resolve(s.start).after(s.depth);if(a===void 0)return!0;const i=t.doc.nodeAt(a);return s.node.type===(i==null?void 0:i.type)&&Pl(t.doc,a)&&t.join(a),!0},iT=(t,e,s,a={})=>({editor:i,tr:o,state:c,dispatch:u,chain:h,commands:m,can:p})=>{const{extensions:g,splittableMarks:y}=i.extensionManager,v=Qt(t,c.schema),w=Qt(e,c.schema),{selection:N,storedMarks:k}=c,{$from:z,$to:E}=N,R=z.blockRange(E),H=k||N.$to.parentOffset&&N.$from.marks();if(!R)return!1;const I=Mh(W=>bv(W.type.name,g))(N);if(R.depth>=1&&I&&R.depth-I.depth<=1){if(I.node.type===v)return m.liftListItem(w);if(bv(I.node.type.name,g)&&v.validContent(I.node.content)&&u)return h().command(()=>(o.setNodeMarkup(I.pos,v),!0)).command(()=>hp(o,v)).command(()=>fp(o,v)).run()}return!s||!H||!u?h().command(()=>p().wrapInList(v,a)?!0:m.clearNodes()).wrapInList(v,a).command(()=>hp(o,v)).command(()=>fp(o,v)).run():h().command(()=>{const W=p().wrapInList(v,a),$=H.filter(Y=>y.includes(Y.type.name));return o.ensureMarks($),W?!0:m.clearNodes()}).wrapInList(v,a).command(()=>hp(o,v)).command(()=>fp(o,v)).run()},rT=(t,e={},s={})=>({state:a,commands:i})=>{const{extendEmptyMarkRange:o=!1}=s,c=Wa(t,a.schema);return Zp(a,c,e)?i.unsetMark(c,{extendEmptyMarkRange:o}):i.setMark(c,e)},oT=(t,e,s={})=>({state:a,commands:i})=>{const o=Qt(t,a.schema),c=Qt(e,a.schema),u=_l(a,o,s);let h;return a.selection.$anchor.sameParent(a.selection.$head)&&(h=a.selection.$anchor.parent.attrs),u?i.setNode(c,h):i.setNode(o,{...h,...s})},cT=(t,e={})=>({state:s,commands:a})=>{const i=Qt(t,s.schema);return _l(s,i,e)?a.lift(i):a.wrapIn(i,e)},dT=()=>({state:t,dispatch:e})=>{const s=t.plugins;for(let a=0;a<s.length;a+=1){const i=s[a];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const c=t.tr,u=o.transform;for(let h=u.steps.length-1;h>=0;h-=1)c.step(u.steps[h].invert(u.docs[h]));if(o.text){const h=c.doc.resolve(o.from).marks();c.replaceWith(o.from,o.to,t.schema.text(o.text,h))}else c.delete(o.from,o.to)}return!0}}return!1},uT=()=>({tr:t,dispatch:e})=>{const{selection:s}=t,{empty:a,ranges:i}=s;return a||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},hT=(t,e={})=>({tr:s,state:a,dispatch:i})=>{var o;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=s,h=Wa(t,a.schema),{$from:m,empty:p,ranges:g}=u;if(!i)return!0;if(p&&c){let{from:y,to:v}=u;const w=(o=m.marks().find(k=>k.type===h))==null?void 0:o.attrs,N=Vx(m,h,w);N&&(y=N.from,v=N.to),s.removeMark(y,v,h)}else g.forEach(y=>{s.removeMark(y.$from.pos,y.$to.pos,h)});return s.removeStoredMark(h),!0},fT=t=>({tr:e,state:s,dispatch:a})=>{const{selection:i}=s;let o,c;return typeof t=="number"?(o=t,c=t):t&&"from"in t&&"to"in t?(o=t.from,c=t.to):(o=i.from,c=i.to),a&&e.doc.nodesBetween(o,c,(u,h)=>{if(u.isText)return;const m={...u.attrs};delete m.dir,e.setNodeMarkup(h,void 0,m)}),!0},mT=(t,e={})=>({tr:s,state:a,dispatch:i})=>{let o=null,c=null;const u=Ch(typeof t=="string"?t:t.name,a.schema);if(!u)return!1;u==="node"&&(o=Qt(t,a.schema)),u==="mark"&&(c=Wa(t,a.schema));let h=!1;return s.selection.ranges.forEach(m=>{const p=m.$from.pos,g=m.$to.pos;let y,v,w,N;s.selection.empty?a.doc.nodesBetween(p,g,(k,z)=>{o&&o===k.type&&(h=!0,w=Math.max(z,p),N=Math.min(z+k.nodeSize,g),y=z,v=k)}):a.doc.nodesBetween(p,g,(k,z)=>{z<p&&o&&o===k.type&&(h=!0,w=Math.max(z,p),N=Math.min(z+k.nodeSize,g),y=z,v=k),z>=p&&z<=g&&(o&&o===k.type&&(h=!0,i&&s.setNodeMarkup(z,void 0,{...k.attrs,...e})),c&&k.marks.length&&k.marks.forEach(E=>{if(c===E.type&&(h=!0,i)){const R=Math.max(z,p),H=Math.min(z+k.nodeSize,g);s.addMark(R,H,c.create({...E.attrs,...e}))}}))}),v&&(y!==void 0&&i&&s.setNodeMarkup(y,void 0,{...v.attrs,...e}),c&&v.marks.length&&v.marks.forEach(k=>{c===k.type&&i&&s.addMark(w,N,c.create({...k.attrs,...e}))}))}),h},pT=(t,e={})=>({state:s,dispatch:a})=>{const i=Qt(t,s.schema);return W3(i,e)(s,a)},xT=(t,e={})=>({state:s,dispatch:a})=>{const i=Qt(t,s.schema);return K3(i,e)(s,a)},gT=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const s=this.callbacks[t];return s&&s.forEach(a=>a.apply(this,e)),this}off(t,e){const s=this.callbacks[t];return s&&(e?this.callbacks[t]=s.filter(a=>a!==e):delete this.callbacks[t]),this}once(t,e){const s=(...a)=>{this.off(t,s),e.apply(this,a)};return this.on(t,s)}removeAllListeners(){this.callbacks={}}},Th=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},bT=(t,e)=>{if(qx(e))return e.exec(t);const s=e(t);if(!s)return null;const a=[s.text];return a.index=s.index,a.input=t,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),a.push(s.replaceWith)),a};function Kd(t){var e;const{editor:s,from:a,to:i,text:o,rules:c,plugin:u}=t,{view:h}=s;if(h.composing)return!1;const m=h.state.doc.resolve(a);if(m.parent.type.spec.code||(e=m.nodeBefore||m.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const g=VE(m)+o;return c.forEach(y=>{if(p)return;const v=bT(g,y.find);if(!v)return;const w=h.state.tr,N=zh({state:h.state,transaction:w}),k={from:a-(v[0].length-o.length),to:i},{commands:z,chain:E,can:R}=new Sh({editor:s,state:N});y.handler({state:N,range:k,match:v,commands:z,chain:E,can:R})===null||!w.steps.length||(y.undoable&&w.setMeta(u,{transform:w,from:a,to:i,text:o}),h.dispatch(w),p=!0)}),p}function yT(t){const{editor:e,rules:s}=t,a=new St({state:{init(){return null},apply(i,o,c){const u=i.getMeta(a);if(u)return u;const h=i.getMeta("applyInputRules");return!!h&&setTimeout(()=>{let{text:p}=h;typeof p=="string"?p=p:p=Gx(ne.from(p),c.schema);const{from:g}=h,y=g+p.length;Kd({editor:e,from:g,to:y,text:p,rules:s,plugin:a})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,c,u){return Kd({editor:e,from:o,to:c,text:u,rules:s,plugin:a})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Kd({editor:e,from:o.pos,to:o.pos,text:"",rules:s,plugin:a})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:c}=i.state.selection;return c?Kd({editor:e,from:c.pos,to:c.pos,text:`
`,rules:s,plugin:a}):!1}},isInputRules:!0});return a}function vT(t){return Object.prototype.toString.call(t).slice(8,-1)}function Gd(t){return vT(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function gN(t,e){const s={...t};return Gd(t)&&Gd(e)&&Object.keys(e).forEach(a=>{Gd(e[a])&&Gd(t[a])?s[a]=gN(t[a],e[a]):s[a]=e[a]}),s}var Yx=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...lt(Ne(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...lt(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>gN(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Oi=class bN extends Yx{constructor(){super(...arguments),this.type="mark"}static create(e={}){const s=typeof e=="function"?e():e;return new bN(s)}static handleExit({editor:e,mark:s}){const{tr:a}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const c=i.marks();if(!!!c.find(m=>(m==null?void 0:m.type.name)===s.name))return!1;const h=c.find(m=>(m==null?void 0:m.type.name)===s.name);return h&&a.removeStoredMark(h),a.insertText(" ",i.pos),e.view.dispatch(a),!0}return!1}configure(e){return super.configure(e)}extend(e){const s=typeof e=="function"?e():e;return super.extend(s)}};function wT(t){return typeof t=="number"}var jT=class{constructor(t){this.find=t.find,this.handler=t.handler}},NT=(t,e,s)=>{if(qx(e))return[...t.matchAll(e)];const a=e(t,s);return a?a.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function kT(t){const{editor:e,state:s,from:a,to:i,rule:o,pasteEvent:c,dropEvent:u}=t,{commands:h,chain:m,can:p}=new Sh({editor:e,state:s}),g=[];return s.doc.nodesBetween(a,i,(v,w)=>{var N,k,z,E,R;if((k=(N=v.type)==null?void 0:N.spec)!=null&&k.code||!(v.isText||v.isTextblock||v.isInline))return;const H=(R=(E=(z=v.content)==null?void 0:z.size)!=null?E:v.nodeSize)!=null?R:0,I=Math.max(a,w),W=Math.min(i,w+H);if(I>=W)return;const $=v.isText?v.text||"":v.textBetween(I-w,W-w,void 0,"");NT($,o.find,c).forEach(T=>{if(T.index===void 0)return;const ee=I+T.index+1,J=ee+T[0].length,xe={from:s.tr.mapping.map(ee),to:s.tr.mapping.map(J)},be=o.handler({state:s,range:xe,match:T,commands:h,chain:m,can:p,pasteEvent:c,dropEvent:u});g.push(be)})}),g.every(v=>v!==null)}var Fd=null,zT=t=>{var e;const s=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=s.clipboardData)==null||e.setData("text/html",t),s};function ST(t){const{editor:e,rules:s}=t;let a=null,i=!1,o=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const h=({state:p,from:g,to:y,rule:v,pasteEvt:w})=>{const N=p.tr,k=zh({state:p,transaction:N});if(!(!kT({editor:e,state:k,from:Math.max(g-1,0),to:y.b-1,rule:v,pasteEvent:w,dropEvent:u})||!N.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,N}};return s.map(p=>new St({view(g){const y=w=>{var N;a=(N=g.dom.parentElement)!=null&&N.contains(w.target)?g.dom.parentElement:null,a&&(Fd=e)},v=()=>{Fd&&(Fd=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,y)=>{if(o=a===g.dom.parentElement,u=y,!o){const v=Fd;v!=null&&v.isEditable&&setTimeout(()=>{const w=v.state.selection;w&&v.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(g,y)=>{var v;const w=(v=y.clipboardData)==null?void 0:v.getData("text/html");return c=y,i=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(g,y,v)=>{const w=g[0],N=w.getMeta("uiEvent")==="paste"&&!i,k=w.getMeta("uiEvent")==="drop"&&!o,z=w.getMeta("applyPasteRules"),E=!!z;if(!N&&!k&&!E)return;if(E){let{text:I}=z;typeof I=="string"?I=I:I=Gx(ne.from(I),v.schema);const{from:W}=z,$=W+I.length,Y=zT(I);return h({rule:p,state:v,from:W,to:{b:$},pasteEvt:Y})}const R=y.doc.content.findDiffStart(v.doc.content),H=y.doc.content.findDiffEnd(v.doc.content);if(!(!wT(R)||!H||R===H.b))return h({rule:p,state:v,from:R,to:H,pasteEvt:c})}}))}var Ah=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=cN(t),this.schema=BE(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:up(e.name,this.schema)},a=Ne(e,"addCommands",s);return a?{...t,...a()}:t},{})}get plugins(){const{editor:t}=this;return Fx([...this.extensions].reverse()).flatMap(a=>{const i={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:t,type:up(a.name,this.schema)},o=[],c=Ne(a,"addKeyboardShortcuts",i);let u={};if(a.type==="mark"&&Ne(a,"exitable",i)&&(u.ArrowRight=()=>Oi.handleExit({editor:t,mark:a})),c){const y=Object.fromEntries(Object.entries(c()).map(([v,w])=>[v,()=>w({editor:t})]));u={...u,...y}}const h=I4(u);o.push(h);const m=Ne(a,"addInputRules",i);if(gv(a,t.options.enableInputRules)&&m){const y=m();if(y&&y.length){const v=yT({editor:t,rules:y}),w=Array.isArray(v)?v:[v];o.push(...w)}}const p=Ne(a,"addPasteRules",i);if(gv(a,t.options.enablePasteRules)&&p){const y=p();if(y&&y.length){const v=ST({editor:t,rules:y});o.push(...v)}}const g=Ne(a,"addProseMirrorPlugins",i);if(g){const y=g();o.push(...y)}return o})}get attributes(){return oN(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Ur(this.extensions);return Object.fromEntries(e.filter(s=>!!Ne(s,"addNodeView")).map(s=>{const a=this.attributes.filter(h=>h.type===s.name),i={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Qt(s.name,this.schema)},o=Ne(s,"addNodeView",i);if(!o)return[];const c=o();if(!c)return[];const u=(h,m,p,g,y)=>{const v=Lu(h,a);return c({node:h,view:m,getPos:p,decorations:g,innerDecorations:y,editor:t,extension:s,HTMLAttributes:v})};return[s.name,u]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Ur(this.extensions);return Object.fromEntries(e.filter(s=>!!Ne(s,"addMarkView")).map(s=>{const a=this.attributes.filter(u=>u.type===s.name),i={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Wa(s.name,this.schema)},o=Ne(s,"addMarkView",i);if(!o)return[];const c=(u,h,m)=>{const p=Lu(u,a);return o()({mark:u,view:h,inline:m,editor:t,extension:s,HTMLAttributes:p,updateAttributes:g=>{IT(u,t,g)}})};return[s.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var s;const a={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:up(e.name,this.schema)};e.type==="mark"&&((s=lt(Ne(e,"keepOnSplit",a)))==null||s)&&this.splittableMarks.push(e.name);const i=Ne(e,"onBeforeCreate",a),o=Ne(e,"onCreate",a),c=Ne(e,"onUpdate",a),u=Ne(e,"onSelectionUpdate",a),h=Ne(e,"onTransaction",a),m=Ne(e,"onFocus",a),p=Ne(e,"onBlur",a),g=Ne(e,"onDestroy",a);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),h&&this.editor.on("transaction",h),m&&this.editor.on("focus",m),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};Ah.resolve=cN;Ah.sort=Fx;Ah.flatten=Kx;var CT={};$x(CT,{ClipboardTextSerializer:()=>vN,Commands:()=>wN,Delete:()=>jN,Drop:()=>NN,Editable:()=>kN,FocusEvents:()=>SN,Keymap:()=>CN,Paste:()=>MN,Tabindex:()=>EN,TextDirection:()=>TN,focusEventsPluginKey:()=>zN});var It=class yN extends Yx{constructor(){super(...arguments),this.type="extension"}static create(e={}){const s=typeof e=="function"?e():e;return new yN(s)}configure(e){return super.configure(e)}extend(e){const s=typeof e=="function"?e():e;return super.extend(s)}},vN=It.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new St({key:new Ht("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:s}=t,{doc:a,selection:i}=e,{ranges:o}=i,c=Math.min(...o.map(p=>p.$from.pos)),u=Math.max(...o.map(p=>p.$to.pos)),h=uN(s);return dN(a,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}}),wN=It.create({name:"commands",addCommands(){return{...Xj}}}),jN=It.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var s,a,i;const o=()=>{var c,u,h,m;if((m=(h=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:h.call(u,t))!=null?m:t.getMeta("y-sync$"))return;const p=lN(t.before,[t,...e]);fN(p).forEach(v=>{p.mapping.mapResult(v.oldRange.from).deletedAfter&&p.mapping.mapResult(v.oldRange.to).deletedBefore&&p.before.nodesBetween(v.oldRange.from,v.oldRange.to,(w,N)=>{const k=N+w.nodeSize-2,z=v.oldRange.from<=N&&k<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:N,to:k,newFrom:p.mapping.map(N),newTo:p.mapping.map(k),deletedRange:v.oldRange,newRange:v.newRange,partial:!z,editor:this.editor,transaction:t,combinedTransform:p})})});const y=p.mapping;p.steps.forEach((v,w)=>{var N,k;if(v instanceof In){const z=y.slice(w).map(v.from,-1),E=y.slice(w).map(v.to),R=y.invert().map(z,-1),H=y.invert().map(E),I=(N=p.doc.nodeAt(z-1))==null?void 0:N.marks.some($=>$.eq(v.mark)),W=(k=p.doc.nodeAt(E))==null?void 0:k.marks.some($=>$.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:R,to:H},newRange:{from:z,to:E},partial:!!(W||I),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.async)==null||i?setTimeout(o,0):o()}}),NN=It.create({name:"drop",addProseMirrorPlugins(){return[new St({key:new Ht("tiptapDrop"),props:{handleDrop:(t,e,s,a)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:s,moved:a})}}})]}}),kN=It.create({name:"editable",addProseMirrorPlugins(){return[new St({key:new Ht("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zN=new Ht("focusEvents"),SN=It.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new St({key:zN,props:{handleDOMEvents:{focus:(e,s)=>{t.isFocused=!0;const a=t.state.tr.setMeta("focus",{event:s}).setMeta("addToHistory",!1);return e.dispatch(a),!1},blur:(e,s)=>{t.isFocused=!1;const a=t.state.tr.setMeta("blur",{event:s}).setMeta("addToHistory",!1);return e.dispatch(a),!1}}}})]}}),CN=It.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:h,doc:m}=u,{empty:p,$anchor:g}=h,{pos:y,parent:v}=g,w=g.parent.isTextblock&&y>0?u.doc.resolve(y-1):g,N=w.parent.type.spec.isolating,k=g.pos-g.parentOffset,z=N&&w.parent.childCount===1?k===g.pos:Ae.atStart(m).from===y;return!p||!v.type.isTextblock||v.textContent.length||!z||z&&g.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),a={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...a},o={...a,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Wx()||nN()?o:i},addProseMirrorPlugins(){return[new St({key:new Ht("clearDocument"),appendTransaction:(t,e,s)=>{if(t.some(N=>N.getMeta("composition")))return;const a=t.some(N=>N.docChanged)&&!e.doc.eq(s.doc),i=t.some(N=>N.getMeta("preventClearDocument"));if(!a||i)return;const{empty:o,from:c,to:u}=e.selection,h=Ae.atStart(e.doc).from,m=Ae.atEnd(e.doc).to;if(o||!(c===h&&u===m)||!Eh(s.doc))return;const y=s.tr,v=zh({state:s,transaction:y}),{commands:w}=new Sh({editor:this.editor,state:v});if(w.clearNodes(),!!y.steps.length)return y}})]}}),MN=It.create({name:"paste",addProseMirrorPlugins(){return[new St({key:new Ht("tiptapPaste"),props:{handlePaste:(t,e,s)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:s})}}})]}}),EN=It.create({name:"tabindex",addProseMirrorPlugins(){return[new St({key:new Ht("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),TN=It.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Ur(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const s=e.getAttribute("dir");return s&&(s==="ltr"||s==="rtl"||s==="auto")?s:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new St({key:new Ht("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),MT=class kr{constructor(e,s,a=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=a,this.resolvedPos=e,this.editor=s,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let s=this.from,a=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}s=this.from+1,a=this.to-1}this.editor.commands.insertContentAt({from:s,to:a},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),s=this.resolvedPos.doc.resolve(e);return new kr(s,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new kr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new kr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((s,a)=>{const i=s.isBlock&&!s.isTextblock,o=s.isAtom&&!s.isText,c=this.pos+a+(o?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!i&&u.depth<=this.depth)return;const h=new kr(u,this.editor,i,i?s:null);i&&(h.actualDepth=this.depth+1),e.push(new kr(u,this.editor,i,i?s:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,s={}){let a=null,i=this.parent;for(;i&&!a;){if(i.node.type.name===e)if(Object.keys(s).length>0){const o=i.node.attrs,c=Object.keys(s);for(let u=0;u<c.length;u+=1){const h=c[u];if(o[h]!==s[h])break}}else a=i;i=i.parent}return a}querySelector(e,s={}){return this.querySelectorAll(e,s,!0)[0]||null}querySelectorAll(e,s={},a=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(s);return this.children.forEach(c=>{a&&i.length>0||(c.node.type.name===e&&o.every(h=>s[h]===c.node.attrs[h])&&i.push(c),!(a&&i.length>0)&&(i=i.concat(c.querySelectorAll(e,s,a))))}),i}setAttribute(e){const{tr:s}=this.editor.state;s.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(s)}},ET=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function TT(t,e,s){const a=document.querySelector("style[data-tiptap-style]");if(a!==null)return a;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var AT=class extends gT{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:a})=>{throw a},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:FE,createMappablePosition:ZE},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:a,slice:i,moved:o})=>this.options.onDrop(a,i,o)),this.on("paste",({event:a,slice:i})=>this.options.onPaste(a,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),s=tN(e,this.options.autofocus);this.editorState=Sr.create({doc:e,schema:this.schema,selection:s||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=TT(ET,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const s=rN(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],a=this.state.reconfigure({plugins:s});return this.view.updateState(a),a}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let s=e;if([].concat(t).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;s=s.filter(c=>!c.key.startsWith(o))}),e.length===s.length)return;const a=this.state.reconfigure({plugins:s});return this.view.updateState(a),a}createExtensionManager(){var t,e;const a=[...this.options.enableCoreExtensions?[kN,vN.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),wN,SN,CN,EN,NN,MN,jN,TN.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ah(a,this)}createCommandManager(){this.commandManager=new Sh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Fp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),t=Fp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new Jj(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.prependClass(),this.injectCSS();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(m=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(m)});return}const{state:e,transactions:s}=this.state.applyTransaction(t),a=!this.state.selection.eq(e.selection),i=s.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:s.slice(1)}),a&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=s.findLast(m=>m.getMeta("focus")||m.getMeta("blur")),u=c==null?void 0:c.getMeta("focus"),h=c==null?void 0:c.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),h&&this.emit("blur",{editor:this,event:h.event,transaction:c}),!(t.getMeta("preventUpdate")||!s.some(m=>m.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:s.slice(1)})}getAttributes(t){return hN(this.state,t)}isActive(t,e){const s=typeof t=="string"?t:null,a=typeof t=="string"?e:t;return WE(this.state,s,a)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Gx(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:s={}}=t||{};return UE(this.state.doc,{blockSeparator:e,textSerializers:{...uN(this.schema),...s}})}get isEmpty(){return Eh(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var s;return((s=this.$doc)==null?void 0:s.querySelector(t,e))||null}$nodes(t,e){var s;return((s=this.$doc)==null?void 0:s.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new MT(e,this)}get $doc(){return this.$pos(0)}};function Hr(t){return new Th({find:t.find,handler:({state:e,range:s,match:a})=>{const i=lt(t.getAttributes,void 0,a);if(i===!1||i===null)return null;const{tr:o}=e,c=a[a.length-1],u=a[0];if(c){const h=u.search(/\S/),m=s.from+u.indexOf(c),p=m+c.length;if(Zx(s.from,s.to,e.doc).filter(v=>v.mark.type.excluded.find(N=>N===t.type&&N!==v.mark.type)).filter(v=>v.to>m).length)return null;p<s.to&&o.delete(p,s.to),m>s.from&&o.delete(s.from+h,m);const y=s.from+h+c.length;o.addMark(s.from+h,y,t.type.create(i||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function AN(t){return new Th({find:t.find,handler:({state:e,range:s,match:a})=>{const i=lt(t.getAttributes,void 0,a)||{},{tr:o}=e,c=s.from;let u=s.to;const h=t.type.create(i);if(a[1]){const m=a[0].lastIndexOf(a[1]);let p=c+m;p>u?p=u:u=p+a[1].length;const g=a[0][a[0].length-1];o.insertText(g,c+a[0].length-1),o.replaceWith(p,u,h)}else if(a[0]){const m=t.type.isInline?c:c-1;o.insert(m,t.type.create(i)).delete(o.mapping.map(c),o.mapping.map(u))}o.scrollIntoView()},undoable:t.undoable})}function Yp(t){return new Th({find:t.find,handler:({state:e,range:s,match:a})=>{const i=e.doc.resolve(s.from),o=lt(t.getAttributes,void 0,a)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(s.from,s.to).setBlockType(s.from,s.from,t.type,o)},undoable:t.undoable})}function Ir(t){return new Th({find:t.find,handler:({state:e,range:s,match:a,chain:i})=>{const o=lt(t.getAttributes,void 0,a)||{},c=e.tr.delete(s.from,s.to),h=c.doc.resolve(s.from).blockRange(),m=h&&kx(h,t.type,o);if(!m)return null;if(c.wrap(h,m),t.keepMarks&&t.editor){const{selection:g,storedMarks:y}=e,{splittableMarks:v}=t.editor.extensionManager,w=y||g.$to.parentOffset&&g.$from.marks();if(w){const N=w.filter(k=>v.includes(k.type.name));c.ensureMarks(N)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(g,o).run()}const p=c.doc.resolve(s.from-1).nodeBefore;p&&p.type===t.type&&Pl(c.doc,s.from-1)&&(!t.joinPredicate||t.joinPredicate(a,p))&&c.join(s.from-1)},undoable:t.undoable})}var DT=t=>"touches"in t,OT=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const h=u.clientX-this.startX,m=u.clientY-this.startY;this.handleResize(h,m)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const h=u.touches[0];if(!h)return;const m=h.clientX-this.startX,p=h.clientY-this.startY;this.handleResize(m,p)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,h=this.element.offsetHeight;this.onCommit(u,h),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,s,a,i,o,c;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(s=t.options)!=null&&s.max&&(this.maxSize=t.options.max),(a=t==null?void 0:t.options)!=null&&a.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(o=t.options)!=null&&o.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(c=t.options)!=null&&c.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,s){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,s):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const s=e.includes("top"),a=e.includes("bottom"),i=e.includes("left"),o=e.includes("right");s&&(t.style.top="0"),a&&(t.style.bottom="0"),i&&(t.style.left="0"),o&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",s=>this.handleResizeStart(s,t)),e.addEventListener("touchstart",s=>this.handleResizeStart(s,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,DT(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const s=this.preserveAspectRatio||this.isShiftKeyPressed,{width:a,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),o=this.applyConstraints(a,i,s);this.element.style.width=`${o.width}px`,this.element.style.height=`${o.height}px`,this.onResize&&this.onResize(o.width,o.height)}calculateNewDimensions(t,e,s){let a=this.startWidth,i=this.startHeight;const o=t.includes("right"),c=t.includes("left"),u=t.includes("bottom"),h=t.includes("top");return o?a=this.startWidth+e:c&&(a=this.startWidth-e),u?i=this.startHeight+s:h&&(i=this.startHeight-s),(t==="right"||t==="left")&&(a=this.startWidth+(o?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(u?s:-s)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(a,i,t):{width:a,height:i}}applyConstraints(t,e,s){var a,i,o,c;if(!s){let m=Math.max(this.minSize.width,t),p=Math.max(this.minSize.height,e);return(a=this.maxSize)!=null&&a.width&&(m=Math.min(this.maxSize.width,m)),(i=this.maxSize)!=null&&i.height&&(p=Math.min(this.maxSize.height,p)),{width:m,height:p}}let u=t,h=e;return u<this.minSize.width&&(u=this.minSize.width,h=u/this.aspectRatio),h<this.minSize.height&&(h=this.minSize.height,u=h*this.aspectRatio),(o=this.maxSize)!=null&&o.width&&u>this.maxSize.width&&(u=this.maxSize.width,h=u/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&h>this.maxSize.height&&(h=this.maxSize.height,u=h*this.aspectRatio),{width:u,height:h}}applyAspectRatio(t,e,s){const a=s==="left"||s==="right",i=s==="top"||s==="bottom";return a?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function RT(t,e){const{selection:s}=t,{$from:a}=s;if(s instanceof ze){const o=a.index();return a.parent.canReplaceWith(o,o+1,e)}let i=a.depth;for(;i>=0;){const o=a.index(i);if(a.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var LT={};$x(LT,{createAtomBlockMarkdownSpec:()=>_T,createBlockMarkdownSpec:()=>BT,createInlineMarkdownSpec:()=>HT,parseAttributes:()=>Jx,parseIndentedBlocks:()=>Jp,renderNestedMarkdownContent:()=>Qx,serializeAttributes:()=>Xx});function Jx(t){if(!(t!=null&&t.trim()))return{};const e={},s=[],a=t.replace(/["']([^"']*)["']/g,m=>(s.push(m),`__QUOTED_${s.length-1}__`)),i=a.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const m=i.map(p=>p.trim().slice(1));e.class=m.join(" ")}const o=a.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(a.matchAll(c)).forEach(([,m,p])=>{var g;const y=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),v=s[y];v&&(e[m]=v.slice(1,-1))});const h=a.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return h&&h.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function Xx(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(a=>e.push(`.${a}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([s,a])=>{s==="class"||s==="id"||(a===!0?e.push(s):a!==!1&&a!=null&&e.push(`${s}="${String(a)}"`))}),e.join(" ")}function _T(t){const{nodeName:e,name:s,parseAttributes:a=Jx,serializeAttributes:i=Xx,defaultAttributes:o={},requiredAttributes:c=[],allowedAttributes:u}=t,h=s||e,m=p=>{if(!u)return p;const g={};return u.forEach(y=>{y in p&&(g[y]=p[y])}),g};return{parseMarkdown:(p,g)=>{const y={...o,...p.attributes};return g.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(p){var g;const y=new RegExp(`^:::${h}(?:\\s|$)`,"m"),v=(g=p.match(y))==null?void 0:g.index;return v!==void 0?v:-1},tokenize(p,g,y){const v=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=p.match(v);if(!w)return;const N=w[1]||"",k=a(N);if(!c.find(E=>!(E in k)))return{type:e,raw:w[0],attributes:k}}},renderMarkdown:p=>{const g=m(p.attrs||{}),y=i(g),v=y?` {${y}}`:"";return`:::${h}${v} :::`}}}function BT(t){const{nodeName:e,name:s,getContent:a,parseAttributes:i=Jx,serializeAttributes:o=Xx,defaultAttributes:c={},content:u="block",allowedAttributes:h}=t,m=s||e,p=g=>{if(!h)return g;const y={};return h.forEach(v=>{v in g&&(y[v]=g[v])}),y};return{parseMarkdown:(g,y)=>{let v;if(a){const N=a(g);v=typeof N=="string"?[{type:"text",text:N}]:N}else u==="block"?v=y.parseChildren(g.tokens||[]):v=y.parseInline(g.tokens||[]);const w={...c,...g.attributes};return y.createNode(e,w,v)},markdownTokenizer:{name:e,level:"block",start(g){var y;const v=new RegExp(`^:::${m}`,"m"),w=(y=g.match(v))==null?void 0:y.index;return w!==void 0?w:-1},tokenize(g,y,v){var w;const N=new RegExp(`^:::${m}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),k=g.match(N);if(!k)return;const[z,E=""]=k,R=i(E);let H=1;const I=z.length;let W="";const $=/^:::([\w-]*)(\s.*)?/gm,Y=g.slice(I);for($.lastIndex=0;;){const T=$.exec(Y);if(T===null)break;const ee=T.index,J=T[1];if(!((w=T[2])!=null&&w.endsWith(":::"))){if(J)H+=1;else if(H-=1,H===0){const xe=Y.slice(0,ee);W=xe.trim();const be=g.slice(0,I+ee+T[0].length);let ae=[];if(W)if(u==="block")for(ae=v.blockTokens(xe),ae.forEach(P=>{P.text&&(!P.tokens||P.tokens.length===0)&&(P.tokens=v.inlineTokens(P.text))});ae.length>0;){const P=ae[ae.length-1];if(P.type==="paragraph"&&(!P.text||P.text.trim()===""))ae.pop();else break}else ae=v.inlineTokens(W);return{type:e,raw:be,attributes:R,content:W,tokens:ae}}}}}},renderMarkdown:(g,y)=>{const v=p(g.attrs||{}),w=o(v),N=w?` {${w}}`:"",k=y.renderChildren(g.content||[],`

`);return`:::${m}${N}

${k}

:::`}}}function PT(t){if(!t.trim())return{};const e={},s=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let a=s.exec(t);for(;a!==null;){const[,i,o,c]=a;e[i]=o||c,a=s.exec(t)}return e}function UT(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,s])=>`${e}="${s}"`).join(" ")}function HT(t){const{nodeName:e,name:s,getContent:a,parseAttributes:i=PT,serializeAttributes:o=UT,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:h}=t,m=s||e,p=y=>{if(!h)return y;const v={};return h.forEach(w=>{const N=typeof w=="string"?w:w.name,k=typeof w=="string"?void 0:w.skipIfDefault;if(N in y){const z=y[N];if(k!==void 0&&z===k)return;v[N]=z}}),v},g=m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,v)=>{const w={...c,...y.attributes};if(u)return v.createNode(e,w);const N=a?a(y):y.content||"";return N?v.createNode(e,w,[v.createTextNode(N)]):v.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(y){const v=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),w=y.match(v),N=w==null?void 0:w.index;return N!==void 0?N:-1},tokenize(y,v,w){const N=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),k=y.match(N);if(!k)return;let z="",E="";if(u){const[,H]=k;E=H}else{const[,H,I]=k;E=H,z=I||""}const R=i(E.trim());return{type:e,raw:k[0],content:z.trim(),attributes:R}}},renderMarkdown:y=>{let v="";a?v=a(y):y.content&&y.content.length>0&&(v=y.content.filter(z=>z.type==="text").map(z=>z.text).join(""));const w=p(y.attrs||{}),N=o(w),k=N?` ${N}`:"";return u?`[${m}${k}]`:`[${m}${k}]${v}[/${m}]`}}}function Jp(t,e,s){var a,i,o,c;const u=t.split(`
`),h=[];let m="",p=0;const g=e.baseIndentSize||2;for(;p<u.length;){const y=u[p],v=y.match(e.itemPattern);if(!v){if(h.length>0)break;if(y.trim()===""){p+=1,m=`${m}${y}
`;continue}else return}const w=e.extractItemData(v),{indentLevel:N,mainContent:k}=w;m=`${m}${y}
`;const z=[k];for(p+=1;p<u.length;){const I=u[p];if(I.trim()===""){const $=u.slice(p+1).findIndex(ee=>ee.trim()!=="");if($===-1)break;if((((i=(a=u[p+1+$].match(/^(\s*)/))==null?void 0:a[1])==null?void 0:i.length)||0)>N){z.push(I),m=`${m}${I}
`,p+=1;continue}else break}if((((c=(o=I.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:c.length)||0)>N)z.push(I),m=`${m}${I}
`,p+=1;else break}let E;const R=z.slice(1);if(R.length>0){const I=R.map(W=>W.slice(N+g)).join(`
`);I.trim()&&(e.customNestedParser?E=e.customNestedParser(I):E=s.blockTokens(I))}const H=e.createToken(w,E);h.push(H)}if(h.length!==0)return{items:h,raw:m}}function Qx(t,e,s,a){if(!t||!Array.isArray(t.content))return"";const i=typeof s=="function"?s(a):s,[o,...c]=t.content,u=e.renderChildren([o]),h=[`${i}${u}`];return c&&c.length>0&&c.forEach(m=>{const p=e.renderChildren([m]);if(p){const g=p.split(`
`).map(y=>y?e.indent(y):"").join(`
`);h.push(g)}}),h.join(`
`)}function IT(t,e,s={}){const{state:a}=e,{doc:i,tr:o}=a,c=t;i.descendants((u,h)=>{const m=o.mapping.map(h),p=o.mapping.map(h)+u.nodeSize;let g=null;if(u.marks.forEach(v=>{if(v!==c)return!1;g=v}),!g)return;let y=!1;if(Object.keys(s).forEach(v=>{s[v]!==g.attrs[v]&&(y=!0)}),y){const v=t.type.create({...t.attrs,...s});o.removeMark(m,p,t.type),o.addMark(m,p,v)}}),o.docChanged&&e.view.dispatch(o)}var fs=class DN extends Yx{constructor(){super(...arguments),this.type="node"}static create(e={}){const s=typeof e=="function"?e():e;return new DN(s)}configure(e){return super.configure(e)}extend(e){const s=typeof e=="function"?e():e;return super.extend(s)}};function Si(t){return new jT({find:t.find,handler:({state:e,range:s,match:a,pasteEvent:i})=>{const o=lt(t.getAttributes,void 0,a,i);if(o===!1||o===null)return null;const{tr:c}=e,u=a[a.length-1],h=a[0];let m=s.to;if(u){const p=h.search(/\S/),g=s.from+h.indexOf(u),y=g+u.length;if(Zx(s.from,s.to,e.doc).filter(w=>w.mark.type.excluded.find(k=>k===t.type&&k!==w.mark.type)).filter(w=>w.to>g).length)return null;y<s.to&&c.delete(y,s.to),g>s.from&&c.delete(s.from+p,g),m=s.from+p+u.length,c.addMark(s.from+p,m,t.type.create(o||{})),c.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:$T,getOwnPropertySymbols:qT}=Object,{hasOwnProperty:VT}=Object.prototype;function mp(t,e){return function(a,i,o){return t(a,i,o)&&e(a,i,o)}}function Zd(t){return function(s,a,i){if(!s||!a||typeof s!="object"||typeof a!="object")return t(s,a,i);const{cache:o}=i,c=o.get(s),u=o.get(a);if(c&&u)return c===a&&u===s;o.set(s,a),o.set(a,s);const h=t(s,a,i);return o.delete(s),o.delete(a),h}}function WT(t){return t!=null?t[Symbol.toStringTag]:void 0}function vv(t){return $T(t).concat(qT(t))}const KT=Object.hasOwn||((t,e)=>VT.call(t,e));function Ri(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const GT="__v",FT="__o",ZT="_owner",{getOwnPropertyDescriptor:wv,keys:jv}=Object;function YT(t,e){return t.byteLength===e.byteLength&&_u(new Uint8Array(t),new Uint8Array(e))}function JT(t,e,s){let a=t.length;if(e.length!==a)return!1;for(;a-- >0;)if(!s.equals(t[a],e[a],a,a,t,e,s))return!1;return!0}function XT(t,e){return t.byteLength===e.byteLength&&_u(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function QT(t,e){return Ri(t.getTime(),e.getTime())}function eA(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function tA(t,e){return t===e}function Nv(t,e,s){const a=t.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),o=t.entries();let c,u,h=0;for(;(c=o.next())&&!c.done;){const m=e.entries();let p=!1,g=0;for(;(u=m.next())&&!u.done;){if(i[g]){g++;continue}const y=c.value,v=u.value;if(s.equals(y[0],v[0],h,g,t,e,s)&&s.equals(y[1],v[1],y[0],v[0],t,e,s)){p=i[g]=!0;break}g++}if(!p)return!1;h++}return!0}const sA=Ri;function nA(t,e,s){const a=jv(t);let i=a.length;if(jv(e).length!==i)return!1;for(;i-- >0;)if(!ON(t,e,s,a[i]))return!1;return!0}function Io(t,e,s){const a=vv(t);let i=a.length;if(vv(e).length!==i)return!1;let o,c,u;for(;i-- >0;)if(o=a[i],!ON(t,e,s,o)||(c=wv(t,o),u=wv(e,o),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function aA(t,e){return Ri(t.valueOf(),e.valueOf())}function lA(t,e){return t.source===e.source&&t.flags===e.flags}function kv(t,e,s){const a=t.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),o=t.values();let c,u;for(;(c=o.next())&&!c.done;){const h=e.values();let m=!1,p=0;for(;(u=h.next())&&!u.done;){if(!i[p]&&s.equals(c.value,u.value,c.value,u.value,t,e,s)){m=i[p]=!0;break}p++}if(!m)return!1}return!0}function _u(t,e){let s=t.byteLength;if(e.byteLength!==s||t.byteOffset!==e.byteOffset)return!1;for(;s-- >0;)if(t[s]!==e[s])return!1;return!0}function iA(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ON(t,e,s,a){return(a===ZT||a===FT||a===GT)&&(t.$$typeof||e.$$typeof)?!0:KT(e,a)&&s.equals(t[a],e[a],a,a,t,e,s)}const rA="[object ArrayBuffer]",oA="[object Arguments]",cA="[object Boolean]",dA="[object DataView]",uA="[object Date]",hA="[object Error]",fA="[object Map]",mA="[object Number]",pA="[object Object]",xA="[object RegExp]",gA="[object Set]",bA="[object String]",yA={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},vA="[object URL]",wA=Object.prototype.toString;function jA({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:s,areDatesEqual:a,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:h,arePrimitiveWrappersEqual:m,areRegExpsEqual:p,areSetsEqual:g,areTypedArraysEqual:y,areUrlsEqual:v,unknownTagComparators:w}){return function(k,z,E){if(k===z)return!0;if(k==null||z==null)return!1;const R=typeof k;if(R!==typeof z)return!1;if(R!=="object")return R==="number"?u(k,z,E):R==="function"?o(k,z,E):!1;const H=k.constructor;if(H!==z.constructor)return!1;if(H===Object)return h(k,z,E);if(Array.isArray(k))return e(k,z,E);if(H===Date)return a(k,z,E);if(H===RegExp)return p(k,z,E);if(H===Map)return c(k,z,E);if(H===Set)return g(k,z,E);const I=wA.call(k);if(I===uA)return a(k,z,E);if(I===xA)return p(k,z,E);if(I===fA)return c(k,z,E);if(I===gA)return g(k,z,E);if(I===pA)return typeof k.then!="function"&&typeof z.then!="function"&&h(k,z,E);if(I===vA)return v(k,z,E);if(I===hA)return i(k,z,E);if(I===oA)return h(k,z,E);if(yA[I])return y(k,z,E);if(I===rA)return t(k,z,E);if(I===dA)return s(k,z,E);if(I===cA||I===mA||I===bA)return m(k,z,E);if(w){let W=w[I];if(!W){const $=WT(k);$&&(W=w[$])}if(W)return W(k,z,E)}return!1}}function NA({circular:t,createCustomConfig:e,strict:s}){let a={areArrayBuffersEqual:YT,areArraysEqual:s?Io:JT,areDataViewsEqual:XT,areDatesEqual:QT,areErrorsEqual:eA,areFunctionsEqual:tA,areMapsEqual:s?mp(Nv,Io):Nv,areNumbersEqual:sA,areObjectsEqual:s?Io:nA,arePrimitiveWrappersEqual:aA,areRegExpsEqual:lA,areSetsEqual:s?mp(kv,Io):kv,areTypedArraysEqual:s?mp(_u,Io):_u,areUrlsEqual:iA,unknownTagComparators:void 0};if(e&&(a=Object.assign({},a,e(a))),t){const i=Zd(a.areArraysEqual),o=Zd(a.areMapsEqual),c=Zd(a.areObjectsEqual),u=Zd(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return a}function kA(t){return function(e,s,a,i,o,c,u){return t(e,s,u)}}function zA({circular:t,comparator:e,createState:s,equals:a,strict:i}){if(s)return function(u,h){const{cache:m=t?new WeakMap:void 0,meta:p}=s();return e(u,h,{cache:m,equals:a,meta:p,strict:i})};if(t)return function(u,h){return e(u,h,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};const o={cache:void 0,equals:a,meta:void 0,strict:i};return function(u,h){return e(u,h,o)}}const SA=Hl();Hl({strict:!0});Hl({circular:!0});Hl({circular:!0,strict:!0});Hl({createInternalComparator:()=>Ri});Hl({strict:!0,createInternalComparator:()=>Ri});Hl({circular:!0,createInternalComparator:()=>Ri});Hl({circular:!0,createInternalComparator:()=>Ri,strict:!0});function Hl(t={}){const{circular:e=!1,createInternalComparator:s,createState:a,strict:i=!1}=t,o=NA(t),c=jA(o),u=s?s(c):kA(c);return zA({circular:e,comparator:c,createState:a,equals:u,strict:i})}var pp={exports:{}},xp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function CA(){if(zv)return xp;zv=1;var t=gc(),e=Nw();function s(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var a=typeof Object.is=="function"?Object.is:s,i=e.useSyncExternalStore,o=t.useRef,c=t.useEffect,u=t.useMemo,h=t.useDebugValue;return xp.useSyncExternalStoreWithSelector=function(m,p,g,y,v){var w=o(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=u(function(){function z(W){if(!E){if(E=!0,R=W,W=y(W),v!==void 0&&N.hasValue){var $=N.value;if(v($,W))return H=$}return H=W}if($=H,a(R,W))return $;var Y=y(W);return v!==void 0&&v($,Y)?(R=W,$):(R=W,H=Y)}var E=!1,R,H,I=g===void 0?null:g;return[function(){return z(p())},I===null?void 0:function(){return z(I())}]},[p,g,y,v]);var k=i(m,w[0],w[1]);return c(function(){N.hasValue=!0,N.value=k},[k]),h(k),k},xp}var Sv;function MA(){return Sv||(Sv=1,pp.exports=CA()),pp.exports}var EA=MA(),TA=(...t)=>e=>{t.forEach(s=>{typeof s=="function"?s(e):s&&(s.current=e)})},AA=({contentComponent:t})=>{const e=kw.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return n.jsx(n.Fragment,{children:Object.values(e)})};function DA(){const t=new Set;let e={};return{subscribe(s){return t.add(s),()=>{t.delete(s)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(s,a){e={...e,[s]:BC.createPortal(a.reactElement,a.element,s)},t.forEach(i=>i())},removeRenderer(s){const a={...e};delete a[s],e=a,t.forEach(i=>i())}}}var OA=class extends O.Component{constructor(t){var e;super(t),this.editorContentRef=O.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const s=this.editorContentRef.current;s.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:s}),e.contentComponent=DA(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(a=>a.hasContentComponentInitialized?a:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const s=document.createElement("div");s.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:s})}catch{}}}render(){const{editor:t,innerRef:e,...s}=this.props;return n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:TA(e,this.editorContentRef),...s}),(t==null?void 0:t.contentComponent)&&n.jsx(AA,{contentComponent:t.contentComponent})]})}},RA=pe.forwardRef((t,e)=>{const s=O.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return O.createElement(OA,{key:s,innerRef:e,...t})}),LA=O.memo(RA),_A=typeof window<"u"?pe.useLayoutEffect:pe.useEffect,BA=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(a=>a())},s=this.editor;return s.on("transaction",e),()=>{s.off("transaction",e)}}}};function PA(t){var e;const[s]=pe.useState(()=>new BA(t.editor)),a=EA.useSyncExternalStoreWithSelector(s.subscribe,s.getSnapshot,s.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:SA);return _A(()=>s.watch(t.editor),[t.editor,s]),pe.useDebugValue(a),a}var UA=!1,Xp=typeof window>"u",HA=Xp||!!(typeof window<"u"&&window.next),IA=class RN{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(s=>s())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Xp||HA?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...a)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...a)},onBlur:(...a)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...a)},onCreate:(...a)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...a)},onDestroy:(...a)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...a)},onFocus:(...a)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...a)},onSelectionUpdate:(...a)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...a)},onTransaction:(...a)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...a)},onUpdate:(...a)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...a)},onContentError:(...a)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...a)},onDrop:(...a)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...a)},onPaste:(...a)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...a)},onDelete:(...a)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...a)}};return new AT(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,s){return Object.keys(e).every(a=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(a)?!0:a==="extensions"&&e.extensions&&s.extensions?e.extensions.length!==s.extensions.length?!1:e.extensions.every((i,o)=>{var c;return i===((c=s.extensions)==null?void 0:c[o])}):e[a]===s[a])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?RN.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((a,i)=>a===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,s=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){s&&s.setOptions(this.options.current);return}s&&!s.isDestroyed&&(s.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function $A(t={},e=[]){const s=pe.useRef(t);s.current=t;const[a]=pe.useState(()=>new IA(s)),i=kw.useSyncExternalStore(a.subscribe,a.getEditor,a.getServerSnapshot);return pe.useDebugValue(i),pe.useEffect(a.onRender(e)),PA({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var qA=pe.createContext({editor:null});qA.Consumer;var VA=pe.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),WA=()=>pe.useContext(VA);O.forwardRef((t,e)=>{const{onDragStart:s}=WA(),a=t.as||"div";return n.jsx(a,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:s,style:{whiteSpace:"normal",...t.style}})});O.createContext({markViewContentRef:()=>{}});var Bu=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:s,...a}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,a,s]},KA=/^\s*>\s$/,GA=fs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Bu("blockquote",{...zt(this.options.HTMLAttributes,t),children:Bu("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const s=">",a=[];return t.content.forEach(i=>{const u=e.renderChildren([i]).split(`
`).map(h=>h.trim()===""?s:`${s} ${h}`);a.push(u.join(`
`))}),a.join(`
${s}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ir({find:KA,type:this.type})]}}),FA=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,ZA=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,YA=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,JA=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,XA=Oi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Bu("strong",{...zt(this.options.HTMLAttributes,t),children:Bu("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Hr({find:FA,type:this.type}),Hr({find:YA,type:this.type})]},addPasteRules(){return[Si({find:ZA,type:this.type}),Si({find:JA,type:this.type})]}}),QA=/(^|[^`])`([^`]+)`(?!`)$/,e5=/(^|[^`])`([^`]+)`(?!`)/g,t5=Oi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",zt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Hr({find:QA,type:this.type})]},addPasteRules(){return[Si({find:e5,type:this.type})]}}),gp=4,s5=/^```([a-z]+)?[\s\n]$/,n5=/^~~~([a-z]+)?[\s\n]$/,a5=fs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:gp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:s}=this.options;if(!s)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(s)).map(c=>c.replace(s,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",zt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var s;return((s=t.raw)==null?void 0:s.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var s;let a="";const i=((s=t.attrs)==null?void 0:s.language)||"";return t.content?a=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):a=`\`\`\`${i}

\`\`\``,a},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,s=e.pos===1;return!t||e.parent.type.name!==this.name?!1:s||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const s=(e=this.options.tabSize)!=null?e:gp,{state:a}=t,{selection:i}=a,{$from:o,empty:c}=i;if(o.parent.type!==this.type)return!1;const u=" ".repeat(s);return c?t.commands.insertContent(u):t.commands.command(({tr:h})=>{const{from:m,to:p}=i,v=a.doc.textBetween(m,p,`
`,`
`).split(`
`).map(w=>u+w).join(`
`);return h.replaceWith(m,p,a.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const s=(e=this.options.tabSize)!=null?e:gp,{state:a}=t,{selection:i}=a,{$from:o,empty:c}=i;return o.parent.type!==this.type?!1:c?t.commands.command(({tr:u})=>{var h;const{pos:m}=o,p=o.start(),g=o.end(),v=a.doc.textBetween(p,g,`
`,`
`).split(`
`);let w=0,N=0;const k=m-p;for(let W=0;W<v.length;W+=1){if(N+v[W].length>=k){w=W;break}N+=v[W].length+1}const E=((h=v[w].match(/^ */))==null?void 0:h[0])||"",R=Math.min(E.length,s);if(R===0)return!0;let H=p;for(let W=0;W<w;W+=1)H+=v[W].length+1;return u.delete(H,H+R),m-H<=R&&u.setSelection(Ce.create(u.doc,H)),!0}):t.commands.command(({tr:u})=>{const{from:h,to:m}=i,y=a.doc.textBetween(h,m,`
`,`
`).split(`
`).map(v=>{var w;const N=((w=v.match(/^ */))==null?void 0:w[0])||"",k=Math.min(N.length,s);return v.slice(k)}).join(`
`);return u.replaceWith(h,m,a.schema.text(y)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:s}=e,{$from:a,empty:i}=s;if(!i||a.parent.type!==this.type)return!1;const o=a.parentOffset===a.parent.nodeSize-2,c=a.parent.textContent.endsWith(`

`);return!o||!c?!1:t.chain().command(({tr:u})=>(u.delete(a.pos-2,a.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:s,doc:a}=e,{$from:i,empty:o}=s;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:a.nodeAt(u)?t.commands.command(({tr:m})=>(m.setSelection(Ae.near(a.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[Yp({find:s5,type:this.type,getAttributes:t=>({language:t[1]})}),Yp({find:n5,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new St({key:new Ht("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const s=e.clipboardData.getData("text/plain"),a=e.clipboardData.getData("vscode-editor-data"),i=a?JSON.parse(a):void 0,o=i==null?void 0:i.mode;if(!s||!o)return!1;const{tr:c,schema:u}=t.state,h=u.text(s.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:o},h)),c.selection.$from.parent.type!==this.type&&c.setSelection(Ce.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),l5=fs.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),i5=fs.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",zt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:s,editor:a})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=s;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=a.extensionManager,h=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:m,dispatch:p})=>{if(p&&h&&c){const g=h.filter(y=>u.includes(y.type.name));m.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),r5=fs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,zt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var s;const a=(s=t.attrs)!=null&&s.level?parseInt(t.attrs.level,10):1,i="#".repeat(a);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Yp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),o5=fs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",zt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!RT(e,e.schema.nodes[this.name]))return!1;const{selection:s}=e,{$to:a}=s,i=t();return mN(s)?i.insertContentAt(a.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:c,dispatch:u})=>{if(u){const{$to:h}=c.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?c.setSelection(Ce.create(c.doc,h.pos+1)):h.nodeAfter.isBlock?c.setSelection(ze.create(c.doc,h.pos)):c.setSelection(Ce.create(c.doc,h.pos));else{const p=o.schema.nodes[this.options.nextNodeType]||h.parent.type.contentMatch.defaultType,g=p==null?void 0:p.create();g&&(c.insert(m,g),c.setSelection(Ce.create(c.doc,m+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[AN({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),c5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,d5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,u5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,h5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,f5=Oi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Hr({find:c5,type:this.type}),Hr({find:u5,type:this.type})]},addPasteRules(){return[Si({find:d5,type:this.type}),Si({find:h5,type:this.type})]}});const m5="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",p5="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Qp="numeric",ex="ascii",tx="alpha",Jo="asciinumeric",Ko="alphanumeric",sx="domain",LN="emoji",x5="scheme",g5="slashscheme",bp="whitespace";function b5(t,e){return t in e||(e[t]=[]),e[t]}function pi(t,e,s){e[Qp]&&(e[Jo]=!0,e[Ko]=!0),e[ex]&&(e[Jo]=!0,e[tx]=!0),e[Jo]&&(e[Ko]=!0),e[tx]&&(e[Ko]=!0),e[Ko]&&(e[sx]=!0),e[LN]&&(e[sx]=!0);for(const a in e){const i=b5(a,s);i.indexOf(t)<0&&i.push(t)}}function y5(t,e){const s={};for(const a in e)e[a].indexOf(t)>=0&&(s[a]=!0);return s}function Ks(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ks.groups={};Ks.prototype={accepts(){return!!this.t},go(t){const e=this,s=e.j[t];if(s)return s;for(let a=0;a<e.jr.length;a++){const i=e.jr[a][0],o=e.jr[a][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,s,a){for(let i=0;i<t.length;i++)this.tt(t[i],e,s,a)},tr(t,e,s,a){a=a||Ks.groups;let i;return e&&e.j?i=e:(i=new Ks(e),s&&a&&pi(e,s,a)),this.jr.push([t,i]),i},ts(t,e,s,a){let i=this;const o=t.length;if(!o)return i;for(let c=0;c<o-1;c++)i=i.tt(t[c]);return i.tt(t[o-1],e,s,a)},tt(t,e,s,a){a=a||Ks.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let c,u=i.go(t);if(u?(c=new Ks,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Ks,o){if(a)if(c.t&&typeof c.t=="string"){const h=Object.assign(y5(c.t,a),s);pi(o,h,a)}else s&&pi(o,s,a);c.t=o}return i.j[t]=c,c}};const Pe=(t,e,s,a,i)=>t.ta(e,s,a,i),Bt=(t,e,s,a,i)=>t.tr(e,s,a,i),Cv=(t,e,s,a,i)=>t.ts(e,s,a,i),re=(t,e,s,a,i)=>t.tt(e,s,a,i),Oa="WORD",nx="UWORD",_N="ASCIINUMERICAL",BN="ALPHANUMERICAL",fc="LOCALHOST",ax="TLD",lx="UTLD",gu="SCHEME",zr="SLASH_SCHEME",e0="NUM",ix="WS",t0="NL",Xo="OPENBRACE",Qo="CLOSEBRACE",Pu="OPENBRACKET",Uu="CLOSEBRACKET",Hu="OPENPAREN",Iu="CLOSEPAREN",$u="OPENANGLEBRACKET",qu="CLOSEANGLEBRACKET",Vu="FULLWIDTHLEFTPAREN",Wu="FULLWIDTHRIGHTPAREN",Ku="LEFTCORNERBRACKET",Gu="RIGHTCORNERBRACKET",Fu="LEFTWHITECORNERBRACKET",Zu="RIGHTWHITECORNERBRACKET",Yu="FULLWIDTHLESSTHAN",Ju="FULLWIDTHGREATERTHAN",Xu="AMPERSAND",Qu="APOSTROPHE",eh="ASTERISK",Nl="AT",th="BACKSLASH",sh="BACKTICK",nh="CARET",Sl="COLON",s0="COMMA",ah="DOLLAR",Jn="DOT",lh="EQUALS",n0="EXCLAMATION",Nn="HYPHEN",ec="PERCENT",ih="PIPE",rh="PLUS",oh="POUND",tc="QUERY",a0="QUOTE",PN="FULLWIDTHMIDDLEDOT",l0="SEMI",Xn="SLASH",sc="TILDE",ch="UNDERSCORE",UN="EMOJI",dh="SYM";var HN=Object.freeze({__proto__:null,ALPHANUMERICAL:BN,AMPERSAND:Xu,APOSTROPHE:Qu,ASCIINUMERICAL:_N,ASTERISK:eh,AT:Nl,BACKSLASH:th,BACKTICK:sh,CARET:nh,CLOSEANGLEBRACKET:qu,CLOSEBRACE:Qo,CLOSEBRACKET:Uu,CLOSEPAREN:Iu,COLON:Sl,COMMA:s0,DOLLAR:ah,DOT:Jn,EMOJI:UN,EQUALS:lh,EXCLAMATION:n0,FULLWIDTHGREATERTHAN:Ju,FULLWIDTHLEFTPAREN:Vu,FULLWIDTHLESSTHAN:Yu,FULLWIDTHMIDDLEDOT:PN,FULLWIDTHRIGHTPAREN:Wu,HYPHEN:Nn,LEFTCORNERBRACKET:Ku,LEFTWHITECORNERBRACKET:Fu,LOCALHOST:fc,NL:t0,NUM:e0,OPENANGLEBRACKET:$u,OPENBRACE:Xo,OPENBRACKET:Pu,OPENPAREN:Hu,PERCENT:ec,PIPE:ih,PLUS:rh,POUND:oh,QUERY:tc,QUOTE:a0,RIGHTCORNERBRACKET:Gu,RIGHTWHITECORNERBRACKET:Zu,SCHEME:gu,SEMI:l0,SLASH:Xn,SLASH_SCHEME:zr,SYM:dh,TILDE:sc,TLD:ax,UNDERSCORE:ch,UTLD:lx,UWORD:nx,WORD:Oa,WS:ix});const Aa=/[a-z]/,$o=new RegExp("\\p{L}","u"),yp=new RegExp("\\p{Emoji}","u"),Da=/\d/,vp=/\s/,Mv="\r",wp=`
`,v5="",w5="",jp="";let Yd=null,Jd=null;function j5(t=[]){const e={};Ks.groups=e;const s=new Ks;Yd==null&&(Yd=Ev(m5)),Jd==null&&(Jd=Ev(p5)),re(s,"'",Qu),re(s,"{",Xo),re(s,"}",Qo),re(s,"[",Pu),re(s,"]",Uu),re(s,"(",Hu),re(s,")",Iu),re(s,"<",$u),re(s,">",qu),re(s,"",Vu),re(s,"",Wu),re(s,"",Ku),re(s,"",Gu),re(s,"",Fu),re(s,"",Zu),re(s,"",Yu),re(s,"",Ju),re(s,"&",Xu),re(s,"*",eh),re(s,"@",Nl),re(s,"`",sh),re(s,"^",nh),re(s,":",Sl),re(s,",",s0),re(s,"$",ah),re(s,".",Jn),re(s,"=",lh),re(s,"!",n0),re(s,"-",Nn),re(s,"%",ec),re(s,"|",ih),re(s,"+",rh),re(s,"#",oh),re(s,"?",tc),re(s,'"',a0),re(s,"/",Xn),re(s,";",l0),re(s,"~",sc),re(s,"_",ch),re(s,"\\",th),re(s,"",PN);const a=Bt(s,Da,e0,{[Qp]:!0});Bt(a,Da,a);const i=Bt(a,Aa,_N,{[Jo]:!0}),o=Bt(a,$o,BN,{[Ko]:!0}),c=Bt(s,Aa,Oa,{[ex]:!0});Bt(c,Da,i),Bt(c,Aa,c),Bt(i,Da,i),Bt(i,Aa,i);const u=Bt(s,$o,nx,{[tx]:!0});Bt(u,Aa),Bt(u,Da,o),Bt(u,$o,u),Bt(o,Da,o),Bt(o,Aa),Bt(o,$o,o);const h=re(s,wp,t0,{[bp]:!0}),m=re(s,Mv,ix,{[bp]:!0}),p=Bt(s,vp,ix,{[bp]:!0});re(s,jp,p),re(m,wp,h),re(m,jp,p),Bt(m,vp,p),re(p,Mv),re(p,wp),Bt(p,vp,p),re(p,jp,p);const g=Bt(s,yp,UN,{[LN]:!0});re(g,"#"),Bt(g,yp,g),re(g,v5,g);const y=re(g,w5);re(y,"#"),Bt(y,yp,g);const v=[[Aa,c],[Da,i]],w=[[Aa,null],[$o,u],[Da,o]];for(let N=0;N<Yd.length;N++)vl(s,Yd[N],ax,Oa,v);for(let N=0;N<Jd.length;N++)vl(s,Jd[N],lx,nx,w);pi(ax,{tld:!0,ascii:!0},e),pi(lx,{utld:!0,alpha:!0},e),vl(s,"file",gu,Oa,v),vl(s,"mailto",gu,Oa,v),vl(s,"http",zr,Oa,v),vl(s,"https",zr,Oa,v),vl(s,"ftp",zr,Oa,v),vl(s,"ftps",zr,Oa,v),pi(gu,{scheme:!0,ascii:!0},e),pi(zr,{slashscheme:!0,ascii:!0},e),t=t.sort((N,k)=>N[0]>k[0]?1:-1);for(let N=0;N<t.length;N++){const k=t[N][0],E=t[N][1]?{[x5]:!0}:{[g5]:!0};k.indexOf("-")>=0?E[sx]=!0:Aa.test(k)?Da.test(k)?E[Jo]=!0:E[ex]=!0:E[Qp]=!0,Cv(s,k,k,E)}return Cv(s,"localhost",fc,{ascii:!0}),s.jd=new Ks(dh),{start:s,tokens:Object.assign({groups:e},HN)}}function IN(t,e){const s=N5(e.replace(/[A-Z]/g,u=>u.toLowerCase())),a=s.length,i=[];let o=0,c=0;for(;c<a;){let u=t,h=null,m=0,p=null,g=-1,y=-1;for(;c<a&&(h=u.go(s[c]));)u=h,u.accepts()?(g=0,y=0,p=u):g>=0&&(g+=s[c].length,y++),m+=s[c].length,o+=s[c].length,c++;o-=g,c-=y,m-=g,i.push({t:p.t,v:e.slice(o-m,o),s:o-m,e:o})}return i}function N5(t){const e=[],s=t.length;let a=0;for(;a<s;){let i=t.charCodeAt(a),o,c=i<55296||i>56319||a+1===s||(o=t.charCodeAt(a+1))<56320||o>57343?t[a]:t.slice(a,a+2);e.push(c),a+=c.length}return e}function vl(t,e,s,a,i){let o;const c=e.length;for(let u=0;u<c-1;u++){const h=e[u];t.j[h]?o=t.j[h]:(o=new Ks(a),o.jr=i.slice(),t.j[h]=o),t=o}return o=new Ks(s),o.jr=i.slice(),t.j[e[c-1]]=o,o}function Ev(t){const e=[],s=[];let a=0,i="0123456789";for(;a<t.length;){let o=0;for(;i.indexOf(t[a+o])>=0;)o++;if(o>0){e.push(s.join(""));for(let c=parseInt(t.substring(a,a+o),10);c>0;c--)s.pop();a+=o}else s.push(t[a]),a++}return e}const mc={defaultProtocol:"http",events:null,format:Tv,formatHref:Tv,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function i0(t,e=null){let s=Object.assign({},mc);t&&(s=Object.assign(s,t instanceof i0?t.o:t));const a=s.ignoreTags,i=[];for(let o=0;o<a.length;o++)i.push(a[o].toUpperCase());this.o=s,e&&(this.defaultRender=e),this.ignoreTags=i}i0.prototype={o:mc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,s){const a=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=s.t in i?i[s.t]:mc[t],typeof i=="function"&&a&&(i=i(e,s))):typeof i=="function"&&a&&(i=i(e,s.t,s)),i)},getObj(t,e,s){let a=this.o[t];return typeof a=="function"&&e!=null&&(a=a(e,s.t,s)),a},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Tv(t){return t}function $N(t,e){this.t="token",this.v=t,this.tk=e}$N.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),s=t.get("truncate",e,this),a=t.get("format",e,this);return s&&a.length>s?a.substring(0,s)+"":a},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=mc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,s=this.toHref(t.get("defaultProtocol")),a=t.get("formatHref",s,this),i=t.get("tagName",s,e),o=this.toFormattedString(t),c={},u=t.get("className",s,e),h=t.get("target",s,e),m=t.get("rel",s,e),p=t.getObj("attributes",s,e),g=t.getObj("events",s,e);return c.href=a,u&&(c.class=u),h&&(c.target=h),m&&(c.rel=m),p&&Object.assign(c,p),{tagName:i,attributes:c,content:o,eventListeners:g}}};function Dh(t,e){class s extends $N{constructor(i,o){super(i,o),this.t=t}}for(const a in e)s.prototype[a]=e[a];return s.t=t,s}const Av=Dh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Dv=Dh("text"),k5=Dh("nl"),Xd=Dh("url",{isLink:!0,toHref(t=mc.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==fc&&t[1].t===Sl}}),jn=t=>new Ks(t);function z5({groups:t}){const e=t.domain.concat([Xu,eh,Nl,th,sh,nh,ah,lh,Nn,e0,ec,ih,rh,oh,Xn,dh,sc,ch]),s=[Qu,Sl,s0,Jn,n0,ec,tc,a0,l0,$u,qu,Xo,Qo,Uu,Pu,Hu,Iu,Vu,Wu,Ku,Gu,Fu,Zu,Yu,Ju],a=[Xu,Qu,eh,th,sh,nh,ah,lh,Nn,Xo,Qo,ec,ih,rh,oh,tc,Xn,dh,sc,ch],i=jn(),o=re(i,sc);Pe(o,a,o),Pe(o,t.domain,o);const c=jn(),u=jn(),h=jn();Pe(i,t.domain,c),Pe(i,t.scheme,u),Pe(i,t.slashscheme,h),Pe(c,a,o),Pe(c,t.domain,c);const m=re(c,Nl);re(o,Nl,m),re(u,Nl,m),re(h,Nl,m);const p=re(o,Jn);Pe(p,a,o),Pe(p,t.domain,o);const g=jn();Pe(m,t.domain,g),Pe(g,t.domain,g);const y=re(g,Jn);Pe(y,t.domain,g);const v=jn(Av);Pe(y,t.tld,v),Pe(y,t.utld,v),re(m,fc,v);const w=re(g,Nn);re(w,Nn,w),Pe(w,t.domain,g),Pe(v,t.domain,g),re(v,Jn,y),re(v,Nn,w);const N=re(v,Sl);Pe(N,t.numeric,Av);const k=re(c,Nn),z=re(c,Jn);re(k,Nn,k),Pe(k,t.domain,c),Pe(z,a,o),Pe(z,t.domain,c);const E=jn(Xd);Pe(z,t.tld,E),Pe(z,t.utld,E),Pe(E,t.domain,c),Pe(E,a,o),re(E,Jn,z),re(E,Nn,k),re(E,Nl,m);const R=re(E,Sl),H=jn(Xd);Pe(R,t.numeric,H);const I=jn(Xd),W=jn();Pe(I,e,I),Pe(I,s,W),Pe(W,e,I),Pe(W,s,W),re(E,Xn,I),re(H,Xn,I);const $=re(u,Sl),Y=re(h,Sl),T=re(Y,Xn),ee=re(T,Xn);Pe(u,t.domain,c),re(u,Jn,z),re(u,Nn,k),Pe(h,t.domain,c),re(h,Jn,z),re(h,Nn,k),Pe($,t.domain,I),re($,Xn,I),re($,tc,I),Pe(ee,t.domain,I),Pe(ee,e,I),re(ee,Xn,I);const J=[[Xo,Qo],[Pu,Uu],[Hu,Iu],[$u,qu],[Vu,Wu],[Ku,Gu],[Fu,Zu],[Yu,Ju]];for(let xe=0;xe<J.length;xe++){const[be,ae]=J[xe],P=re(I,be);re(W,be,P),re(P,ae,I);const M=jn(Xd);Pe(P,e,M);const D=jn();Pe(P,s),Pe(M,e,M),Pe(M,s,D),Pe(D,e,M),Pe(D,s,D),re(M,ae,I),re(D,ae,I)}return re(i,fc,E),re(i,t0,k5),{start:i,tokens:HN}}function S5(t,e,s){let a=s.length,i=0,o=[],c=[];for(;i<a;){let u=t,h=null,m=null,p=0,g=null,y=-1;for(;i<a&&!(h=u.go(s[i].t));)c.push(s[i++]);for(;i<a&&(m=h||u.go(s[i].t));)h=null,u=m,u.accepts()?(y=0,g=u):y>=0&&y++,i++,p++;if(y<0)i-=p,i<a&&(c.push(s[i]),i++);else{c.length>0&&(o.push(Np(Dv,e,c)),c=[]),i-=y,p-=y;const v=g.t,w=s.slice(i-p,i);o.push(Np(v,e,w))}}return c.length>0&&o.push(Np(Dv,e,c)),o}function Np(t,e,s){const a=s[0].s,i=s[s.length-1].e,o=e.slice(a,i);return new t(o,s)}const C5=typeof console<"u"&&console&&console.warn||(()=>{}),M5="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Nt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function E5(){return Ks.groups={},Nt.scanner=null,Nt.parser=null,Nt.tokenQueue=[],Nt.pluginQueue=[],Nt.customSchemes=[],Nt.initialized=!1,Nt}function Ov(t,e=!1){if(Nt.initialized&&C5(`linkifyjs: already initialized - will not register custom scheme "${t}" ${M5}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Nt.customSchemes.push([t,e])}function T5(){Nt.scanner=j5(Nt.customSchemes);for(let t=0;t<Nt.tokenQueue.length;t++)Nt.tokenQueue[t][1]({scanner:Nt.scanner});Nt.parser=z5(Nt.scanner.tokens);for(let t=0;t<Nt.pluginQueue.length;t++)Nt.pluginQueue[t][1]({scanner:Nt.scanner,parser:Nt.parser});return Nt.initialized=!0,Nt}function r0(t){return Nt.initialized||T5(),S5(Nt.parser.start,t,IN(Nt.scanner.start,t))}r0.scan=IN;function qN(t,e=null,s=null){if(e&&typeof e=="object"){if(s)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);s=e,e=null}const a=new i0(s),i=r0(t),o=[];for(let c=0;c<i.length;c++){const u=i[c];u.isLink&&(!e||u.t===e)&&a.check(u)&&o.push(u.toFormattedObject(a))}return o}var o0="[\0- -\u2029]",A5=new RegExp(o0),D5=new RegExp(`${o0}$`),O5=new RegExp(o0,"g");function R5(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function L5(t){return new St({key:new Ht("autolink"),appendTransaction:(e,s,a)=>{const i=e.some(m=>m.docChanged)&&!s.doc.eq(a.doc),o=e.some(m=>m.getMeta("preventAutolink"));if(!i||o)return;const{tr:c}=a,u=lN(s.doc,[...e]);if(fN(u).forEach(({newRange:m})=>{const p=RE(a.doc,m,v=>v.isTextblock);let g,y;if(p.length>1)g=p[0],y=a.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const v=a.doc.textBetween(m.from,m.to," "," ");if(!D5.test(v))return;g=p[0],y=a.doc.textBetween(g.pos,m.to,void 0," ")}if(g&&y){const v=y.split(A5).filter(Boolean);if(v.length<=0)return!1;const w=v[v.length-1],N=g.pos+y.lastIndexOf(w);if(!w)return!1;const k=r0(w).map(z=>z.toObject(t.defaultProtocol));if(!R5(k))return!1;k.filter(z=>z.isLink).map(z=>({...z,from:N+z.start+1,to:N+z.end+1})).filter(z=>a.schema.marks.code?!a.doc.rangeHasMark(z.from,z.to,a.schema.marks.code):!0).filter(z=>t.validate(z.value)).filter(z=>t.shouldAutoLink(z.value)).forEach(z=>{Zx(z.from,z.to,a.doc).some(E=>E.mark.type===t.type)||c.addMark(z.from,z.to,t.type.create({href:z.href}))})}}),!!c.steps.length)return c}})}function _5(t){return new St({key:new Ht("handleClickLink"),props:{handleClick:(e,s,a)=>{var i,o;if(a.button!==0||!e.editable)return!1;let c=!1;if(t.enableClickSelection&&(c=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let u=null;if(a.target instanceof HTMLAnchorElement)u=a.target;else{let g=a.target;const y=[];for(;g.nodeName!=="DIV";)y.push(g),g=g.parentNode;u=y.find(v=>v.nodeName==="A")}if(!u)return c;const h=hN(e.state,t.type.name),m=(i=u==null?void 0:u.href)!=null?i:h.href,p=(o=u==null?void 0:u.target)!=null?o:h.target;u&&m&&(window.open(m,p),c=!0)}return c}}})}function B5(t){return new St({key:new Ht("handlePasteLink"),props:{handlePaste:(e,s,a)=>{const{shouldAutoLink:i}=t,{state:o}=e,{selection:c}=o,{empty:u}=c;if(u)return!1;let h="";a.content.forEach(p=>{h+=p.textContent});const m=qN(h,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===h);return!h||!m||i!==void 0&&!i(m.href)?!1:t.editor.commands.setMark(t.type,{href:m.href})}}})}function oi(t,e){const s=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(a=>{const i=typeof a=="string"?a:a.scheme;i&&s.push(i)}),!t||t.replace(O5,"").match(new RegExp(`^(?:(?:${s.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var VN=Oi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Ov(t);return}Ov(t.scheme,t.optionalSlashes)})},onDestroy(){E5()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!oi(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:s=>!!oi(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!oi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",zt(this.options.HTMLAttributes,t),0]:["a",zt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var s;const a=((s=t.attrs)==null?void 0:s.href)||"";return`[${e.renderChildren(t)}](${a})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:s}=t;return this.options.isAllowedUri(s,{defaultValidate:a=>!!oi(a,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:s}=t||{};return s&&!this.options.isAllowedUri(s,{defaultValidate:a=>!!oi(a,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Si({find:t=>{const e=[];if(t){const{protocols:s,defaultProtocol:a}=this.options,i=qN(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:c=>!!oi(c,s),protocols:s,defaultProtocol:a}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:s}=this.options;return this.options.autolink&&t.push(L5({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:a=>this.options.isAllowedUri(a,{defaultValidate:i=>!!oi(i,e),protocols:e,defaultProtocol:s}),shouldAutoLink:this.options.shouldAutoLink})),t.push(_5({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(B5({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),P5=VN,U5=Object.defineProperty,H5=(t,e)=>{for(var s in e)U5(t,s,{get:e[s],enumerable:!0})},I5="listItem",Rv="textStyle",Lv=/^\s*([-+*])\s$/,WN=fs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",zt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(I5,this.editor.getAttributes(Rv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ir({find:Lv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ir({find:Lv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Rv),editor:this.editor})),[t]}}),KN=fs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",zt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let s=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))s=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(s=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),u=e.parseChildren(c);s.push(...u)}}else s=e.parseChildren(t.tokens)}return s.length===0&&(s=[{type:"paragraph",content:[]}]),{type:"listItem",content:s}},renderMarkdown:(t,e,s)=>Qx(t,e,a=>a.parentType==="bulletList"?"- ":a.parentType==="orderedList"?`${a.index+1}. `:"- ",s),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),$5={};H5($5,{findListItemPos:()=>jc,getNextListDepth:()=>c0,handleBackspace:()=>rx,handleDelete:()=>ox,hasListBefore:()=>GN,hasListItemAfter:()=>q5,hasListItemBefore:()=>FN,listItemHasSubList:()=>ZN,nextListIsDeeper:()=>YN,nextListIsHigher:()=>JN});var jc=(t,e)=>{const{$from:s}=e.selection,a=Qt(t,e.schema);let i=null,o=s.depth,c=s.pos,u=null;for(;o>0&&u===null;)i=s.node(o),i.type===a?u=o:(o-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},c0=(t,e)=>{const s=jc(t,e);if(!s)return!1;const[,a]=qE(e,t,s.$pos.pos+4);return a},GN=(t,e,s)=>{const{$anchor:a}=t.selection,i=Math.max(0,a.pos-2),o=t.doc.resolve(i).node();return!(!o||!s.includes(o.type.name))},FN=(t,e)=>{var s;const{$anchor:a}=e.selection,i=e.doc.resolve(a.pos-2);return!(i.index()===0||((s=i.nodeBefore)==null?void 0:s.type.name)!==t)},ZN=(t,e,s)=>{if(!s)return!1;const a=Qt(t,e.schema);let i=!1;return s.descendants(o=>{o.type===a&&(i=!0)}),i},rx=(t,e,s)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!_l(t.state,e)&&GN(t.state,e,s)){const{$anchor:u}=t.state.selection,h=t.state.doc.resolve(u.before()-1),m=[];h.node().descendants((y,v)=>{y.type.name===e&&m.push({node:y,pos:v})});const p=m.at(-1);if(!p)return!1;const g=t.state.doc.resolve(h.start()+p.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!_l(t.state,e)||!GE(t.state))return!1;const a=jc(e,t.state);if(!a)return!1;const o=t.state.doc.resolve(a.$pos.pos-2).node(a.depth),c=ZN(e,t.state,o);return FN(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},YN=(t,e)=>{const s=c0(t,e),a=jc(t,e);return!a||!s?!1:s>a.depth},JN=(t,e)=>{const s=c0(t,e),a=jc(t,e);return!a||!s?!1:s<a.depth},ox=(t,e)=>{if(!_l(t.state,e)||!KE(t.state,e))return!1;const{selection:s}=t.state,{$from:a,$to:i}=s;return!s.empty&&a.sameParent(i)?!1:YN(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():JN(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},q5=(t,e)=>{var s;const{$anchor:a}=e.selection,i=e.doc.resolve(a.pos-a.parentOffset-2);return!(i.index()===i.parent.childCount-1||((s=i.nodeAfter)==null?void 0:s.type.name)!==t)},XN=It.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:s})=>{t.state.schema.nodes[s]!==void 0&&ox(t,s)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:s})=>{t.state.schema.nodes[s]!==void 0&&ox(t,s)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:s,wrapperNames:a})=>{t.state.schema.nodes[s]!==void 0&&rx(t,s,a)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:s,wrapperNames:a})=>{t.state.schema.nodes[s]!==void 0&&rx(t,s,a)&&(e=!0)}),e}}}}),_v=/^(\s*)(\d+)\.\s+(.*)$/,V5=/^\s/;function W5(t){const e=[];let s=0,a=0;for(;s<t.length;){const i=t[s],o=i.match(_v);if(!o)break;const[,c,u,h]=o,m=c.length;let p=h,g=s+1;const y=[i];for(;g<t.length;){const v=t[g];if(v.match(_v))break;if(v.trim()==="")y.push(v),p+=`
`,g+=1;else if(v.match(V5))y.push(v),p+=`
${v.slice(m+2)}`,g+=1;else break}e.push({indent:m,number:parseInt(u,10),content:p.trim(),raw:y.join(`
`)}),a=g,s=g}return[e,a]}function QN(t,e,s){var a;const i=[];let o=0;for(;o<t.length;){const c=t[o];if(c.indent===e){const u=c.content.split(`
`),h=((a=u[0])==null?void 0:a.trim())||"",m=[];h&&m.push({type:"paragraph",raw:h,tokens:s.inlineTokens(h)});const p=u.slice(1).join(`
`).trim();if(p){const v=s.blockTokens(p);m.push(...v)}let g=o+1;const y=[];for(;g<t.length&&t[g].indent>e;)y.push(t[g]),g+=1;if(y.length>0){const v=Math.min(...y.map(N=>N.indent)),w=QN(y,v,s);m.push({type:"list",ordered:!0,start:y[0].number,items:w,raw:y.map(N=>N.raw).join(`
`)})}i.push({type:"list_item",raw:c.raw,tokens:m}),o=g}else o+=1}return i}function K5(t,e){return t.map(s=>{if(s.type!=="list_item")return e.parseChildren([s])[0];const a=[];return s.tokens&&s.tokens.length>0&&s.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")a.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);a.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&a.push(...o)}}),{type:"listItem",content:a}})}var G5="listItem",Bv="textStyle",Pv=/^(\d+)\.\s$/,ek=fs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...s}=t;return e===1?["ol",zt(this.options.HTMLAttributes,s),0]:["ol",zt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const s=t.start||1,a=t.items?K5(t.items,e):[];return s!==1?{type:"orderedList",attrs:{start:s},content:a}:{type:"orderedList",content:a}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),s=e==null?void 0:e.index;return s!==void 0?s:-1},tokenize:(t,e,s)=>{var a;const i=t.split(`
`),[o,c]=W5(i);if(o.length===0)return;const u=QN(o,0,s);return u.length===0?void 0:{type:"list",ordered:!0,start:((a=o[0])==null?void 0:a.number)||1,items:u,raw:i.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(G5,this.editor.getAttributes(Bv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ir({find:Pv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,s)=>s.childCount+s.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ir({find:Pv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Bv)}),joinPredicate:(e,s)=>s.childCount+s.attrs.start===+e[1],editor:this.editor})),[t]}}),F5=/^\s*(\[([( |x])?\])\s$/,Z5=fs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",zt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const s=[];if(t.tokens&&t.tokens.length>0?s.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?s.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):s.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const a=e.parseChildren(t.nestedTokens);s.push(...a)}return e.createNode("taskItem",{checked:t.checked||!1},s)},renderMarkdown:(t,e)=>{var s;const i=`- [${(s=t.attrs)!=null&&s.checked?"x":" "}] `;return Qx(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:s,editor:a})=>{const i=document.createElement("li"),o=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),h=document.createElement("div"),m=p=>{var g,y;u.ariaLabel=((y=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:y.call(g,p,u.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return m(t),o.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",p=>p.preventDefault()),u.addEventListener("change",p=>{if(!a.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:g}=p.target;a.isEditable&&typeof s=="function"&&a.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const v=s();if(typeof v!="number")return!1;const w=y.doc.nodeAt(v);return y.setNodeMarkup(v,void 0,{...w==null?void 0:w.attrs,checked:g}),!0}).run(),!a.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,g])=>{i.setAttribute(p,g)}),i.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,o.append(u,c),i.append(o,h),Object.entries(e).forEach(([p,g])=>{i.setAttribute(p,g)}),{dom:i,contentDOM:h,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked,u.checked=p.attrs.checked,m(p),!0)}}},addInputRules(){return[Ir({find:F5,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Y5=fs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",zt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const s=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return s!==void 0?s:-1},tokenize(t,e,s){const a=o=>{const c=Jp(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,h)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:s.inlineTokens(u.mainContent),nestedTokens:h}),customNestedParser:a},s);return c?[{type:"taskList",raw:c.raw,items:c.items}]:s.blockTokens(o)},i=Jp(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,c)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:s.inlineTokens(o.mainContent),nestedTokens:c}),customNestedParser:a},s);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});It.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(WN.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(KN.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(XN.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(ek.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Z5.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Y5.configure(this.options.taskList)),t}});var J5=fs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",zt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const s=t.tokens||[];return s.length===1&&s[0].type==="image"?e.parseChildren([s[0]]):e.createNode("paragraph",void 0,e.parseInline(s))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),X5=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Q5=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,e6=Oi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",zt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Hr({find:X5,type:this.type})]},addPasteRules(){return[Si({find:Q5,type:this.type})]}}),t6=fs.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),s6=Oi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",zt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,s){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:s.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function n6(t={}){return new St({view(e){return new a6(e,t)}})}class a6{constructor(e,s){var a;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(a=s.width)!==null&&a!==void 0?a:1,this.color=s.color===!1?void 0:s.color||"black",this.class=s.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=c=>{this[i](c)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:s})=>this.editorView.dom.removeEventListener(e,s))}update(e,s){this.cursorPos!=null&&s.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),s=!e.parent.inlineContent,a,i=this.editorView.dom,o=i.getBoundingClientRect(),c=o.width/i.offsetWidth,u=o.height/i.offsetHeight;if(s){let g=e.nodeBefore,y=e.nodeAfter;if(g||y){let v=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(v){let w=v.getBoundingClientRect(),N=g?w.bottom:w.top;g&&y&&(N=(N+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let k=this.width/2*u;a={left:w.left,right:w.right,top:N-k,bottom:N+k}}}}if(!a){let g=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*c;a={left:g.left-y,right:g.left+y,top:g.top,bottom:g.bottom}}let h=this.editorView.dom.offsetParent;this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",s),this.element.classList.toggle("prosemirror-dropcursor-inline",!s);let m,p;if(!h||h==document.body&&getComputedStyle(h).position=="static")m=-pageXOffset,p=-pageYOffset;else{let g=h.getBoundingClientRect(),y=g.width/h.offsetWidth,v=g.height/h.offsetHeight;m=g.left-h.scrollLeft*y,p=g.top-h.scrollTop*v}this.element.style.left=(a.left-m)/c+"px",this.element.style.top=(a.top-p)/u+"px",this.element.style.width=(a.right-a.left)/c+"px",this.element.style.height=(a.bottom-a.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let s=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),a=s&&s.inside>=0&&this.editorView.state.doc.nodeAt(s.inside),i=a&&a.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,s,e):i;if(s&&!o){let c=s.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Jw(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Pt extends Ae{constructor(e){super(e,e)}map(e,s){let a=e.resolve(s.map(this.head));return Pt.valid(a)?new Pt(a):Ae.near(a)}content(){return fe.empty}eq(e){return e instanceof Pt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Pt(e.resolve(s.pos))}getBookmark(){return new d0(this.anchor)}static valid(e){let s=e.parent;if(s.isTextblock||!l6(e)||!i6(e))return!1;let a=s.type.spec.allowGapCursor;if(a!=null)return a;let i=s.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,s,a=!1){e:for(;;){if(!a&&Pt.valid(e))return e;let i=e.pos,o=null;for(let c=e.depth;;c--){let u=e.node(c);if(s>0?e.indexAfter(c)<u.childCount:e.index(c)>0){o=u.child(s>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;i+=s;let h=e.doc.resolve(i);if(Pt.valid(h))return h}for(;;){let c=s>0?o.firstChild:o.lastChild;if(!c){if(o.isAtom&&!o.isText&&!ze.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*s),a=!1;continue e}break}o=c,i+=s;let u=e.doc.resolve(i);if(Pt.valid(u))return u}return null}}}Pt.prototype.visible=!1;Pt.findFrom=Pt.findGapCursorFrom;Ae.jsonID("gapcursor",Pt);class d0{constructor(e){this.pos=e}map(e){return new d0(e.map(this.pos))}resolve(e){let s=e.resolve(this.pos);return Pt.valid(s)?new Pt(s):Ae.near(s)}}function tk(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function l6(t){for(let e=t.depth;e>=0;e--){let s=t.index(e),a=t.node(e);if(s==0){if(a.type.spec.isolating)return!0;continue}for(let i=a.child(s-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||tk(i.type))return!0;if(i.inlineContent)return!1}}return!0}function i6(t){for(let e=t.depth;e>=0;e--){let s=t.indexAfter(e),a=t.node(e);if(s==a.childCount){if(a.type.spec.isolating)return!0;continue}for(let i=a.child(s);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||tk(i.type))return!0;if(i.inlineContent)return!1}}return!0}function r6(){return new St({props:{decorations:u6,createSelectionBetween(t,e,s){return e.pos==s.pos&&Pt.valid(s)?new Pt(s):null},handleClick:c6,handleKeyDown:o6,handleDOMEvents:{beforeinput:d6}}})}const o6=Ix({ArrowLeft:Qd("horiz",-1),ArrowRight:Qd("horiz",1),ArrowUp:Qd("vert",-1),ArrowDown:Qd("vert",1)});function Qd(t,e){const s=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(a,i,o){let c=a.selection,u=e>0?c.$to:c.$from,h=c.empty;if(c instanceof Ce){if(!o.endOfTextblock(s)||u.depth==0)return!1;h=!1,u=a.doc.resolve(e>0?u.after():u.before())}let m=Pt.findGapCursorFrom(u,e,h);return m?(i&&i(a.tr.setSelection(new Pt(m))),!0):!1}}function c6(t,e,s){if(!t||!t.editable)return!1;let a=t.state.doc.resolve(e);if(!Pt.valid(a))return!1;let i=t.posAtCoords({left:s.clientX,top:s.clientY});return i&&i.inside>-1&&ze.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Pt(a))),!0)}function d6(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Pt))return!1;let{$from:s}=t.state.selection,a=s.parent.contentMatchAt(s.index()).findWrapping(t.state.schema.nodes.text);if(!a)return!1;let i=ne.empty;for(let c=a.length-1;c>=0;c--)i=ne.from(a[c].createAndFill(null,i));let o=t.state.tr.replace(s.pos,s.pos,new fe(i,0,0));return o.setSelection(Ce.near(o.doc.resolve(s.pos+1))),t.dispatch(o),!1}function u6(t){if(!(t.selection instanceof Pt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",gt.create(t.doc,[ds.widget(t.selection.head,e,{key:"gapcursor"})])}var uh=200,hs=function(){};hs.prototype.append=function(e){return e.length?(e=hs.from(e),!this.length&&e||e.length<uh&&this.leafAppend(e)||this.length<uh&&e.leafPrepend(this)||this.appendInner(e)):this};hs.prototype.prepend=function(e){return e.length?hs.from(e).append(this):this};hs.prototype.appendInner=function(e){return new h6(this,e)};hs.prototype.slice=function(e,s){return e===void 0&&(e=0),s===void 0&&(s=this.length),e>=s?hs.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,s))};hs.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};hs.prototype.forEach=function(e,s,a){s===void 0&&(s=0),a===void 0&&(a=this.length),s<=a?this.forEachInner(e,s,a,0):this.forEachInvertedInner(e,s,a,0)};hs.prototype.map=function(e,s,a){s===void 0&&(s=0),a===void 0&&(a=this.length);var i=[];return this.forEach(function(o,c){return i.push(e(o,c))},s,a),i};hs.from=function(e){return e instanceof hs?e:e&&e.length?new sk(e):hs.empty};var sk=(function(t){function e(a){t.call(this),this.values=a}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var s={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,c,u){for(var h=o;h<c;h++)if(i(this.values[h],u+h)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,c,u){for(var h=o-1;h>=c;h--)if(i(this.values[h],u+h)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=uh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=uh)return new e(i.flatten().concat(this.values))},s.length.get=function(){return this.values.length},s.depth.get=function(){return 0},Object.defineProperties(e.prototype,s),e})(hs);hs.empty=new sk([]);var h6=(function(t){function e(s,a){t.call(this),this.left=s,this.right=a,this.length=s.length+a.length,this.depth=Math.max(s.depth,a.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(a){return a<this.left.length?this.left.get(a):this.right.get(a-this.left.length)},e.prototype.forEachInner=function(a,i,o,c){var u=this.left.length;if(i<u&&this.left.forEachInner(a,i,Math.min(o,u),c)===!1||o>u&&this.right.forEachInner(a,Math.max(i-u,0),Math.min(this.length,o)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(a,i,o,c){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(a,i-u,Math.max(o,u)-u,c+u)===!1||o<u&&this.left.forEachInvertedInner(a,Math.min(i,u),o,c)===!1)return!1},e.prototype.sliceInner=function(a,i){if(a==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(a,i):a>=o?this.right.slice(a-o,i-o):this.left.slice(a,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(a){var i=this.right.leafAppend(a);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(a){var i=this.left.leafPrepend(a);if(i)return new e(i,this.right)},e.prototype.appendInner=function(a){return this.left.depth>=Math.max(this.right.depth,a.depth)+1?new e(this.left,new e(this.right,a)):new e(this,a)},e})(hs);const f6=500;class Un{constructor(e,s){this.items=e,this.eventCount=s}popEvent(e,s){if(this.eventCount==0)return null;let a=this.items.length;for(;;a--)if(this.items.get(a-1).selection){--a;break}let i,o;s&&(i=this.remapping(a,this.items.length),o=i.maps.length);let c=e.tr,u,h,m=[],p=[];return this.items.forEach((g,y)=>{if(!g.step){i||(i=this.remapping(a,y+1),o=i.maps.length),o--,p.push(g);return}if(i){p.push(new Qn(g.map));let v=g.step.map(i.slice(o)),w;v&&c.maybeStep(v).doc&&(w=c.mapping.maps[c.mapping.maps.length-1],m.push(new Qn(w,void 0,void 0,m.length+p.length))),o--,w&&i.appendMap(w,o)}else c.maybeStep(g.step);if(g.selection)return u=i?g.selection.map(i.slice(o)):g.selection,h=new Un(this.items.slice(0,a).append(p.reverse().concat(m)),this.eventCount-1),!1},this.items.length,0),{remaining:h,transform:c,selection:u}}addTransform(e,s,a,i){let o=[],c=this.eventCount,u=this.items,h=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),y=new Qn(e.mapping.maps[p],g,s),v;(v=h&&h.merge(y))&&(y=v,p?o.pop():u=u.slice(0,u.length-1)),o.push(y),s&&(c++,s=void 0),i||(h=y)}let m=c-a.depth;return m>p6&&(u=m6(u,m),c-=m),new Un(u.append(o),c)}remapping(e,s){let a=new rc;return this.items.forEach((i,o)=>{let c=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?a.maps.length-i.mirrorOffset:void 0;a.appendMap(i.map,c)},e,s),a}addMaps(e){return this.eventCount==0?this:new Un(this.items.append(e.map(s=>new Qn(s))),this.eventCount)}rebased(e,s){if(!this.eventCount)return this;let a=[],i=Math.max(0,this.items.length-s),o=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},i);let h=s;this.items.forEach(y=>{let v=o.getMirror(--h);if(v==null)return;c=Math.min(c,v);let w=o.maps[v];if(y.step){let N=e.steps[v].invert(e.docs[v]),k=y.selection&&y.selection.map(o.slice(h+1,v));k&&u++,a.push(new Qn(w,N,k))}else a.push(new Qn(w))},i);let m=[];for(let y=s;y<c;y++)m.push(new Qn(o.maps[y]));let p=this.items.slice(0,i).append(m).append(a),g=new Un(p,u);return g.emptyItemCount()>f6&&(g=g.compress(this.items.length-a.length)),g}emptyItemCount(){let e=0;return this.items.forEach(s=>{s.step||e++}),e}compress(e=this.items.length){let s=this.remapping(0,e),a=s.maps.length,i=[],o=0;return this.items.forEach((c,u)=>{if(u>=e)i.push(c),c.selection&&o++;else if(c.step){let h=c.step.map(s.slice(a)),m=h&&h.getMap();if(a--,m&&s.appendMap(m,a),h){let p=c.selection&&c.selection.map(s.slice(a));p&&o++;let g=new Qn(m.invert(),h,p),y,v=i.length-1;(y=i.length&&i[v].merge(g))?i[v]=y:i.push(g)}}else c.map&&a--},this.items.length,0),new Un(hs.from(i.reverse()),o)}}Un.empty=new Un(hs.empty,0);function m6(t,e){let s;return t.forEach((a,i)=>{if(a.selection&&e--==0)return s=i,!1}),t.slice(s)}class Qn{constructor(e,s,a,i){this.map=e,this.step=s,this.selection=a,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let s=e.step.merge(this.step);if(s)return new Qn(s.getMap().invert(),s,this.selection)}}}class kl{constructor(e,s,a,i,o){this.done=e,this.undone=s,this.prevRanges=a,this.prevTime=i,this.prevComposition=o}}const p6=20;function x6(t,e,s,a){let i=s.getMeta(vi),o;if(i)return i.historyState;s.getMeta(y6)&&(t=new kl(t.done,t.undone,null,0,-1));let c=s.getMeta("appendedTransaction");if(s.steps.length==0)return t;if(c&&c.getMeta(vi))return c.getMeta(vi).redo?new kl(t.done.addTransform(s,void 0,a,bu(e)),t.undone,Uv(s.mapping.maps),t.prevTime,t.prevComposition):new kl(t.done,t.undone.addTransform(s,void 0,a,bu(e)),null,t.prevTime,t.prevComposition);if(s.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=s.getMeta("composition"),h=t.prevTime==0||!c&&t.prevComposition!=u&&(t.prevTime<(s.time||0)-a.newGroupDelay||!g6(s,t.prevRanges)),m=c?kp(t.prevRanges,s.mapping):Uv(s.mapping.maps);return new kl(t.done.addTransform(s,h?e.selection.getBookmark():void 0,a,bu(e)),Un.empty,m,s.time,u??t.prevComposition)}else return(o=s.getMeta("rebased"))?new kl(t.done.rebased(s,o),t.undone.rebased(s,o),kp(t.prevRanges,s.mapping),t.prevTime,t.prevComposition):new kl(t.done.addMaps(s.mapping.maps),t.undone.addMaps(s.mapping.maps),kp(t.prevRanges,s.mapping),t.prevTime,t.prevComposition)}function g6(t,e){if(!e)return!1;if(!t.docChanged)return!0;let s=!1;return t.mapping.maps[0].forEach((a,i)=>{for(let o=0;o<e.length;o+=2)a<=e[o+1]&&i>=e[o]&&(s=!0)}),s}function Uv(t){let e=[];for(let s=t.length-1;s>=0&&e.length==0;s--)t[s].forEach((a,i,o,c)=>e.push(o,c));return e}function kp(t,e){if(!t)return null;let s=[];for(let a=0;a<t.length;a+=2){let i=e.map(t[a],1),o=e.map(t[a+1],-1);i<=o&&s.push(i,o)}return s}function b6(t,e,s){let a=bu(e),i=vi.get(e).spec.config,o=(s?t.undone:t.done).popEvent(e,a);if(!o)return null;let c=o.selection.resolve(o.transform.doc),u=(s?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,a),h=new kl(s?u:o.remaining,s?o.remaining:u,null,0,-1);return o.transform.setSelection(c).setMeta(vi,{redo:s,historyState:h})}let zp=!1,Hv=null;function bu(t){let e=t.plugins;if(Hv!=e){zp=!1,Hv=e;for(let s=0;s<e.length;s++)if(e[s].spec.historyPreserveItems){zp=!0;break}}return zp}const vi=new Ht("history"),y6=new Ht("closeHistory");function v6(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new St({key:vi,state:{init(){return new kl(Un.empty,Un.empty,null,0,-1)},apply(e,s,a){return x6(s,a,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,s){let a=s.inputType,i=a=="historyUndo"?ak:a=="historyRedo"?lk:null;return!i||!e.editable?!1:(s.preventDefault(),i(e.state,e.dispatch))}}}})}function nk(t,e){return(s,a)=>{let i=vi.getState(s);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(a){let o=b6(i,s,t);o&&a(e?o.scrollIntoView():o)}return!0}}const ak=nk(!1,!0),lk=nk(!0,!0);It.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const a=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(a)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,s=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(s)}},addProseMirrorPlugins(){let t=!1;return[new St({key:new Ht("characterCount"),appendTransaction:(e,s,a)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:a.doc});if(o>i){const c=o-i,u=0,h=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const m=a.tr.deleteRange(u,h);return t=!0,m}t=!0},filterTransaction:(e,s)=>{const a=this.options.limit;if(!e.docChanged||a===0||a===null||a===void 0)return!0;const i=this.storage.characters({node:s.doc}),o=this.storage.characters({node:e.doc});if(o<=a||i>a&&o>a&&o<=i)return!0;if(i>a&&o>a&&o>i||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,h=o-a,m=u-h,p=u;return e.deleteRange(m,p),!(this.storage.characters({node:e.doc})>a)}})]}});var w6=It.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[n6(this.options)]}});It.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new St({key:new Ht("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:s,isFocused:a}=this.editor,{anchor:i}=e,o=[];if(!s||!a)return gt.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((h,m)=>{if(h.isText)return;if(!(i>=m&&i<=m+h.nodeSize-1))return!1;c+=1});let u=0;return t.descendants((h,m)=>{if(h.isText||!(i>=m&&i<=m+h.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";o.push(ds.node(m,m+h.nodeSize,{class:this.options.className}))}),gt.create(t,o)}}})]}});var j6=It.create({name:"gapCursor",addProseMirrorPlugins(){return[r6()]},extendNodeSchema(t){var e;const s={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=lt(Ne(t,"allowGapCursor",s)))!=null?e:null}}});It.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new St({key:new Ht("placeholder"),props:{decorations:({doc:t,selection:e})=>{const s=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:a}=e,i=[];if(!s)return null;const o=this.editor.isEmpty;return t.descendants((c,u)=>{const h=a>=u&&a<=u+c.nodeSize,m=!c.isLeaf&&Eh(c);if((h||!this.options.showOnlyCurrent)&&m){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const g=ds.node(u,u+c.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:h}):this.options.placeholder});i.push(g)}return this.options.includeChildren}),gt.create(t,i)}}})]}});It.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new St({key:new Ht("selection"),props:{decorations(s){return s.selection.empty||t.isFocused||!t.isEditable||mN(s.selection)||t.view.dragging?null:gt.create(s.doc,[ds.inline(s.selection.from,s.selection.to,{class:e.className})])}}})]}});function Iv({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var N6=It.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Ht(this.name),s=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",a=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(s).includes(i.name));return[new St({key:e,appendTransaction:(i,o,c)=>{const{doc:u,tr:h,schema:m}=c,p=e.getState(c),g=u.content.size,y=m.nodes[s];if(p)return h.insert(g,y.create())},state:{init:(i,o)=>{const c=o.tr.doc.lastChild;return!Iv({node:c,types:a})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const c=i.doc.lastChild;return!Iv({node:c,types:a})}}})]}}),k6=It.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>ak(t,e),redo:()=>({state:t,dispatch:e})=>lk(t,e)}},addProseMirrorPlugins(){return[v6(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),z6=It.create({name:"starterKit",addExtensions(){var t,e,s,a;const i=[];return this.options.bold!==!1&&i.push(XA.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(GA.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(WN.configure(this.options.bulletList)),this.options.code!==!1&&i.push(t5.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(a5.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(l5.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(w6.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(j6.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(i5.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(r5.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(k6.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(o5.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(f5.configure(this.options.italic)),this.options.listItem!==!1&&i.push(KN.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(XN.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(VN.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(ek.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(J5.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(e6.configure(this.options.strike)),this.options.text!==!1&&i.push(t6.configure(this.options.text)),this.options.underline!==!1&&i.push(s6.configure((s=this.options)==null?void 0:s.underline)),this.options.trailingNode!==!1&&i.push(N6.configure((a=this.options)==null?void 0:a.trailingNode)),i}}),S6=z6,C6=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,M6=fs.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",zt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,s,a,i,o,c;const u=(s=(e=t.attrs)==null?void 0:e.src)!=null?s:"",h=(i=(a=t.attrs)==null?void 0:a.alt)!=null?i:"",m=(c=(o=t.attrs)==null?void 0:o.title)!=null?c:"";return m?`![${h}](${u} "${m}")`:`![${h}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:s,alwaysPreserveAspectRatio:a}=this.options.resize;return({node:i,getPos:o,HTMLAttributes:c,editor:u})=>{const h=document.createElement("img");Object.entries(c).forEach(([g,y])=>{if(y!=null)switch(g){case"width":case"height":break;default:h.setAttribute(g,y);break}}),h.src=c.src;const m=new OT({element:h,editor:u,node:i,getPos:o,onResize:(g,y)=>{h.style.width=`${g}px`,h.style.height=`${y}px`},onCommit:(g,y)=>{const v=o();v!==void 0&&this.editor.chain().setNodeSelection(v).updateAttributes(this.name,{width:g,height:y}).run()},onUpdate:(g,y,v)=>g.type===i.type,options:{directions:t,min:{width:e,height:s},preserveAspectRatio:a===!0}}),p=m.dom;return p.style.visibility="hidden",p.style.pointerEvents="none",h.onload=()=>{p.style.visibility="",p.style.pointerEvents=""},m}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[AN({find:C6,type:this.type,getAttributes:t=>{const[,,e,s,a]=t;return{src:s,alt:e,title:a}}})]}}),E6=M6;let cx,dx;if(typeof WeakMap<"u"){let t=new WeakMap;cx=e=>t.get(e),dx=(e,s)=>(t.set(e,s),s)}else{const t=[];let s=0;cx=a=>{for(let i=0;i<t.length;i+=2)if(t[i]==a)return t[i+1]},dx=(a,i)=>(s==10&&(s=0),t[s++]=a,t[s++]=i)}var Ut=class{constructor(t,e,s,a){this.width=t,this.height=e,this.map=s,this.problems=a}findCell(t){for(let e=0;e<this.map.length;e++){const s=this.map[e];if(s!=t)continue;const a=e%this.width,i=e/this.width|0;let o=a+1,c=i+1;for(let u=1;o<this.width&&this.map[e+u]==s;u++)o++;for(let u=1;c<this.height&&this.map[e+this.width*u]==s;u++)c++;return{left:a,top:i,right:o,bottom:c}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,s){const{left:a,right:i,top:o,bottom:c}=this.findCell(t);return e=="horiz"?(s<0?a==0:i==this.width)?null:this.map[o*this.width+(s<0?a-1:i)]:(s<0?o==0:c==this.height)?null:this.map[a+this.width*(s<0?o-1:c)]}rectBetween(t,e){const{left:s,right:a,top:i,bottom:o}=this.findCell(t),{left:c,right:u,top:h,bottom:m}=this.findCell(e);return{left:Math.min(s,c),top:Math.min(i,h),right:Math.max(a,u),bottom:Math.max(o,m)}}cellsInRect(t){const e=[],s={};for(let a=t.top;a<t.bottom;a++)for(let i=t.left;i<t.right;i++){const o=a*this.width+i,c=this.map[o];s[c]||(s[c]=!0,!(i==t.left&&i&&this.map[o-1]==c||a==t.top&&a&&this.map[o-this.width]==c)&&e.push(c))}return e}positionAt(t,e,s){for(let a=0,i=0;;a++){const o=i+s.child(a).nodeSize;if(a==t){let c=e+t*this.width;const u=(t+1)*this.width;for(;c<u&&this.map[c]<i;)c++;return c==u?o-1:this.map[c]}i=o}}static get(t){return cx(t)||dx(t,T6(t))}};function T6(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=A6(t),s=t.childCount,a=[];let i=0,o=null;const c=[];for(let m=0,p=e*s;m<p;m++)a[m]=0;for(let m=0,p=0;m<s;m++){const g=t.child(m);p++;for(let w=0;;w++){for(;i<a.length&&a[i]!=0;)i++;if(w==g.childCount)break;const N=g.child(w),{colspan:k,rowspan:z,colwidth:E}=N.attrs;for(let R=0;R<z;R++){if(R+m>=s){(o||(o=[])).push({type:"overlong_rowspan",pos:p,n:z-R});break}const H=i+R*e;for(let I=0;I<k;I++){a[H+I]==0?a[H+I]=p:(o||(o=[])).push({type:"collision",row:m,pos:p,n:k-I});const W=E&&E[I];if(W){const $=(H+I)%e*2,Y=c[$];Y==null||Y!=W&&c[$+1]==1?(c[$]=W,c[$+1]=1):Y==W&&c[$+1]++}}}i+=k,p+=N.nodeSize}const y=(m+1)*e;let v=0;for(;i<y;)a[i++]==0&&v++;v&&(o||(o=[])).push({type:"missing",row:m,n:v}),p++}(e===0||s===0)&&(o||(o=[])).push({type:"zero_sized"});const u=new Ut(e,s,a,o);let h=!1;for(let m=0;!h&&m<c.length;m+=2)c[m]!=null&&c[m+1]<s&&(h=!0);return h&&D6(u,c,t),u}function A6(t){let e=-1,s=!1;for(let a=0;a<t.childCount;a++){const i=t.child(a);let o=0;if(s)for(let c=0;c<a;c++){const u=t.child(c);for(let h=0;h<u.childCount;h++){const m=u.child(h);c+m.attrs.rowspan>a&&(o+=m.attrs.colspan)}}for(let c=0;c<i.childCount;c++){const u=i.child(c);o+=u.attrs.colspan,u.attrs.rowspan>1&&(s=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function D6(t,e,s){t.problems||(t.problems=[]);const a={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(a[o])continue;a[o]=!0;const c=s.nodeAt(o);if(!c)throw new RangeError(`No cell with offset ${o} found`);let u=null;const h=c.attrs;for(let m=0;m<h.colspan;m++){const p=e[(i+m)%t.width*2];p!=null&&(!h.colwidth||h.colwidth[m]!=p)&&((u||(u=O6(h)))[m]=p)}u&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:u})}}function O6(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let s=0;s<t.colspan;s++)e.push(0);return e}function Es(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const s in t.nodes){const a=t.nodes[s],i=a.spec.tableRole;i&&(e[i]=a)}}return e}const Cl=new Ht("selectingCells");function Ci(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function R6(t){for(let e=t.depth;e>0;e--){const s=t.node(e).type.spec.tableRole;if(s==="cell"||s==="header_cell")return t.node(e)}return null}function Vn(t){const e=t.selection.$head;for(let s=e.depth;s>0;s--)if(e.node(s).type.spec.tableRole=="row")return!0;return!1}function Oh(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const s=Ci(e.$head)||L6(e.$head);if(s)return s;throw new RangeError(`No cell found around position ${e.head}`)}function L6(t){for(let e=t.nodeAfter,s=t.pos;e;e=e.firstChild,s++){const a=e.type.spec.tableRole;if(a=="cell"||a=="header_cell")return t.doc.resolve(s)}for(let e=t.nodeBefore,s=t.pos;e;e=e.lastChild,s--){const a=e.type.spec.tableRole;if(a=="cell"||a=="header_cell")return t.doc.resolve(s-e.nodeSize)}}function ux(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function _6(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function u0(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function ik(t,e,s){const a=t.node(-1),i=Ut.get(a),o=t.start(-1),c=i.nextCell(t.pos-o,e,s);return c==null?null:t.node(0).resolve(o+c)}function Mi(t,e,s=1){const a={...t,colspan:t.colspan-s};return a.colwidth&&(a.colwidth=a.colwidth.slice(),a.colwidth.splice(e,s),a.colwidth.some(i=>i>0)||(a.colwidth=null)),a}function rk(t,e,s=1){const a={...t,colspan:t.colspan+s};if(a.colwidth){a.colwidth=a.colwidth.slice();for(let i=0;i<s;i++)a.colwidth.splice(e,0,0)}return a}function B6(t,e,s){const a=Es(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[s+i*t.width]).type!=a)return!1;return!0}var bt=class Ra extends Ae{constructor(e,s=e){const a=e.node(-1),i=Ut.get(a),o=e.start(-1),c=i.rectBetween(e.pos-o,s.pos-o),u=e.node(0),h=i.cellsInRect(c).filter(p=>p!=s.pos-o);h.unshift(s.pos-o);const m=h.map(p=>{const g=a.nodeAt(p);if(!g)throw new RangeError(`No cell with offset ${p} found`);const y=o+p+1;return new sj(u.resolve(y),u.resolve(y+g.content.size))});super(m[0].$from,m[0].$to,m),this.$anchorCell=e,this.$headCell=s}map(e,s){const a=e.resolve(s.map(this.$anchorCell.pos)),i=e.resolve(s.map(this.$headCell.pos));if(ux(a)&&ux(i)&&u0(a,i)){const o=this.$anchorCell.node(-1)!=a.node(-1);return o&&this.isRowSelection()?Ra.rowSelection(a,i):o&&this.isColSelection()?Ra.colSelection(a,i):new Ra(a,i)}return Ce.between(a,i)}content(){const e=this.$anchorCell.node(-1),s=Ut.get(e),a=this.$anchorCell.start(-1),i=s.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a),o={},c=[];for(let h=i.top;h<i.bottom;h++){const m=[];for(let p=h*s.width+i.left,g=i.left;g<i.right;g++,p++){const y=s.map[p];if(o[y])continue;o[y]=!0;const v=s.findCell(y);let w=e.nodeAt(y);if(!w)throw new RangeError(`No cell with offset ${y} found`);const N=i.left-v.left,k=v.right-i.right;if(N>0||k>0){let z=w.attrs;if(N>0&&(z=Mi(z,0,N)),k>0&&(z=Mi(z,z.colspan-k,k)),v.left<i.left){if(w=w.type.createAndFill(z),!w)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(z)}`)}else w=w.type.create(z,w.content)}if(v.top<i.top||v.bottom>i.bottom){const z={...w.attrs,rowspan:Math.min(v.bottom,i.bottom)-Math.max(v.top,i.top)};v.top<i.top?w=w.type.createAndFill(z):w=w.type.create(z,w.content)}m.push(w)}c.push(e.child(h).copy(ne.from(m)))}const u=this.isColSelection()&&this.isRowSelection()?e:c;return new fe(ne.from(u),1,1)}replace(e,s=fe.empty){const a=e.steps.length,i=this.ranges;for(let c=0;c<i.length;c++){const{$from:u,$to:h}=i[c],m=e.mapping.slice(a);e.replace(m.map(u.pos),m.map(h.pos),c?fe.empty:s)}const o=Ae.findFrom(e.doc.resolve(e.mapping.slice(a).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,s){this.replace(e,new fe(ne.from(s),0,0))}forEachCell(e){const s=this.$anchorCell.node(-1),a=Ut.get(s),i=this.$anchorCell.start(-1),o=a.cellsInRect(a.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let c=0;c<o.length;c++)e(s.nodeAt(o[c]),i+o[c])}isColSelection(){const e=this.$anchorCell.index(-1),s=this.$headCell.index(-1);if(Math.min(e,s)>0)return!1;const a=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=s+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(a,i)==this.$headCell.node(-1).childCount}static colSelection(e,s=e){const a=e.node(-1),i=Ut.get(a),o=e.start(-1),c=i.findCell(e.pos-o),u=i.findCell(s.pos-o),h=e.node(0);return c.top<=u.top?(c.top>0&&(e=h.resolve(o+i.map[c.left])),u.bottom<i.height&&(s=h.resolve(o+i.map[i.width*(i.height-1)+u.right-1]))):(u.top>0&&(s=h.resolve(o+i.map[u.left])),c.bottom<i.height&&(e=h.resolve(o+i.map[i.width*(i.height-1)+c.right-1]))),new Ra(e,s)}isRowSelection(){const e=this.$anchorCell.node(-1),s=Ut.get(e),a=this.$anchorCell.start(-1),i=s.colCount(this.$anchorCell.pos-a),o=s.colCount(this.$headCell.pos-a);if(Math.min(i,o)>0)return!1;const c=i+this.$anchorCell.nodeAfter.attrs.colspan,u=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(c,u)==s.width}eq(e){return e instanceof Ra&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,s=e){const a=e.node(-1),i=Ut.get(a),o=e.start(-1),c=i.findCell(e.pos-o),u=i.findCell(s.pos-o),h=e.node(0);return c.left<=u.left?(c.left>0&&(e=h.resolve(o+i.map[c.top*i.width])),u.right<i.width&&(s=h.resolve(o+i.map[i.width*(u.top+1)-1]))):(u.left>0&&(s=h.resolve(o+i.map[u.top*i.width])),c.right<i.width&&(e=h.resolve(o+i.map[i.width*(c.top+1)-1]))),new Ra(e,s)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,s){return new Ra(e.resolve(s.anchor),e.resolve(s.head))}static create(e,s,a=s){return new Ra(e.resolve(s),e.resolve(a))}getBookmark(){return new P6(this.$anchorCell.pos,this.$headCell.pos)}};bt.prototype.visible=!1;Ae.jsonID("cell",bt);var P6=class ok{constructor(e,s){this.anchor=e,this.head=s}map(e){return new ok(e.map(this.anchor),e.map(this.head))}resolve(e){const s=e.resolve(this.anchor),a=e.resolve(this.head);return s.parent.type.spec.tableRole=="row"&&a.parent.type.spec.tableRole=="row"&&s.index()<s.parent.childCount&&a.index()<a.parent.childCount&&u0(s,a)?new bt(s,a):Ae.near(a,1)}};function U6(t){if(!(t.selection instanceof bt))return null;const e=[];return t.selection.forEachCell((s,a)=>{e.push(ds.node(a,a+s.nodeSize,{class:"selectedCell"}))}),gt.create(t.doc,e)}function H6({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let s=t.pos,a=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,s++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,a--);return s==a&&/row|table/.test(t.node(i).type.spec.tableRole)}function I6({$from:t,$to:e}){let s,a;for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){s=o;break}}for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){a=o;break}}return s!==a&&e.parentOffset===0}function $6(t,e,s){const a=(e||t).selection,i=(e||t).doc;let o,c;if(a instanceof ze&&(c=a.node.type.spec.tableRole)){if(c=="cell"||c=="header_cell")o=bt.create(i,a.from);else if(c=="row"){const u=i.resolve(a.from+1);o=bt.rowSelection(u,u)}else if(!s){const u=Ut.get(a.node),h=a.from+1,m=h+u.map[u.width*u.height-1];o=bt.create(i,h+1,m)}}else a instanceof Ce&&H6(a)?o=Ce.create(i,a.from):a instanceof Ce&&I6(a)&&(o=Ce.create(i,a.$from.start(),a.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}const q6=new Ht("fix-tables");function ck(t,e,s,a){const i=t.childCount,o=e.childCount;e:for(let c=0,u=0;c<o;c++){const h=e.child(c);for(let m=u,p=Math.min(i,c+3);m<p;m++)if(t.child(m)==h){u=m+1,s+=h.nodeSize;continue e}a(h,s),u<i&&t.child(u).sameMarkup(h)?ck(t.child(u),h,s+1,a):h.nodesBetween(0,h.content.size,a,s+1),s+=h.nodeSize}}function dk(t,e){let s;const a=(i,o)=>{i.type.spec.tableRole=="table"&&(s=V6(t,i,o,s))};return e?e.doc!=t.doc&&ck(e.doc,t.doc,0,a):t.doc.descendants(a),s}function V6(t,e,s,a){const i=Ut.get(e);if(!i.problems)return a;a||(a=t.tr);const o=[];for(let h=0;h<i.height;h++)o.push(0);for(let h=0;h<i.problems.length;h++){const m=i.problems[h];if(m.type=="collision"){const p=e.nodeAt(m.pos);if(!p)continue;const g=p.attrs;for(let y=0;y<g.rowspan;y++)o[m.row+y]+=m.n;a.setNodeMarkup(a.mapping.map(s+1+m.pos),null,Mi(g,g.colspan-m.n,m.n))}else if(m.type=="missing")o[m.row]+=m.n;else if(m.type=="overlong_rowspan"){const p=e.nodeAt(m.pos);if(!p)continue;a.setNodeMarkup(a.mapping.map(s+1+m.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-m.n})}else if(m.type=="colwidth mismatch"){const p=e.nodeAt(m.pos);if(!p)continue;a.setNodeMarkup(a.mapping.map(s+1+m.pos),null,{...p.attrs,colwidth:m.colwidth})}else if(m.type=="zero_sized"){const p=a.mapping.map(s);a.delete(p,p+e.nodeSize)}}let c,u;for(let h=0;h<o.length;h++)o[h]&&(c==null&&(c=h),u=h);for(let h=0,m=s+1;h<i.height;h++){const p=e.child(h),g=m+p.nodeSize,y=o[h];if(y>0){let v="cell";p.firstChild&&(v=p.firstChild.type.spec.tableRole);const w=[];for(let k=0;k<y;k++){const z=Es(t.schema)[v].createAndFill();z&&w.push(z)}const N=(h==0||c==h-1)&&u==h?m+1:g-1;a.insert(a.mapping.map(N),w)}m=g}return a.setMeta(q6,{fixTables:!0})}function la(t){const e=t.selection,s=Oh(t),a=s.node(-1),i=s.start(-1),o=Ut.get(a);return{...e instanceof bt?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(s.pos-i),tableStart:i,map:o,table:a}}function uk(t,{map:e,tableStart:s,table:a},i){let o=i>0?-1:0;B6(e,a,i+o)&&(o=i==0||i==e.width?null:0);for(let c=0;c<e.height;c++){const u=c*e.width+i;if(i>0&&i<e.width&&e.map[u-1]==e.map[u]){const h=e.map[u],m=a.nodeAt(h);t.setNodeMarkup(t.mapping.map(s+h),null,rk(m.attrs,i-e.colCount(h))),c+=m.attrs.rowspan-1}else{const h=o==null?Es(a.type.schema).cell:a.nodeAt(e.map[u+o]).type,m=e.positionAt(c,i,a);t.insert(t.mapping.map(s+m),h.createAndFill())}}return t}function W6(t,e){if(!Vn(t))return!1;if(e){const s=la(t);e(uk(t.tr,s,s.left))}return!0}function K6(t,e){if(!Vn(t))return!1;if(e){const s=la(t);e(uk(t.tr,s,s.right))}return!0}function G6(t,{map:e,table:s,tableStart:a},i){const o=t.mapping.maps.length;for(let c=0;c<e.height;){const u=c*e.width+i,h=e.map[u],m=s.nodeAt(h),p=m.attrs;if(i>0&&e.map[u-1]==h||i<e.width-1&&e.map[u+1]==h)t.setNodeMarkup(t.mapping.slice(o).map(a+h),null,Mi(p,i-e.colCount(h)));else{const g=t.mapping.slice(o).map(a+h);t.delete(g,g+m.nodeSize)}c+=p.rowspan}}function F6(t,e){if(!Vn(t))return!1;if(e){const s=la(t),a=t.tr;if(s.left==0&&s.right==s.map.width)return!1;for(let i=s.right-1;G6(a,s,i),i!=s.left;i--){const o=s.tableStart?a.doc.nodeAt(s.tableStart-1):a.doc;if(!o)throw new RangeError("No table found");s.table=o,s.map=Ut.get(o)}e(a)}return!0}function Z6(t,e,s){var a;const i=Es(e.type.schema).header_cell;for(let o=0;o<t.width;o++)if(((a=e.nodeAt(t.map[o+s*t.width]))===null||a===void 0?void 0:a.type)!=i)return!1;return!0}function hk(t,{map:e,tableStart:s,table:a},i){let o=s;for(let m=0;m<i;m++)o+=a.child(m).nodeSize;const c=[];let u=i>0?-1:0;Z6(e,a,i+u)&&(u=i==0||i==e.height?null:0);for(let m=0,p=e.width*i;m<e.width;m++,p++)if(i>0&&i<e.height&&e.map[p]==e.map[p-e.width]){const g=e.map[p],y=a.nodeAt(g).attrs;t.setNodeMarkup(s+g,null,{...y,rowspan:y.rowspan+1}),m+=y.colspan-1}else{var h;const g=u==null?Es(a.type.schema).cell:(h=a.nodeAt(e.map[p+u*e.width]))===null||h===void 0?void 0:h.type,y=g==null?void 0:g.createAndFill();y&&c.push(y)}return t.insert(o,Es(a.type.schema).row.create(null,c)),t}function Y6(t,e){if(!Vn(t))return!1;if(e){const s=la(t);e(hk(t.tr,s,s.top))}return!0}function J6(t,e){if(!Vn(t))return!1;if(e){const s=la(t);e(hk(t.tr,s,s.bottom))}return!0}function X6(t,{map:e,table:s,tableStart:a},i){let o=0;for(let m=0;m<i;m++)o+=s.child(m).nodeSize;const c=o+s.child(i).nodeSize,u=t.mapping.maps.length;t.delete(o+a,c+a);const h=new Set;for(let m=0,p=i*e.width;m<e.width;m++,p++){const g=e.map[p];if(!h.has(g)){if(h.add(g),i>0&&g==e.map[p-e.width]){const y=s.nodeAt(g).attrs;t.setNodeMarkup(t.mapping.slice(u).map(g+a),null,{...y,rowspan:y.rowspan-1}),m+=y.colspan-1}else if(i<e.height&&g==e.map[p+e.width]){const y=s.nodeAt(g),v=y.attrs,w=y.type.create({...v,rowspan:y.attrs.rowspan-1},y.content),N=e.positionAt(i+1,m,s);t.insert(t.mapping.slice(u).map(a+N),w),m+=v.colspan-1}}}}function Q6(t,e){if(!Vn(t))return!1;if(e){const s=la(t),a=t.tr;if(s.top==0&&s.bottom==s.map.height)return!1;for(let i=s.bottom-1;X6(a,s,i),i!=s.top;i--){const o=s.tableStart?a.doc.nodeAt(s.tableStart-1):a.doc;if(!o)throw new RangeError("No table found");s.table=o,s.map=Ut.get(s.table)}e(a)}return!0}function $v(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function eD({width:t,height:e,map:s},a){let i=a.top*t+a.left,o=i,c=(a.bottom-1)*t+a.left,u=i+(a.right-a.left-1);for(let h=a.top;h<a.bottom;h++){if(a.left>0&&s[o]==s[o-1]||a.right<t&&s[u]==s[u+1])return!0;o+=t,u+=t}for(let h=a.left;h<a.right;h++){if(a.top>0&&s[i]==s[i-t]||a.bottom<e&&s[c]==s[c+t])return!0;i++,c++}return!1}function qv(t,e){const s=t.selection;if(!(s instanceof bt)||s.$anchorCell.pos==s.$headCell.pos)return!1;const a=la(t),{map:i}=a;if(eD(i,a))return!1;if(e){const o=t.tr,c={};let u=ne.empty,h,m;for(let p=a.top;p<a.bottom;p++)for(let g=a.left;g<a.right;g++){const y=i.map[p*i.width+g],v=a.table.nodeAt(y);if(!(c[y]||!v))if(c[y]=!0,h==null)h=y,m=v;else{$v(v)||(u=u.append(v.content));const w=o.mapping.map(y+a.tableStart);o.delete(w,w+v.nodeSize)}}if(h==null||m==null)return!0;if(o.setNodeMarkup(h+a.tableStart,null,{...rk(m.attrs,m.attrs.colspan,a.right-a.left-m.attrs.colspan),rowspan:a.bottom-a.top}),u.size>0){const p=h+1+m.content.size,g=$v(m)?h+1:p;o.replaceWith(g+a.tableStart,p+a.tableStart,u)}o.setSelection(new bt(o.doc.resolve(h+a.tableStart))),e(o)}return!0}function Vv(t,e){const s=Es(t.schema);return tD(({node:a})=>s[a.type.spec.tableRole])(t,e)}function tD(t){return(e,s)=>{const a=e.selection;let i,o;if(a instanceof bt){if(a.$anchorCell.pos!=a.$headCell.pos)return!1;i=a.$anchorCell.nodeAfter,o=a.$anchorCell.pos}else{var c;if(i=R6(a.$from),!i)return!1;o=(c=Ci(a.$from))===null||c===void 0?void 0:c.pos}if(i==null||o==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(s){let u=i.attrs;const h=[],m=u.colwidth;u.rowspan>1&&(u={...u,rowspan:1}),u.colspan>1&&(u={...u,colspan:1});const p=la(e),g=e.tr;for(let v=0;v<p.right-p.left;v++)h.push(m?{...u,colwidth:m&&m[v]?[m[v]]:null}:u);let y;for(let v=p.top;v<p.bottom;v++){let w=p.map.positionAt(v,p.left,p.table);v==p.top&&(w+=i.nodeSize);for(let N=p.left,k=0;N<p.right;N++,k++)N==p.left&&v==p.top||g.insert(y=g.mapping.map(w+p.tableStart,1),t({node:i,row:v,col:N}).createAndFill(h[k]))}g.setNodeMarkup(o,t({node:i,row:p.top,col:p.left}),h[0]),a instanceof bt&&g.setSelection(new bt(g.doc.resolve(a.$anchorCell.pos),y?g.doc.resolve(y):void 0)),s(g)}return!0}}function sD(t,e){return function(s,a){if(!Vn(s))return!1;const i=Oh(s);if(i.nodeAfter.attrs[t]===e)return!1;if(a){const o=s.tr;s.selection instanceof bt?s.selection.forEachCell((c,u)=>{c.attrs[t]!==e&&o.setNodeMarkup(u,null,{...c.attrs,[t]:e})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),a(o)}return!0}}function nD(t){return function(e,s){if(!Vn(e))return!1;if(s){const a=Es(e.schema),i=la(e),o=e.tr,c=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),u=c.map(h=>i.table.nodeAt(h));for(let h=0;h<c.length;h++)u[h].type==a.header_cell&&o.setNodeMarkup(i.tableStart+c[h],a.cell,u[h].attrs);if(o.steps.length===0)for(let h=0;h<c.length;h++)o.setNodeMarkup(i.tableStart+c[h],a.header_cell,u[h].attrs);s(o)}return!0}}function Wv(t,e,s){const a=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<a.length;i++){const o=e.table.nodeAt(a[i]);if(o&&o.type!==s.header_cell)return!1}return!0}function pc(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?nD(t):function(s,a){if(!Vn(s))return!1;if(a){const i=Es(s.schema),o=la(s),c=s.tr,u=Wv("row",o,i),h=Wv("column",o,i),m=(t==="column"?u:t==="row"&&h)?1:0,p=t=="column"?{left:0,top:m,right:1,bottom:o.map.height}:t=="row"?{left:m,top:0,right:o.map.width,bottom:1}:o,g=t=="column"?h?i.cell:i.header_cell:t=="row"?u?i.cell:i.header_cell:i.cell;o.map.cellsInRect(p).forEach(y=>{const v=y+o.tableStart,w=c.doc.nodeAt(v);w&&c.setNodeMarkup(v,g,w.attrs)}),a(c)}return!0}}pc("row",{useDeprecatedLogic:!0});pc("column",{useDeprecatedLogic:!0});const aD=pc("cell",{useDeprecatedLogic:!0});function lD(t,e){if(e<0){const s=t.nodeBefore;if(s)return t.pos-s.nodeSize;for(let a=t.index(-1)-1,i=t.before();a>=0;a--){const o=t.node(-1).child(a),c=o.lastChild;if(c)return i-1-c.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const s=t.node(-1);for(let a=t.indexAfter(-1),i=t.after();a<s.childCount;a++){const o=s.child(a);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function Kv(t){return function(e,s){if(!Vn(e))return!1;const a=lD(Oh(e),t);if(a==null)return!1;if(s){const i=e.doc.resolve(a);s(e.tr.setSelection(Ce.between(i,_6(i))).scrollIntoView())}return!0}}function iD(t,e){const s=t.selection.$anchor;for(let a=s.depth;a>0;a--)if(s.node(a).type.spec.tableRole=="table")return e&&e(t.tr.delete(s.before(a),s.after(a)).scrollIntoView()),!0;return!1}function eu(t,e){const s=t.selection;if(!(s instanceof bt))return!1;if(e){const a=t.tr,i=Es(t.schema).cell.createAndFill().content;s.forEachCell((o,c)=>{o.content.eq(i)||a.replace(a.mapping.map(c+1),a.mapping.map(c+o.nodeSize-1),new fe(i,0,0))}),a.docChanged&&e(a)}return!0}function rD(t){if(t.size===0)return null;let{content:e,openStart:s,openEnd:a}=t;for(;e.childCount==1&&(s>0&&a>0||e.child(0).type.spec.tableRole=="table");)s--,a--,e=e.child(0).content;const i=e.child(0),o=i.type.spec.tableRole,c=i.type.schema,u=[];if(o=="row")for(let h=0;h<e.childCount;h++){let m=e.child(h).content;const p=h?0:Math.max(0,s-1),g=h<e.childCount-1?0:Math.max(0,a-1);(p||g)&&(m=hx(Es(c).row,new fe(m,p,g)).content),u.push(m)}else if(o=="cell"||o=="header_cell")u.push(s||a?hx(Es(c).row,new fe(e,s,a)).content:e);else return null;return oD(c,u)}function oD(t,e){const s=[];for(let i=0;i<e.length;i++){const o=e[i];for(let c=o.childCount-1;c>=0;c--){const{rowspan:u,colspan:h}=o.child(c).attrs;for(let m=i;m<i+u;m++)s[m]=(s[m]||0)+h}}let a=0;for(let i=0;i<s.length;i++)a=Math.max(a,s[i]);for(let i=0;i<s.length;i++)if(i>=e.length&&e.push(ne.empty),s[i]<a){const o=Es(t).cell.createAndFill(),c=[];for(let u=s[i];u<a;u++)c.push(o);e[i]=e[i].append(ne.from(c))}return{height:e.length,width:a,rows:e}}function hx(t,e){const s=t.createAndFill();return new zx(s).replace(0,s.content.size,e).doc}function cD({width:t,height:e,rows:s},a,i){if(t!=a){const o=[],c=[];for(let u=0;u<s.length;u++){const h=s[u],m=[];for(let p=o[u]||0,g=0;p<a;g++){let y=h.child(g%h.childCount);p+y.attrs.colspan>a&&(y=y.type.createChecked(Mi(y.attrs,y.attrs.colspan,p+y.attrs.colspan-a),y.content)),m.push(y),p+=y.attrs.colspan;for(let v=1;v<y.attrs.rowspan;v++)o[u+v]=(o[u+v]||0)+y.attrs.colspan}c.push(ne.from(m))}s=c,t=a}if(e!=i){const o=[];for(let c=0,u=0;c<i;c++,u++){const h=[],m=s[u%e];for(let p=0;p<m.childCount;p++){let g=m.child(p);c+g.attrs.rowspan>i&&(g=g.type.create({...g.attrs,rowspan:Math.max(1,i-g.attrs.rowspan)},g.content)),h.push(g)}o.push(ne.from(h))}s=o,e=i}return{width:t,height:e,rows:s}}function dD(t,e,s,a,i,o,c){const u=t.doc.type.schema,h=Es(u);let m,p;if(i>e.width)for(let g=0,y=0;g<e.height;g++){const v=s.child(g);y+=v.nodeSize;const w=[];let N;v.lastChild==null||v.lastChild.type==h.cell?N=m||(m=h.cell.createAndFill()):N=p||(p=h.header_cell.createAndFill());for(let k=e.width;k<i;k++)w.push(N);t.insert(t.mapping.slice(c).map(y-1+a),w)}if(o>e.height){const g=[];for(let w=0,N=(e.height-1)*e.width;w<Math.max(e.width,i);w++){const k=w>=e.width?!1:s.nodeAt(e.map[N+w]).type==h.header_cell;g.push(k?p||(p=h.header_cell.createAndFill()):m||(m=h.cell.createAndFill()))}const y=h.row.create(null,ne.from(g)),v=[];for(let w=e.height;w<o;w++)v.push(y);t.insert(t.mapping.slice(c).map(a+s.nodeSize-2),v)}return!!(m||p)}function Gv(t,e,s,a,i,o,c,u){if(c==0||c==e.height)return!1;let h=!1;for(let m=i;m<o;m++){const p=c*e.width+m,g=e.map[p];if(e.map[p-e.width]==g){h=!0;const y=s.nodeAt(g),{top:v,left:w}=e.findCell(g);t.setNodeMarkup(t.mapping.slice(u).map(g+a),null,{...y.attrs,rowspan:c-v}),t.insert(t.mapping.slice(u).map(e.positionAt(c,w,s)),y.type.createAndFill({...y.attrs,rowspan:v+y.attrs.rowspan-c})),m+=y.attrs.colspan-1}}return h}function Fv(t,e,s,a,i,o,c,u){if(c==0||c==e.width)return!1;let h=!1;for(let m=i;m<o;m++){const p=m*e.width+c,g=e.map[p];if(e.map[p-1]==g){h=!0;const y=s.nodeAt(g),v=e.colCount(g),w=t.mapping.slice(u).map(g+a);t.setNodeMarkup(w,null,Mi(y.attrs,c-v,y.attrs.colspan-(c-v))),t.insert(w+y.nodeSize,y.type.createAndFill(Mi(y.attrs,0,c-v))),m+=y.attrs.rowspan-1}}return h}function Zv(t,e,s,a,i){let o=s?t.doc.nodeAt(s-1):t.doc;if(!o)throw new Error("No table found");let c=Ut.get(o);const{top:u,left:h}=a,m=h+i.width,p=u+i.height,g=t.tr;let y=0;function v(){if(o=s?g.doc.nodeAt(s-1):g.doc,!o)throw new Error("No table found");c=Ut.get(o),y=g.mapping.maps.length}dD(g,c,o,s,m,p,y)&&v(),Gv(g,c,o,s,h,m,u,y)&&v(),Gv(g,c,o,s,h,m,p,y)&&v(),Fv(g,c,o,s,u,p,h,y)&&v(),Fv(g,c,o,s,u,p,m,y)&&v();for(let w=u;w<p;w++){const N=c.positionAt(w,h,o),k=c.positionAt(w,m,o);g.replace(g.mapping.slice(y).map(N+s),g.mapping.slice(y).map(k+s),new fe(i.rows[w-u],0,0))}v(),g.setSelection(new bt(g.doc.resolve(s+c.positionAt(u,h,o)),g.doc.resolve(s+c.positionAt(p-1,m-1,o)))),e(g)}const uD=Ix({ArrowLeft:tu("horiz",-1),ArrowRight:tu("horiz",1),ArrowUp:tu("vert",-1),ArrowDown:tu("vert",1),"Shift-ArrowLeft":su("horiz",-1),"Shift-ArrowRight":su("horiz",1),"Shift-ArrowUp":su("vert",-1),"Shift-ArrowDown":su("vert",1),Backspace:eu,"Mod-Backspace":eu,Delete:eu,"Mod-Delete":eu});function yu(t,e,s){return s.eq(t.selection)?!1:(e&&e(t.tr.setSelection(s).scrollIntoView()),!0)}function tu(t,e){return(s,a,i)=>{if(!i)return!1;const o=s.selection;if(o instanceof bt)return yu(s,a,Ae.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const c=fk(i,t,e);if(c==null)return!1;if(t=="horiz")return yu(s,a,Ae.near(s.doc.resolve(o.head+e),e));{const u=s.doc.resolve(c),h=ik(u,t,e);let m;return h?m=Ae.near(h,1):e<0?m=Ae.near(s.doc.resolve(u.before(-1)),-1):m=Ae.near(s.doc.resolve(u.after(-1)),1),yu(s,a,m)}}}function su(t,e){return(s,a,i)=>{if(!i)return!1;const o=s.selection;let c;if(o instanceof bt)c=o;else{const h=fk(i,t,e);if(h==null)return!1;c=new bt(s.doc.resolve(h))}const u=ik(c.$headCell,t,e);return u?yu(s,a,new bt(c.$anchorCell,u)):!1}}function hD(t,e){const s=t.state.doc,a=Ci(s.resolve(e));return a?(t.dispatch(t.state.tr.setSelection(new bt(a))),!0):!1}function fD(t,e,s){if(!Vn(t.state))return!1;let a=rD(s);const i=t.state.selection;if(i instanceof bt){a||(a={width:1,height:1,rows:[ne.from(hx(Es(t.state.schema).cell,s))]});const o=i.$anchorCell.node(-1),c=i.$anchorCell.start(-1),u=Ut.get(o).rectBetween(i.$anchorCell.pos-c,i.$headCell.pos-c);return a=cD(a,u.right-u.left,u.bottom-u.top),Zv(t.state,t.dispatch,c,u,a),!0}else if(a){const o=Oh(t.state),c=o.start(-1);return Zv(t.state,t.dispatch,c,Ut.get(o.node(-1)).findCell(o.pos-c),a),!0}else return!1}function mD(t,e){var s;if(e.button!=0||e.ctrlKey||e.metaKey)return;const a=Yv(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof bt)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&a&&(i=Ci(t.state.selection.$anchor))!=null&&((s=Sp(t,e))===null||s===void 0?void 0:s.pos)!=i.pos)o(i,e),e.preventDefault();else if(!a)return;function o(h,m){let p=Sp(t,m);const g=Cl.getState(t.state)==null;if(!p||!u0(h,p))if(g)p=h;else return;const y=new bt(h,p);if(g||!t.state.selection.eq(y)){const v=t.state.tr.setSelection(y);g&&v.setMeta(Cl,h.pos),t.dispatch(v)}}function c(){t.root.removeEventListener("mouseup",c),t.root.removeEventListener("dragstart",c),t.root.removeEventListener("mousemove",u),Cl.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Cl,-1))}function u(h){const m=h,p=Cl.getState(t.state);let g;if(p!=null)g=t.state.doc.resolve(p);else if(Yv(t,m.target)!=a&&(g=Sp(t,e),!g))return c();g&&o(g,m)}t.root.addEventListener("mouseup",c),t.root.addEventListener("dragstart",c),t.root.addEventListener("mousemove",u)}function fk(t,e,s){if(!(t.state.selection instanceof Ce))return null;const{$head:a}=t.state.selection;for(let i=a.depth-1;i>=0;i--){const o=a.node(i);if((s<0?a.index(i):a.indexAfter(i))!=(s<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const c=a.before(i),u=e=="vert"?s>0?"down":"up":s>0?"right":"left";return t.endOfTextblock(u)?c:null}}return null}function Yv(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Sp(t,e){const s=t.posAtCoords({left:e.clientX,top:e.clientY});if(!s)return null;let{inside:a,pos:i}=s;return a>=0&&Ci(t.state.doc.resolve(a))||Ci(t.state.doc.resolve(i))}var pD=class{constructor(e,s){this.node=e,this.defaultCellMinWidth=s,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${s}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),fx(e,this.colgroup,this.table,s),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,fx(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function fx(t,e,s,a,i,o){let c=0,u=!0,h=e.firstChild;const m=t.firstChild;if(m){for(let g=0,y=0;g<m.childCount;g++){const{colspan:v,colwidth:w}=m.child(g).attrs;for(let N=0;N<v;N++,y++){const k=i==y?o:w&&w[N],z=k?k+"px":"";if(c+=k||a,k||(u=!1),h)h.style.width!=z&&(h.style.width=z),h=h.nextSibling;else{const E=document.createElement("col");E.style.width=z,e.appendChild(E)}}}for(;h;){var p;const g=h.nextSibling;(p=h.parentNode)===null||p===void 0||p.removeChild(h),h=g}u?(s.style.width=c+"px",s.style.minWidth=""):(s.style.width="",s.style.minWidth=c+"px")}}const on=new Ht("tableColumnResizing");function xD({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:s=100,View:a=pD,lastColumnResizable:i=!0}={}){const o=new St({key:on,state:{init(c,u){var h;const m=(h=o.spec)===null||h===void 0||(h=h.props)===null||h===void 0?void 0:h.nodeViews,p=Es(u.schema).table.name;return a&&m&&(m[p]=(g,y)=>new a(g,s,y)),new gD(-1,!1)},apply(c,u){return u.apply(c)}},props:{attributes:c=>{const u=on.getState(c);return u&&u.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(c,u)=>{bD(c,u,t,i)},mouseleave:c=>{yD(c)},mousedown:(c,u)=>{vD(c,u,e,s)}},decorations:c=>{const u=on.getState(c);if(u&&u.activeHandle>-1)return zD(c,u.activeHandle)},nodeViews:{}}});return o}var gD=class vu{constructor(e,s){this.activeHandle=e,this.dragging=s}apply(e){const s=this,a=e.getMeta(on);if(a&&a.setHandle!=null)return new vu(a.setHandle,!1);if(a&&a.setDragging!==void 0)return new vu(s.activeHandle,a.setDragging);if(s.activeHandle>-1&&e.docChanged){let i=e.mapping.map(s.activeHandle,-1);return ux(e.doc.resolve(i))||(i=-1),new vu(i,s.dragging)}return s}};function bD(t,e,s,a){if(!t.editable)return;const i=on.getState(t.state);if(i&&!i.dragging){const o=jD(e.target);let c=-1;if(o){const{left:u,right:h}=o.getBoundingClientRect();e.clientX-u<=s?c=Jv(t,e,"left",s):h-e.clientX<=s&&(c=Jv(t,e,"right",s))}if(c!=i.activeHandle){if(!a&&c!==-1){const u=t.state.doc.resolve(c),h=u.node(-1),m=Ut.get(h),p=u.start(-1);if(m.colCount(u.pos-p)+u.nodeAfter.attrs.colspan-1==m.width-1)return}mk(t,c)}}}function yD(t){if(!t.editable)return;const e=on.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&mk(t,-1)}function vD(t,e,s,a){var i;if(!t.editable)return!1;const o=(i=t.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,c=on.getState(t.state);if(!c||c.activeHandle==-1||c.dragging)return!1;const u=t.state.doc.nodeAt(c.activeHandle),h=wD(t,c.activeHandle,u.attrs);t.dispatch(t.state.tr.setMeta(on,{setDragging:{startX:e.clientX,startWidth:h}}));function m(g){o.removeEventListener("mouseup",m),o.removeEventListener("mousemove",p);const y=on.getState(t.state);y!=null&&y.dragging&&(ND(t,y.activeHandle,Xv(y.dragging,g,s)),t.dispatch(t.state.tr.setMeta(on,{setDragging:null})))}function p(g){if(!g.which)return m(g);const y=on.getState(t.state);if(y&&y.dragging){const v=Xv(y.dragging,g,s);Qv(t,y.activeHandle,v,a)}}return Qv(t,c.activeHandle,h,a),o.addEventListener("mouseup",m),o.addEventListener("mousemove",p),e.preventDefault(),!0}function wD(t,e,{colspan:s,colwidth:a}){const i=a&&a[a.length-1];if(i)return i;const o=t.domAtPos(e);let c=o.node.childNodes[o.offset].offsetWidth,u=s;if(a)for(let h=0;h<s;h++)a[h]&&(c-=a[h],u--);return c/u}function jD(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Jv(t,e,s,a){const i=s=="right"?-a:a,o=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!o)return-1;const{pos:c}=o,u=Ci(t.state.doc.resolve(c));if(!u)return-1;if(s=="right")return u.pos;const h=Ut.get(u.node(-1)),m=u.start(-1),p=h.map.indexOf(u.pos-m);return p%h.width==0?-1:m+h.map[p-1]}function Xv(t,e,s){const a=e.clientX-t.startX;return Math.max(s,t.startWidth+a)}function mk(t,e){t.dispatch(t.state.tr.setMeta(on,{setHandle:e}))}function ND(t,e,s){const a=t.state.doc.resolve(e),i=a.node(-1),o=Ut.get(i),c=a.start(-1),u=o.colCount(a.pos-c)+a.nodeAfter.attrs.colspan-1,h=t.state.tr;for(let m=0;m<o.height;m++){const p=m*o.width+u;if(m&&o.map[p]==o.map[p-o.width])continue;const g=o.map[p],y=i.nodeAt(g).attrs,v=y.colspan==1?0:u-o.colCount(g);if(y.colwidth&&y.colwidth[v]==s)continue;const w=y.colwidth?y.colwidth.slice():kD(y.colspan);w[v]=s,h.setNodeMarkup(c+g,null,{...y,colwidth:w})}h.docChanged&&t.dispatch(h)}function Qv(t,e,s,a){const i=t.state.doc.resolve(e),o=i.node(-1),c=i.start(-1),u=Ut.get(o).colCount(i.pos-c)+i.nodeAfter.attrs.colspan-1;let h=t.domAtPos(i.start(-1)).node;for(;h&&h.nodeName!="TABLE";)h=h.parentNode;h&&fx(o,h.firstChild,h,a,u,s)}function kD(t){return Array(t).fill(0)}function zD(t,e){const s=[],a=t.doc.resolve(e),i=a.node(-1);if(!i)return gt.empty;const o=Ut.get(i),c=a.start(-1),u=o.colCount(a.pos-c)+a.nodeAfter.attrs.colspan-1;for(let m=0;m<o.height;m++){const p=u+m*o.width;if((u==o.width-1||o.map[p]!=o.map[p+1])&&(m==0||o.map[p]!=o.map[p-o.width])){var h;const g=o.map[p],y=c+g+i.nodeAt(g).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",!((h=on.getState(t))===null||h===void 0)&&h.dragging&&s.push(ds.node(c+g,c+g+i.nodeAt(g).nodeSize,{class:"column-resize-dragging"})),s.push(ds.widget(y,v))}}return gt.create(t.doc,s)}function SD({allowTableNodeSelection:t=!1}={}){return new St({key:Cl,state:{init(){return null},apply(e,s){const a=e.getMeta(Cl);if(a!=null)return a==-1?null:a;if(s==null||!e.docChanged)return s;const{deleted:i,pos:o}=e.mapping.mapResult(s);return i?null:o}},props:{decorations:U6,handleDOMEvents:{mousedown:mD},createSelectionBetween(e){return Cl.getState(e.state)!=null?e.state.selection:null},handleTripleClick:hD,handleKeyDown:uD,handlePaste:fD},appendTransaction(e,s,a){return $6(a,dk(a,s),t)}})}var pk=fs.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,s;const a=t.getAttribute("colwidth"),i=a?a.split(",").map(o=>parseInt(o,10)):null;if(!i){const o=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),c=Array.from(((s=t.parentElement)==null?void 0:s.children)||[]).indexOf(t);if(c&&c>-1&&o&&o[c]){const u=o[c].getAttribute("width");return u?[parseInt(u,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",zt(this.options.HTMLAttributes,t),0]}}),xk=fs.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(a=>parseInt(a,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",zt(this.options.HTMLAttributes,t),0]}}),gk=fs.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",zt(this.options.HTMLAttributes,t),0]}});function mx(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function ew(t,e,s,a,i,o){var c;let u=0,h=!0,m=e.firstChild;const p=t.firstChild;if(p!==null)for(let y=0,v=0;y<p.childCount;y+=1){const{colspan:w,colwidth:N}=p.child(y).attrs;for(let k=0;k<w;k+=1,v+=1){const z=i===v?o:N&&N[k],E=z?`${z}px`:"";if(u+=z||a,z||(h=!1),m){if(m.style.width!==E){const[R,H]=mx(a,z);m.style.setProperty(R,H)}m=m.nextSibling}else{const R=document.createElement("col"),[H,I]=mx(a,z);R.style.setProperty(H,I),e.appendChild(R)}}}for(;m;){const y=m.nextSibling;(c=m.parentNode)==null||c.removeChild(m),m=y}const g=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);h&&!g?(s.style.width=`${u}px`,s.style.minWidth=""):(s.style.width="",s.style.minWidth=`${u}px`)}var CD=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ew(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,ew(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,s=this.dom.contains(e),a=this.contentDOM.contains(e);return!!(s&&!a&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function MD(t,e,s,a){let i=0,o=!0;const c=[],u=t.firstChild;if(!u)return{};for(let g=0,y=0;g<u.childCount;g+=1){const{colspan:v,colwidth:w}=u.child(g).attrs;for(let N=0;N<v;N+=1,y+=1){const k=s===y?a:w&&w[N];i+=k||e,k||(o=!1);const[z,E]=mx(e,k);c.push(["col",{style:`${z}: ${E}`}])}}const h=o?`${i}px`:"",m=o?"":`${i}px`;return{colgroup:["colgroup",{},...c],tableWidth:h,tableMinWidth:m}}function tw(t,e){return t.createAndFill()}function ED(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(s=>{const a=t.nodes[s];a.spec.tableRole&&(e[a.spec.tableRole]=a)}),t.cached.tableNodeTypes=e,e}function TD(t,e,s,a,i){const o=ED(t),c=[],u=[];for(let m=0;m<s;m+=1){const p=tw(o.cell);if(p&&u.push(p),a){const g=tw(o.header_cell);g&&c.push(g)}}const h=[];for(let m=0;m<e;m+=1)h.push(o.row.createChecked(null,a&&m===0?c:u));return o.table.createChecked(null,h)}function AD(t){return t instanceof bt}var nu=({editor:t})=>{const{selection:e}=t.state;if(!AD(e))return!1;let s=0;const a=iN(e.ranges[0].$from,o=>o.type.name==="table");return a==null||a.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(s+=1)}),s===e.ranges.length?(t.commands.deleteTable(),!0):!1},DD="";function OD(t){return(t||"").replace(/\s+/g," ").trim()}function RD(t,e,s={}){var a;const i=(a=s.cellLineSeparator)!=null?a:DD;if(!t||!t.content||t.content.length===0)return"";const o=[];t.content.forEach(w=>{const N=[];w.content&&w.content.forEach(k=>{let z="";k.content&&Array.isArray(k.content)&&k.content.length>1?z=k.content.map(I=>e.renderChildren(I)).join(i):z=k.content?e.renderChildren(k.content):"";const E=OD(z),R=k.type==="tableHeader";N.push({text:E,isHeader:R})}),o.push(N)});const c=o.reduce((w,N)=>Math.max(w,N.length),0);if(c===0)return"";const u=new Array(c).fill(0);o.forEach(w=>{var N;for(let k=0;k<c;k+=1){const E=(((N=w[k])==null?void 0:N.text)||"").length;E>u[k]&&(u[k]=E),u[k]<3&&(u[k]=3)}});const h=(w,N)=>w+" ".repeat(Math.max(0,N-w.length)),m=o[0],p=m.some(w=>w.isHeader);let g=`
`;const y=new Array(c).fill(0).map((w,N)=>p&&m[N]&&m[N].text||"");return g+=`| ${y.map((w,N)=>h(w,u[N])).join(" | ")} |
`,g+=`| ${u.map(w=>"-".repeat(Math.max(3,w))).join(" | ")} |
`,(p?o.slice(1):o).forEach(w=>{g+=`| ${new Array(c).fill(0).map((N,k)=>h(w[k]&&w[k].text||"",u[k])).join(" | ")} |
`}),g}var LD=RD,bk=fs.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:CD,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:s,tableWidth:a,tableMinWidth:i}=MD(t,this.options.cellMinWidth),o=e.style;function c(){return o||(a?`width: ${a}`:`min-width: ${i}`)}const u=["table",zt(this.options.HTMLAttributes,e,{style:c()}),s,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},u]:u},parseMarkdown:(t,e)=>{const s=[];if(t.header){const a=[];t.header.forEach(i=>{a.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),s.push(e.createNode("tableRow",{},a))}return t.rows&&t.rows.forEach(a=>{const i=[];a.forEach(o=>{i.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(o.tokens)}]))}),s.push(e.createNode("tableRow",{},i))}),e.createNode("table",void 0,s)},renderMarkdown:(t,e)=>LD(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:s=!0}={})=>({tr:a,dispatch:i,editor:o})=>{const c=TD(o.schema,t,e,s);if(i){const u=a.selection.from+1;a.replaceSelectionWith(c).scrollIntoView().setSelection(Ce.near(a.doc.resolve(u)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>W6(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>K6(t,e),deleteColumn:()=>({state:t,dispatch:e})=>F6(t,e),addRowBefore:()=>({state:t,dispatch:e})=>Y6(t,e),addRowAfter:()=>({state:t,dispatch:e})=>J6(t,e),deleteRow:()=>({state:t,dispatch:e})=>Q6(t,e),deleteTable:()=>({state:t,dispatch:e})=>iD(t,e),mergeCells:()=>({state:t,dispatch:e})=>qv(t,e),splitCell:()=>({state:t,dispatch:e})=>Vv(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>pc("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>pc("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>aD(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>qv(t,e)?!0:Vv(t,e),setCellAttribute:(t,e)=>({state:s,dispatch:a})=>sD(t,e)(s,a),goToNextCell:()=>({state:t,dispatch:e})=>Kv(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>Kv(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&dk(t),!0),setCellSelection:t=>({tr:e,dispatch:s})=>{if(s){const a=bt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(a)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:nu,"Mod-Backspace":nu,Delete:nu,"Mod-Delete":nu}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[xD({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],SD({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:lt(Ne(t,"tableRole",e))}}});It.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(bk.configure(this.options.table)),this.options.tableCell!==!1&&t.push(pk.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(xk.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(gk.configure(this.options.tableRow)),t}});var _D=gk,BD=xk,PD=pk;const UD=({content:t,onChange:e})=>{const s=$A({extensions:[S6.configure({heading:{levels:[2,3,4]}}),P5.configure({openOnClick:!1}),E6.configure({allowBase64:!0}),bk.configure({resizable:!0}),_D,BD,PD],content:t,autofocus:"end",editable:!0,onUpdate:({editor:c})=>{e(c.getHTML())}});if(!s)return null;const a=c=>{const u={warning:"bg-red-50 border-red-500 text-red-700",success:"bg-green-50 border-green-500 text-green-700",info:"bg-blue-50 border-blue-500 text-blue-700"},h={warning:"",success:"",info:""},m=`
      <div class="my-4 p-4 rounded border-l-4 ${u[c]}">
        <span class="font-bold">${h[c]} Wyrniony tekst</span>
        <p>Edytuj ten tekst...</p>
      </div>
    `;s.chain().focus().insertContent(m).run()},i=()=>{s.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},o=()=>{const c=window.prompt("Wpisz URL:");c&&s.chain().focus().extendMarkRange("link").setLink({href:c}).run()};return n.jsxs("div",{className:"w-full border border-slate-300 rounded-lg overflow-hidden bg-white",children:[n.jsxs("div",{className:"border-b border-slate-200 bg-slate-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().toggleBold().run()},className:`p-2 rounded transition-colors ${s.isActive("bold")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Pogrubienie (Ctrl+B)",children:n.jsx(Xz,{size:18})}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().toggleItalic().run()},className:`p-2 rounded transition-colors ${s.isActive("italic")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Kursywa (Ctrl+I)",children:n.jsx(RS,{size:18})}),n.jsx("div",{className:"w-px h-6 bg-slate-300"}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().toggleHeading({level:2}).run()},className:`px-3 py-2 rounded text-sm font-bold transition-colors ${s.isActive("heading",{level:2})?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Nagwek 2",children:"H2"}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().toggleHeading({level:3}).run()},className:`px-3 py-2 rounded text-sm font-bold transition-colors ${s.isActive("heading",{level:3})?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Nagwek 3",children:"H3"}),n.jsx("div",{className:"w-px h-6 bg-slate-300"}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().toggleBulletList().run()},className:`p-2 rounded transition-colors ${s.isActive("bulletList")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Lista punktowa",children:n.jsx(KS,{size:18})}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().toggleOrderedList().run()},className:`p-2 rounded transition-colors ${s.isActive("orderedList")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Lista numerowana",children:n.jsx(VS,{size:18})}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().toggleBlockquote().run()},className:`p-2 rounded transition-colors ${s.isActive("blockquote")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Cytat",children:n.jsx(rC,{size:18})}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().toggleCodeBlock().run()},className:`p-2 rounded transition-colors ${s.isActive("codeBlock")?"bg-brand-accent text-white":"bg-white border border-slate-300 hover:bg-slate-100"}`,title:"Blok kodu",children:n.jsx(yS,{size:18})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),o()},className:"p-2 rounded bg-white border border-slate-300 hover:bg-slate-100 transition-colors",title:"Dodaj link",children:n.jsx(HS,{size:18})}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation();const u=window.prompt("Wpisz URL zdjcia:");u&&s.chain().focus().setImage({src:u}).run()},className:"p-2 rounded bg-white border border-slate-300 hover:bg-slate-100 transition-colors",title:"Dodaj zdjcie",children:n.jsx(TS,{size:18})}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),i()},className:"p-2 rounded bg-white border border-slate-300 hover:bg-slate-100 transition-colors",title:"Dodaj tabel",children:n.jsx(yC,{size:18})}),n.jsx("div",{className:"w-px h-6 bg-slate-300"}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),a("warning")},className:"p-2 rounded bg-white border border-slate-300 hover:bg-red-50 text-red-600 transition-colors",title:"Dodaj czerwone wyrnienie",children:n.jsx(gw,{size:18})}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),a("success")},className:"p-2 rounded bg-white border border-slate-300 hover:bg-green-50 text-green-600 transition-colors",title:"Dodaj zielone wyrnienie",children:n.jsx(Ls,{size:18})}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),a("info")},className:"p-2 rounded bg-white border border-slate-300 hover:bg-blue-50 text-blue-600 transition-colors",title:"Dodaj niebieskie wyrnienie",children:n.jsx(DS,{size:18})}),n.jsx("div",{className:"w-px h-6 bg-slate-300"}),n.jsx("button",{type:"button",onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),s.chain().focus().clearNodes().run()},className:"p-2 rounded bg-white border border-slate-300 hover:bg-slate-100 transition-colors",title:"Wyczy formatowanie",children:n.jsx(Vr,{size:18})})]})]}),n.jsx("div",{className:"prose prose-sm max-w-none p-4 min-h-96",children:n.jsx(LA,{editor:s})}),n.jsxs("div",{className:"border-t border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:[n.jsx("strong",{children:"Wskazwka:"})," Moesz uywa standardowych skrtw klawiszowych (Ctrl+B = pogrubienie, Ctrl+I = kursywa, Ctrl+Z = cofnij)"]})]})},HD=({logo:t,sections:e,onNotifications:s,onProfile:a,profileEmail:i,notificationCount:o=0,notifications:c=[],variant:u="light"})=>{const[h,m]=O.useState(!1),[p,g]=O.useState(!1),[y,v]=O.useState(null),w=c.length>0?c:[{id:"1",title:"Nowy kursant",message:'Jan Kowalski zapisa si na szkolenie "Wzki Widowe"',timestamp:"5 minut temu",read:!1,type:"info"},{id:"2",title:"Szkolenie ukoczone",message:'Anna Nowak ukoczya szkolenie "BHP Podstawowe" z wynikiem 95%',timestamp:"1 godzina temu",read:!1,type:"success"},{id:"3",title:"Ceryfikat wygasa",message:'Certyfikat "Uprawnienia SEP" uytkownika Piotra Winiewskiego wygasa za 7 dni',timestamp:"3 godziny temu",read:!0,type:"warning"}],N=w.slice(0,5),k={info:"border-l-blue-500 bg-blue-50",warning:"border-l-yellow-500 bg-yellow-50",success:"border-l-green-500 bg-green-50",error:"border-l-red-500 bg-red-50"},z=u==="sidebar",E=z?"sticky top-0 z-40 bg-brand-primary border-b border-brand-secondary/40 shadow-xl text-white":"sticky top-0 z-40 bg-white border-b border-slate-200 shadow-sm",R=z?"text-xl font-heading font-bold text-white":"text-xl font-heading font-bold text-brand-dark",H=z?"text-sm font-bold text-slate-200 hover:text-white transition-colors":"text-sm font-bold text-slate-600 hover:text-brand-accent transition-colors",I=z?"relative p-2 text-slate-200 hover:text-white transition-colors":"relative p-2 text-slate-600 hover:text-brand-accent transition-colors";return n.jsx("header",{className:E,children:n.jsxs("div",{className:"max-w-full mx-auto px-4 md:px-8 py-4 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-8",children:t||n.jsx("div",{className:R,children:"MultiSerwis"})}),n.jsx("div",{className:"hidden md:flex items-center gap-6",children:e.map((W,$)=>n.jsx("button",{onClick:W.onClick,className:H,children:W.label},$))}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>g(!p),className:I,title:"Powiadomienia",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o>0&&n.jsx("span",{className:"absolute top-1 right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:o})]}),p&&n.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white border border-slate-200 rounded-sm shadow-xl z-50 max-h-96 overflow-y-auto",children:[n.jsx("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50 sticky top-0",children:n.jsxs("p",{className:"text-sm font-bold text-slate-700",children:["Powiadomienia (",w.length,")"]})}),w.length===0?n.jsx("div",{className:"px-4 py-8 text-center text-slate-500",children:n.jsx("p",{className:"text-sm",children:"Brak powiadomie"})}):n.jsx("div",{className:"divide-y divide-slate-100",children:N.map(W=>n.jsxs("div",{className:`p-4 cursor-pointer border-l-4 transition-all hover:bg-slate-50 ${k[W.type]} ${W.read?"bg-opacity-50":"font-semibold bg-opacity-100"}`,onClick:()=>v(y===W.id?null:W.id),children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"text-sm font-bold text-slate-800 truncate",children:W.title}),n.jsx("p",{className:`text-xs mt-1 ${W.read?"text-slate-500":"text-slate-600"}`,children:W.message}),n.jsx("p",{className:"text-xs text-slate-400 mt-2",children:W.timestamp})]}),!W.read&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-accent flex-shrink-0 mt-1"})]}),y===W.id&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-current border-opacity-20",children:[n.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:W.message}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{className:"text-xs px-3 py-1 bg-brand-accent text-white rounded hover:opacity-90 transition-opacity",children:"Przeczytane"}),n.jsx("button",{className:"text-xs px-3 py-1 bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition-colors",children:"Zamknij"})]})]})]},W.id))}),w.length>5&&n.jsx("div",{className:"px-4 py-3 border-t border-slate-100 text-center bg-slate-50 sticky bottom-0",children:n.jsx("button",{className:"text-xs font-bold text-brand-accent hover:text-brand-dark",children:"Poka wszystkie powiadomienia"})})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>m(!h),className:z?"flex items-center gap-2 p-2 text-slate-200 hover:text-white transition-colors":"flex items-center gap-2 p-2 text-slate-600 hover:text-brand-accent transition-colors",children:[n.jsx(Va,{size:18}),n.jsx(Ei,{size:16})]}),h&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-slate-200 rounded-sm shadow-lg z-50",children:[n.jsx("div",{className:"px-4 py-3 border-b border-slate-100",children:n.jsx("p",{className:"text-sm font-bold text-slate-700",children:i||"Profil"})}),n.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[n.jsx(Va,{size:16})," Mj profil"]}),n.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[n.jsx(Cn,{size:16})," Ustawienia"]}),n.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 border-t border-slate-100",children:[n.jsx($a,{size:16})," Wyloguj"]})]})]})]})]})})},Nc=()=>n.jsxs("div",{className:"mt-10 pt-4 border-t border-slate-200 text-xs text-slate-500 flex items-center justify-between gap-4",children:[n.jsxs("span",{children:[" ",new Date().getFullYear()," Multiserwis Profesjonalne Szkolenia. Wszelkie prawa zastrzeone."]}),n.jsxs("span",{children:["Realizacja:"," ",n.jsx("a",{href:"https://webisko.pl/",target:"_blank",rel:"noreferrer",className:"text-slate-600 hover:text-brand-primary transition font-semibold",children:"Webisko.pl"})]})]}),Rh=({segments:t})=>!t||t.length===0?null:n.jsx("div",{className:"text-xs text-slate-500 font-semibold",children:t.map((e,s)=>n.jsxs(O.Fragment,{children:[s>0&&n.jsx("span",{className:"mx-1",children:"/"}),n.jsx("span",{children:e})]},`${e}-${s}`))}),au=[{id:"dashboard",label:"Pulpit",icon:n.jsx(gh,{size:18})},{id:"courses",label:"Szkolenia",icon:n.jsx(rs,{size:18})},{id:"users",label:"Uytkownicy",icon:n.jsx(Zs,{size:18})},{id:"companies",label:"Firmy",icon:n.jsx(Gs,{size:18})},{id:"finance",label:"Finanse",icon:n.jsx(ph,{size:18})},{id:"reports",label:"Raporty",icon:n.jsx(Ia,{size:18})},{id:"notifications",label:"Powiadomienia",icon:n.jsx(qn,{size:18})},{id:"permissions",label:"Uprawnienia",icon:n.jsx(wx,{size:18})},{id:"settings",label:"Ustawienia",icon:n.jsx(Cn,{size:18})}],ID=({activeSection:t,onSectionChange:e,children:s,userName:a="Administrator",userRole:i="Superadministrator",onLogout:o,onLogoClick:c})=>{const[u,h]=O.useState(!1),[m,p]=O.useState(!1),g=[{id:"n1",title:"Nowy uytkownik zarejestrowany",time:"2 minuty temu",type:"users"},{id:"n2",title:"Zakup kursu: BHP Wstpne",time:"15 minut temu",type:"sales"},{id:"n3",title:"Alert systemowy: Backup",time:"1 godzina temu",type:"system"},{id:"n4",title:"Nowe zapytanie od firmy",time:"3 godziny temu",type:"company"},{id:"n5",title:"Aktualizacja zgoszenia support",time:"5 godzin temu",type:"support"}],y={users:"bg-blue-100 text-blue-600",sales:"bg-green-100 text-green-600",system:"bg-red-100 text-red-600",company:"bg-teal-100 text-teal-600",support:"bg-orange-100 text-orange-600"},v=N=>{const k=t===N.id||t==="course-edit"&&N.id==="courses"||t==="course-create"&&N.id==="courses"||t==="course-preview"&&N.id==="courses"||(t==="user-view"||t==="user-edit"||t==="user-create")&&N.id==="users"||(t==="company-view"||t==="company-edit"||t==="company-create")&&N.id==="companies";return n.jsxs("button",{onClick:()=>{e(N.id),h(!1)},className:`sidebar-link flex items-center px-6 py-3 gap-3 text-left border-l-4 transition-all w-full ${k?"bg-white/10 border-brand-accent text-white font-semibold":"border-transparent text-slate-300 hover:text-white hover:bg-white/10"}`,children:[n.jsx("span",{className:`${k?"text-brand-accent":""}`,children:N.icon}),n.jsx("span",{children:N.label})]},N.id)},w=N=>{switch(N){case"dashboard":return["Pulpit"];case"courses":return["Pulpit","Szkolenia"];case"course-preview":return["Pulpit","Szkolenia","Podgld"];case"course-create":return["Pulpit","Szkolenia","Dodawanie"];case"course-edit":return["Pulpit","Szkolenia","Edycja"];case"users":return["Pulpit","Uytkownicy"];case"user-view":return["Pulpit","Uytkownicy","Podgld"];case"user-edit":return["Pulpit","Uytkownicy","Edycja"];case"user-create":return["Pulpit","Uytkownicy","Dodawanie"];case"companies":return["Pulpit","Firmy"];case"company-view":return["Pulpit","Firmy","Podgld"];case"company-create":return["Pulpit","Firmy","Dodawanie"];case"company-edit":return["Pulpit","Firmy","Edycja"];case"finance":return["Pulpit","Finanse"];case"reports":return["Pulpit","Raporty"];case"notifications":return["Pulpit","Powiadomienia"];case"settings":return["Pulpit","Ustawienia"];case"permissions":return["Pulpit","Uprawnienia"];default:return["Pulpit"]}};return n.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 text-slate-800",children:[n.jsxs("aside",{className:"w-64 bg-brand-primary text-white hidden md:flex flex-col shadow-xl z-20",children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-teal-800/50 bg-teal-900/20",children:n.jsx(ta,{onClick:c,variant:"sidebar"})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1",children:[au.slice(0,6).map(v),n.jsx("div",{className:"pt-6 pb-2 px-6 text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"System"}),au.slice(6).map(v)]}),n.jsx("div",{className:"p-4 bg-teal-900/30 border-t border-teal-800/50",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full text-sm text-slate-300 hover:text-white transition",children:[n.jsx($a,{size:18}),"Wyloguj si"]})})]}),u&&n.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>h(!1)}),n.jsxs("aside",{className:"absolute left-0 top-0 h-full w-72 bg-brand-primary text-white flex flex-col shadow-xl",children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-teal-800/50 bg-teal-900/20",children:n.jsx(ta,{onClick:c,variant:"sidebar"})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1",children:[au.slice(0,6).map(v),n.jsx("div",{className:"pt-6 pb-2 px-6 text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"System"}),au.slice(6).map(v)]}),n.jsx("div",{className:"p-4 bg-teal-900/30 border-t border-teal-800/50",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full text-sm text-slate-300 hover:text-white transition",children:[n.jsx($a,{size:18}),"Wyloguj si"]})})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[n.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{className:"md:hidden text-slate-500 hover:text-brand-primary",onClick:()=>h(!0),"aria-label":"Otwrz menu",children:n.jsx(qr,{size:22})}),n.jsxs("div",{className:"relative hidden sm:block",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:n.jsx(aa,{size:16})}),n.jsx("input",{className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm bg-slate-50 text-slate-700 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent w-64",placeholder:"Szukaj danych...",type:"text"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[n.jsxs("button",{onClick:()=>p(N=>!N),className:"relative p-2 text-slate-500 hover:bg-slate-100 rounded-full transition","aria-label":"Powiadomienia",children:[n.jsx(qn,{size:18}),n.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-brand-accent rounded-full border-2 border-white"})]}),m&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50",children:n.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Powiadomienia"})}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:g.map(N=>n.jsxs("div",{className:"px-4 py-3 hover:bg-slate-50 transition-colors flex gap-3 border-b border-slate-100",children:[n.jsx("div",{className:`shrink-0 h-9 w-9 rounded-full flex items-center justify-center ${y[N.type]}`,children:n.jsx(qn,{size:18})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium text-slate-900",children:N.title}),n.jsx("span",{className:"text-xs text-slate-500 mt-0.5",children:N.time})]})]},N.id))}),n.jsx("button",{onClick:()=>e("notifications"),className:"w-full py-3 bg-white border-t border-slate-100 text-center text-sm font-semibold text-brand-primary hover:bg-slate-50 transition-colors",children:"Zobacz wszystkie"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 border-l border-slate-200 pl-4",children:[n.jsxs("div",{className:"text-right hidden sm:block",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-800",children:a}),n.jsx("p",{className:"text-xs text-slate-500",children:i})]}),n.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-slate-100 bg-slate-200 shadow-sm flex items-center justify-center font-bold text-slate-700",children:a==null?void 0:a.slice(0,2).toUpperCase()})]})]})]}),n.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8 flex flex-col",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsx(Rh,{segments:w(t)}),n.jsx("div",{children:s})]}),n.jsx(Nc,{})]})]})]})},$D=t=>{const e=t.replace(/[^0-9]/g,"");return e?Number(e):0},qD=t=>t.toLocaleString("pl-PL",{style:"currency",currency:"PLN",maximumFractionDigits:0}),VD=({onNavigate:t})=>{var g;const e=new Set(kt.map(y=>y.email)).size,s=Pn.length,a=kt.reduce((y,v)=>{const w=v.company||"Indywidualny";return y[w]=(y[w]||0)+1,y},{}),i=Object.keys(a).length,o=Pn.reduce((y,v)=>(y[v.id]=$D(v.price),y),{}),c=kt.reduce((y,v)=>y+(o[v.course]||0),0),u=Object.entries(a).map(([y,v])=>({name:y,count:v})).sort((y,v)=>v.count-y.count).slice(0,4),h=kt.filter(y=>y.status==="active").length,m=kt.filter(y=>y.status==="warning").length,p=kt.filter(y=>y.status==="expired").length;return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Panel Administratora"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Witaj  podgld demo. Oto co dzieje si dzi na platformie."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"flex items-center gap-2 bg-white text-slate-700 px-4 py-2 rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50 transition text-sm font-medium",children:[n.jsx(ea,{size:16}),"Eksportuj raport"]}),n.jsxs("button",{className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition text-sm font-medium",onClick:()=>t("courses"),children:[n.jsx(pw,{size:16}),"Dodaj szkolenie"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 border-blue-500 hover:shadow-md transition",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Uytkownicy"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:e})]}),n.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:n.jsx(Zs,{size:18,className:"text-blue-500"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsxs("span",{className:"text-slate-500 font-medium",children:["Aktywne zapisy: ",h]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 border-green-500 hover:shadow-md transition",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Szkolenia"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:s})]}),n.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:n.jsx(rs,{size:18,className:"text-green-500"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsxs("span",{className:"text-slate-500 font-medium",children:["Zapisw ostrzegawczych: ",m]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 border-purple-500 hover:shadow-md transition",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Firmy"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:i})]}),n.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:n.jsx(Gs,{size:18,className:"text-purple-500"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsxs("span",{className:"text-slate-500 font-medium",children:["Najwicej zapisw: ",((g=u[0])==null?void 0:g.name)||"-"]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 border-brand-accent hover:shadow-md transition",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Przychd"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:qD(c)})]}),n.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:n.jsx(wi,{size:18,className:"text-brand-accent"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsxs("span",{className:"text-slate-500 font-medium",children:["Wygase zapisy: ",p]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Popularno kursw"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Zestawienie wg kategorii"})]}),n.jsxs("div",{className:"relative h-64 w-full flex items-end justify-between px-2 pt-10 pb-4",children:[n.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none pb-4 pt-10",children:[n.jsx("div",{className:"w-full border-t border-slate-100 border-dashed"}),n.jsx("div",{className:"w-full border-t border-slate-100 border-dashed"}),n.jsx("div",{className:"w-full border-t border-slate-100 border-dashed"}),n.jsx("div",{className:"w-full border-t border-slate-100 border-dashed"}),n.jsx("div",{className:"w-full border-b border-slate-200"})]}),jw.map(y=>n.jsxs("div",{className:"relative flex flex-col items-center group w-1/6",children:[n.jsx("div",{className:"w-full mx-2 bg-brand-primary/20 h-40 rounded-t-sm group-hover:bg-brand-primary/30 transition-all relative",children:n.jsx("div",{className:"absolute bottom-0 left-0 right-0 rounded-t-sm transition-all",style:{height:`${y.value*1.8}px`,backgroundColor:y.color}})}),n.jsx("span",{className:"text-xs text-slate-500 mt-2",children:y.name})]},y.name))]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Najaktywniejsze firmy"}),n.jsx("button",{className:"text-xs text-brand-accent hover:text-brand-accentHover font-medium",onClick:()=>t("companies"),children:"Zobacz wszystkie"})]}),n.jsx("ul",{className:"space-y-4",children:u.map(y=>n.jsxs("li",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:y.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[y.count," zapisw"]})]}),n.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["#",y.count]})]},y.name))})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Zarzdzanie systemem"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>t("users"),className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-brand-accent group transition shadow-sm",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-orange-50 transition",children:n.jsx(Zs,{size:16,className:"text-slate-600 group-hover:text-brand-accent"})}),n.jsx("span",{className:"font-medium text-sm text-slate-700",children:"Zarzdzaj uytkownikami"})]}),n.jsxs("button",{onClick:()=>t("courses"),className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-brand-accent group transition shadow-sm",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-orange-50 transition",children:n.jsx(rs,{size:16,className:"text-slate-600 group-hover:text-brand-accent"})}),n.jsx("span",{className:"font-medium text-sm text-slate-700",children:"Zarzdzaj szkoleniami"})]}),n.jsxs("button",{onClick:()=>t("companies"),className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-brand-accent group transition shadow-sm",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-orange-50 transition",children:n.jsx(Gs,{size:16,className:"text-slate-600 group-hover:text-brand-accent"})}),n.jsx("span",{className:"font-medium text-sm text-slate-700",children:"Zarzdzaj firmami"})]}),n.jsxs("button",{onClick:()=>t("settings"),className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-brand-accent group transition shadow-sm",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-orange-50 transition",children:n.jsx(Cn,{size:16,className:"text-slate-600 group-hover:text-brand-accent"})}),n.jsx("span",{className:"font-medium text-sm text-slate-700",children:"Ustawienia systemu"})]})]})]})]})},WD=t=>t.trim().toLowerCase().replace(//g,"a").replace(//g,"c").replace(//g,"e").replace(//g,"l").replace(//g,"n").replace(//g,"o").replace(//g,"s").replace(//g,"z").replace(//g,"z").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),yk=({course:t,onBack:e,onSave:s,onPreview:a,onDelete:i,mode:o="admin",intent:c="edit"})=>{const[u,h]=O.useState(t),m=O.useRef(null),p=O.useRef(null),[g,y]=O.useState((t==null?void 0:t.status)||(c==="create"?"draft":"published")),[v,w]=O.useState(""),[N,k]=O.useState(""),[z,E]=O.useState(""),[R,H]=O.useState(""),[I,W]=O.useState(""),[$,Y]=O.useState(!0),T=P=>new Promise((M,D)=>{const Z=new FileReader;Z.onerror=()=>D(new Error("Nie udao si odczyta pliku.")),Z.onload=()=>M(String(Z.result||"")),Z.readAsDataURL(P)});if(O.useEffect(()=>{h(t),W((t==null?void 0:t.description)||""),k((t==null?void 0:t.seoTitle)||""),E((t==null?void 0:t.seoDescription)||""),H((t==null?void 0:t.seoImage)||""),y((t==null?void 0:t.status)||(c==="create"?"draft":"published"))},[t,c]),!u)return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[n.jsx("p",{className:"text-slate-500",children:"Nie znaleziono szkolenia."}),n.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Wr"})]});const ee=(P,M)=>{const D=(P||"").trim().length,Z=D>=M.min&&D<=M.max,ce=D<M.min,Te=D>M.max,C=M.min===0?100:Math.min(100,Math.round(D/M.min*100)),K=ce?C:100,L=Z?{bar:"bg-emerald-500",text:"text-emerald-700"}:Te?{bar:"bg-rose-500",text:"text-rose-700"}:{bar:"bg-amber-500",text:"text-amber-700"},X=Z?"OK":ce?"Za krtki":"Za dugi",de=ce?`${D}/${M.min} do minimum`:Te?`${D} znakw (max ${M.max})`:`${D} znakw`;return{length:D,barPercent:K,inRange:Z,statusText:X,toneClasses:L,helperText:`Rekomendowane: ${M.min}${M.max} znakw.`,ariaLabel:`${M.label}: ${D} znakw. ${X}.`,secondaryText:de}},J=ee(N,{min:50,max:60,label:"Meta tytu"}),xe=ee(z,{min:150,max:160,label:"Meta opis"}),be=WD(u.title||"szkolenie"),ae=kn.filter(P=>P.courseId===u.id);return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col gap-3",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsx("div",{children:n.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex flex-wrap items-center gap-3",children:[n.jsx("span",{children:c==="create"?"Dodawanie szkolenia":`Edycja szkolenia: "${u.title}"`}),n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold align-middle ${g==="published"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600"}`,children:g==="published"?"Opublikowany":"Wersja robocza"})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-700 font-semibold",children:[n.jsx(Bl,{size:16})," Wr"]}),n.jsxs("button",{onClick:()=>a(u.id),className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-700 font-semibold",children:[n.jsx(bc,{size:16})," Podgld"]}),i&&n.jsxs("button",{onClick:()=>{window.confirm(`Czy na pewno usun szkolenie: ${u.title}?`)&&(i(u.id),e())},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition font-semibold",children:[n.jsx(Vr,{size:16})," Usu"]}),n.jsxs("button",{onClick:()=>s({...u,status:g,seoTitle:N,seoDescription:z,seoImage:R}),className:"flex items-center gap-2 px-4 py-2 bg-brand-accent text-white rounded-lg shadow hover:bg-brand-accentHover transition font-semibold",children:[n.jsx(Ti,{size:16})," Zapisz zmiany"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr_360px] gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"p-6 border-b border-slate-100",children:[n.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Szczegy podstawowe"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Podstawowe informacje wywietlane na karcie szkolenia."})]}),n.jsxs("div",{className:"p-6 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Tytu szkolenia"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:u.title,onChange:P=>h({...u,title:P.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Link (slug URL)"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2",children:"multiserwis.pl/szkolenia/"}),n.jsx("input",{className:"flex-1 px-4 py-2 border border-slate-200 rounded-lg bg-slate-50 text-slate-700",value:be,readOnly:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Krtki opis"}),n.jsx("textarea",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg min-h-[120px] focus:outline-none focus:ring-2 focus:ring-brand-primary",value:u.description||"",onChange:P=>h({...u,description:P.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Peny opis"}),n.jsx(UD,{content:I,onChange:W})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Program szkolenia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Zarzdzaj moduami i lekcjami."})]}),n.jsxs("button",{className:"flex items-center gap-2 text-brand-accent hover:text-brand-accentHover font-semibold",type:"button",title:"Dodaj modu (UI)",children:[n.jsx(yx,{size:16})," Dodaj modu"]})]}),n.jsx("div",{className:"p-6 space-y-4",children:ae.length===0?n.jsx("div",{className:"text-sm text-slate-500",children:"Brak zdefiniowanego programu dla tego szkolenia (na razie)."}):ae.map((P,M)=>n.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-slate-50 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold text-slate-800",children:["Modu ",M+1,": ",P.title]}),n.jsxs("div",{className:"text-xs text-slate-500",children:[P.lessons.length," lekcji"]})]}),n.jsx("button",{type:"button",className:"text-xs font-semibold text-slate-600 hover:text-slate-900",children:"Zwi/rozwi"})]}),n.jsxs("div",{className:"p-4 space-y-2",children:[P.lessons.map(D=>n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-md bg-white border border-slate-100",children:[n.jsx("div",{className:"text-sm text-slate-800 font-medium",children:D.title}),n.jsx("div",{className:"text-xs text-slate-500",children:D.duration})]},D.id)),n.jsx("button",{type:"button",className:"w-full px-3 py-2 border border-dashed border-slate-300 rounded-md text-sm font-semibold text-brand-accent hover:bg-brand-accent/5",children:"+ Dodaj lekcj"})]})]},P.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"p-6 border-b border-slate-100",children:[n.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Ustawienia SEO"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Ustawienia SEO dla szkolenia."})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Meta tytu"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg",value:N,onChange:P=>k(P.target.value),placeholder:"Np. Szkolenie Bezpieczestwa IT - Certyfikat"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:J.helperText}),n.jsxs("div",{className:"mt-1 flex items-center justify-between gap-3",children:[n.jsx("div",{className:"h-2 flex-1 bg-slate-100 rounded-full overflow-hidden","aria-label":J.ariaLabel,children:n.jsx("div",{className:`h-full ${J.toneClasses.bar}`,style:{width:`${J.barPercent}%`}})}),n.jsxs("div",{className:`text-[11px] font-semibold ${J.toneClasses.text} whitespace-nowrap`,children:[J.secondaryText,"  ",J.statusText]})]})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Meta opis"}),n.jsx("textarea",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg resize-y",rows:3,value:z,onChange:P=>E(P.target.value),placeholder:"Krtki opis do wyszukiwarki..."}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:xe.helperText}),n.jsxs("div",{className:"mt-1 flex items-center justify-between gap-3",children:[n.jsx("div",{className:"h-2 flex-1 bg-slate-100 rounded-full overflow-hidden","aria-label":xe.ariaLabel,children:n.jsx("div",{className:`h-full ${xe.toneClasses.bar}`,style:{width:`${xe.barPercent}%`}})}),n.jsxs("div",{className:`text-[11px] font-semibold ${xe.toneClasses.text} whitespace-nowrap`,children:[xe.secondaryText,"  ",xe.statusText]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Miniatura SEO"}),n.jsx("input",{ref:p,type:"file",accept:"image/*",className:"hidden",onChange:async P=>{var D;const M=(D=P.target.files)==null?void 0:D[0];if(M)try{if(M.size>6*1024*1024){window.alert("Plik jest za duy (max 6MB).");return}const Z=await T(M);H(Z)}finally{P.target.value=""}}}),n.jsx("div",{role:"button",tabIndex:0,onClick:()=>{var P;return(P=p.current)==null?void 0:P.click()},onKeyDown:P=>{var M;(P.key==="Enter"||P.key===" ")&&((M=p.current)==null||M.click())},className:"border-2 border-dashed border-slate-300 rounded-lg p-4 bg-slate-50 hover:bg-slate-100 transition cursor-pointer",title:"Kliknij aby wgra miniatur SEO",children:R?n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:R,alt:"Miniatura SEO",className:"w-full h-32 object-cover rounded-md border border-slate-200 bg-white"}),n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Kliknij aby podmieni  Rekomendowane: 1200630  WEBP (zalecane), PNG/JPG"}),n.jsx("button",{type:"button",onClick:P=>{P.preventDefault(),P.stopPropagation(),H("")},className:"text-xs font-semibold text-rose-700 hover:text-rose-900",children:"Usu"})]})]}):n.jsxs("div",{children:[n.jsx("div",{className:"h-24 flex items-center justify-center text-sm text-slate-500",children:"Kliknij aby wgra obrazek SEO"}),n.jsx("div",{className:"text-[11px] text-slate-500 mt-2",children:"Rekomendowany rozmiar: 1200630  WEBP (zalecane), PNG/JPG"})]})})]}),o==="manager"&&n.jsx("div",{className:"text-xs text-slate-500",children:"Uwaga: Meneder moe edytowa szkolenia, ale nie zarzdza uprawnieniami systemowymi."})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsx("div",{className:"p-5 border-b border-slate-100",children:n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Ustawienia szkolenia"})}),n.jsxs("div",{className:"p-5 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",value:g,onChange:P=>y(P.target.value),children:[n.jsx("option",{value:"published",children:"Opublikowany"}),n.jsx("option",{value:"draft",children:"Wersja robocza"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Kategoria"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",value:u.category,onChange:P=>h({...u,category:P.target.value}),children:[n.jsx("option",{value:"UDT",children:"UDT"}),n.jsx("option",{value:"SEP",children:"SEP"}),n.jsx("option",{value:"BHP",children:"BHP"}),n.jsx("option",{value:"Inne",children:"Inne"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Cena regularna"}),n.jsxs("div",{className:"flex items-stretch border border-slate-200 rounded-lg overflow-hidden bg-white",children:[n.jsx("input",{className:"flex-1 px-3 py-2 focus:outline-none",inputMode:"decimal",placeholder:"0",value:(u.price||"").replace(/[^\d.,]/g,""),onChange:P=>h({...u,price:P.target.value.replace(/[^\d.,]/g,"")})}),n.jsx("span",{className:"px-3 py-2 text-sm text-slate-500 bg-slate-50 border-l border-slate-200",children:"PLN"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Cena promocyjna"}),n.jsxs("div",{className:"flex items-stretch border border-slate-200 rounded-lg overflow-hidden bg-white",children:[n.jsx("input",{className:"flex-1 px-3 py-2 focus:outline-none",inputMode:"decimal",placeholder:"Opcjonalnie",value:(u.promoPrice||"").replace(/[^\d.,]/g,""),onChange:P=>h({...u,promoPrice:P.target.value.replace(/[^\d.,]/g,"")})}),n.jsx("span",{className:"px-3 py-2 text-sm text-slate-500 bg-slate-50 border-l border-slate-200",children:"PLN"})]})]}),n.jsxs("label",{className:"flex items-start gap-3 p-4 bg-slate-50 border border-slate-200 rounded-lg cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:$,onChange:P=>Y(P.target.checked),className:"mt-1 w-4 h-4 accent-brand-accent"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-slate-800",children:"Generuj certyfikat ukoczenia"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Automatycznie wystaw certyfikat po ukoczeniu 100% szkolenia."})]})]}),n.jsxs("div",{className:"pt-2 text-xs text-slate-500",children:["Utworzono: ",n.jsx("span",{className:"font-semibold",children:"12.01.2024"}),n.jsx("br",{}),"Ostatnia edycja: ",n.jsx("span",{className:"font-semibold",children:"przed chwil"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsx("div",{className:"p-5 border-b border-slate-100",children:n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Media"})}),n.jsxs("div",{className:"p-5 space-y-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Okadka szkolenia"}),n.jsx("input",{ref:m,type:"file",accept:"image/*",className:"hidden",onChange:async P=>{var D;const M=(D=P.target.files)==null?void 0:D[0];if(M)try{if(M.size>6*1024*1024){window.alert("Plik jest za duy (max 6MB).");return}const Z=await T(M);h({...u,image:Z})}finally{P.target.value=""}}}),n.jsx("div",{role:"button",tabIndex:0,onClick:()=>{var P;return(P=m.current)==null?void 0:P.click()},onKeyDown:P=>{var M;(P.key==="Enter"||P.key===" ")&&((M=m.current)==null||M.click())},className:"border-2 border-dashed border-slate-300 rounded-lg p-4 bg-slate-50 hover:bg-slate-100 transition cursor-pointer",title:"Kliknij aby wgra okadk szkolenia",children:u.image?n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:u.image,alt:u.title,className:"w-full h-36 object-cover rounded-md border border-slate-200 bg-white"}),n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Kliknij aby podmieni  WEBP (zalecane), PNG/JPG  1600900"}),n.jsx("button",{type:"button",onClick:P=>{P.preventDefault(),P.stopPropagation(),h({...u,image:""})},className:"text-xs font-semibold text-rose-700 hover:text-rose-900",children:"Usu"})]})]}):n.jsxs("div",{children:[n.jsx("div",{className:"h-36 flex items-center justify-center text-sm text-slate-500",children:"Kliknij aby wgra okadk"}),n.jsx("div",{className:"text-[11px] text-slate-500 mt-2",children:"Rekomendowane: WEBP  Alternatywnie: PNG/JPG  Rekomendowany rozmiar: 1600900  max 6MB"})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Wideo promocyjne (URL)"}),n.jsx("input",{className:"w-full px-3 py-2 border border-slate-200 rounded-lg",value:v,onChange:P=>w(P.target.value),placeholder:"https://youtube.com/..."})]})]})]})]})]})]})},KD=({course:t,onBack:e,onSave:s,onPreview:a,intent:i})=>n.jsx(yk,{course:t,onBack:e,onSave:s,onPreview:a,mode:"admin",intent:i}),GD=t=>{const e=new Map;return t.forEach(s=>{const a=e.get(s.email);if(!a)e.set(s.email,{name:s.name,email:s.email,company:s.company||"Indywidualny",averageProgress:s.progress,coursesCount:1,courseIds:[s.course],status:s.status==="active"?"active":"inactive"});else{const i=a.averageProgress*a.coursesCount+s.progress,o=a.coursesCount+1;e.set(s.email,{...a,averageProgress:Math.round(i/o),coursesCount:o,courseIds:Array.from(new Set([...a.courseIds,s.course])),status:a.status==="active"||s.status==="active"?"active":"inactive"})}}),Array.from(e.values()).sort((s,a)=>s.name.localeCompare(a.name))},FD=t=>{var s,a,i;const e=t.trim().split(/\s+/).filter(Boolean);return(((s=e[0])==null?void 0:s[0])||"U")+(((a=e[1])==null?void 0:a[0])||((i=e[0])==null?void 0:i[1])||"")},Cp=({onViewUser:t,onEditUser:e,onDeleteUser:s,onAddClick:a,overrides:i,hiddenEmails:o=[],title:c="Uytkownicy",subtitle:u="Lista wszystkich uytkownikw przypisanych do kursw.",addButtonLabel:h="Dodaj uytkownika",searchPlaceholder:m="Szukaj uytkownika...",countLabel:p="UYTKOWNIKW",forcedCompany:g,students:y=kt,hideCompanyColumn:v=!1})=>{var Y;const[w,N]=O.useState(""),[k,z]=O.useState(null),[E,R]=O.useState("all"),[H,I]=O.useState(null),W=Pn.map(T=>({id:T.id,label:T.title})),$=O.useMemo(()=>{const T=GD(y).map(P=>{const M=i==null?void 0:i[P.email];return{...P,name:(M==null?void 0:M.name)||P.name,company:(M==null?void 0:M.company)||P.company}}),ee=o.length?T.filter(P=>!o.includes(P.email)):T,J=g||k,xe=J?ee.filter(P=>P.company===J):ee,be=E==="all"?xe:xe.filter(P=>P.courseIds.includes(E)),ae=w.trim().toLowerCase();return ae?be.filter(P=>`${P.name} ${P.email} ${P.company}`.toLowerCase().includes(ae)):be},[k,E,g,o,i,w,y]);return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:c}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:u})]}),n.jsxs("button",{className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition text-sm font-medium",onClick:()=>a==null?void 0:a(),disabled:!a,children:[n.jsx(CC,{size:16}),h]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 w-full md:max-w-3xl",children:[n.jsxs("div",{className:"relative w-full sm:max-w-sm",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:n.jsx(aa,{size:16})}),n.jsx("input",{className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm bg-slate-50 text-slate-700 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent w-full",placeholder:m,type:"text",value:w,onChange:T=>N(T.target.value)})]}),n.jsx("div",{className:"w-full sm:w-auto",children:n.jsxs("div",{className:"relative w-fit",children:[n.jsxs("select",{className:"appearance-none w-fit max-w-[260px] truncate pl-4 pr-10 py-2 border border-slate-200 rounded-lg text-sm bg-white text-slate-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent cursor-pointer",value:E,onChange:T=>R(T.target.value),"aria-label":"Filtruj po szkoleniu",title:E==="all"?"Wszystkie szkolenia":((Y=W.find(T=>T.id===E))==null?void 0:Y.label)||"",children:[n.jsx("option",{value:"all",children:"Wszystkie szkolenia"}),W.map(T=>n.jsx("option",{value:T.id,children:T.label},T.id))]}),n.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400",children:n.jsx(Ei,{size:16})})]})}),!g&&k&&n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 rounded-lg text-sm font-semibold whitespace-nowrap",children:[n.jsx(Gs,{size:14})," ",k,n.jsx("button",{onClick:()=>z(null),className:"p-1 rounded hover:bg-slate-200 transition","aria-label":"Usu filtr firmy",children:n.jsx(ac,{size:14})})]})]}),n.jsxs("div",{className:"text-right whitespace-nowrap",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900 leading-none",children:$.length}),n.jsx("div",{className:"text-xs font-semibold uppercase text-slate-500 mt-1",children:p})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:[n.jsx("th",{className:"px-4 py-3",children:"Uytkownik"}),!v&&n.jsx("th",{className:"px-4 py-3",children:"Firma"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Szkolenia"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"redni postp"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Akcje"})]})}),n.jsx("tbody",{children:$.map(T=>n.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>t==null?void 0:t(T.email),className:"h-16 w-16 rounded-md bg-slate-200 border border-slate-100 flex items-center justify-center font-bold text-slate-700 cursor-pointer","aria-label":"Podgld uytkownika",children:FD(T.name).toUpperCase()}),n.jsxs("div",{children:[n.jsx("button",{onClick:()=>t==null?void 0:t(T.email),className:"font-semibold text-slate-800 hover:text-brand-primary text-left",title:"Podgld profilu",children:T.name}),n.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[n.jsx(qa,{size:12})," ",T.email]})]})]})}),!v&&n.jsx("td",{className:"px-4 py-4 align-middle",children:g?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs font-bold",children:[n.jsx(Gs,{size:12})," ",T.company]}):n.jsxs("button",{onClick:()=>z(ee=>ee===T.company?null:T.company),className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs font-bold hover:bg-brand-primary hover:text-white transition-colors cursor-pointer",title:`Poka uytkownikw z firmy: ${T.company}`,children:[n.jsx(Gs,{size:12})," ",T.company]})}),n.jsx("td",{className:"px-4 py-4 text-slate-600 text-center",children:T.coursesCount}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"w-24 bg-slate-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-accent h-2 rounded-full",style:{width:`${T.averageProgress}%`}})}),n.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[T.averageProgress,"%"]})]})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${T.status==="active"?"bg-green-50 text-green-700":"bg-slate-100 text-slate-600"}`,children:T.status==="active"?"Aktywny":"Nieaktywny"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsxs("div",{className:"relative w-32 h-10 overflow-hidden",children:[n.jsx("div",{className:`absolute inset-0 flex items-center justify-end transition-all ease-in-out ${H===T.email&&s?"translate-x-0 opacity-100 duration-300":"translate-x-full opacity-0 duration-500"}`,children:n.jsxs("div",{className:"flex items-center gap-2 bg-red-50 border border-red-100 rounded-lg px-2 py-1 shadow-sm",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>{s(T.email),I(null)},className:"p-2 text-red-700 hover:bg-red-100 rounded-md transition","aria-label":"Potwierd usunicie",children:n.jsx(bx,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Potwierd"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>I(null),className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-md transition","aria-label":"Anuluj usunicie",children:n.jsx(ac,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Anuluj"})]})]})}),n.jsxs("div",{className:`absolute inset-0 flex items-center justify-end gap-2 transition-all ease-in-out ${H===T.email&&s?"translate-x-full opacity-0 duration-300":"translate-x-0 opacity-100 duration-500"}`,children:[n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>t==null?void 0:t(T.email),className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition","aria-label":"Podgld",children:n.jsx(bc,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Podgld"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>e==null?void 0:e(T.email),className:"p-2 text-brand-accent hover:text-brand-accentHover hover:bg-orange-50 rounded-lg transition","aria-label":"Edytuj",children:n.jsx(Ai,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Edytuj"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>I(T.email),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition","aria-label":"Usu",children:n.jsx(Vr,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Usu"})]})]})]})})})]},T.email))})]})})]})]})})},ZD=()=>{const t=new Map;return kt.forEach(e=>{const s=e.company||"Indywidualny",a=t.get(s);a?(a.enrollments+=1,a.totalProgress+=e.progress,a.users.add(e.email),a.courses.add(e.course),e.expirationDays>0&&(a.minActiveExpirationDays=a.minActiveExpirationDays===null?e.expirationDays:Math.min(a.minActiveExpirationDays,e.expirationDays))):t.set(s,{enrollments:1,totalProgress:e.progress,users:new Set([e.email]),courses:new Set([e.course]),firstEmail:e.email,minActiveExpirationDays:e.expirationDays>0?e.expirationDays:null})}),Array.from(t.entries()).map(([e,s])=>{const a=s.minActiveExpirationDays===null?"inactive":s.minActiveExpirationDays<=7?"expiring":"active";return{key:e,name:e,enrollments:s.enrollments,coursesCount:s.courses.size,averageProgress:Math.round(s.totalProgress/s.enrollments),uniqueUsers:s.users.size,contactUserEmail:s.firstEmail,status:a,expiresInDays:s.minActiveExpirationDays}}).sort((e,s)=>s.enrollments-e.enrollments)},YD=t=>{var s,a,i;const e=t.trim().split(/\s+/).filter(Boolean);return(((s=e[0])==null?void 0:s[0])||"F")+(((a=e[1])==null?void 0:a[0])||((i=e[0])==null?void 0:i[1])||"")},sw=({onViewCompany:t,onEditCompany:e,onDeleteCompany:s,onAddClick:a,overrides:i,hiddenCompanies:o=[]})=>{const[c,u]=O.useState(""),[h,m]=O.useState(null),p=O.useMemo(()=>{const g=ZD().map(k=>{const z=i==null?void 0:i[k.key];return{...k,contactUserEmail:(z==null?void 0:z.contactUserEmail)||k.contactUserEmail,name:(z==null?void 0:z.name)||k.name}}),y=[];i&&Object.keys(i).forEach(k=>{if(k==="Indywidualny"||g.some(E=>E.key===k))return;const z=i[k];y.push({key:k,name:(z==null?void 0:z.name)||k,enrollments:0,coursesCount:0,averageProgress:0,uniqueUsers:0,contactUserEmail:(z==null?void 0:z.contactUserEmail)||"",status:"inactive",expiresInDays:null})});const v=[...g,...y].sort((k,z)=>z.enrollments-k.enrollments),w=o.length?v.filter(k=>!o.includes(k.key)):v,N=c.trim().toLowerCase();return N?w.filter(k=>`${k.name} ${k.contactUserEmail}`.toLowerCase().includes(N)):w},[o,i,c]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Firmy"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Zestawienie firm korzystajcych z platformy."})]}),n.jsxs("button",{className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition text-sm font-medium",onClick:()=>a==null?void 0:a(),disabled:!a,children:[n.jsx(yx,{size:16}),"Dodaj firm"]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"relative w-full md:max-w-sm",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:n.jsx(aa,{size:16})}),n.jsx("input",{className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm bg-slate-50 text-slate-700 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent w-full",placeholder:"Szukaj firmy...",type:"text",value:c,onChange:g=>u(g.target.value)})]}),n.jsxs("div",{className:"text-right whitespace-nowrap",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900 leading-none",children:p.length}),n.jsx("div",{className:"text-xs font-semibold uppercase text-slate-500 mt-1",children:"FIRM"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:[n.jsx("th",{className:"px-4 py-3",children:"Firma"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Uytkownicy"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Szkolenia"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"redni postp"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Akcje"})]})}),n.jsx("tbody",{children:p.map(g=>n.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>t==null?void 0:t(g.key),className:"h-16 w-16 rounded-md bg-slate-200 border border-slate-100 flex items-center justify-center font-bold text-slate-700 cursor-pointer","aria-label":"Podgld firmy",children:YD(g.name).toUpperCase()}),n.jsxs("div",{children:[n.jsx("button",{onClick:()=>t==null?void 0:t(g.key),className:"font-semibold text-slate-800 hover:text-brand-primary text-left",title:"Podgld firmy",children:g.name}),n.jsx("div",{className:"text-xs text-slate-500",children:g.contactUserEmail||""})]})]})}),n.jsx("td",{className:"px-4 py-4 text-slate-600 text-center",children:g.uniqueUsers}),n.jsx("td",{className:"px-4 py-4 text-slate-600 text-center",children:g.coursesCount}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"w-24 bg-slate-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-accent h-2 rounded-full",style:{width:`${g.averageProgress}%`}})}),n.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[g.averageProgress,"%"]})]})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${g.status==="active"?"bg-green-50 text-green-700":g.status==="expiring"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-600"}`,title:g.status==="expiring"&&g.expiresInDays!==null?`Wyganie za ${g.expiresInDays} dni`:void 0,children:g.status==="active"?"Aktywny":g.status==="expiring"?"Wkrtce wyganie":"Nieaktywny"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsxs("div",{className:"relative w-32 h-10 overflow-hidden",children:[n.jsx("div",{className:`absolute inset-0 flex items-center justify-end transition-all ease-in-out ${h===g.key&&s?"translate-x-0 opacity-100 duration-300":"translate-x-full opacity-0 duration-500"}`,children:n.jsxs("div",{className:"flex items-center gap-2 bg-red-50 border border-red-100 rounded-lg px-2 py-1 shadow-sm",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>{s(g.key),m(null)},className:"p-2 text-red-700 hover:bg-red-100 rounded-md transition","aria-label":"Potwierd usunicie",children:n.jsx(bx,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Potwierd"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>m(null),className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-md transition","aria-label":"Anuluj usunicie",children:n.jsx(ac,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Anuluj"})]})]})}),n.jsxs("div",{className:`absolute inset-0 flex items-center justify-end gap-2 transition-all ease-in-out ${h===g.key&&s?"translate-x-full opacity-0 duration-300":"translate-x-0 opacity-100 duration-500"}`,children:[n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>t==null?void 0:t(g.key),className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition","aria-label":"Podgld",children:n.jsx(bc,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Podgld"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>e==null?void 0:e(g.key),className:"p-2 text-brand-accent hover:text-brand-accentHover hover:bg-orange-50 rounded-lg transition","aria-label":"Edytuj",children:n.jsx(Ai,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Edytuj"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>m(g.key),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition","aria-label":"Usu",children:n.jsx(Vr,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Usu"})]})]})]})})})]},g.key))})]})})]})]})},JD=t=>{const e=t.replace(/[^0-9]/g,"");return e?Number(e):0},_a=t=>t.toLocaleString("pl-PL",{style:"currency",currency:"PLN",maximumFractionDigits:2}),xc=t=>new Date(t).toLocaleString("pl-PL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),XD=(t,e,s)=>Math.max(e,Math.min(s,t)),px=t=>{let e=0;for(let s=0;s<t.length;s++)e=e*31+t.charCodeAt(s)>>>0;return e},vk=(t,e=180)=>{const s=new Date,a=px(t),i=a%e,o=a%1440,c=new Date(s.getTime());return c.setDate(s.getDate()-i),c.setHours(Math.floor(o/60)),c.setMinutes(o%60),c.setSeconds(0),c.setMilliseconds(0),c},QD=(t,e)=>{const s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=e,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(s)},eO=t=>{const e=t.length?Object.keys(t[0]):[],s=i=>{const o=String(i??""),c=/[;\n\r\"]/g.test(o),u=o.replace(/\"/g,'""');return c?`"${u}"`:u},a=[e.join(";")];for(const i of t)a.push(e.map(o=>s(i[o])).join(";"));return a.join(`\r
`)},xx={pending:"Oczekujca",completed:"Zrealizowana",cancelled:"Anulowana",refunded:"Zwrcona"},hh={card:"Karta patnicza",blik:"BLIK",transfer:"Przelew",paypal:"PayPal"},tO={completed:"bg-emerald-50 text-emerald-700 border-emerald-200",pending:"bg-amber-50 text-amber-700 border-amber-200",cancelled:"bg-slate-100 text-slate-700 border-slate-200",refunded:"bg-rose-50 text-rose-700 border-rose-200"},sO=(t,e)=>{const s=t.reduce((o,c)=>(o[c.id]=JD(c.price),o),{}),a=t.reduce((o,c)=>(o[c.id]=c.title,o),{}),i=["card","blik","transfer","paypal"];return e.map((o,c)=>{const u=vk(`${o.id}-${o.email}-${o.course}`).toISOString(),h=s[o.course]??0,m=i[c%i.length],p=o.status==="expired"||typeof o.expirationDays=="number"&&o.expirationDays<=0?"refunded":o.status==="warning"?"pending":"completed";return{id:`TX-${String(px(`${o.id}-${o.course}`)).slice(0,10)}`,createdAt:u,amountPln:h,status:p,method:m,customerName:o.name,customerEmail:o.email,customerCompany:o.company,orderId:`ORD-${String(px(`${o.email}-${o.course}`)).slice(0,8)}`,courseId:o.course,courseTitle:a[o.course]}})},nO=(t,e,s)=>!(typeof e=="number"&&t<e||typeof s=="number"&&t>s),h0=t=>{const e=new Date(t);return e.setHours(0,0,0,0),e},aO=t=>{const e=h0(t),s=e.getDay(),a=(s===0?-6:1)-s;return e.setDate(e.getDate()+a),e},lO=t=>{const e=h0(t);return e.setDate(1),e},iO=(t,e)=>t.toDateString()===e.toDateString(),vr=({active:t,icon:e,label:s,onClick:a})=>n.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-3 py-2 text-sm font-semibold border-b-2 transition-colors ${t?"border-brand-accent text-brand-accent":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[n.jsx("span",{className:t?"text-brand-accent":"text-slate-400",children:e}),s]}),Tn=({title:t,children:e,className:s})=>n.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-slate-200 ${s??""}`,children:[t?n.jsx("div",{className:"px-6 pt-5 pb-3",children:n.jsx("h2",{className:"text-base font-bold text-slate-800",children:t})}):null,n.jsx("div",{className:t?"px-6 pb-6":"p-6",children:e})]}),lu=({label:t,value:e,sub:s,icon:a,accentClass:i})=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 relative overflow-hidden",children:[n.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${i}`}),n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:t}),n.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-2",children:e}),s?n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s}):null]}),n.jsx("span",{className:"p-2 rounded-lg bg-slate-50 text-slate-500",children:a})]})]}),rO=({title:t,onClose:e,children:s})=>n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),n.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[n.jsx("div",{className:"text-base font-bold text-slate-800",children:t}),n.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-700 transition","aria-label":"Zamknij",children:n.jsx(Mr,{size:20})})]}),n.jsx("div",{className:"p-6",children:s})]})]}),oO=({transactions:t})=>{const e=new Date,s=h0(e),a=aO(e),i=lO(e),o=t.filter(z=>z.status==="completed"),c=t.filter(z=>z.status==="refunded"),u=z=>z.reduce((E,R)=>E+R.amountPln,0),h=u(o.filter(z=>iO(new Date(z.createdAt),e))),m=u(o.filter(z=>new Date(z.createdAt)>=a)),p=u(o.filter(z=>new Date(z.createdAt)>=i)),g=t.filter(z=>new Date(z.createdAt)>=s).length,y=o.length?u(o)/o.length:0,v=u(o)-u(c),w=O.useMemo(()=>{const z=[],E=new Date(e);E.setDate(1),E.setHours(0,0,0,0),E.setMonth(E.getMonth()-5);for(let R=0;R<6;R++){const H=new Date(E),I=new Date(E);I.setMonth(I.getMonth()+1);const W=H.toLocaleString("pl-PL",{month:"short"}).toUpperCase(),$=u(o.filter(Y=>{const T=new Date(Y.createdAt);return T>=H&&T<I}));z.push({label:W,value:$}),E.setMonth(E.getMonth()+1)}return z},[o]),N=Math.max(1,...w.map(z=>z.value)),k=O.useMemo(()=>{const z=t.length||1,E=t.reduce((R,H)=>(R[H.method]=(R[H.method]??0)+1,R),{card:0,blik:0,transfer:0,paypal:0});return Object.keys(E).map(R=>({id:R,label:hh[R],percent:Math.round(E[R]/z*100)})).sort((R,H)=>H.percent-R.percent)},[t]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(lu,{label:"Cakowity przychd",value:_a(p),sub:`Dzi: ${_a(h)}  Tydzie: ${_a(m)}`,icon:n.jsx(c1,{size:18}),accentClass:"bg-emerald-500"}),n.jsx(lu,{label:"Liczba transakcji",value:g.toLocaleString("pl-PL"),sub:"Ostatnie 24h",icon:n.jsx(wi,{size:18}),accentClass:"bg-blue-500"}),n.jsx(lu,{label:"rednia warto zamwienia",value:_a(y),sub:"Dla transakcji zrealizowanych",icon:n.jsx(cO,{}),accentClass:"bg-violet-500"}),n.jsx(lu,{label:"Bilans konta",value:_a(v),sub:"Zrealizowane minus zwroty",icon:n.jsx(c1,{size:18}),accentClass:"bg-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Tn,{title:"Trendy przychodw",className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Podsumowanie wpyww w cigu ostatnich 6 miesicy."}),n.jsxs("button",{className:"inline-flex items-center gap-2 text-sm text-slate-600 hover:text-slate-800",children:["Ostatnie 6 miesicy ",n.jsx(Ei,{size:16})]})]}),n.jsx("div",{className:"flex items-end gap-4 h-56",children:w.map(z=>n.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[n.jsx("div",{className:"w-full bg-slate-100 rounded-xl overflow-hidden flex items-end h-44",children:n.jsx("div",{className:"w-full bg-brand-accent/90",style:{height:`${Math.round(z.value/N*100)}%`},title:_a(z.value)})}),n.jsx("div",{className:"text-[11px] font-semibold text-slate-400 tracking-wider",children:z.label})]},z.label))})]}),n.jsxs(Tn,{title:"Metody patnoci",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Popularno metod w transakcjach."}),n.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Popularno"})]}),n.jsx("div",{className:"space-y-4",children:k.slice(0,4).map(z=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700",children:[n.jsx("span",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-500",children:n.jsx(ph,{size:16})}),z.label]}),n.jsxs("div",{className:"text-sm font-bold text-slate-800",children:[z.percent,"%"]})]}),n.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${z.percent}%`}})})]},z.id))}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{className:"text-sm font-semibold text-brand-accent hover:underline",children:"Zarzdzaj metodami "})})]})]})]})},cO=()=>n.jsx(wi,{size:18}),dO=({transactions:t,onExportCsv:e})=>{const[s,a]=O.useState("all"),[i,o]=O.useState("all"),[c,u]=O.useState(""),[h,m]=O.useState(""),[p,g]=O.useState(""),[y,v]=O.useState(""),[w,N]=O.useState(""),[k,z]=O.useState(null),E=O.useMemo(()=>{const R=c.trim().toLowerCase(),H=h?new Date(`${h}T00:00:00`):null,I=p?new Date(`${p}T23:59:59`):null,W=y?Number(y):void 0,$=w?Number(w):void 0;return t.filter(Y=>s==="all"?!0:Y.status===s).filter(Y=>i==="all"?!0:Y.method===i).filter(Y=>R?Y.id.toLowerCase().includes(R)||Y.orderId.toLowerCase().includes(R)||Y.customerName.toLowerCase().includes(R)||Y.customerEmail.toLowerCase().includes(R)||(Y.customerCompany??"").toLowerCase().includes(R)||(Y.courseTitle??"").toLowerCase().includes(R):!0).filter(Y=>H?new Date(Y.createdAt)>=H:!0).filter(Y=>I?new Date(Y.createdAt)<=I:!0).filter(Y=>nO(Y.amountPln,W,$)).sort((Y,T)=>new Date(T.createdAt).getTime()-new Date(Y.createdAt).getTime())},[t,s,i,c,h,p,y,w]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Tn,{children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:items-end lg:justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-bold text-slate-800",children:"Filtry"}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Zaw list po statusie, dacie, metodzie i kwocie."})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsxs("button",{onClick:()=>e(E),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm font-semibold text-slate-700 hover:bg-slate-50",children:[n.jsx($r,{size:16})," CSV"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3 mt-5",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Wyszukaj"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(aa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:c,onChange:R=>u(R.target.value),placeholder:"Szukaj transakcji, klienta lub zamwienia...",className:"w-full pl-9 pr-3 py-2 rounded-lg border border-slate-200 text-sm focus:outline-none focus:ring-2 focus:ring-brand-accent/30"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Status"}),n.jsxs("select",{value:s,onChange:R=>a(R.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"all",children:"Wszystkie"}),n.jsx("option",{value:"pending",children:"Oczekujce"}),n.jsx("option",{value:"completed",children:"Zrealizowane"}),n.jsx("option",{value:"cancelled",children:"Anulowane"}),n.jsx("option",{value:"refunded",children:"Zwrcone"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Metoda"}),n.jsxs("select",{value:i,onChange:R=>o(R.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"all",children:"Wszystkie"}),n.jsx("option",{value:"card",children:"Karta"}),n.jsx("option",{value:"blik",children:"BLIK"}),n.jsx("option",{value:"transfer",children:"Przelew"}),n.jsx("option",{value:"paypal",children:"PayPal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Od"}),n.jsx("input",{type:"date",value:h,onChange:R=>m(R.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Do"}),n.jsx("input",{type:"date",value:p,onChange:R=>g(R.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Kwota min"}),n.jsx("input",{inputMode:"numeric",value:y,onChange:R=>v(R.target.value),placeholder:"0",className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Kwota max"}),n.jsx("input",{inputMode:"numeric",value:w,onChange:R=>N(R.target.value),placeholder:"9999",className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]})]})]}),n.jsx(Tn,{title:`Transakcje (${E.length})`,children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"ID"}),n.jsx("th",{className:"py-3 text-left",children:"Data"}),n.jsx("th",{className:"py-3 text-left",children:"Klient"}),n.jsx("th",{className:"py-3 text-left",children:"Kwota"}),n.jsx("th",{className:"py-3 text-left",children:"Status"}),n.jsx("th",{className:"py-3 text-left",children:"Metoda"}),n.jsx("th",{className:"py-3 text-left",children:"Zamwienie"})]})}),n.jsxs("tbody",{children:[E.map(R=>n.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 cursor-pointer",onClick:()=>z(R),children:[n.jsx("td",{className:"py-3 font-semibold text-slate-800 whitespace-nowrap",children:R.id}),n.jsx("td",{className:"py-3 text-slate-600 whitespace-nowrap",children:xc(R.createdAt)}),n.jsxs("td",{className:"py-3",children:[n.jsx("div",{className:"font-semibold text-slate-800",children:R.customerName}),n.jsx("div",{className:"text-xs text-slate-500",children:R.customerEmail})]}),n.jsx("td",{className:"py-3 font-bold text-slate-800 whitespace-nowrap",children:_a(R.amountPln)}),n.jsx("td",{className:"py-3",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full border text-xs font-semibold ${tO[R.status]}`,children:[R.status==="completed"?n.jsx(Cr,{size:14}):null,R.status==="pending"?n.jsx(fh,{size:14}):null,R.status==="cancelled"?n.jsx(Mr,{size:14}):null,R.status==="refunded"?n.jsx(vx,{size:14}):null,xx[R.status]]})}),n.jsx("td",{className:"py-3 text-slate-700 whitespace-nowrap",children:hh[R.method]}),n.jsx("td",{className:"py-3 text-slate-600 whitespace-nowrap",children:R.orderId})]},R.id)),E.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-10 text-center text-slate-500",children:"Brak transakcji speniajcych kryteria."})}):null]})]})})}),k?n.jsxs(rO,{title:`Szczegy transakcji ${k.id}`,onClose:()=>z(null),children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Dane"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Data:"})," ",xc(k.createdAt)]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Kwota:"})," ",_a(k.amountPln)]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Status:"})," ",xx[k.status]]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Metoda:"})," ",hh[k.method]]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Zamwienie:"})," ",k.orderId]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Klient"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Imi i nazwisko:"})," ",k.customerName]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Email:"})," ",k.customerEmail]}),k.customerCompany?n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Firma:"})," ",k.customerCompany]}):null,k.courseTitle?n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Szkolenie:"})," ",k.courseTitle]}):null]})]}),n.jsx("div",{className:"pt-5 flex gap-2 justify-end",children:n.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 rounded-lg border border-slate-200 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Zamknij"})})]}):null]})},uO=()=>{const[t,e]=O.useState([{id:"card",label:"Karty patnicze",active:!0,order:1,mode:"production",feePercent:1.49},{id:"blik",label:"BLIK",active:!0,order:2,mode:"production",feePercent:1.2},{id:"transfer",label:"Przelewy24 / Przelew",active:!0,order:3,mode:"test",feePercent:1},{id:"paypal",label:"PayPal",active:!1,order:4,mode:"test",feePercent:2.9}]),[s,a]=O.useState("card"),[i,o]=O.useState(null),c=O.useMemo(()=>[...t].sort((g,y)=>g.order-y.order),[t]),u=t.find(g=>g.id===s)||t[0],h=(g,y)=>{e(v=>v.map(w=>w.id===g?{...w,...y}:w))},m=(g,y)=>{e(v=>{const w=[...v].sort((H,I)=>H.order-I.order),N=w.findIndex(H=>H.id===g),k=N+y;if(N<0||k<0||k>=w.length)return v;const z=w[N],E=w[k];return w.map(H=>H.id===z.id?{...H,order:E.order}:H.id===E.id?{...H,order:z.order}:H)})},p=()=>{o(new Date().toISOString()),window.setTimeout(()=>o(null),3500)};return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(Tn,{title:"Metody patnoci",className:"lg:col-span-1",children:n.jsx("div",{className:"space-y-3",children:c.map(g=>n.jsx("button",{onClick:()=>a(g.id),className:`w-full text-left p-4 rounded-xl border transition ${s===g.id?"border-brand-accent bg-orange-50/40":"border-slate-200 hover:bg-slate-50"}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-slate-800",children:g.label}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[g.active?"Aktywna":"Nieaktywna","  Tryb: ",g.mode==="test"?"testowy":"produkcyjny"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full border font-semibold ${g.active?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-slate-100 text-slate-700 border-slate-200"}`,children:g.active?"ON":"OFF"}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("button",{onClick:y=>{y.stopPropagation(),m(g.id,-1)},className:"p-1 rounded hover:bg-slate-100 text-slate-500","aria-label":"Przenie w gr",children:n.jsx(Gz,{size:14})}),n.jsx("button",{onClick:y=>{y.stopPropagation(),m(g.id,1)},className:"p-1 rounded hover:bg-slate-100 text-slate-500","aria-label":"Przenie w d",children:n.jsx($z,{size:14})})]})]})]})},g.id))})}),n.jsxs(Tn,{title:"Konfiguracja",className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-800",children:u.label}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"To jest UI demo. Klucze API nie s nigdzie wysyane ani zapisywane na serwerze."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:u.active,onChange:g=>h(u.id,{active:g.target.checked})}),"Aktywna"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Tryb"}),n.jsxs("select",{value:u.mode,onChange:g=>h(u.id,{mode:g.target.value}),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"test",children:"Testowy"}),n.jsx("option",{value:"production",children:"Produkcyjny"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Opata (%)"}),n.jsx("input",{inputMode:"decimal",value:String(u.feePercent),onChange:g=>h(u.id,{feePercent:XD(Number(g.target.value||0),0,99)}),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Public key"}),n.jsx("input",{value:u.publicKey??"",onChange:g=>h(u.id,{publicKey:g.target.value}),placeholder:"pk_live_...",className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Secret key"}),n.jsx("input",{type:"password",value:u.secretKey??"",onChange:g=>h(u.id,{secretKey:g.target.value}),placeholder:"",className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Limit min (PLN)"}),n.jsx("input",{inputMode:"numeric",value:u.limitMinPln??"",onChange:g=>h(u.id,{limitMinPln:g.target.value?Number(g.target.value):void 0}),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Limit max (PLN)"}),n.jsx("input",{inputMode:"numeric",value:u.limitMaxPln??"",onChange:g=>h(u.id,{limitMaxPln:g.target.value?Number(g.target.value):void 0}),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]})]}),n.jsxs("div",{className:"pt-6 flex items-center justify-between gap-4",children:[i?n.jsx("div",{className:"text-sm text-emerald-700 font-semibold",children:"Zapisano konfiguracj (lokalnie)."}):n.jsx("div",{className:"text-xs text-slate-500",children:"Zmiany s zapisywane wycznie w pamici przegldarki (demo)."}),n.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg bg-brand-accent text-white text-sm font-semibold hover:bg-orange-600",children:"Zapisz konfiguracj"})]})]})]})},hO=()=>{const[t,e]=O.useState(""),[s,a]=O.useState(""),[i,o]=O.useState("method"),[c,u]=O.useState(!1),[h,m]=O.useState(null);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Tn,{title:"Generowanie raportu",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Od"}),n.jsx("input",{type:"date",value:t,onChange:p=>e(p.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Do"}),n.jsx("input",{type:"date",value:s,onChange:p=>a(p.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Grupowanie"}),n.jsxs("select",{value:i,onChange:p=>o(p.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"method",children:"Metoda patnoci"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"day",children:"Dzie"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>m(new Date().toISOString()),className:"w-full px-4 py-2 rounded-lg bg-brand-accent text-white text-sm font-semibold hover:bg-orange-600",children:"Generuj raport"})})]}),n.jsxs("div",{className:"mt-5 flex items-center justify-between gap-4",children:[n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:c,onChange:p=>u(p.target.checked)}),"Zaplanuj raport cykliczny (demo)"]}),h?n.jsxs("div",{className:"text-xs text-slate-500",children:["Ostatnio wygenerowano: ",xc(h)]}):null]})]}),n.jsx(Tn,{title:"Raporty",children:n.jsx("div",{className:"text-sm text-slate-600",children:"To jest placeholder pod: analiza konwersji, podatki/VAT, raporty per metoda i okres. Po podpiciu backendu podepniemy prawdziwe dane i pobieranie plikw PDF."})})]})},fO=()=>{const t=O.useMemo(()=>Array.from({length:8}).map((e,s)=>{const a=vk(`inv-${s}`,120);return{number:`FV/${a.getFullYear()}/${String(s+1).padStart(4,"0")}`,createdAt:a.toISOString(),client:["LogiTrans Sp. z o.o.","Budimex S.A.","DHL Supply Chain","Indywidualny"][s%4],amount:450+s%5*150,status:s%3===0?"Wystawiona":s%3===1?"Opacona":"Oczekuje"}}),[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Tn,{title:"Faktury",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Historia wystawionych dokumentw (demo)."}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-brand-accent text-white text-sm font-semibold hover:bg-orange-600",children:[n.jsx(vw,{size:16})," Wystaw faktur"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Numer"}),n.jsx("th",{className:"py-3 text-left",children:"Data"}),n.jsx("th",{className:"py-3 text-left",children:"Klient"}),n.jsx("th",{className:"py-3 text-left",children:"Kwota"}),n.jsx("th",{className:"py-3 text-left",children:"Status"}),n.jsx("th",{className:"py-3 text-left",children:"Akcje"})]})}),n.jsx("tbody",{children:t.map(e=>n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 font-semibold text-slate-800 whitespace-nowrap",children:e.number}),n.jsx("td",{className:"py-3 text-slate-600 whitespace-nowrap",children:xc(e.createdAt)}),n.jsx("td",{className:"py-3 text-slate-700",children:e.client}),n.jsx("td",{className:"py-3 font-bold text-slate-800 whitespace-nowrap",children:_a(e.amount)}),n.jsx("td",{className:"py-3 text-slate-700",children:e.status}),n.jsx("td",{className:"py-3",children:n.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm font-semibold text-slate-700 hover:bg-slate-50",children:[n.jsx(ea,{size:16})," PDF"]})})]},e.number))})]})})]}),n.jsx(Tn,{title:"Szablony i numeracja",children:n.jsx("div",{className:"text-sm text-slate-600",children:"Placeholder pod: automatyczna numeracja, wybr szablonu, logo na fakturze, eksport PDF."})})]})},mO=()=>{const[t,e]=O.useState("PLN"),[s,a]=O.useState("23"),[i,o]=O.useState("MultiSerwis"),[c,u]=O.useState(""),[h,m]=O.useState(!0),[p,g]=O.useState(null),y=()=>{g(new Date().toISOString()),window.setTimeout(()=>g(null),3500)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Tn,{title:"Ustawienia",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Waluta"}),n.jsxs("select",{value:t,onChange:v=>e(v.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"PLN",children:"PLN"}),n.jsx("option",{value:"EUR",children:"EUR"}),n.jsx("option",{value:"USD",children:"USD"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Stawka VAT (%)"}),n.jsx("input",{inputMode:"numeric",value:s,onChange:v=>a(v.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Nazwa firmy (do faktur)"}),n.jsx("input",{value:i,onChange:v=>o(v.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"NIP"}),n.jsx("input",{value:c,onChange:v=>u(v.target.value),className:"mt-1 w-full px-3 py-2 rounded-lg border border-slate-200 text-sm"})]})]}),n.jsxs("div",{className:"mt-5 flex items-center justify-between gap-4",children:[n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-700",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:v=>m(v.target.checked)}),"Powiadomienia email o transakcjach"]}),n.jsx("button",{onClick:y,className:"px-4 py-2 rounded-lg bg-brand-accent text-white text-sm font-semibold hover:bg-orange-600",children:"Zapisz ustawienia"})]}),p?n.jsx("div",{className:"mt-4 text-sm text-emerald-700 font-semibold",children:"Zapisano (demo)."}):null]}),n.jsx(Tn,{title:"Limity i zabezpieczenia",children:n.jsx("div",{className:"text-sm text-slate-600",children:"Placeholder pod: limity transakcji, whitelisty IP, zabezpieczenia, logi zdarze."})})]})},wk=({role:t,courses:e,students:s})=>{const[a,i]=O.useState("dashboard"),[o,c]=O.useState(""),u=O.useMemo(()=>sO(e,s),[e,s]),h=m=>{const p=eO(m.map(g=>({ID:g.id,Data:xc(g.createdAt),"Kwota (PLN)":g.amountPln,Status:xx[g.status],"Metoda patnoci":hh[g.method],Klient:g.customerName,Email:g.customerEmail,Firma:g.customerCompany??"",Zamwienie:g.orderId,Szkolenie:g.courseTitle??""})));QD(new Blob([p],{type:"text/csv;charset=utf-8"}),`transakcje-${new Date().toISOString().slice(0,10)}.csv`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Centrum Zarzdzania Finansami"}),n.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Monitorowanie przychodw, patnoci i kondycji finansowej platformy.",t==="manager"?" (Widok Managera)":""]})]}),n.jsx("div",{className:"flex-1 xl:max-w-xl",children:n.jsxs("div",{className:"relative",children:[n.jsx(aa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:o,onChange:m=>c(m.target.value),placeholder:"Szukaj transakcji, faktury lub klienta...",className:"w-full pl-9 pr-3 py-2.5 rounded-xl border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-brand-accent/30"})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>h(u),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-sm font-semibold text-slate-700 hover:bg-slate-50",children:[n.jsx($r,{size:16})," Eksportuj"]}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-brand-accent text-white text-sm font-semibold hover:bg-orange-600",title:"(Demo)",children:[n.jsx(wi,{size:16})," Nowa transakcja"]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4",children:[n.jsx(vr,{active:a==="dashboard",icon:n.jsx(wi,{size:16}),label:"Dashboard",onClick:()=>i("dashboard")}),n.jsx(vr,{active:a==="transactions",icon:n.jsx(bw,{size:16}),label:"Transakcje",onClick:()=>i("transactions")}),n.jsx(vr,{active:a==="payment-methods",icon:n.jsx(ph,{size:16}),label:"Metody patnoci",onClick:()=>i("payment-methods")}),n.jsx(vr,{active:a==="invoices",icon:n.jsx(vw,{size:16}),label:"Faktury",onClick:()=>i("invoices")}),n.jsx(vr,{active:a==="reports",icon:n.jsx(ea,{size:16}),label:"Raporty",onClick:()=>i("reports")}),n.jsx(vr,{active:a==="settings",icon:n.jsx(Cn,{size:16}),label:"Ustawienia",onClick:()=>i("settings")})]})}),n.jsxs("div",{children:[a==="dashboard"?n.jsx(oO,{transactions:u}):null,a==="transactions"?n.jsx(dO,{transactions:u.filter(m=>{const p=o.trim().toLowerCase();return p?m.id.toLowerCase().includes(p)||m.orderId.toLowerCase().includes(p)||m.customerName.toLowerCase().includes(p)||m.customerEmail.toLowerCase().includes(p)||(m.customerCompany??"").toLowerCase().includes(p)||(m.courseTitle??"").toLowerCase().includes(p):!0}),onExportCsv:h}):null,a==="payment-methods"?n.jsx(uO,{}):null,a==="reports"?n.jsx(hO,{}):null,a==="invoices"?n.jsx(fO,{}):null,a==="settings"?n.jsx(mO,{}):null]})]})},pO=({courses:t,students:e})=>n.jsx(wk,{role:"admin",courses:t,students:e}),Mp=t=>t.toLocaleDateString("pl-PL",{year:"numeric",month:"2-digit",day:"2-digit"}),Ba=t=>new Date(t).toLocaleString("pl-PL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Hn=t=>{const e=Math.floor(t/60),s=t%60;return`${e}h ${String(s).padStart(2,"0")}m`},xO=t=>{let e=0;for(let s=0;s<t.length;s++)e=e*31+t.charCodeAt(s)>>>0;return e},Ke=t=>xO(t)%1e3/1e3,Dr=(t,e)=>{const s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=e,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(s)},Or=t=>{const e=t.length?Object.keys(t[0]):[],s=i=>{const o=String(i??""),c=/[;\n\r\"]/g.test(o),u=o.replace(/\"/g,'""');return c?`"${u}"`:u},a=[e.join(";")];for(const i of t)a.push(e.map(o=>s(i[o])).join(";"));return a.join(`\r
`)},Ee=({title:t,children:e,className:s,right:a})=>n.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-slate-200 ${s??""}`,children:[t?n.jsxs("div",{className:"px-6 pt-5 pb-3 flex items-center justify-between gap-4",children:[n.jsx("h2",{className:"text-base font-bold text-slate-800",children:t}),a]}):null,n.jsx("div",{className:t?"px-6 pb-6":"p-6",children:e})]}),ks=({active:t,icon:e,label:s,onClick:a})=>n.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-3 py-2 text-sm font-semibold border-b-2 transition-colors ${t?"border-brand-accent text-brand-accent":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[n.jsx("span",{className:t?"text-brand-accent":"text-slate-400",children:e}),s]}),Ze=({tone:t,children:e})=>{const s={green:"bg-emerald-50 text-emerald-700 border-emerald-200",amber:"bg-amber-50 text-amber-700 border-amber-200",red:"bg-rose-50 text-rose-700 border-rose-200",slate:"bg-slate-100 text-slate-700 border-slate-200"};return n.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full border text-xs font-semibold ${s[t]}`,children:e})},kc=({title:t,subtitle:e,rangeLabel:s,generatedAt:a,onBack:i,onExportCsv:o,onPrint:c,onSchedule:u,onShare:h})=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[i?n.jsx("button",{onClick:i,className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm font-semibold text-slate-700 hover:bg-slate-50",children:" Wr"}):null,n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900",children:t}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:e})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 text-xs",children:[n.jsxs(Ze,{tone:"slate",children:[n.jsx(fh,{size:14})," ",s]}),n.jsxs(Ze,{tone:"slate",children:[n.jsx(vx,{size:14})," Wygenerowano: ",a]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[o?n.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 bg-white text-sm font-semibold text-slate-700 hover:bg-slate-50",children:[n.jsx($r,{size:16})," Eksportuj CSV"]}):null,c?n.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 bg-white text-sm font-semibold text-slate-700 hover:bg-slate-50",children:[n.jsx(yw,{size:16})," Drukuj"]}):null,u?n.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 bg-white text-sm font-semibold text-slate-700 hover:bg-slate-50",children:[n.jsx(qa,{size:16})," Zaplanuj"]}):null,h?n.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-brand-accent text-white text-sm font-semibold hover:bg-orange-600",children:[n.jsx(mC,{size:16})," Udostpnij"]}):null]})]}),gO=({role:t,onPick:e})=>{const a=[{id:"individual",title:"Raport indywidualny uytkownika",desc:"Szczegowa analiza aktywnoci, postpu, testw i certyfikatw.",icon:n.jsx(Va,{size:20,className:"text-brand-accent"})},{id:"group",title:"Raport grupowy (firma / dzia)",desc:"Zestawienia dla firm i zespow: aktywno, postpy, ryzyka.",icon:n.jsx(Zs,{size:20,className:"text-violet-600"})},{id:"course",title:"Raport szkolenia / lekcji",desc:"Popularno, ukoczenia i szczegy aktywnoci w szkoleniu.",icon:n.jsx(xh,{size:20,className:"text-blue-600"})},{id:"compare",title:"Raport porwnawczy",desc:"Porwnanie okresw, grup i benchmark (anonimizowany).",icon:n.jsx(mh,{size:20,className:"text-emerald-600"})},{id:"scheduled",title:"Raporty zaplanowane",desc:"Automatyczne generowanie i wysyka email + szablony.",icon:n.jsx(Ia,{size:20,className:"text-slate-700"})}].filter(i=>!i.hidden);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Centrum Raportw"}),n.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Wybierz typ raportu, aby rozpocz analiz lub zarzdza zaplanowanymi zadaniami.",t==="guardian"?" (Dostp tylko do pracownikw Twojej firmy)":""]})]}),n.jsx(Ee,{title:"Wybierz typ raportu",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:a.map(i=>n.jsx("button",{onClick:()=>!i.disabled&&e(i.id),className:`text-left p-5 rounded-2xl border transition group ${i.disabled?"border-slate-200 bg-slate-50 cursor-not-allowed":"border-slate-200 bg-white hover:bg-slate-50"}`,title:i.disabled?"W przygotowaniu":void 0,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center",children:i.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-slate-800",children:i.title}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:i.desc})]})]}),n.jsx("span",{className:"text-sm font-semibold text-brand-accent group-hover:underline",children:i.disabled?"Wkrtce":"Rozpocznij "})]})},i.id))})}),n.jsx(Ee,{title:"Raporty zaplanowane",children:n.jsx("div",{className:"text-sm text-slate-600",children:"W tej sekcji znajdziesz automatyczne raporty cykliczne, odbiorcw oraz szybkie szablony."})})]})},f0=({preset:t,setPreset:e,from:s,to:a,setFrom:i,setTo:o})=>n.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Zakres"}),n.jsxs("select",{value:t,onChange:c=>e(c.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"7",children:"Ostatnie 7 dni"}),n.jsx("option",{value:"30",children:"Ostatnie 30 dni"}),n.jsx("option",{value:"90",children:"Ostatnie 90 dni"}),n.jsx("option",{value:"custom",children:"Wasny"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Od"}),n.jsx("input",{type:"date",value:s,onChange:c=>i(c.target.value),disabled:t!=="custom",className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm disabled:bg-slate-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Do"}),n.jsx("input",{type:"date",value:a,onChange:c=>o(c.target.value),disabled:t!=="custom",className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm disabled:bg-slate-50"})]}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-brand-accent text-white text-sm font-semibold hover:bg-orange-600",children:[n.jsx(vx,{size:16})," Odwie"]})]}),bO=(t,e,s)=>{const i=(s?e.filter(o=>(o.company||"Indywidualny")===s):e).reduce((o,c)=>(o[c.email]=o[c.email]?[...o[c.email],c]:[c],o),{});return Object.entries(i).map(([o,c])=>{var p,g;const u=((p=c[0])==null?void 0:p.name)??o,h=(g=c[0])==null?void 0:g.company,m=c.length?Math.round(c.reduce((y,v)=>y+v.progress,0)/c.length):0;return{key:o,name:u,email:o,company:h,progressAvg:m}}).sort((o,c)=>c.progressAvg-o.progressAvg)},yO=({role:t,courses:e,students:s,forcedCompany:a,onBack:i})=>{var be;const o=O.useMemo(()=>bO(e,s,a),[e,s,a]),[c,u]=O.useState(""),[h,m]=O.useState(((be=o[0])==null?void 0:be.email)??null),[p,g]=O.useState("30"),[y,v]=O.useState(""),[w,N]=O.useState(""),[k,z]=O.useState([]),[E,R]=O.useState("summary"),H=o.find(ae=>ae.email===h)??null,I=O.useMemo(()=>{const ae=c.trim().toLowerCase();return ae?o.filter(P=>P.name.toLowerCase().includes(ae)||P.email.toLowerCase().includes(ae)):o},[o,c]),W=new Date,$=O.useMemo(()=>{if(p!=="custom"){const M=Number(p),D=new Date(W);return D.setDate(W.getDate()-M+1),{start:D,end:W}}const ae=y?new Date(`${y}T00:00:00`):new Date(W),P=w?new Date(`${w}T23:59:59`):W;return{start:ae,end:P}},[p,y,w]),Y=O.useMemo(()=>p!=="custom"?`Zakres: ostatnie ${p} dni`:!y||!w?"Zakres: wasny":`Zakres: ${y}  ${w}`,[p,y,w]),T=Ba(new Date().toISOString()),ee=O.useMemo(()=>{if(!h)return[];const ae=s.filter(M=>M.email===h);return k.length?ae.filter(M=>k.includes(M.course)):ae},[s,h,k]),J=O.useMemo(()=>{const ae=Math.round(ee.reduce((Z,ce)=>Z+(15+Math.floor(Ke(`${ce.id}`)*90)),0)),P=10+Math.round(Ke(`${h}-session`)*50),M=new Date(W);M.setDate(W.getDate()-Math.floor(Ke(`${h}-last`)*10));const D=ee.length?Math.round(ee.reduce((Z,ce)=>Z+Math.min(100,ce.progress),0)/ee.length):0;return{totalMinutes:ae,sessionAvg:P,lastLogin:M.toISOString(),completion:D,activeDays:18+Math.floor(Ke(`${h}-active`)*10),inactiveDays:12}},[ee,h]),xe=()=>{if(!H)return;const ae=Or(ee.map(P=>{var D;const M=((D=e.find(Z=>Z.id===P.course))==null?void 0:D.title)??P.course;return{"Imi i nazwisko":H.name,Email:H.email,Firma:H.company??"",Szkolenie:M,Postp:`${P.progress}%`,"Status dostpu":P.status,"Dni do wyganicia":P.expirationDays}}));Dr(new Blob([ae],{type:"text/csv;charset=utf-8"}),`raport-uzytkownika-${H.email}.csv`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(kc,{title:"Raport indywidualny uytkownika",subtitle:H?`${H.name}  ${H.email}`:"Wybierz uytkownika",rangeLabel:Y,generatedAt:T,onBack:i,onExportCsv:xe,onPrint:()=>window.print(),onSchedule:()=>alert("Planowanie raportw: demo UI"),onShare:()=>alert("Udostpnianie raportw: demo UI")}),n.jsx(Ee,{title:"Filtry grne",right:n.jsxs(Ze,{tone:"slate",children:["Widok: ",t==="guardian"?"Opiekun firmy":t==="admin"?"Admin":"Manager"]}),children:n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"xl:col-span-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Wyszukaj uytkownika"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(aa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:c,onChange:ae=>u(ae.target.value),placeholder:"Imi, email lub ID...",className:"w-full pl-9 pr-3 py-2 rounded-lg border border-slate-200 text-sm focus:outline-none focus:ring-2 focus:ring-brand-accent/30"})]}),n.jsx("div",{className:"mt-2",children:n.jsx("select",{value:h??"",onChange:ae=>m(ae.target.value||null),className:"w-full px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:I.map(ae=>n.jsxs("option",{value:ae.email,children:[ae.name," (",ae.email,")"]},ae.key))})})]}),n.jsx("div",{className:"xl:col-span-1",children:n.jsx(f0,{preset:p,setPreset:g,from:y,to:w,setFrom:v,setTo:N})}),n.jsxs("div",{className:"xl:col-span-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Szkolenia"}),n.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>z([]),className:`px-3 py-2 rounded-lg border text-sm font-semibold ${k.length===0?"border-brand-accent bg-orange-50/40 text-brand-accent":"border-slate-200 text-slate-700 hover:bg-slate-50"}`,children:"Wszystkie"}),e.slice(0,4).map(ae=>{const P=k.includes(ae.id);return n.jsx("button",{onClick:()=>z(M=>P?M.filter(D=>D!==ae.id):[...M,ae.id]),className:`px-3 py-2 rounded-lg border text-sm font-semibold ${P?"border-brand-accent bg-orange-50/40 text-brand-accent":"border-slate-200 text-slate-700 hover:bg-slate-50"}`,title:ae.title,children:ae.title.length>18?`${ae.title.slice(0,18)}`:ae.title},ae.id)})]}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"(UI demo) Docelowo bdzie pena lista + multiselect."})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4",children:[n.jsx(ks,{active:E==="summary",icon:n.jsx(Ia,{size:16}),label:"Podsumowanie",onClick:()=>R("summary")}),n.jsx(ks,{active:E==="daily-activity",icon:n.jsx(fh,{size:16}),label:"Aktywno dzienna",onClick:()=>R("daily-activity")}),n.jsx(ks,{active:E==="lessons",icon:n.jsx(xh,{size:16}),label:"Lekcje",onClick:()=>R("lessons")}),n.jsx(ks,{active:E==="tests",icon:n.jsx(ea,{size:16}),label:"Testy i quizy",onClick:()=>R("tests")}),n.jsx(ks,{active:E==="certificates",icon:n.jsx(kC,{size:16}),label:"Certyfikaty",onClick:()=>R("certificates")}),n.jsx(ks,{active:E==="charts",icon:n.jsx(mh,{size:16}),label:"Wykresy",onClick:()=>R("charts")})]})}),E==="summary"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Czas cakowity"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:Hn(J.totalMinutes)}),n.jsxs("div",{className:"text-xs text-emerald-600 mt-2",children:["+",Math.round(Ke("delta")*15),"% vs poprzedni okres"]})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"rednia sesja"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:[J.sessionAvg,"m"]}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Stabilnie"})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Ukoczenie szkole"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:[J.completion,"%"]}),n.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden mt-3",children:n.jsx("div",{className:"h-full bg-brand-accent",style:{width:`${J.completion}%`}})})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Ostatnie logowanie"}),n.jsx("div",{className:"text-sm font-bold text-slate-900 mt-2",children:Ba(J.lastLogin)}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Online"})]}),n.jsxs(Ee,{title:"Aktywno (heatmap)",className:"md:col-span-2",children:[n.jsx("div",{className:"grid grid-cols-14 gap-1",children:Array.from({length:56}).map((ae,P)=>{const M=Math.floor(Ke(`${h}-heat-${P}`)*4),D=["bg-slate-100","bg-emerald-100","bg-emerald-300","bg-emerald-500"][M];return n.jsx("div",{className:`w-4 h-4 rounded ${D}`,title:`Dzie ${P+1}`},P)})}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mt-3",children:[n.jsx("span",{children:"Mniej"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"w-4 h-4 bg-slate-100 rounded"}),n.jsx("span",{className:"w-4 h-4 bg-emerald-100 rounded"}),n.jsx("span",{className:"w-4 h-4 bg-emerald-300 rounded"}),n.jsx("span",{className:"w-4 h-4 bg-emerald-500 rounded"})]}),n.jsx("span",{children:"Wicej"})]})]}),n.jsxs(Ee,{title:"Postp w czasie",className:"md:col-span-2",children:[n.jsx("div",{className:"text-xs text-slate-500 mb-3",children:"Ilo ukoczonych lekcji w ostatnich 30 dniach (demo)."}),n.jsx("div",{className:"h-44 bg-slate-50 rounded-xl flex items-end gap-2 p-4",children:Array.from({length:12}).map((ae,P)=>{const M=10+Math.round(Ke(`${h}-line-${P}`)*80);return n.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[n.jsx("div",{className:"w-full bg-slate-100 rounded-lg overflow-hidden h-28 flex items-end",children:n.jsx("div",{className:"w-full bg-brand-accent",style:{height:`${M}%`}})}),n.jsx("div",{className:"text-[10px] text-slate-400",children:P+1})]},P)})})]})]}):null,E==="daily-activity"?n.jsx(Ee,{title:"Szczegowa aktywno dzienna",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Data"}),n.jsx("th",{className:"py-3 text-left",children:"Logowanie"}),n.jsx("th",{className:"py-3 text-left",children:"Wylogowanie"}),n.jsx("th",{className:"py-3 text-left",children:"Czas online"}),n.jsx("th",{className:"py-3 text-left",children:"Aktywno"}),n.jsx("th",{className:"py-3 text-left",children:"Postp"})]})}),n.jsx("tbody",{children:Array.from({length:10}).map((ae,P)=>{const M=new Date($.end);M.setDate($.end.getDate()-P);const D=new Date(M);D.setHours(8+Math.floor(Ke(`${h}-login-${P}`)*4)),D.setMinutes(10);const Z=new Date(D);Z.setHours(D.getHours()+1+Math.floor(Ke(`${h}-logout-${P}`)*3));const ce=20+Math.floor(Ke(`${h}-minutes-${P}`)*160),Te=10+Math.floor(Ke(`${h}-p-${P}`)*90);return n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 font-semibold text-slate-800 whitespace-nowrap",children:Mp(M)}),n.jsx("td",{className:"py-3 text-slate-600 whitespace-nowrap",children:Ba(D.toISOString())}),n.jsx("td",{className:"py-3 text-slate-600 whitespace-nowrap",children:Ba(Z.toISOString())}),n.jsx("td",{className:"py-3 text-slate-700 whitespace-nowrap",children:Hn(ce)}),n.jsxs("td",{className:"py-3 text-slate-700",children:["Otworzy szkolenia i lekcje (",1+P%3,")"]}),n.jsx("td",{className:"py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-slate-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${Te}%`}})}),n.jsxs("div",{className:"text-xs font-semibold text-slate-600",children:[Te,"%"]})]})})]},P)})})]})})}):null,E==="lessons"?n.jsxs(Ee,{title:"Ukoczone lekcje",children:[n.jsx("div",{className:"text-sm text-slate-600 mb-4",children:"(UI demo) Docelowo dane bd zbierane z playera/quizw oraz logw LMS."}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Data"}),n.jsx("th",{className:"py-3 text-left",children:"Szkolenie"}),n.jsx("th",{className:"py-3 text-left",children:"Lekcja / modu"}),n.jsx("th",{className:"py-3 text-left",children:"Czas"}),n.jsx("th",{className:"py-3 text-left",children:"Status"}),n.jsx("th",{className:"py-3 text-left",children:"Postp"})]})}),n.jsx("tbody",{children:ee.slice(0,8).map((ae,P)=>{var Z;const M=((Z=e.find(ce=>ce.id===ae.course))==null?void 0:Z.title)??ae.course,D=P%3===0?"done":P%3===1?"in-progress":"not-started";return n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 text-slate-600 whitespace-nowrap",children:Ba(new Date().toISOString())}),n.jsx("td",{className:"py-3 font-semibold text-slate-800",children:M}),n.jsxs("td",{className:"py-3 text-slate-700",children:["Lekcja ",P+1]}),n.jsx("td",{className:"py-3 text-slate-700 whitespace-nowrap",children:Hn(10+P*6)}),n.jsx("td",{className:"py-3",children:D==="done"?n.jsxs(Ze,{tone:"green",children:[n.jsx(Cr,{size:14})," Ukoczona"]}):D==="in-progress"?n.jsxs(Ze,{tone:"amber",children:[n.jsx(ju,{size:14})," W trakcie"]}):n.jsxs(Ze,{tone:"slate",children:[n.jsx(Mr,{size:14})," Nierozpoczta"]})}),n.jsxs("td",{className:"py-3 text-slate-700",children:[Math.min(100,ae.progress),"%"]})]},`${ae.id}-${P}`)})})]})})]}):null,E==="tests"?n.jsx(Ee,{title:"Wyniki testw i quizw",right:n.jsxs("button",{className:"text-sm font-semibold text-slate-600 hover:text-slate-800",children:["Filtry ",n.jsx(Ei,{size:16,className:"inline"})]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Test"}),n.jsx("th",{className:"py-3 text-left",children:"Data"}),n.jsx("th",{className:"py-3 text-left",children:"Wynik"}),n.jsx("th",{className:"py-3 text-left",children:"Status"}),n.jsx("th",{className:"py-3 text-left",children:"Prby"}),n.jsx("th",{className:"py-3 text-left",children:"Czas"})]})}),n.jsx("tbody",{children:Array.from({length:6}).map((ae,P)=>{const M=40+Math.round(Ke(`${h}-test-${P}`)*60),D=M>=70;return n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsxs("td",{className:"py-3 font-semibold text-slate-800",children:["Test ",P+1]}),n.jsx("td",{className:"py-3 text-slate-600 whitespace-nowrap",children:Mp(new Date)}),n.jsxs("td",{className:"py-3 font-bold text-slate-800",children:[M,"%"]}),n.jsx("td",{className:"py-3",children:D?n.jsx(Ze,{tone:"green",children:"ZALICZONY"}):n.jsx(Ze,{tone:"red",children:"NIEZALICZONY"})}),n.jsx("td",{className:"py-3 text-slate-700",children:1+P%3}),n.jsxs("td",{className:"py-3 text-slate-700",children:[10+P*3,"m"]})]},P)})})]})})}):null,E==="certificates"?n.jsx(Ee,{title:"Certyfikaty i osignicia",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-800",children:"Certyfikaty"}),n.jsx("div",{className:"mt-3 space-y-3",children:Array.from({length:3}).map((ae,P)=>n.jsxs("div",{className:"p-4 rounded-xl border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"font-semibold text-slate-800",children:["Certyfikat #",P+1]}),n.jsx(Ze,{tone:"green",children:"Aktywny"})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Wydano: ",Mp(new Date)]})]},P))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-800",children:"Osignicia"}),n.jsx("div",{className:"mt-3 grid grid-cols-2 gap-3",children:["Pierwszy test","7 dni z rzdu","100% szkolenia","Top 10%"].map(ae=>n.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:ae}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Odznaka"})]},ae))})]})]})}):null,E==="charts"?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Ee,{title:"Wykres postpu",children:n.jsx("div",{className:"h-56 bg-slate-50 rounded-xl p-4 flex items-end gap-2",children:Array.from({length:14}).map((ae,P)=>{const M=15+Math.round(Ke(`${h}-chart-${P}`)*80);return n.jsx("div",{className:"flex-1 bg-slate-100 rounded-lg overflow-hidden flex items-end",children:n.jsx("div",{className:"w-full bg-brand-accent",style:{height:`${M}%`}})},P)})})}),n.jsx(Ee,{title:"Porwnanie z planem",children:n.jsx("div",{className:"text-sm text-slate-600",children:"Placeholder pod: deadliney, plan nauki, porwnania okresw i alerty."})})]}):null]})},vO=({role:t,courses:e,students:s,forcedCompany:a,onBack:i})=>{const o=O.useMemo(()=>{const T=new Set(s.map(J=>J.company||"Indywidualny")),ee=Array.from(T).sort();return a?ee.filter(J=>J===a):ee},[s,a]),[c,u]=O.useState(a??o[0]??"Indywidualny"),[h,m]=O.useState("Wszyscy"),[p,g]=O.useState("30"),[y,v]=O.useState(""),[w,N]=O.useState(""),[k,z]=O.useState("summary"),E=O.useMemo(()=>s.filter(T=>(T.company||"Indywidualny")===c),[s,c]),R=O.useMemo(()=>E.reduce((T,ee)=>(T[ee.email]=T[ee.email]?[...T[ee.email],ee]:[ee],T),{}),[E]),H=O.useMemo(()=>Object.entries(R).map(([T,ee])=>{var P;const J=((P=ee[0])==null?void 0:P.name)??T,xe=ee.length?Math.round(ee.reduce((M,D)=>M+D.progress,0)/ee.length):0,be=Math.floor(Ke(`${T}-last`)*30),ae=be>14?"zagroony":be>7?"uwaga":"aktywny";return{email:T,name:J,progressAvg:xe,assigned:ee.length,completed:ee.filter(M=>M.progress>=100).length,testAvg:60+Math.round(Ke(`${T}-score`)*35),totalMinutes:120+Math.round(Ke(`${T}-mins`)*1400),lastActivityDays:be,status:ae}}).sort((T,ee)=>ee.totalMinutes-T.totalMinutes),[R]),I=O.useMemo(()=>{const T=H.length,ee=H.filter(P=>P.lastActivityDays<=7).length,J=T?Math.round(H.reduce((P,M)=>P+M.progressAvg,0)/T):0,xe=H.reduce((P,M)=>P+M.totalMinutes,0),be=H.slice(0,5),ae=H.filter(P=>P.lastActivityDays>14).slice(0,5);return{usersCount:T,activeCount:ee,avgCompletion:J,totalMinutes:xe,top5:be,risk:ae}},[H]),W=p!=="custom"?`Zakres: ostatnie ${p} dni`:`Zakres: ${y||"..."}  ${w||"..."}`,$=Ba(new Date().toISOString()),Y=()=>{const T=Or(H.map(ee=>({Firma:c,"Imi i nazwisko":ee.name,Email:ee.email,"Ostatnia aktywno (dni)":ee.lastActivityDays,"Przypisane szkolenia":ee.assigned,"Ukoczone szkolenia":ee.completed,"rednia z testw":`${ee.testAvg}%`,"czny czas nauki":Hn(ee.totalMinutes),Status:ee.status})));Dr(new Blob([T],{type:"text/csv;charset=utf-8"}),`raport-grupowy-${c}.csv`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(kc,{title:"Raport grupowy (firma / dzia)",subtitle:`${c}${h!=="Wszyscy"?`  ${h}`:""}`,rangeLabel:W,generatedAt:$,onBack:i,onExportCsv:Y,onPrint:()=>window.print(),onSchedule:()=>alert("Planowanie raportw: demo UI"),onShare:()=>alert("Udostpnianie raportw: demo UI")}),n.jsx(Ee,{title:"Filtry grne",children:n.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Firma"}),n.jsx("select",{value:c,onChange:T=>u(T.target.value),disabled:!!a,className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white disabled:bg-slate-50",children:o.map(T=>n.jsx("option",{value:T,children:T},T))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Dzia"}),n.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{children:"Wszyscy"}),n.jsx("option",{children:"Logistyka"}),n.jsx("option",{children:"Sprzeda"}),n.jsx("option",{children:"HR"})]})]}),n.jsx(f0,{preset:p,setPreset:g,from:y,to:w,setFrom:v,setTo:N})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4",children:[n.jsx(ks,{active:k==="summary",icon:n.jsx(Ia,{size:16}),label:"Podsumowanie",onClick:()=>z("summary")}),n.jsx(ks,{active:k==="users",icon:n.jsx(Zs,{size:16}),label:"Uytkownicy",onClick:()=>z("users")}),n.jsx(ks,{active:k==="courses",icon:n.jsx(xh,{size:16}),label:"Statystyki szkole",onClick:()=>z("courses")}),n.jsx(ks,{active:k==="charts",icon:n.jsx(mh,{size:16}),label:"Wykresy",onClick:()=>z("charts")})]})}),k==="summary"?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Liczba uytkownikw"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:I.usersCount}),n.jsxs("div",{className:"text-xs text-emerald-600 mt-2",children:["+",Math.round(Ke(`${c}-new`)*12)," w tym miesicu"]})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Aktywni teraz"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:I.activeCount}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Logowanie w ostatnich 7 dniach"})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"rednie ukoczenie"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:[I.avgCompletion,"%"]}),n.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden mt-3",children:n.jsx("div",{className:"h-full bg-brand-accent",style:{width:`${I.avgCompletion}%`}})})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Czas nauki (suma)"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:Hn(I.totalMinutes)}),n.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["rednio ",Hn(Math.round(I.totalMinutes/Math.max(1,I.usersCount)))," na os."]})]}),n.jsx(Ee,{title:"Top 5 aktywnych",className:"lg:col-span-2",children:n.jsx("div",{className:"space-y-3",children:I.top5.map(T=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-slate-800",children:T.name}),n.jsx("div",{className:"text-xs text-slate-500",children:T.email})]}),n.jsxs("div",{className:"text-sm font-bold text-slate-800",children:[T.progressAvg,"%"]})]},T.email))})}),n.jsx(Ee,{title:"Uytkownicy zagroeni",className:"lg:col-span-2",children:n.jsx("div",{className:"space-y-3",children:I.risk.length?I.risk.map(T=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-slate-800",children:T.name}),n.jsxs("div",{className:"text-xs text-slate-500",children:[T.lastActivityDays," dni temu"]})]}),n.jsx(Ze,{tone:"red",children:"Zagroony"})]},T.email)):n.jsx("div",{className:"text-sm text-slate-500",children:"Brak uytkownikw zagroonych."})})})]}):null,k==="users"?n.jsx(Ee,{title:"Tabela uytkownikw",right:n.jsxs("button",{className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-slate-800",children:["Eksport ",n.jsx($r,{size:16})]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Imi i nazwisko"}),n.jsx("th",{className:"py-3 text-left",children:"Email"}),n.jsx("th",{className:"py-3 text-left",children:"Ostatnia aktywno"}),n.jsx("th",{className:"py-3 text-left",children:"Szkolenia"}),n.jsx("th",{className:"py-3 text-left",children:"Ukoczone"}),n.jsx("th",{className:"py-3 text-left",children:"r. wynik"}),n.jsx("th",{className:"py-3 text-left",children:"Czas"}),n.jsx("th",{className:"py-3 text-left",children:"Status"})]})}),n.jsx("tbody",{children:H.slice(0,15).map(T=>n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 font-semibold text-slate-800",children:T.name}),n.jsx("td",{className:"py-3 text-slate-600",children:T.email}),n.jsxs("td",{className:"py-3 text-slate-700",children:[T.lastActivityDays," dni temu"]}),n.jsx("td",{className:"py-3 text-slate-700",children:T.assigned}),n.jsxs("td",{className:"py-3 text-slate-700",children:[T.completed," (",T.progressAvg,"%)"]}),n.jsxs("td",{className:"py-3 text-slate-700",children:[T.testAvg,"%"]}),n.jsx("td",{className:"py-3 text-slate-700",children:Hn(T.totalMinutes)}),n.jsx("td",{className:"py-3",children:T.status==="aktywny"?n.jsx(Ze,{tone:"green",children:"Aktywny"}):T.status==="uwaga"?n.jsx(Ze,{tone:"amber",children:"Uwaga"}):n.jsx(Ze,{tone:"red",children:"Zagroony"})})]},T.email))})]})})}):null,k==="courses"?n.jsx(Ee,{title:"Statystyki szkole",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Nazwa szkolenia"}),n.jsx("th",{className:"py-3 text-left",children:"Zapisani"}),n.jsx("th",{className:"py-3 text-left",children:"Ukoczyli"}),n.jsx("th",{className:"py-3 text-left",children:"r. postp"}),n.jsx("th",{className:"py-3 text-left",children:"r. wynik"}),n.jsx("th",{className:"py-3 text-left",children:"r. czas"})]})}),n.jsx("tbody",{children:e.slice(0,6).map(T=>{const ee=E.filter(P=>P.course===T.id).length,J=E.filter(P=>P.course===T.id&&P.progress>=100).length,xe=ee?Math.round(E.filter(P=>P.course===T.id).reduce((P,M)=>P+M.progress,0)/ee):0,be=60+Math.round(Ke(`${c}-${T.id}-score`)*35),ae=100+Math.round(Ke(`${c}-${T.id}-time`)*600);return n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 font-semibold text-slate-800",children:T.title}),n.jsx("td",{className:"py-3 text-slate-700",children:ee}),n.jsx("td",{className:"py-3 text-slate-700",children:J}),n.jsxs("td",{className:"py-3 text-slate-700",children:[xe,"%"]}),n.jsxs("td",{className:"py-3 text-slate-700",children:[be,"%"]}),n.jsx("td",{className:"py-3 text-slate-700",children:Hn(ae)})]},T.id)})})]})})}):null,k==="charts"?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Ee,{title:"Wykresy i wizualizacje",children:n.jsx("div",{className:"text-sm text-slate-600",children:"Placeholder pod: histogram wynikw, porwnanie dziaw, funnel dropout rate."})}),n.jsx(Ee,{title:"Porwnania",children:n.jsx("div",{className:"text-sm text-slate-600",children:"Placeholder pod: porwnania okresw i benchmark midzyfirmowy (anonimizowany)."})})]}):null]})},jk=(t,e)=>e?t.filter(s=>(s.company||"Indywidualny")===e):t,wu=["Wszyscy","Logistyka","Sprzeda","HR","Produkcja"],nw=t=>{const e=1+Math.floor(Ke(`${t}-dept`)*(wu.length-1));return wu[Math.min(wu.length-1,Math.max(1,e))]},wO=t=>t.flatMap(e=>e.lessons.map(s=>({module:e,lesson:s}))),aw=(t,e)=>{const s=new Set(t.completedLessons||[]);return e.reduce((a,i)=>s.has(i)?a+1:a,0)},jO=({role:t,courses:e,students:s,forcedCompany:a,onBack:i})=>{var K;const o=O.useMemo(()=>jk(s,a),[s,a]),[c,u]=O.useState(((K=e[0])==null?void 0:K.id)??""),[h,m]=O.useState("all"),[p,g]=O.useState(a||"Wszystkie"),[y,v]=O.useState("Wszyscy"),[w,N]=O.useState("30"),[k,z]=O.useState(""),[E,R]=O.useState(""),[H,I]=O.useState("summary");O.useEffect(()=>{m("all")},[c]),O.useEffect(()=>{a&&g(a)},[a]);const W=e.find(L=>L.id===c)??null,$=O.useMemo(()=>kn.filter(L=>L.courseId===c),[c]),Y=O.useMemo(()=>wO($),[$]),T=O.useMemo(()=>Y.map(L=>L.lesson.id),[Y]),ee=O.useMemo(()=>{const L=new Set(o.filter(X=>X.course===c).map(X=>X.company||"Indywidualny"));return Array.from(L).sort()},[o,c]);O.useEffect(()=>{a||p!=="Wszystkie"&&ee.length&&!ee.includes(p)&&g("Wszystkie")},[ee,p,a]);const J=O.useMemo(()=>{let L=o.filter(X=>X.course===c);return a?L=L.filter(X=>(X.company||"Indywidualny")===a):p!=="Wszystkie"&&(L=L.filter(X=>(X.company||"Indywidualny")===p)),y!=="Wszyscy"&&(L=L.filter(X=>nw(X.email)===y)),L},[o,c,a,p,y]),xe=O.useMemo(()=>new Set(J.map(L=>L.email)).size,[J]),be=O.useMemo(()=>{if(!J.length)return 0;const L=J.filter(X=>X.progress>=100).length;return Math.round(L/J.length*100)},[J]),ae=O.useMemo(()=>J.length?Math.round(J.reduce((L,X)=>L+Math.min(100,X.progress),0)/J.length):0,[J]),P=O.useMemo(()=>{if(!J.length)return 0;const L=J.reduce((X,de)=>X+(120+Math.floor(Ke(`${de.email}-${c}-mins`)*1200)),0);return Math.round(L/J.length)},[J,c]),M=O.useMemo(()=>Y.filter(L=>L.lesson.type==="test").map(L=>({id:L.lesson.id,title:L.lesson.title,moduleTitle:L.module.title})),[Y]),D=O.useMemo(()=>Y.map(({module:L,lesson:X})=>{const de=J.filter(De=>(De.completedLessons||[]).includes(X.id)).length,ve=J.length?Math.round(de/J.length*100):0,ue=4+Math.round(Ke(`${c}-${X.id}-watch`)*12);return{moduleTitle:L.title,lesson:X,completed:de,rate:ve,avgWatch:ue}}),[Y,J,c]),Z=O.useMemo(()=>h==="all"?D:D.filter(L=>L.lesson.id===h),[D,h]),ce=O.useMemo(()=>w!=="custom"?`Zakres: ostatnie ${w} dni`:!k||!E?"Zakres: wasny":`Zakres: ${k}  ${E}`,[w,k,E]),Te=()=>{if(!W)return;const L=J.map(de=>{const ve=aw(de,T);return{Szkolenie:W.title,Firma:de.company??"Indywidualny",Dzia:nw(de.email),"Imi i nazwisko":de.name,Email:de.email,Postp:`${Math.min(100,de.progress)}%`,Status:de.status,"Dni do wyganicia":de.expirationDays,"Ukoczone lekcje":`${ve}/${T.length||0}`}}),X=Or(L);Dr(new Blob([X],{type:"text/csv;charset=utf-8"}),`raport-szkolenie-${W.id}.csv`)},C=Ba(new Date().toISOString());return n.jsxs("div",{className:"space-y-6",children:[n.jsx(kc,{title:"Raport szkolenia / lekcji",subtitle:W?W.title:"Wybierz szkolenie",rangeLabel:ce,generatedAt:C,onBack:i,onExportCsv:Te,onPrint:()=>window.print(),onSchedule:()=>alert("Planowanie raportw: demo UI"),onShare:()=>alert("Udostpnianie raportw: demo UI")}),n.jsx(Ee,{title:"Filtry grne",right:n.jsxs(Ze,{tone:"slate",children:["Widok: ",t==="guardian"?"Opiekun firmy":t==="admin"?"Admin":"Manager"]}),children:n.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Szkolenie"}),n.jsx("select",{value:c,onChange:L=>u(L.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:e.map(L=>n.jsx("option",{value:L.id,children:L.title},L.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Firma"}),n.jsx("select",{value:a||p,onChange:L=>g(L.target.value),disabled:!!a,className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white disabled:bg-slate-50",children:a?n.jsx("option",{value:a,children:a}):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"Wszystkie",children:"Wszystkie"}),ee.map(L=>n.jsx("option",{value:L,children:L},L))]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Dzia"}),n.jsx("select",{value:y,onChange:L=>v(L.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:wu.map(L=>n.jsx("option",{value:L,children:L},L))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Lekcja"}),n.jsxs("select",{value:h,onChange:L=>m(L.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"all",children:"Wszystkie"}),Y.map(({module:L,lesson:X})=>n.jsxs("option",{value:X.id,children:[L.title,": ",X.title]},X.id))]})]}),n.jsx(f0,{preset:w,setPreset:N,from:k,to:E,setFrom:z,setTo:R}),a?n.jsxs(Ze,{tone:"slate",children:["Firma: ",a]}):null]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4",children:[n.jsx(ks,{active:H==="summary",icon:n.jsx(Ia,{size:16}),label:"Podsumowanie",onClick:()=>I("summary")}),n.jsx(ks,{active:H==="lessons",icon:n.jsx(xh,{size:16}),label:"Lekcje",onClick:()=>I("lessons")}),n.jsx(ks,{active:H==="users",icon:n.jsx(Zs,{size:16}),label:"Uytkownicy",onClick:()=>I("users")}),n.jsx(ks,{active:H==="tests",icon:n.jsx(ea,{size:16}),label:"Testy",onClick:()=>I("tests")}),n.jsx(ks,{active:H==="charts",icon:n.jsx(mh,{size:16}),label:"Wykresy",onClick:()=>I("charts")})]})}),H==="summary"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Zapisw"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:J.length}),n.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Uytkownikw (unikalne emaile): ",xe]})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Ukoczenie"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:[be,"%"]}),n.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden mt-3",children:n.jsx("div",{className:"h-full bg-brand-accent",style:{width:`${be}%`}})})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"r. postp"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:[ae,"%"]}),n.jsxs("div",{className:"text-xs text-emerald-600 mt-2",children:["+",Math.round(Ke(`${c}-delta`)*12),"% vs poprzedni okres"]})]}),n.jsxs(Ee,{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"r. czas nauki"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-2",children:Hn(P)}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"na zapis"})]}),n.jsx(Ee,{title:"Sabe punkty (lekcje z drop-off)",className:"md:col-span-2",children:n.jsxs("div",{className:"space-y-3",children:[D.slice().sort((L,X)=>L.rate-X.rate).slice(0,5).map(L=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:L.lesson.title}),n.jsx("div",{className:"text-xs text-slate-500",children:L.moduleTitle})]}),n.jsxs("div",{className:"text-sm font-bold text-slate-800",children:[L.rate,"%"]})]},L.lesson.id)),D.length===0?n.jsx("div",{className:"text-sm text-slate-500",children:"Brak curriculum dla szkolenia."}):null]})}),n.jsx(Ee,{title:"Alerty",className:"md:col-span-2",children:n.jsxs("div",{className:"space-y-3",children:[J.filter(L=>L.expirationDays<=14||L.status==="expired"||L.progress<20).slice(0,6).map(L=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:L.name}),n.jsxs("div",{className:"text-xs text-slate-500",children:[L.email,"  ",L.company??"Indywidualny"]})]}),L.status==="expired"?n.jsx(Ze,{tone:"red",children:"Wygas"}):L.expirationDays<=14?n.jsxs(Ze,{tone:"amber",children:["Wygasa: ",L.expirationDays," dni"]}):n.jsxs(Ze,{tone:"slate",children:["Niski postp: ",Math.min(100,L.progress),"%"]})]},L.id)),J.length===0?n.jsx("div",{className:"text-sm text-slate-500",children:"Brak zapisw dla tego szkolenia."}):null]})}),n.jsx(Ee,{title:"Wnioski i rekomendacje",className:"md:col-span-4",children:(()=>{const L=J.filter(ue=>ue.progress<20).length,X=J.filter(ue=>ue.expirationDays<=14).length,de=D.slice().sort((ue,De)=>ue.rate-De.rate)[0],ve=D.slice().sort((ue,De)=>De.rate-ue.rate)[0];return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Ryzyka"}),n.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Niski postp (<20%)"}),n.jsx("span",{className:"font-bold",children:L})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Wygasa 14 dni"}),n.jsx("span",{className:"font-bold",children:X})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:'Status "warning/expired"'}),n.jsx("span",{className:"font-bold",children:J.filter(ue=>ue.status!=="active").length})]})]})]}),n.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Najwikszy drop-off"}),n.jsx("div",{className:"mt-2 text-sm font-bold text-slate-900",children:de?de.lesson.title:""}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Wskanik ukoczenia: ",de?`${de.rate}%`:""]}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Rekomendacja: skrci/ulepszy materia, doda przypomnienia."})]}),n.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Najlepsza lekcja"}),n.jsx("div",{className:"mt-2 text-sm font-bold text-slate-900",children:ve?ve.lesson.title:""}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Wskanik ukoczenia: ",ve?`${ve.rate}%`:""]}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Rekomendacja: utrzyma format i przenie wzorzec na inne lekcje."})]})]})})()})]}):null,H==="lessons"?n.jsx(Ee,{title:"Ukoczenia lekcji",right:n.jsxs(Ze,{tone:"slate",children:["Lekcji: ",Z.length]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Modu"}),n.jsx("th",{className:"py-3 text-left",children:"Lekcja"}),n.jsx("th",{className:"py-3 text-left",children:"Typ"}),n.jsx("th",{className:"py-3 text-left",children:"Ukoczyli"}),n.jsx("th",{className:"py-3 text-left",children:"Wskanik"}),n.jsx("th",{className:"py-3 text-left",children:"r. obejrze"})]})}),n.jsx("tbody",{children:Z.map(L=>n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 text-slate-600",children:L.moduleTitle}),n.jsx("td",{className:"py-3 font-semibold text-slate-800",children:L.lesson.title}),n.jsx("td",{className:"py-3 text-slate-700",children:L.lesson.type}),n.jsxs("td",{className:"py-3 text-slate-700",children:[L.completed," / ",J.length]}),n.jsx("td",{className:"py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-32 bg-slate-100 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"bg-brand-accent h-2",style:{width:`${L.rate}%`}})}),n.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[L.rate,"%"]})]})}),n.jsx("td",{className:"py-3 text-slate-700",children:L.avgWatch})]},L.lesson.id))})]})})}):null,H==="users"?n.jsxs(Ee,{title:"Uytkownicy zapisani na szkolenie",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Imi i nazwisko"}),n.jsx("th",{className:"py-3 text-left",children:"Email"}),n.jsx("th",{className:"py-3 text-left",children:"Firma"}),n.jsx("th",{className:"py-3 text-left",children:"Postp"}),n.jsx("th",{className:"py-3 text-left",children:"Lekcje"}),n.jsx("th",{className:"py-3 text-left",children:"Status"}),n.jsx("th",{className:"py-3 text-left",children:"Wygasa (dni)"})]})}),n.jsx("tbody",{children:J.slice(0,25).map(L=>{const X=aw(L,T);return n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 font-semibold text-slate-800",children:L.name}),n.jsx("td",{className:"py-3 text-slate-600",children:L.email}),n.jsx("td",{className:"py-3 text-slate-700",children:L.company??"Indywidualny"}),n.jsxs("td",{className:"py-3 text-slate-700",children:[Math.min(100,L.progress),"%"]}),n.jsxs("td",{className:"py-3 text-slate-700",children:[X,"/",T.length||0]}),n.jsx("td",{className:"py-3",children:L.status==="active"?n.jsx(Ze,{tone:"green",children:"Aktywny"}):L.status==="warning"?n.jsx(Ze,{tone:"amber",children:"Uwaga"}):n.jsx(Ze,{tone:"red",children:"Wygas"})}),n.jsx("td",{className:"py-3 text-slate-700",children:L.expirationDays})]},L.id)})})]})}),n.jsx("div",{className:"text-xs text-slate-500 mt-3",children:"(UI demo) Limit 25 wierszy w tabeli."})]}):null,H==="tests"?n.jsx(Ee,{title:"Testy w szkoleniu",right:n.jsxs(Ze,{tone:"slate",children:["Testw: ",M.length]}),children:M.length===0?n.jsx("div",{className:"text-sm text-slate-500",children:"To szkolenie nie ma testw w curriculum."}):n.jsx("div",{className:"space-y-4",children:M.map(L=>{const X=J.map(ue=>{const De=40+Math.round(Ke(`${ue.email}-${L.id}`)*60);return{email:ue.email,name:ue.name,score:De,passed:De>=70}}),de=X.filter(ue=>ue.passed).length,ve=X.length?Math.round(de/X.length*100):0;return n.jsxs("div",{className:"p-4 rounded-xl border border-slate-200",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-slate-800",children:L.title}),n.jsx("div",{className:"text-xs text-slate-500",children:L.moduleTitle})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ze,{tone:ve>=70?"green":ve>=50?"amber":"red",children:["Zdawalno: ",ve,"%"]}),n.jsxs(Ze,{tone:"slate",children:["Uczestnikw: ",X.length]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-2 text-left",children:"Uytkownik"}),n.jsx("th",{className:"py-2 text-left",children:"Email"}),n.jsx("th",{className:"py-2 text-left",children:"Wynik"}),n.jsx("th",{className:"py-2 text-left",children:"Status"})]})}),n.jsx("tbody",{children:X.slice(0,8).map(ue=>n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-2 font-semibold text-slate-800",children:ue.name}),n.jsx("td",{className:"py-2 text-slate-600",children:ue.email}),n.jsxs("td",{className:"py-2 text-slate-800 font-bold",children:[ue.score,"%"]}),n.jsx("td",{className:"py-2",children:ue.passed?n.jsx(Ze,{tone:"green",children:"ZALICZONY"}):n.jsx(Ze,{tone:"red",children:"NIEZALICZONY"})})]},ue.email))})]})})]},L.id)})})}):null,H==="charts"?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Ee,{title:"Wykres postpu (rozkad)",right:n.jsxs(Ze,{tone:"slate",children:["r.: ",ae,"%"]}),children:[n.jsx("div",{className:"h-44 bg-slate-50 rounded-xl flex items-end gap-2 p-4",children:Array.from({length:10}).map((L,X)=>{const de=10+Math.round(Ke(`${c}-hist-${X}`)*90);return n.jsx("div",{className:"flex-1 bg-slate-100 rounded-lg overflow-hidden flex items-end",children:n.jsx("div",{className:"w-full bg-brand-accent",style:{height:`${de}%`}})},X)})}),n.jsx("div",{className:"text-xs text-slate-500 mt-3",children:"(UI demo) Docelowo: rozkad postpu / czas / wyniki testw."})]}),n.jsx(Ee,{title:"Funnel ukocze",children:n.jsx("div",{className:"space-y-3",children:[{label:"Zapisani",value:J.length},{label:"Rozpoczli",value:J.filter(L=>L.progress>0).length},{label:"50%+",value:J.filter(L=>L.progress>=50).length},{label:"Ukoczyli",value:J.filter(L=>L.progress>=100).length}].map(L=>{const X=J.length?Math.round(L.value/J.length*100):0;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("div",{className:"font-semibold text-slate-800",children:L.label}),n.jsxs("div",{className:"text-slate-700",children:[L.value," (",X,"%)"]})]}),n.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden mt-2",children:n.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${X}%`}})})]},L.label)})})})]}):null]})},NO=({role:t,courses:e,students:s,forcedCompany:a,onBack:i})=>{const o=O.useMemo(()=>jk(s,a),[s,a]),c=O.useMemo(()=>{const C=new Set(o.map(K=>K.company||"Indywidualny"));return Array.from(C).sort()},[o]),[u,h]=O.useState(a?"periods":"companies"),[m,p]=O.useState(c[0]??"Indywidualny"),[g,y]=O.useState(c[1]??c[0]??"Indywidualny"),[v,w]=O.useState(a??c[0]??"Indywidualny"),[N,k]=O.useState("30"),[z,E]=O.useState("90"),[R,H]=O.useState(""),[I,W]=O.useState(""),[$,Y]=O.useState(a??"Wszystkie"),T=O.useCallback(C=>{var K;return((K=e.find(L=>L.id===C))==null?void 0:K.title)??C},[e]),ee=O.useCallback(C=>a?(C.company||"Indywidualny")===a:$==="Wszystkie"?!0:(C.company||"Indywidualny")===$,[a,$]),J=O.useMemo(()=>{const C=new Set(o.filter(ee).map(K=>K.course).filter(Boolean));return Array.from(C)},[o,ee]),xe=O.useMemo(()=>J.map(C=>({id:C,label:T(C)})).sort((C,K)=>C.label.localeCompare(K.label,"pl")),[J,T]);O.useEffect(()=>{c.length&&(p(C=>c.includes(C)?C:c[0]),y(C=>c.includes(C)?C:c[Math.min(1,c.length-1)]),w(C=>c.includes(C)?C:c[0]))},[c]),O.useEffect(()=>{if(!J.length){H(""),W("");return}H(C=>J.includes(C)?C:J[0]),W(C=>J.includes(C)?C:J[1]??J[0])},[J]);const be=O.useCallback(C=>{const K=o.filter(He=>(He.company||"Indywidualny")===C),L=new Set(K.map(He=>He.email)),X=Array.from(L),de=K.length?Math.round(K.filter(He=>He.progress>=100).length/K.length*100):0,ve=K.length?Math.round(K.reduce((He,Ys)=>He+Math.min(100,Ys.progress),0)/K.length):0,ue=X.filter(He=>Math.floor(Ke(`${He}-last`)*30)<=7).length,De=X.filter(He=>Math.floor(Ke(`${He}-last`)*30)>14).length,Le=K.filter(He=>He.expirationDays<=14).length;return{company:C,enrollments:K.length,users:X.length,completionRate:de,avgProgress:ve,active7d:ue,risk:De,expiringSoon:Le}},[o]),ae=Ba(new Date().toISOString()),P=u==="companies"?"Tryb: porwnanie firm":u==="trainings"?"Tryb: porwnanie szkole":`Tryb: porwnanie okresw (A: ${N} dni, B: ${z} dni)`,M=()=>{if(u==="companies"){const ue=be(m),De=be(g),Le={...ue,company:"Benchmark (anonimizowany)",completionRate:Math.max(0,Math.min(100,Math.round((ue.completionRate+De.completionRate)/2+(Ke("bench")*10-5)))),avgProgress:Math.max(0,Math.min(100,Math.round((ue.avgProgress+De.avgProgress)/2+(Ke("bench2")*10-5))))},He=Or([{Porwnanie:"Firmy",Firma:ue.company,Uytkownicy:ue.users,Zapisw:ue.enrollments,"Ukoczenie (%)":ue.completionRate,"r. postp (%)":ue.avgProgress,"Aktywni 7d":ue.active7d,"Zagroeni (14d+)":ue.risk,"Wygasa <=14d":ue.expiringSoon},{Porwnanie:"Firmy",Firma:De.company,Uytkownicy:De.users,Zapisw:De.enrollments,"Ukoczenie (%)":De.completionRate,"r. postp (%)":De.avgProgress,"Aktywni 7d":De.active7d,"Zagroeni (14d+)":De.risk,"Wygasa <=14d":De.expiringSoon},{Porwnanie:"Benchmark",Firma:Le.company,Uytkownicy:"-",Zapisw:"-","Ukoczenie (%)":Le.completionRate,"r. postp (%)":Le.avgProgress,"Aktywni 7d":"-","Zagroeni (14d+)":"-","Wygasa <=14d":"-"}]);Dr(new Blob([He],{type:"text/csv;charset=utf-8"}),"raport-porownanie-firm.csv");return}if(u==="trainings"){const ue=a||$,De=ot=>{const Tt=o.filter(Ge=>Ge.course===ot).filter(ee),$t=new Set(Tt.map(Ge=>Ge.email)),oe=Tt.length?Math.round(Tt.filter(Ge=>Ge.progress>=100).length/Tt.length*100):0,ge=Tt.length?Math.round(Tt.reduce((Ge,es)=>Ge+Math.min(100,es.progress),0)/Tt.length):0,Ct=Tt.length?Math.round(Tt.reduce((Ge,es)=>Ge+(120+Math.floor(Ke(`${es.email}-${ot}-mins`)*1200)),0)/Tt.length):0,Mt=kn.filter(Ge=>Ge.courseId===ot).flatMap(Ge=>Ge.lessons).filter(Ge=>Ge.type==="test"),Js=Tt.length?Math.round(Tt.reduce((Ge,es)=>Ge+(Mt.length?Mt.reduce((ia,ra)=>ia+(40+Math.round(Ke(`${es.email}-${ra.id}`)*60)>=70?1:0),0)/Mt.length:0),0)/Tt.length*100):0;return{trainingId:ot,enrollments:Tt.length,users:$t.size,completionRate:oe,avgProgress:ge,avgTime:Ct,tests:Mt.length,passRate:Js}},Le=De(R),He=De(I),Ys=Or([{Porwnanie:"Szkolenia",Firma:ue,Szkolenie:T(R),Uytkownicy:Le.users,Zapisw:Le.enrollments,"Ukoczenie (%)":Le.completionRate,"r. postp (%)":Le.avgProgress,"r. czas":Hn(Le.avgTime),Testw:Le.tests,"Zdawalno testw (%)":Le.passRate},{Porwnanie:"Szkolenia",Firma:ue,Szkolenie:T(I),Uytkownicy:He.users,Zapisw:He.enrollments,"Ukoczenie (%)":He.completionRate,"r. postp (%)":He.avgProgress,"r. czas":Hn(He.avgTime),Testw:He.tests,"Zdawalno testw (%)":He.passRate}]);Dr(new Blob([Ys],{type:"text/csv;charset=utf-8"}),"raport-porownanie-szkolen.csv");return}const C=be(v),K=.9+Ke(`${v}-A-${N}`)*.25,L=.9+Ke(`${v}-B-${z}`)*.25,X={...C,completionRate:Math.max(0,Math.min(100,Math.round(C.completionRate*K))),avgProgress:Math.max(0,Math.min(100,Math.round(C.avgProgress*K))),active7d:Math.round(C.active7d*K)},de={...C,completionRate:Math.max(0,Math.min(100,Math.round(C.completionRate*L))),avgProgress:Math.max(0,Math.min(100,Math.round(C.avgProgress*L))),active7d:Math.round(C.active7d*L)},ve=Or([{Okres:`A (${N} dni)`,Firma:v,"Ukoczenie (%)":X.completionRate,"r. postp (%)":X.avgProgress,"Aktywni 7d":X.active7d},{Okres:`B (${z} dni)`,Firma:v,"Ukoczenie (%)":de.completionRate,"r. postp (%)":de.avgProgress,"Aktywni 7d":de.active7d}]);Dr(new Blob([ve],{type:"text/csv;charset=utf-8"}),"raport-porownanie-okresow.csv")},D=O.useMemo(()=>u==="companies"?be(m):null,[u,be,m]),Z=O.useMemo(()=>u==="companies"?be(g):null,[u,be,g]),ce=O.useMemo(()=>{if(u!=="periods")return null;const C=be(v),K=.9+Ke(`${v}-A-${N}`)*.25,L=.9+Ke(`${v}-B-${z}`)*.25,X={completionRate:Math.max(0,Math.min(100,Math.round(C.completionRate*K))),avgProgress:Math.max(0,Math.min(100,Math.round(C.avgProgress*K))),active7d:Math.round(C.active7d*K)},de={completionRate:Math.max(0,Math.min(100,Math.round(C.completionRate*L))),avgProgress:Math.max(0,Math.min(100,Math.round(C.avgProgress*L))),active7d:Math.round(C.active7d*L)};return{base:C,a:X,b:de}},[u,be,v,N,z]),Te=n.jsxs(Ze,{tone:"slate",children:["Widok: ",t==="guardian"?"Opiekun firmy":t==="admin"?"Admin":"Manager"]});return n.jsxs("div",{className:"space-y-6",children:[n.jsx(kc,{title:"Raport porwnawczy",subtitle:a?`Firma: ${a}`:"Porwnanie firm lub okresw",rangeLabel:P,generatedAt:ae,onBack:i,onExportCsv:M,onPrint:()=>window.print(),onSchedule:()=>alert("Planowanie raportw: demo UI"),onShare:()=>alert("Udostpnianie raportw: demo UI")}),n.jsx(Ee,{title:"Konfiguracja porwnania",right:Te,children:n.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Tryb"}),n.jsxs("select",{value:u,onChange:C=>h(C.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white disabled:bg-slate-50",children:[a?null:n.jsx("option",{value:"companies",children:"Porwnanie firm"}),n.jsx("option",{value:"periods",children:"Porwnanie okresw"}),n.jsx("option",{value:"trainings",children:"Porwnanie szkole"})]}),a?n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Dla opiekuna: dane tylko z Twojej firmy."}):null]}),u==="companies"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Firma A"}),n.jsx("select",{value:m,onChange:C=>p(C.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:c.map(C=>n.jsx("option",{value:C,children:C},C))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Firma B"}),n.jsx("select",{value:g,onChange:C=>y(C.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:c.map(C=>n.jsx("option",{value:C,children:C},C))})]}),n.jsx(Ze,{tone:"slate",children:"Benchmark: anonimizowany"})]}):u==="periods"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Firma"}),n.jsx("select",{value:v,onChange:C=>w(C.target.value),disabled:!!a,className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white disabled:bg-slate-50",children:c.map(C=>n.jsx("option",{value:C,children:C},C))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Okres A"}),n.jsxs("select",{value:N,onChange:C=>k(C.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"7",children:"Ostatnie 7 dni"}),n.jsx("option",{value:"30",children:"Ostatnie 30 dni"}),n.jsx("option",{value:"90",children:"Ostatnie 90 dni"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Okres B"}),n.jsxs("select",{value:z,onChange:C=>E(C.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"7",children:"Ostatnie 7 dni"}),n.jsx("option",{value:"30",children:"Ostatnie 30 dni"}),n.jsx("option",{value:"90",children:"Ostatnie 90 dni"})]})]})]}):n.jsxs(n.Fragment,{children:[a?n.jsxs(Ze,{tone:"slate",children:["Firma: ",a]}):n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Firma (opcjonalnie)"}),n.jsxs("select",{value:$,onChange:C=>Y(C.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:[n.jsx("option",{value:"Wszystkie",children:"Wszystkie"}),c.map(C=>n.jsx("option",{value:C,children:C},C))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Szkolenie A"}),n.jsx("select",{value:R,onChange:C=>H(C.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:xe.map(C=>n.jsx("option",{value:C.id,children:C.label},C.id))}),R?n.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Wybrane: ",T(R)]}):null]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Szkolenie B"}),n.jsx("select",{value:I,onChange:C=>W(C.target.value),className:"mt-1 px-3 py-2 rounded-lg border border-slate-200 text-sm bg-white",children:xe.map(C=>n.jsx("option",{value:C.id,children:C.label},C.id))})]})]})]})}),u==="companies"&&D&&Z?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Ee,{title:"Ukoczenie",children:[n.jsxs("div",{className:"text-sm text-slate-500",children:[D.company," vs ",Z.company]}),n.jsxs("div",{className:"mt-3 flex items-end justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Firma A"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[D.completionRate,"%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Firma B"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[Z.completionRate,"%"]})]})]}),n.jsx("div",{className:"mt-4 h-2 bg-slate-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-brand-accent",style:{width:`${D.completionRate}%`}})}),n.jsx("div",{className:"mt-2 h-2 bg-slate-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${Z.completionRate}%`}})})]}),n.jsxs(Ee,{title:"Aktywno (7 dni)",children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Aktywni uytkownicy"}),n.jsxs("div",{className:"mt-3 flex items-end justify-between",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:D.active7d}),n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:Z.active7d})]}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"(UI demo) aktywno estymowana z logw."})]}),n.jsxs(Ee,{title:"Ryzyko",children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Zagroeni (brak aktywnoci 14d+)"}),n.jsxs("div",{className:"mt-3 flex items-end justify-between",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:D.risk}),n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:Z.risk})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Wygasa 14 dni: A ",D.expiringSoon," / B ",Z.expiringSoon]})]}),n.jsx(Ee,{title:"Tabela porwnawcza",className:"lg:col-span-3",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Metryka"}),n.jsx("th",{className:"py-3 text-left",children:"Firma A"}),n.jsx("th",{className:"py-3 text-left",children:"Firma B"}),n.jsx("th",{className:"py-3 text-left",children:"Rnica"})]})}),n.jsx("tbody",{children:[{label:"Uytkownicy",a:D.users,b:Z.users},{label:"Zapisw",a:D.enrollments,b:Z.enrollments},{label:"r. postp (%)",a:D.avgProgress,b:Z.avgProgress},{label:"Ukoczenie (%)",a:D.completionRate,b:Z.completionRate},{label:"Aktywni 7d",a:D.active7d,b:Z.active7d},{label:"Zagroeni (14d+)",a:D.risk,b:Z.risk}].map(C=>n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 font-semibold text-slate-800",children:C.label}),n.jsx("td",{className:"py-3 text-slate-700",children:C.a}),n.jsx("td",{className:"py-3 text-slate-700",children:C.b}),n.jsx("td",{className:"py-3 text-slate-700 font-semibold",children:Number(C.b)-Number(C.a)})]},C.label))})]})})})]}):null,u==="periods"&&ce?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Ee,{title:"Ukoczenie (A vs B)",children:[n.jsx("div",{className:"text-sm text-slate-500",children:v}),n.jsxs("div",{className:"mt-3 flex items-end justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs text-slate-500",children:["A (",N," dni)"]}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[ce.a.completionRate,"%"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs text-slate-500",children:["B (",z," dni)"]}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[ce.b.completionRate,"%"]})]})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[": ",ce.b.completionRate-ce.a.completionRate," pp"]})]}),n.jsxs(Ee,{title:"redni postp",children:[n.jsxs("div",{className:"mt-3 flex items-end justify-between",children:[n.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[ce.a.avgProgress,"%"]}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[ce.b.avgProgress,"%"]})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[": ",ce.b.avgProgress-ce.a.avgProgress," pp"]})]}),n.jsxs(Ee,{title:"Aktywni (7 dni)",children:[n.jsxs("div",{className:"mt-3 flex items-end justify-between",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ce.a.active7d}),n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ce.b.active7d})]}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"(UI demo) estymacja aktywnoci."})]}),n.jsx(Ee,{title:"Podsumowanie",className:"lg:col-span-3",children:n.jsx("div",{className:"text-sm text-slate-600",children:"Ten widok porwnuje okresy dla jednej firmy. W wersji docelowej dodamy: wybr konkretnych szkole, KPI finansowe oraz segmenty uytkownikw."})})]}):null,u==="trainings"?n.jsxs(Ee,{title:"Porwnanie szkole (podsumowanie)",children:[n.jsx("div",{className:"text-sm text-slate-600",children:"(UI demo) Ten tryb pokazuje porwnanie dwch szkole w obrbie wybranej firmy (lub wszystkich firm)."}),n.jsxs("div",{className:"mt-3 text-sm text-slate-800",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Szkolenie A:"})," ",R?T(R):"-"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Szkolenie B:"})," ",I?T(I):"-"]})]})]}):null]})},kO=({onBack:t})=>{const[e,s]=O.useState("automations"),a=O.useMemo(()=>[{id:"a1",name:"Tygodniowy Raport Sprzeday",emails:["admin@multiserwis.pl","zarzad@multiserwis.pl"],frequency:"Poniedziaek 08:00",format:"PDF",next:"12 Lut 2026",active:!0},{id:"a2",name:"Aktywno Uytkownikw",emails:["marketing@multiserwis.pl"],frequency:"1. dzie miesica",format:"CSV",next:"01 Mar 2026",active:!0},{id:"a3",name:"Raport Prowizyjny (Wstrzymany)",emails:["ksiegowosc@multiserwis.pl"],frequency:"Pitek 16:00",format:"PDF",next:"-",active:!1}],[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsx(kc,{title:"Raporty zaplanowane i szablony",subtitle:"Zarzdzaj cyklicznymi wysykami raportw oraz szybkimi szablonami.",rangeLabel:"Konfiguracja",generatedAt:Ba(new Date().toISOString()),onBack:t}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4",children:[n.jsx(ks,{active:e==="automations",icon:n.jsx(qa,{size:16}),label:"Automatyczna wysyka",onClick:()=>s("automations")}),n.jsx(ks,{active:e==="templates",icon:n.jsx(ea,{size:16}),label:"Zapisane szablony",onClick:()=>s("templates")})]})}),e==="automations"?n.jsx(Ee,{title:"Automatyczna wysyka",right:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ze,{tone:"green",children:"3 Aktywne"}),n.jsx(Ze,{tone:"slate",children:"1 Wstrzymane"})]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-xs text-slate-400 uppercase tracking-wider border-b border-slate-200",children:[n.jsx("th",{className:"py-3 text-left",children:"Nazwa raportu"}),n.jsx("th",{className:"py-3 text-left",children:"Odbiorcy (email)"}),n.jsx("th",{className:"py-3 text-left",children:"Czstotliwo"}),n.jsx("th",{className:"py-3 text-left",children:"Format"}),n.jsx("th",{className:"py-3 text-left",children:"Nastpna wysyka"}),n.jsx("th",{className:"py-3 text-left",children:"Status"}),n.jsx("th",{className:"py-3 text-left",children:"Akcje"})]})}),n.jsx("tbody",{children:a.map(i=>n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"py-3 font-semibold text-slate-800",children:i.name}),n.jsx("td",{className:"py-3 text-slate-600",children:i.emails.map(o=>n.jsx("div",{children:o},o))}),n.jsx("td",{className:"py-3 text-slate-700",children:i.frequency}),n.jsx("td",{className:"py-3 text-slate-700",children:i.format}),n.jsx("td",{className:"py-3 text-slate-700",children:i.next}),n.jsx("td",{className:"py-3",children:i.active?n.jsx(Ze,{tone:"green",children:"Aktywny"}):n.jsx(Ze,{tone:"slate",children:"Wstrzymany"})}),n.jsxs("td",{className:"py-3 text-slate-600",children:[n.jsx("button",{className:"px-2 py-1 rounded hover:bg-slate-100",children:""}),n.jsx("button",{className:"px-2 py-1 rounded hover:bg-slate-100",children:""})]})]},i.id))})]})})}):null,e==="templates"?n.jsx(Ee,{title:"Zapisane szablony",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[["Peny Audyt Szkole","Nowi Rejestrujcy","Raport Ukocze (B2B)"].map(i=>n.jsxs("div",{className:"p-5 rounded-2xl border border-slate-200 bg-white",children:[n.jsx("div",{className:"font-bold text-slate-800",children:i}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Ostatnie uycie: ",1+Math.floor(Ke(i)*7)," dni temu"]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsx("button",{className:"px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800",children:" Uruchom"}),n.jsx("button",{className:"px-3 py-2 rounded-lg border border-slate-200 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Edytuj"})]})]},i)),n.jsxs("div",{className:"p-5 rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50 flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-slate-400",children:"+"}),n.jsx("div",{className:"font-bold text-slate-800 mt-2",children:"Stwrz szablon"}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Zapisz biec konfiguracj raportu jako szablon."})]})]})}):null]})},m0=({role:t,courses:e,students:s,forcedCompany:a})=>{const[i,o]=O.useState("picker");return n.jsxs("div",{className:"space-y-6",children:[i==="picker"?n.jsx(gO,{role:t,onPick:o}):null,i==="individual"?n.jsx(yO,{role:t,courses:e,students:s,forcedCompany:a,onBack:()=>o("picker")}):null,i==="group"?n.jsx(vO,{role:t,courses:e,students:s,forcedCompany:a,onBack:()=>o("picker")}):null,i==="course"?n.jsx(jO,{role:t,courses:e,students:s,forcedCompany:a,onBack:()=>o("picker")}):null,i==="compare"?n.jsx(NO,{role:t,courses:e,students:s,forcedCompany:a,onBack:()=>o("picker")}):null,i==="scheduled"?n.jsx(kO,{onBack:()=>o("picker")}):null]})},zO=({courses:t,students:e})=>n.jsx(m0,{role:"admin",courses:t,students:e}),SO=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Ustawienia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Konfiguracja platformy i powiadomie."})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:"Dane organizacji"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Nazwa"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",defaultValue:"Multiserwis Profesjonalne Szkolenia"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email kontaktowy"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",defaultValue:"biuro@multiserwis.pl"})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:"Powiadomienia"}),n.jsx("div",{className:"space-y-3",children:[{id:"email",label:"Powiadomienia email dla kursantw"},{id:"sms",label:"Powiadomienia SMS dla firm"},{id:"reports",label:"Automatyczne raporty tygodniowe"}].map(t=>n.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-slate-300 text-brand-accent"}),t.label]},t.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition",children:[n.jsx(Ti,{size:16}),"Zapisz ustawienia"]})})]})]}),CO=[{id:"admin",name:"Administrator",description:"Peny dostp do zarzdzania platform."},{id:"manager",name:"Meneder",description:"Dostp do kursw, raportw i uytkownikw."},{id:"guardian",name:"Opiekun firmy",description:"Zarzdzanie pracownikami i raporty postpw."}],MO=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Uprawnienia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Konfiguruj role i zakresy dostpu."})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200 space-y-4",children:CO.map(t=>n.jsxs("div",{className:"flex items-start gap-4 border-b border-slate-100 pb-4 last:border-b-0 last:pb-0",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg",children:n.jsx(wx,{size:18,className:"text-brand-accent"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-800",children:t.name}),n.jsx("p",{className:"text-xs text-slate-500",children:t.description})]})]},t.id))})]}),iu=[{id:"dashboard",label:"Pulpit",icon:n.jsx(gh,{size:18})},{id:"courses",label:"Szkolenia",icon:n.jsx(rs,{size:18})},{id:"users",label:"Uytkownicy",icon:n.jsx(Zs,{size:18})},{id:"companies",label:"Firmy",icon:n.jsx(Gs,{size:18})},{id:"finance",label:"Finanse",icon:n.jsx(ph,{size:18})},{id:"reports",label:"Raporty",icon:n.jsx(Ia,{size:18})},{id:"notifications",label:"Powiadomienia",icon:n.jsx(qn,{size:18})},{id:"settings",label:"Ustawienia",icon:n.jsx(Cn,{size:18})}],EO=({activeSection:t,onSectionChange:e,children:s,userName:a="Meneder",userRole:i="Meneder platformy",onLogout:o,onLogoClick:c})=>{const[u,h]=O.useState(!1),[m,p]=O.useState(!1),g=[{id:"n1",title:"Nowy uytkownik zarejestrowany",time:"2 minuty temu",type:"users"},{id:"n2",title:"Zakup kursu: BHP Wstpne",time:"15 minut temu",type:"sales"},{id:"n3",title:"Alert systemowy: Backup",time:"1 godzina temu",type:"system"},{id:"n4",title:"Nowe zapytanie od firmy",time:"3 godziny temu",type:"company"},{id:"n5",title:"Aktualizacja zgoszenia support",time:"5 godzin temu",type:"support"}],y={users:"bg-blue-100 text-blue-600",sales:"bg-green-100 text-green-600",system:"bg-red-100 text-red-600",company:"bg-teal-100 text-teal-600",support:"bg-orange-100 text-orange-600"},v=N=>{const k=t===N.id||t==="course-edit"&&N.id==="courses"||t==="course-create"&&N.id==="courses"||t==="course-preview"&&N.id==="courses"||(t==="user-view"||t==="user-edit"||t==="user-create")&&N.id==="users"||(t==="company-view"||t==="company-edit"||t==="company-create")&&N.id==="companies";return n.jsxs("button",{onClick:()=>{e(N.id),h(!1)},className:`sidebar-link flex items-center px-6 py-3 gap-3 text-left border-l-4 transition-all w-full ${k?"bg-white/10 border-brand-accent text-white font-semibold":"border-transparent text-slate-300 hover:text-white hover:bg-white/10"}`,children:[n.jsx("span",{className:`${k?"text-brand-accent":""}`,children:N.icon}),n.jsx("span",{children:N.label})]},N.id)},w=N=>{switch(N){case"dashboard":return["Pulpit"];case"courses":return["Pulpit","Szkolenia"];case"course-preview":return["Pulpit","Szkolenia","Podgld"];case"course-create":return["Pulpit","Szkolenia","Dodawanie"];case"course-edit":return["Pulpit","Szkolenia","Edycja"];case"users":return["Pulpit","Uytkownicy"];case"user-view":return["Pulpit","Uytkownicy","Podgld"];case"user-edit":return["Pulpit","Uytkownicy","Edycja"];case"user-create":return["Pulpit","Uytkownicy","Dodawanie"];case"companies":return["Pulpit","Firmy"];case"company-view":return["Pulpit","Firmy","Podgld"];case"company-create":return["Pulpit","Firmy","Dodawanie"];case"company-edit":return["Pulpit","Firmy","Edycja"];case"finance":return["Pulpit","Finanse"];case"reports":return["Pulpit","Raporty"];case"notifications":return["Pulpit","Powiadomienia"];case"settings":return["Pulpit","Ustawienia"];default:return["Pulpit"]}};return n.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 text-slate-800",children:[n.jsxs("aside",{className:"w-64 bg-brand-primary text-white hidden md:flex flex-col shadow-xl z-20",children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-teal-800/50 bg-teal-900/20",children:n.jsx(ta,{onClick:c,variant:"sidebar"})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1",children:[iu.slice(0,6).map(v),n.jsx("div",{className:"pt-6 pb-2 px-6 text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"System"}),iu.slice(6).map(v)]}),n.jsx("div",{className:"p-4 bg-teal-900/30 border-t border-teal-800/50",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full text-sm text-slate-300 hover:text-white transition",children:[n.jsx($a,{size:18}),"Wyloguj si"]})})]}),u&&n.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>h(!1)}),n.jsxs("aside",{className:"absolute left-0 top-0 h-full w-72 bg-brand-primary text-white flex flex-col shadow-xl",children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-teal-800/50 bg-teal-900/20",children:n.jsx(ta,{onClick:c,variant:"sidebar"})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1",children:[iu.slice(0,6).map(v),n.jsx("div",{className:"pt-6 pb-2 px-6 text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"System"}),iu.slice(6).map(v)]}),n.jsx("div",{className:"p-4 bg-teal-900/30 border-t border-teal-800/50",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full text-sm text-slate-300 hover:text-white transition",children:[n.jsx($a,{size:18}),"Wyloguj si"]})})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[n.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{className:"md:hidden text-slate-500 hover:text-brand-primary",onClick:()=>h(!0),"aria-label":"Otwrz menu",children:n.jsx(qr,{size:22})}),n.jsxs("div",{className:"relative hidden sm:block",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:n.jsx(aa,{size:16})}),n.jsx("input",{className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm bg-slate-50 text-slate-700 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent w-64",placeholder:"Szukaj danych...",type:"text"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[n.jsxs("button",{onClick:()=>p(N=>!N),className:"relative p-2 text-slate-500 hover:bg-slate-100 rounded-full transition","aria-label":"Powiadomienia",children:[n.jsx(qn,{size:18}),n.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-brand-accent rounded-full border-2 border-white"})]}),m&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50",children:n.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Powiadomienia"})}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:g.map(N=>n.jsxs("div",{className:"px-4 py-3 hover:bg-slate-50 transition-colors flex gap-3 border-b border-slate-100",children:[n.jsx("div",{className:`shrink-0 h-9 w-9 rounded-full flex items-center justify-center ${y[N.type]}`,children:n.jsx(qn,{size:18})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium text-slate-900",children:N.title}),n.jsx("span",{className:"text-xs text-slate-500 mt-0.5",children:N.time})]})]},N.id))}),n.jsx("button",{onClick:()=>e("notifications"),className:"w-full py-3 bg-white border-t border-slate-100 text-center text-sm font-semibold text-brand-primary hover:bg-slate-50 transition-colors",children:"Zobacz wszystkie"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 border-l border-slate-200 pl-4",children:[n.jsxs("div",{className:"text-right hidden sm:block",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-800",children:a}),n.jsx("p",{className:"text-xs text-slate-500",children:i})]}),n.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-slate-100 bg-slate-200 shadow-sm flex items-center justify-center font-bold text-slate-700",children:a==null?void 0:a.slice(0,2).toUpperCase()})]})]})]}),n.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8 flex flex-col",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsx(Rh,{segments:w(t)}),n.jsx("div",{children:s})]}),n.jsx(Nc,{})]})]})]})},TO=t=>{const e=t.replace(/[^0-9]/g,"");return e?Number(e):0},AO=t=>t.toLocaleString("pl-PL",{style:"currency",currency:"PLN",maximumFractionDigits:0}),DO=({courses:t,onNavigate:e})=>{var m;const s=new Set(kt.map(p=>p.email)).size,a=kt.reduce((p,g)=>{const y=g.company||"Indywidualny";return p[y]=(p[y]||0)+1,p},{}),i=Object.keys(a).length,o=t.reduce((p,g)=>(p[g.id]=TO(g.price),p),{}),c=kt.reduce((p,g)=>p+(o[g.course]||0),0),u=Object.entries(a).map(([p,g])=>({name:p,count:g})).sort((p,g)=>g.count-p.count).slice(0,4),h=kt.filter(p=>p.status==="active").length;return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Panel menedera"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Nadzr nad szkoleniami, uytkownikami i raportami."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"flex items-center gap-2 bg-white text-slate-700 px-4 py-2 rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50 transition text-sm font-medium",children:[n.jsx(ea,{size:16}),"Eksportuj raport"]}),n.jsxs("button",{className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition text-sm font-medium",onClick:()=>e("courses"),children:[n.jsx(pw,{size:16}),"Dodaj szkolenie"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 border-blue-500 hover:shadow-md transition",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Uytkownicy"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:s})]}),n.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:n.jsx(Zs,{size:18,className:"text-blue-500"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsxs("span",{className:"text-slate-500 font-medium",children:["Aktywne zapisy: ",h]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 border-green-500 hover:shadow-md transition",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Szkolenia"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:t.length})]}),n.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:n.jsx(rs,{size:18,className:"text-green-500"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsx("span",{className:"text-slate-500 font-medium",children:"Katalog aktualny"})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 border-purple-500 hover:shadow-md transition",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Firmy"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:i})]}),n.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:n.jsx(Gs,{size:18,className:"text-purple-500"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsxs("span",{className:"text-slate-500 font-medium",children:["Najwicej zapisw: ",((m=u[0])==null?void 0:m.name)||"-"]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 border-brand-accent hover:shadow-md transition",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Przychd"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:AO(c)})]}),n.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:n.jsx(wi,{size:18,className:"text-brand-accent"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsx("span",{className:"text-slate-500 font-medium",children:"Podgld na podstawie zapisw"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Popularno kursw"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Zestawienie wg kategorii"})]}),n.jsxs("div",{className:"relative h-64 w-full flex items-end justify-between px-2 pt-10 pb-4",children:[n.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none pb-4 pt-10",children:[n.jsx("div",{className:"w-full border-t border-slate-100 border-dashed"}),n.jsx("div",{className:"w-full border-t border-slate-100 border-dashed"}),n.jsx("div",{className:"w-full border-t border-slate-100 border-dashed"}),n.jsx("div",{className:"w-full border-t border-slate-100 border-dashed"}),n.jsx("div",{className:"w-full border-b border-slate-200"})]}),jw.map(p=>n.jsxs("div",{className:"relative flex flex-col items-center group w-1/6",children:[n.jsx("div",{className:"w-full mx-2 bg-brand-primary/20 h-40 rounded-t-sm group-hover:bg-brand-primary/30 transition-all relative",children:n.jsx("div",{className:"absolute bottom-0 left-0 right-0 rounded-t-sm transition-all",style:{height:`${p.value*1.8}px`,backgroundColor:p.color}})}),n.jsx("span",{className:"text-xs text-slate-500 mt-2",children:p.name})]},p.name))]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Najaktywniejsze firmy"}),n.jsx("button",{className:"text-xs text-brand-accent hover:text-brand-accentHover font-medium",onClick:()=>e("companies"),children:"Zobacz wszystkie"})]}),n.jsxs("ul",{className:"space-y-4",children:[u.map(p=>n.jsxs("li",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:p.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[p.count," zapisw"]})]}),n.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["#",p.count]})]},p.name)),u.length===0&&n.jsx("li",{className:"text-sm text-slate-500",children:"Brak danych do wywietlenia."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Zarzdzanie systemem"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>e("users"),className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-brand-accent group transition shadow-sm",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-orange-50 transition",children:n.jsx(Zs,{size:16,className:"text-slate-600 group-hover:text-brand-accent"})}),n.jsx("span",{className:"font-medium text-sm text-slate-700",children:"Zarzdzaj uytkownikami"})]}),n.jsxs("button",{onClick:()=>e("courses"),className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-brand-accent group transition shadow-sm",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-orange-50 transition",children:n.jsx(rs,{size:16,className:"text-slate-600 group-hover:text-brand-accent"})}),n.jsx("span",{className:"font-medium text-sm text-slate-700",children:"Zarzdzaj szkoleniami"})]}),n.jsxs("button",{onClick:()=>e("companies"),className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-brand-accent group transition shadow-sm",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-orange-50 transition",children:n.jsx(Gs,{size:16,className:"text-slate-600 group-hover:text-brand-accent"})}),n.jsx("span",{className:"font-medium text-sm text-slate-700",children:"Zarzdzaj firmami"})]}),n.jsxs("button",{onClick:()=>e("settings"),className:"flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-brand-accent group transition shadow-sm",children:[n.jsx("span",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-orange-50 transition",children:n.jsx(Cn,{size:16,className:"text-slate-600 group-hover:text-brand-accent"})}),n.jsx("span",{className:"font-medium text-sm text-slate-700",children:"Ustawienia systemu"})]})]})]})]})},OO=({course:t,onBack:e,onSave:s,onDelete:a,onPreview:i,intent:o})=>n.jsx(yk,{course:t,onBack:e,onSave:s,onPreview:i,onDelete:a,mode:"manager",intent:o}),RO=({courses:t,students:e})=>n.jsx(wk,{role:"manager",courses:t,students:e}),LO=({courses:t,students:e})=>n.jsx(m0,{role:"manager",courses:t,students:e}),_O=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Ustawienia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Ustawienia menadera (bez zarzdzania uprawnieniami)."})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:"Powiadomienia"}),n.jsx("div",{className:"space-y-3",children:[{id:"email",label:"Powiadomienia email dla kursantw"},{id:"sms",label:"Powiadomienia SMS dla firm"},{id:"reports",label:"Automatyczne raporty tygodniowe"}].map(t=>n.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-slate-300 text-brand-accent"}),t.label]},t.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition",children:[n.jsx(Ti,{size:16}),"Zapisz ustawienia"]})})]})]}),ru=[{id:"dashboard",label:"Pulpit",icon:n.jsx(gh,{size:18})},{id:"courses",label:"Szkolenia",icon:n.jsx(rs,{size:18})},{id:"employees",label:"Pracownicy",icon:n.jsx(Zs,{size:18})},{id:"reports",label:"Raporty",icon:n.jsx(Ia,{size:18})},{id:"notifications",label:"Powiadomienia",icon:n.jsx(qn,{size:18})},{id:"settings",label:"Ustawienia",icon:n.jsx(Cn,{size:18})}],BO=({activeSection:t,onSectionChange:e,children:s,userName:a="Opiekun firmy",userRole:i="Opiekun firmy",onLogout:o,onLogoClick:c})=>{const[u,h]=O.useState(!1),[m,p]=O.useState(!1),g=[{id:"n1",title:"Nowy pracownik dodany do firmy",time:"10 minut temu",type:"users"},{id:"n2",title:"Pracownik ukoczy szkolenie",time:"1 godzina temu",type:"training"},{id:"n3",title:"Wygasa uprawnienie w cigu 14 dni",time:"4 godziny temu",type:"system"}],y={users:"bg-blue-100 text-blue-600",training:"bg-green-100 text-green-600",system:"bg-red-100 text-red-600"},v=N=>{const k=t===N.id||t==="course-preview"&&N.id==="courses"||(t==="employee-view"||t==="employee-edit"||t==="employee-create")&&N.id==="employees";return n.jsxs("button",{onClick:()=>{e(N.id),h(!1)},className:`sidebar-link flex items-center px-6 py-3 gap-3 text-left border-l-4 transition-all w-full ${k?"bg-white/10 border-brand-accent text-white font-semibold":"border-transparent text-slate-300 hover:text-white hover:bg-white/10"}`,children:[n.jsx("span",{className:`${k?"text-brand-accent":""}`,children:N.icon}),n.jsx("span",{children:N.label})]},N.id)},w=N=>{switch(N){case"dashboard":return["Pulpit"];case"courses":return["Pulpit","Szkolenia"];case"course-preview":return["Pulpit","Szkolenia","Podgld"];case"employees":return["Pulpit","Pracownicy"];case"employee-view":return["Pulpit","Pracownicy","Podgld"];case"employee-edit":return["Pulpit","Pracownicy","Edycja"];case"employee-create":return["Pulpit","Pracownicy","Dodawanie"];case"reports":return["Pulpit","Raporty"];case"notifications":return["Pulpit","Powiadomienia"];case"settings":return["Pulpit","Ustawienia"];default:return["Pulpit"]}};return n.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 text-slate-800",children:[n.jsxs("aside",{className:"w-64 bg-brand-primary text-white hidden md:flex flex-col shadow-xl z-20",children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-teal-800/50 bg-teal-900/20",children:n.jsx(ta,{onClick:c,variant:"sidebar"})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1",children:[ru.slice(0,4).map(v),n.jsx("div",{className:"pt-6 pb-2 px-6 text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"System"}),ru.slice(4).map(v)]}),n.jsx("div",{className:"p-4 bg-teal-900/30 border-t border-teal-800/50",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full text-sm text-slate-300 hover:text-white transition",children:[n.jsx($a,{size:18}),"Wyloguj si"]})})]}),u&&n.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>h(!1)}),n.jsxs("aside",{className:"absolute left-0 top-0 h-full w-72 bg-brand-primary text-white flex flex-col shadow-xl",children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-teal-800/50 bg-teal-900/20",children:n.jsx(ta,{onClick:c,variant:"sidebar"})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1",children:[ru.slice(0,4).map(v),n.jsx("div",{className:"pt-6 pb-2 px-6 text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"System"}),ru.slice(4).map(v)]}),n.jsx("div",{className:"p-4 bg-teal-900/30 border-t border-teal-800/50",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full text-sm text-slate-300 hover:text-white transition",children:[n.jsx($a,{size:18}),"Wyloguj si"]})})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[n.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{className:"md:hidden text-slate-500 hover:text-brand-primary",onClick:()=>h(!0),"aria-label":"Otwrz menu",children:n.jsx(qr,{size:22})}),n.jsxs("div",{className:"relative hidden sm:block",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:n.jsx(aa,{size:16})}),n.jsx("input",{className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm bg-slate-50 text-slate-700 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent w-64",placeholder:"Szukaj danych...",type:"text"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[n.jsxs("button",{onClick:()=>p(N=>!N),className:"relative p-2 text-slate-500 hover:bg-slate-100 rounded-full transition","aria-label":"Powiadomienia",children:[n.jsx(qn,{size:18}),n.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-brand-accent rounded-full border-2 border-white"})]}),m&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50",children:n.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Powiadomienia"})}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:g.map(N=>n.jsxs("div",{className:"px-4 py-3 hover:bg-slate-50 transition-colors flex gap-3 border-b border-slate-100",children:[n.jsx("div",{className:`shrink-0 h-9 w-9 rounded-full flex items-center justify-center ${y[N.type]||"bg-slate-100 text-slate-600"}`,children:n.jsx(qn,{size:18})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium text-slate-900",children:N.title}),n.jsx("span",{className:"text-xs text-slate-500 mt-0.5",children:N.time})]})]},N.id))}),n.jsx("button",{onClick:()=>e("notifications"),className:"w-full py-3 bg-white border-t border-slate-100 text-center text-sm font-semibold text-brand-primary hover:bg-slate-50 transition-colors",children:"Zobacz wszystkie"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 border-l border-slate-200 pl-4",children:[n.jsxs("div",{className:"text-right hidden sm:block",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-800",children:a}),n.jsx("p",{className:"text-xs text-slate-500",children:i})]}),n.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-slate-100 bg-slate-200 shadow-sm flex items-center justify-center font-bold text-slate-700",children:a==null?void 0:a.slice(0,2).toUpperCase()})]})]})]}),n.jsxs("main",{className:"flex-1 overflow-y-auto p-6 flex flex-col",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsx(Rh,{segments:w(t)}),n.jsx("div",{children:s})]}),n.jsx(Nc,{})]})]})]})},PO=({companyName:t="Twoja firma",employeesCount:e=0,trainingsCount:s=0})=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Strefa opiekuna firmy"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Zarzdzanie pracownikami i dostpem do szkole."})]}),n.jsxs("div",{className:"inline-flex items-center gap-2 bg-white border border-slate-200 rounded-lg px-4 py-2 text-sm text-slate-700 shadow-sm",children:[n.jsx(Gs,{size:16,className:"text-slate-500"}),n.jsx("span",{className:"font-semibold",children:t})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Pracownicy"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:e})]}),n.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:n.jsx(Zs,{size:18,className:"text-blue-600"})})]}),n.jsx("div",{className:"mt-4 text-sm text-slate-500",children:"czna liczba pracownikw w systemie."})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Szkolenia"}),n.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-1",children:s})]}),n.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:n.jsx(rs,{size:18,className:"text-green-600"})})]}),n.jsx("div",{className:"mt-4 text-sm text-slate-500",children:"Katalog dostpnych szkole."})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Skrty"}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mt-2",children:"Najczstsze akcje"})]}),n.jsx("div",{className:"p-2 bg-slate-50 rounded-lg",children:n.jsx(Gs,{size:18,className:"text-slate-600"})})]}),n.jsx("div",{className:"mt-4 text-sm text-slate-500",children:"Uyj menu po lewej, aby przej do Szkolenia/Pracownicy."})]})]})]}),UO=({courses:t,students:e,forcedCompany:s})=>n.jsx(m0,{role:"guardian",courses:t,students:e,forcedCompany:s}),HO=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Ustawienia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Ustawienia strefy opiekuna firmy."})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:"Powiadomienia"}),n.jsx("div",{className:"space-y-3",children:[{id:"email",label:"Powiadomienia email o postpach pracownikw"},{id:"expiring",label:"Alerty o zbliajcym si wyganiciu uprawnie"},{id:"reports",label:"Podsumowanie tygodniowe (raport)"}].map(t=>n.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-700",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-slate-300 text-brand-accent"}),t.label]},t.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition",children:[n.jsx(Ti,{size:16}),"Zapisz ustawienia"]})})]})]}),ou=[{id:"dashboard",label:"Pulpit",icon:n.jsx(gh,{size:18})},{id:"my-courses",label:"Moje kursy",icon:n.jsx(rs,{size:18})},{id:"certifications",label:"Uprawnienia",icon:n.jsx(xw,{size:18})},{id:"exams",label:"Egzaminy",icon:n.jsx(Dp,{size:18})},{id:"catalog",label:"Katalog szkole",icon:n.jsx(PS,{size:18})},{id:"profile-view",label:"Profil",icon:n.jsx(Va,{size:18})},{id:"settings",label:"Ustawienia",icon:n.jsx(Cn,{size:18})}],IO=({activeSection:t,onSectionChange:e,children:s,userName:a="Kursant",userRole:i="Kursant",onLogout:o,onLogoClick:c})=>{var w;const[u,h]=O.useState(!1),[m,p]=O.useState(!1),g=[{id:"n1",title:"Nowa lekcja dostpna",time:"10 minut temu"},{id:"n2",title:"Zblia si termin egzaminu",time:"1 godzina temu"}],y=N=>{const k=t===N.id||t==="course-preview"&&N.id==="catalog"||(t==="profile-edit"||t==="profile-view")&&N.id==="profile-view";return n.jsxs("button",{onClick:()=>{e(N.id),h(!1)},className:`sidebar-link flex items-center px-6 py-3 gap-3 text-left border-l-4 transition-all w-full ${k?"bg-white/10 border-brand-accent text-white font-semibold":"border-transparent text-slate-300 hover:text-white hover:bg-white/10"}`,children:[n.jsx("span",{className:`${k?"text-brand-accent":""}`,children:N.icon}),n.jsx("span",{children:N.label})]},N.id)},v=N=>{switch(N){case"dashboard":return["Pulpit"];case"my-courses":return["Pulpit","Moje kursy"];case"certifications":return["Pulpit","Uprawnienia"];case"exams":return["Pulpit","Egzaminy"];case"catalog":return["Pulpit","Katalog szkole"];case"course-preview":return["Pulpit","Katalog szkole","Podgld"];case"profile-view":return["Pulpit","Profil"];case"profile-edit":return["Pulpit","Profil","Edycja"];case"settings":return["Pulpit","Ustawienia"];default:return["Pulpit"]}};return n.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 text-slate-800",children:[n.jsxs("aside",{className:"w-64 bg-brand-primary text-white hidden md:flex flex-col shadow-xl z-20",children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-teal-800/50 bg-teal-900/20",children:n.jsx(ta,{onClick:c,variant:"sidebar"})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1",children:[ou.slice(0,5).map(y),n.jsx("div",{className:"pt-6 pb-2 px-6 text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Konto"}),ou.slice(5).map(y)]}),n.jsx("div",{className:"p-4 bg-teal-900/30 border-t border-teal-800/50",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full text-sm text-slate-300 hover:text-white transition",children:[n.jsx($a,{size:18}),"Wyloguj si"]})})]}),u&&n.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>h(!1)}),n.jsxs("aside",{className:"absolute left-0 top-0 h-full w-72 bg-brand-primary text-white flex flex-col shadow-xl",children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-teal-800/50 bg-teal-900/20",children:n.jsx(ta,{onClick:c,variant:"sidebar"})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1",children:[ou.slice(0,5).map(y),n.jsx("div",{className:"pt-6 pb-2 px-6 text-xs font-semibold text-slate-300 uppercase tracking-wider",children:"Konto"}),ou.slice(5).map(y)]}),n.jsx("div",{className:"p-4 bg-teal-900/30 border-t border-teal-800/50",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full text-sm text-slate-300 hover:text-white transition",children:[n.jsx($a,{size:18}),"Wyloguj si"]})})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[n.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{className:"md:hidden text-slate-500 hover:text-brand-primary",onClick:()=>h(!0),"aria-label":"Otwrz menu",children:n.jsx(qr,{size:22})}),n.jsxs("div",{className:"relative hidden sm:block",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:n.jsx(aa,{size:16})}),n.jsx("input",{className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm bg-slate-50 text-slate-700 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent w-64",placeholder:"Szukaj kursw...",type:"text"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[n.jsxs("button",{onClick:()=>p(N=>!N),className:"relative p-2 text-slate-500 hover:bg-slate-100 rounded-full transition","aria-label":"Powiadomienia",children:[n.jsx(qn,{size:18}),n.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-brand-accent rounded-full border-2 border-white"})]}),m&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50",children:n.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Powiadomienia"})}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:g.map(N=>n.jsxs("div",{className:"px-4 py-3 hover:bg-slate-50 transition-colors flex gap-3 border-b border-slate-100",children:[n.jsx("div",{className:"shrink-0 h-9 w-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600",children:n.jsx(qn,{size:18})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium text-slate-900",children:N.title}),n.jsx("span",{className:"text-xs text-slate-500 mt-0.5",children:N.time})]})]},N.id))})]})]}),n.jsxs("div",{className:"flex items-center gap-3 border-l border-slate-200 pl-4",children:[n.jsxs("div",{className:"text-right hidden sm:block",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-800",children:a}),n.jsx("p",{className:"text-xs text-slate-500",children:i})]}),n.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 border border-slate-100 flex items-center justify-center font-bold text-slate-700",children:(w=(a||"K")[0])==null?void 0:w.toUpperCase()})]})]})]}),n.jsxs("main",{className:"flex-1 overflow-y-auto p-6 flex flex-col",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsx(Rh,{segments:v(t)}),n.jsx("div",{children:s})]}),n.jsx(Nc,{})]})]})]})},lw=t=>`${Math.max(0,Math.min(100,Math.round(t)))}%`,$O=t=>{const e=(t||"").trim();return e?e.split(/\s+/)[0]||e:"Kursancie"},qO=({studentUser:t,courses:e,myCourses:s,onContinueLearning:a,onGoToCatalog:i,onGoToCertifications:o})=>{const c=s.filter(N=>N.status==="active"),u=s.filter(N=>N.status==="completed"),h=s.length?s.reduce((N,k)=>N+(k.progress||0),0)/s.length:0,m=(()=>{const N=t.examHistory||[];return N.length?N.reduce((z,E)=>z+(E.maxScore?E.score/E.maxScore*100:0),0)/N.length:null})(),p=t.certifications||[],g=(()=>{const N=new Date;return p.filter(k=>{const z=new Date(k.expirationDate),E=Math.ceil((z.getTime()-N.getTime())/(1e3*60*60*24));return E<=180&&E>0})})(),y=c[0]||s[0]||null,v=y?e.find(N=>N.id===y.courseId):null,w=O.useMemo(()=>{const N=new Set(s.map(k=>k.courseId));return e.filter(k=>!N.has(k.id)).slice(0,2)},[e,s]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 md:p-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-6 relative overflow-hidden",children:[n.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-gradient-to-l from-brand-primary/5 to-transparent pointer-events-none"}),n.jsxs("div",{className:"z-10",children:[n.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-brand-primary mb-2",children:["Dzie dobry, ",$O(t.name),"!"]}),n.jsxs("p",{className:"text-slate-500 max-w-lg",children:["Masz ",c.length," aktywne kursy i ",g.length," uprawnienia do sprawdzenia w najbliszych miesicach."]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 z-10 w-full md:w-auto",children:[n.jsxs("div",{className:"bg-sky-50 px-5 py-3 rounded-xl border border-sky-100 flex items-center gap-3 flex-1 md:flex-none min-w-[160px]",children:[n.jsx("div",{className:"p-2 bg-sky-100 text-sky-700 rounded-lg",children:n.jsx(wi,{size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-slate-900",children:lw(m??h)}),n.jsx("p",{className:"text-xs text-slate-500 font-semibold uppercase tracking-wide",children:"r. wynik"})]})]}),n.jsxs("div",{className:"bg-emerald-50 px-5 py-3 rounded-xl border border-emerald-100 flex items-center gap-3 flex-1 md:flex-none min-w-[160px]",children:[n.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-700 rounded-lg",children:n.jsx(Ap,{size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-slate-900",children:p.length}),n.jsx("p",{className:"text-xs text-slate-500 font-semibold uppercase tracking-wide",children:"Certyfikatw"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 items-start",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs("section",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(nc,{size:18,className:"text-brand-primary"})," Moja nauka"]}),n.jsxs("button",{onClick:a,className:"text-sm text-brand-accent font-semibold hover:text-brand-accentHover",children:["Zobacz wszystkie ",n.jsx(Dt,{size:16,className:"inline"})]})]}),y&&v?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden flex flex-col sm:flex-row border border-slate-200 group hover:shadow-md transition-all",children:[n.jsxs("div",{className:"sm:w-2/5 h-40 sm:h-auto bg-slate-100 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-brand-primary/10 group-hover:bg-brand-primary/5 transition-colors"}),n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-700 to-slate-900 text-white",children:n.jsx(rs,{size:56,className:"opacity-50"})}),n.jsx("div",{className:"absolute top-3 left-3 bg-brand-accent text-white text-xs font-bold px-2 py-1 rounded shadow-sm",children:y.status==="completed"?"UKOCZONE":"W TOKU"})]}),n.jsxs("div",{className:"p-6 sm:w-3/5 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:v.category}),n.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Ostatnia aktywno: Dzisiaj"})]}),n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2 leading-tight group-hover:text-brand-primary transition-colors",children:v.title}),n.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mb-4",children:v.description||""}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-500",children:[n.jsx("span",{children:"Postp"}),n.jsx("span",{className:"text-brand-accent",children:lw(y.progress)})]}),n.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(100,y.progress))}%`}})})]})]}),n.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 flex items-center justify-end",children:n.jsxs("button",{onClick:a,className:"bg-brand-accent hover:bg-brand-accentHover text-white px-5 py-2 rounded-lg font-semibold shadow-sm hover:shadow-md transition flex items-center gap-2",children:["Kontynuuj",n.jsx(Dt,{size:18})]})})]})]}):n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-slate-600",children:["Brak aktywnych kursw. Przejd do katalogu, aby wybra szkolenie.",n.jsx("div",{className:"mt-4",children:n.jsxs("button",{onClick:i,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-brand-primary text-white font-semibold hover:bg-brand-primary/90 transition",children:["Przejd do katalogu",n.jsx(Dt,{size:18})]})})]})]}),n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(rs,{size:18,className:"text-brand-primary"})," Polecane dla Ciebie"]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:w.map(N=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition group",children:[n.jsx("div",{className:"h-28 bg-slate-100 relative",children:n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-brand-primary/5 text-brand-primary/20",children:n.jsx(rs,{size:44})})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("span",{className:"text-[10px] font-bold tracking-wider uppercase text-brand-primary bg-slate-100 px-2 py-1 rounded",children:N.category}),n.jsx("span",{className:"text-sm font-bold text-slate-900",children:N.promoPrice||N.price})]}),n.jsx("h4",{className:"font-bold text-slate-800 mb-1 group-hover:text-brand-primary transition-colors",children:N.title}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-3",children:n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ci,{size:14})," ",N.duration]})})]})]},N.id))})]})]}),n.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[n.jsxs("div",{className:"bg-orange-50 rounded-xl p-5 border border-orange-100 shadow-sm relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:n.jsx(ju,{size:56,className:"text-brand-accent"})}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("h3",{className:"text-brand-accent font-bold flex items-center gap-2 mb-2",children:[n.jsx(ju,{size:18})," Przypomnienia"]}),g.length>0?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm text-slate-800 font-medium mb-2",children:["Masz ",g.length," uprawnienia wygasajce w cigu 6 miesicy."]}),n.jsx("button",{onClick:o,className:"text-sm font-semibold text-brand-accent underline hover:text-brand-accentHover",children:"Zobacz szczegy i zapisz si na egzamin "})]}):n.jsx("p",{className:"text-sm text-slate-700",children:"Na ten moment nie masz pilnych przypomnie."})]})]}),n.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Moje kursy"}),n.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:s.length})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"W toku"}),n.jsx("div",{className:"font-bold text-slate-900",children:c.length}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Ukoczone"}),n.jsx("div",{className:"font-bold text-slate-900",children:u.length})]})]})})]})]})]})},VO=t=>t==="completed"?"bg-emerald-50 text-emerald-700 border border-emerald-200":t==="pending"?"bg-amber-50 text-amber-700 border border-amber-200":"bg-sky-50 text-sky-700 border border-sky-200",WO=t=>t==="completed"?"Ukoczone":t==="pending"?"Oczekuje":"W toku",KO=({courses:t,myCourses:e,onPreviewCourse:s,onContinueCourse:a})=>{const i=O.useMemo(()=>e.map(h=>({enrollment:h,course:t.find(m=>m.id===h.courseId)||null})).filter(h=>h.course),[t,e]),o=i.filter(h=>h.enrollment.status==="active"),c=i.filter(h=>h.enrollment.status==="pending"),u=i.filter(h=>h.enrollment.status==="completed");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Moje kursy"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Twoje przypisane szkolenia, postp i status."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm font-semibold",children:[n.jsx(nc,{size:18,className:"text-brand-primary"})," W toku"]}),n.jsx("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:o.length})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm font-semibold",children:[n.jsx(ci,{size:18,className:"text-brand-primary"})," Oczekuje"]}),n.jsx("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:c.length})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm font-semibold",children:[n.jsx(Cr,{size:18,className:"text-brand-primary"})," Ukoczone"]}),n.jsx("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:u.length})]})]}),i.length===0?n.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6 text-slate-600",children:"Brak przypisanych kursw."}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:i.map(({enrollment:h,course:m})=>{if(!m)return null;const p=Math.max(0,Math.min(100,h.progress||0));return n.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:m.category}),n.jsx("div",{className:"mt-1 text-lg font-bold text-slate-900",children:m.title}),n.jsxs("div",{className:"mt-2 text-sm text-slate-600 flex items-center gap-2",children:[n.jsx(rs,{size:16,className:"text-slate-400"}),"Nastpna lekcja: ",n.jsx("span",{className:"font-semibold",children:h.nextLesson})]})]}),n.jsx("span",{className:`shrink-0 px-3 py-1 rounded-full text-xs font-bold ${VO(h.status)}`,children:WO(h.status)})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-xs font-semibold text-slate-500",children:[n.jsx("span",{children:"Postp"}),n.jsxs("span",{className:"text-brand-accent",children:[p,"%"]})]}),n.jsx("div",{className:"mt-2 w-full bg-slate-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-accent h-2 rounded-full",style:{width:`${p}%`}})})]}),n.jsx("div",{className:"mt-5 flex justify-end",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[a&&h.status!=="pending"&&n.jsxs("button",{onClick:()=>a(m.id),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-brand-accent text-white font-semibold hover:bg-brand-accentHover transition",children:[n.jsx(nc,{size:16})," Kontynuuj"]}),n.jsxs("button",{onClick:()=>s(m.id),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-brand-primary text-white font-semibold hover:bg-brand-primary/90 transition",children:[n.jsx(bc,{size:16})," Podgld"]})]})})]})},h.id)})})]})},iw=t=>{try{const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleDateString("pl-PL")}catch{return t}},GO=t=>t==="active"?"bg-emerald-50 text-emerald-700 border-emerald-200":t==="expiring-soon"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200",FO=t=>t==="active"?"Aktywne":t==="expiring-soon"?"Wygasa wkrtce":"Wygaso",ZO=({studentUser:t})=>{const e=t.certifications||[],s=O.useMemo(()=>{const a=new Date;return e.filter(i=>{const o=new Date(i.expirationDate),c=Math.ceil((o.getTime()-a.getTime())/(1e3*60*60*24));return c<=180&&c>0})},[e]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Uprawnienia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Lista Twoich certyfikatw i terminw wanoci."})]}),s.length>0&&n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ju,{size:20,className:"text-amber-700 mt-0.5"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-amber-900",children:"Przypomnienie"}),n.jsxs("div",{className:"text-sm text-amber-800 mt-1",children:["Masz ",s.length," uprawnienia wygasajce w cigu 6 miesicy."]})]})]})}),e.length===0?n.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6 text-slate-600",children:"Brak certyfikatw do wywietlenia."}):n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xw,{size:18,className:"text-brand-primary"}),n.jsx("span",{className:"font-bold text-slate-900",children:"Twoje certyfikaty"})]}),n.jsxs("div",{className:"text-sm text-slate-500",children:[e.length," pozycji"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:[n.jsx("th",{className:"px-4 py-3",children:"Uprawnienie"}),n.jsx("th",{className:"px-4 py-3",children:"Wydane"}),n.jsx("th",{className:"px-4 py-3",children:"Wygasa"}),n.jsx("th",{className:"px-4 py-3",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Akcje"})]})}),n.jsx("tbody",{children:e.map(a=>n.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition",children:[n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"font-semibold text-slate-900",children:a.name}),n.jsx("div",{className:"text-xs text-slate-500",children:a.courseName})]}),n.jsx("td",{className:"px-4 py-3 text-slate-700",children:iw(a.issueDate)}),n.jsx("td",{className:"px-4 py-3 text-slate-700",children:n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(sS,{size:14,className:"text-slate-400"}),iw(a.expirationDate)]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold border ${GO(a.status)}`,children:FO(a.status)})}),n.jsx("td",{className:"px-4 py-3 text-right",children:a.certificateUrl?n.jsxs("a",{href:a.certificateUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-brand-accent text-white font-semibold hover:bg-brand-accentHover transition",children:[n.jsx($r,{size:16})," Pobierz"]}):n.jsx("span",{className:"text-xs text-slate-400",children:"Brak pliku"})})]},a.id))})]})})]})]})},rw=t=>{try{const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString("pl-PL")}catch{return t}},YO=({studentUser:t})=>{var o,c;const e=t.examHistory||[],[s,a]=O.useState(null),i=O.useMemo(()=>s&&e.find(u=>u.id===s)||null,[e,s]);if(i){const u=i.maxScore?Math.round(i.score/i.maxScore*100):0,h=((o=i.questionsAnswered)==null?void 0:o.filter(p=>p.isCorrect).length)||0,m=((c=i.questionsAnswered)==null?void 0:c.length)||0;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Szczegy egzaminu"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Podsumowanie podejcia i odpowiedzi."})]}),n.jsxs("button",{onClick:()=>a(null),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white border border-slate-200 text-slate-700 font-semibold hover:bg-slate-50 transition",children:[n.jsx(Bl,{size:16})," Wr"]})]}),n.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-5",children:n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Szkolenie"}),n.jsx("div",{className:"mt-1 text-lg font-bold text-slate-900",children:i.courseName}),i.moduleName&&n.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Modu: ",i.moduleName]}),n.jsxs("div",{className:"text-sm text-slate-600 mt-2 inline-flex items-center gap-2",children:[n.jsx(l1,{size:14,className:"text-slate-400"})," ",rw(i.date)]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border ${i.passed?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[i.passed?n.jsx(Cr,{size:14}):n.jsx(Mr,{size:14}),i.passed?"Zaliczony":"Niezaliczony"]}),n.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border bg-sky-50 text-sky-700 border-sky-200",children:["Wynik: ",i.score,"/",i.maxScore," (",u,"%)"]}),n.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border bg-slate-50 text-slate-700 border-slate-200",children:[n.jsx($S,{size:14})," ",h,"/",m," poprawnych"]})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Dp,{size:18,className:"text-brand-primary"}),n.jsx("span",{className:"font-bold text-slate-900",children:"Odpowiedzi"})]}),n.jsxs("div",{className:"text-sm text-slate-500",children:[m," pyta"]})]}),n.jsxs("div",{className:"divide-y divide-slate-100",children:[(i.questionsAnswered||[]).map((p,g)=>n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:["Pytanie ",g+1]}),n.jsx("div",{className:"mt-1 font-semibold text-slate-900",children:p.question})]}),n.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border ${p.isCorrect?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[p.isCorrect?n.jsx(Cr,{size:14}):n.jsx(Mr,{size:14}),p.isCorrect?"Poprawnie":"Bdnie"]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Twoja odpowied"}),n.jsx("div",{className:"mt-1 text-slate-800",children:Array.isArray(p.selectedAnswer)?p.selectedAnswer.join(", "):String(p.selectedAnswer)})]}),n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Poprawna odpowied"}),n.jsx("div",{className:"mt-1 text-slate-800",children:Array.isArray(p.correctAnswer)?p.correctAnswer.join(", "):String(p.correctAnswer)})]})]})]},`${p.questionId}_${g}`)),(i.questionsAnswered||[]).length===0&&n.jsx("div",{className:"p-6 text-slate-600",children:"Brak zapisanych odpowiedzi dla tego egzaminu."})]})]})]})}return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Egzaminy"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Historia podej i wyniki."})]}),e.length===0?n.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6 text-slate-600",children:"Brak historii egzaminw."}):n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Dp,{size:18,className:"text-brand-primary"}),n.jsx("span",{className:"font-bold text-slate-900",children:"Historia egzaminw"})]}),n.jsxs("div",{className:"text-sm text-slate-500",children:[e.length," wpisw"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:[n.jsx("th",{className:"px-4 py-3",children:"Szkolenie"}),n.jsx("th",{className:"px-4 py-3",children:"Typ"}),n.jsx("th",{className:"px-4 py-3",children:"Wynik"}),n.jsx("th",{className:"px-4 py-3",children:"Status"}),n.jsx("th",{className:"px-4 py-3",children:"Data"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Szczegy"})]})}),n.jsx("tbody",{children:e.map(u=>{const h=u.maxScore?Math.round(u.score/u.maxScore*100):0;return n.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition",children:[n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"font-semibold text-slate-900",children:u.courseName}),n.jsx("div",{className:"text-xs text-slate-500",children:u.moduleName||""})]}),n.jsx("td",{className:"px-4 py-3 text-slate-700",children:u.examType==="final"?"Kocowy":"Modu"}),n.jsxs("td",{className:"px-4 py-3 text-slate-700",children:[h,"%"]}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold border ${u.passed?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[u.passed?n.jsx(Cr,{size:14}):n.jsx(Mr,{size:14}),u.passed?"Zaliczony":"Niezaliczony"]})}),n.jsx("td",{className:"px-4 py-3 text-slate-700",children:n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(l1,{size:14,className:"text-slate-400"})," ",rw(u.date)]})}),n.jsx("td",{className:"px-4 py-3 text-right",children:n.jsxs("button",{onClick:()=>a(u.id),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-700 font-semibold hover:bg-slate-50 transition",children:[n.jsx(ea,{size:16})," Szczegy"]})})]},u.id)})})]})})]})]})},cu=({title:t="Katalog szkole",subtitle:e="Zarzdzaj szkoleniami i moduami szkoleniowymi.",courses:s,onCreateCourse:a,onEditCourse:i,onPreviewCourse:o,onDeleteCourse:c})=>{const[u,h]=O.useState(""),[m,p]=O.useState("Wszystkie"),[g,y]=O.useState(null),v=O.useMemo(()=>m==="Wszystkie"?s:s.filter(z=>z.category===m),[m,s]),w=O.useMemo(()=>{const z=u.trim().toLowerCase();return z?v.filter(E=>`${E.title} ${E.category} ${E.price} ${E.promoPrice||""}`.toLowerCase().includes(z)):v},[v,u]),N=z=>{const E=(z.promoPrice||"").trim();return!E||E===z.price?null:E},k=O.useMemo(()=>{const z=new Map;return kt.forEach(E=>{const R=z.get(E.course)||{total:0,active:0};R.total+=1,E.status==="active"&&(R.active+=1),z.set(E.course,R)}),z},[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:e})]}),a?n.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition text-sm font-medium",children:[n.jsx(yx,{size:16}),"Dodaj szkolenie"]}):null]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 w-full",children:[n.jsxs("div",{className:"relative w-full md:max-w-sm",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:n.jsx(aa,{size:16})}),n.jsx("input",{className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm bg-slate-50 text-slate-700 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent w-full",placeholder:"Szukaj szkole...",type:"text",value:u,onChange:z=>h(z.target.value)})]}),n.jsx("div",{className:"w-full md:w-auto",children:n.jsxs("div",{className:"relative w-fit",children:[n.jsxs("select",{className:"appearance-none w-fit pl-4 pr-10 py-2 border border-slate-200 rounded-lg text-sm bg-white text-slate-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent cursor-pointer",value:m,onChange:z=>p(z.target.value),"aria-label":"Filtruj po kategorii",children:[n.jsx("option",{value:"Wszystkie",children:"Wszystkie kategorie"}),n.jsx("option",{value:"UDT",children:"UDT"}),n.jsx("option",{value:"SEP",children:"SEP"}),n.jsx("option",{value:"BHP",children:"BHP"}),n.jsx("option",{value:"Inne",children:"Inne"})]}),n.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400",children:n.jsx(Ei,{size:16})})]})})]}),n.jsxs("div",{className:"text-right whitespace-nowrap",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900 leading-none",children:s.length}),n.jsx("div",{className:"text-xs font-semibold uppercase text-slate-500 mt-1",children:"SZKOLE"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:[n.jsx("th",{className:"px-4 py-3",children:"Szkolenie"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Kategoria"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Uczestnicy"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Cena"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Akcje"})]})}),n.jsxs("tbody",{children:[w.map(z=>{const E=N(z),R=k.get(z.id)||{total:0,active:0},H=z.status==="draft";return n.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>o(z.id),className:"h-16 w-16 rounded-md overflow-hidden border border-slate-200 bg-slate-100 flex-shrink-0","aria-label":"Podgld szkolenia",children:z.image?n.jsx("img",{src:z.image,alt:z.title,className:"h-full w-full object-cover",loading:"lazy"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center text-xs font-bold text-slate-500",children:z.title.slice(0,2).toUpperCase()})}),n.jsx("button",{onClick:()=>o(z.id),className:"font-semibold text-slate-800 hover:text-brand-primary text-left",title:"Podgld szkolenia",children:z.title})]})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("button",{onClick:()=>p(z.category),className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs font-bold hover:bg-brand-primary hover:text-white transition-colors cursor-pointer",title:`Poka szkolenia: ${z.category}`,children:z.category})}),n.jsxs("td",{className:"px-4 py-4 text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm font-semibold text-slate-700",children:[n.jsx(Zs,{size:14,className:"text-slate-500"}),n.jsxs("span",{children:[R.active," / ",R.total]})]}),n.jsx("div",{className:"text-xs text-slate-500",children:"aktywni / cznie"})]}),n.jsx("td",{className:"px-4 py-4 text-center",children:E?n.jsxs("div",{className:"leading-tight",children:[n.jsx("div",{className:"text-xs text-slate-400 line-through font-semibold",children:z.price}),n.jsx("div",{className:"text-slate-900 font-extrabold text-brand-accent",children:E})]}):n.jsx("div",{className:"text-slate-700 font-semibold",children:z.price})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${H?"bg-slate-100 text-slate-600":"bg-green-50 text-green-700"}`,children:H?"Wersja robocza":"Opublikowany"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsxs("div",{className:"relative w-32 h-10 overflow-hidden",children:[n.jsx("div",{className:`absolute inset-0 flex items-center justify-end transition-all ease-in-out ${g===z.id&&c?"translate-x-0 opacity-100 duration-300":"translate-x-full opacity-0 duration-500"}`,children:n.jsxs("div",{className:"flex items-center gap-2 bg-red-50 border border-red-100 rounded-lg px-2 py-1 shadow-sm",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>{c&&(c(z.id),y(null))},className:"p-2 text-red-700 hover:bg-red-100 rounded-md transition","aria-label":"Potwierd usunicie",children:n.jsx(bx,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Potwierd"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>y(null),className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-md transition","aria-label":"Anuluj usunicie",children:n.jsx(ac,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Anuluj"})]})]})}),n.jsxs("div",{className:`absolute inset-0 flex items-center justify-end gap-2 transition-all ease-in-out ${g===z.id&&c?"translate-x-full opacity-0 duration-300":"translate-x-0 opacity-100 duration-500"}`,children:[n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>o(z.id),className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition","aria-label":"Podgld",children:n.jsx(bc,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Podgld"})]}),i?n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>i(z.id),className:"p-2 text-brand-accent hover:text-brand-accentHover hover:bg-orange-50 rounded-lg transition","aria-label":"Edytuj",children:n.jsx(Ai,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Edytuj"})]}):null,c&&n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>y(z.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition","aria-label":"Usu",children:n.jsx(Vr,{size:16})}),n.jsx("div",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md bg-slate-900 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition",children:"Usu"})]})]})]})})})]},z.id)}),m!=="Wszystkie"&&v.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-4 py-10 text-center text-slate-500",children:"Brak szkole w tej kategorii"})}):w.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-4 py-10 text-center text-slate-500",children:"Brak wynikw."})}):null]})]})})]})]})},JO=t=>{const e=(t.promoPrice||"").trim();return!e||e===t.price?null:e},du=({training:t,onBack:e,onEdit:s,onStart:a})=>{if(!t)return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[n.jsx("p",{className:"text-slate-500",children:"Nie znaleziono szkolenia."}),n.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Wr"})]});const i=JO(t),o=kn.filter(k=>k.courseId===t.id),c=o.reduce((k,z)=>{var E;return k+(((E=z.lessons)==null?void 0:E.length)||0)},0),u=kt.filter(k=>k.course===t.id),h=u.length,m=u.filter(k=>k.status==="active").length,p=u.filter(k=>k.progress>=100).length,g=h?Math.round(u.reduce((k,z)=>k+z.progress,0)/h):0,y=!!t.description,[v,w]=O.useState(null);O.useEffect(()=>{var k;w(((k=o[0])==null?void 0:k.id)||null)},[t==null?void 0:t.id]);const N=k=>k.replace(/^Modu\s*\d+\s*:\s*/i,"").trim();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Podgld szkolenia"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[s?n.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-700 font-semibold",children:[n.jsx(Ai,{size:16})," Edytuj"]}):null,n.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[n.jsx(Bl,{size:16})," Wr"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr_360px] gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[n.jsx("div",{className:"aspect-[16/6] bg-slate-100",children:t.image?n.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full object-cover",loading:"lazy"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center text-slate-400",children:"Brak okadki"})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[n.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs font-bold",children:t.category}),n.jsxs("span",{className:"text-sm text-slate-600 font-semibold",children:["Lekcje: ",c]})]}),n.jsx("div",{className:"text-xl font-bold text-slate-900",children:t.title}),t.description&&n.jsx("div",{className:"text-sm text-slate-600 mt-3 leading-relaxed",children:t.description})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"p-6 border-b border-slate-100",children:[n.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Program szkolenia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Podgld moduw i lekcji."})]}),n.jsx("div",{className:"p-6 space-y-3",children:o.length===0?n.jsx("div",{className:"text-sm text-slate-500",children:"Brak zdefiniowanego programu dla tego szkolenia (na razie)."}):o.map(k=>{const z=v===k.id;return n.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[n.jsxs("button",{type:"button",onClick:()=>w(z?null:k.id),className:"w-full bg-slate-50 px-4 py-3 cursor-pointer flex items-center justify-between text-left",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-slate-800",children:N(k.title)}),n.jsxs("div",{className:"text-xs text-slate-500",children:[k.lessons.length," lekcji"]})]}),n.jsx(Ei,{size:18,className:`text-slate-500 transition-transform ${z?"rotate-180":""}`})]}),n.jsx("div",{className:`grid transition-[grid-template-rows,opacity] duration-300 ease-out ${z?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{className:"p-4 space-y-2",children:k.lessons.map(E=>n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-md bg-white border border-slate-100",children:[n.jsx("div",{className:"text-sm text-slate-800 font-medium",children:E.title}),n.jsx("div",{className:"text-xs text-slate-500",children:E.duration})]},E.id))})})})]},k.id)})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsx("div",{className:"p-5 border-b border-slate-100",children:n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Dostp"})}),n.jsxs("div",{className:"p-5 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${y?"bg-green-50 text-green-700":"bg-slate-100 text-slate-600"}`,children:y?"Opublikowany":"Nieopublikowany"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Cena"}),i?n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-sm text-slate-400 line-through font-semibold",children:t.price}),n.jsx("div",{className:"text-2xl font-extrabold text-brand-accent",children:i})]}):n.jsx("div",{className:"text-2xl font-extrabold text-slate-900 mt-2",children:t.price})]}),n.jsxs("button",{onClick:()=>a(t.id),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-accent text-white rounded-lg shadow hover:bg-brand-accentHover transition font-semibold",children:[n.jsx(nc,{size:18})," Zobacz szkolenie"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsx("div",{className:"p-5 border-b border-slate-100",children:n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Uczestnicy"})}),n.jsxs("div",{className:"p-5 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-slate-500",children:"Zapisani"}),n.jsx("span",{className:"font-semibold text-slate-800",children:h})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-slate-500",children:"Aktywni"}),n.jsx("span",{className:"font-semibold text-slate-800",children:m})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-slate-500",children:"Ukoczyo"}),n.jsx("span",{className:"font-semibold text-slate-800",children:p})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-slate-500",children:"redni postp"}),n.jsxs("span",{className:"font-semibold text-slate-800",children:[g,"%"]})]})]})]})]})]})]})},XO=t=>{var s,a,i;const e=t.trim().split(/\s+/).filter(Boolean);return(((s=e[0])==null?void 0:s[0])||"U")+(((a=e[1])==null?void 0:a[0])||((i=e[0])==null?void 0:i[1])||"")},uu=({email:t,courses:e,overrides:s,onBack:a,onEdit:i,students:o=kt,entityLabel:c="uytkownika"})=>{const u=o.filter(N=>N.email===t),h=u[0],m=s==null?void 0:s[t],p=(m==null?void 0:m.name)||(h==null?void 0:h.name)||t,g=(m==null?void 0:m.email)||t,y=(m==null?void 0:m.company)||(h==null?void 0:h.company)||"Indywidualny",v=u.length,w=v?Math.round(u.reduce((N,k)=>N+k.progress,0)/v):0;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{children:n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Profil ",c]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-700 font-semibold",children:[n.jsx(Ai,{size:16})," Edytuj"]}),n.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[n.jsx(Bl,{size:16})," Wr"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-lg bg-slate-200 border border-slate-100 flex items-center justify-center font-bold text-slate-700",children:XO(p).toUpperCase()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-lg font-bold text-slate-900",children:p}),n.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2 mt-1",children:[n.jsx(qa,{size:14})," ",g]}),n.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2 mt-1",children:[n.jsx(Gs,{size:14})," ",y]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Szkolenia"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-1",children:v})]}),n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase",children:"redni postp"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900 mt-1",children:[w,"%"]})]}),n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Status"}),n.jsx("div",{className:"text-sm font-bold text-green-700 mt-2",children:"Aktywny"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"p-6 border-b border-slate-100",children:[n.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Szkolenia uytkownika"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Lista przypisanych szkole i postp."})]}),n.jsx("div",{className:"p-6 space-y-3",children:u.length===0?n.jsx("div",{className:"text-sm text-slate-500",children:"Brak przypisanych szkole."}):u.map(N=>{const k=e.find(z=>z.id===N.course);return n.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("div",{className:"font-semibold text-slate-800",children:(k==null?void 0:k.title)||N.course}),n.jsxs("div",{className:"text-sm font-bold text-slate-700",children:[N.progress,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-brand-accent h-2 rounded-full",style:{width:`${N.progress}%`}})})]},N.id)})})]})]})},hu=({email:t,overrides:e,onSaveOverrides:s,onBack:a,students:i=kt,hideCompanyField:o=!1,forcedCompany:c,entityLabel:u="uytkownika"})=>{const h=i.find(Z=>Z.email===t),m=e==null?void 0:e[t],p=Array.from(new Set(["Indywidualny",...i.map(Z=>Z.company||"Indywidualny")])),g=O.useCallback(Z=>{const ce=(Z||"").trim().replace(/\s+/g," ");if(!ce)return{firstName:"",lastName:""};const Te=ce.split(" ");return Te.length===1?{firstName:Te[0],lastName:""}:{firstName:Te.slice(0,-1).join(" "),lastName:Te[Te.length-1]}},[]),[y,v]=O.useState((m==null?void 0:m.email)||t),w=(m==null?void 0:m.name)||(h==null?void 0:h.name)||t,N=g(w),[k,z]=O.useState(N.firstName),[E,R]=O.useState(N.lastName),[H,I]=O.useState(c||(m==null?void 0:m.company)||(h==null?void 0:h.company)||"Indywidualny"),[W,$]=O.useState((m==null?void 0:m.phone)||""),[Y,T]=O.useState((m==null?void 0:m.address)||""),[ee,J]=O.useState((m==null?void 0:m.idNumber)||""),[xe,be]=O.useState((m==null?void 0:m.pesel)||""),[ae,P]=O.useState((m==null?void 0:m.avatarUrl)||""),M="w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary bg-white appearance-none pr-10";O.useEffect(()=>{const Z=i.find(K=>K.email===t),ce=e==null?void 0:e[t],Te=(ce==null?void 0:ce.name)||(Z==null?void 0:Z.name)||t,C=g(Te);v((ce==null?void 0:ce.email)||t),z(C.firstName),R(C.lastName),I(c||(ce==null?void 0:ce.company)||(Z==null?void 0:Z.company)||"Indywidualny"),$((ce==null?void 0:ce.phone)||""),T((ce==null?void 0:ce.address)||""),J((ce==null?void 0:ce.idNumber)||""),be((ce==null?void 0:ce.pesel)||""),P((ce==null?void 0:ce.avatarUrl)||"")},[t,c,e,g,i]);const D=`${k} ${E}`.trim().replace(/\s+/g," ");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{children:n.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Edycja ",u]})}),n.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[n.jsx(Bl,{size:16})," Wr"]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 space-y-5",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Imi"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:k,onChange:Z=>z(Z.target.value),placeholder:"Jan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Nazwisko"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:E,onChange:Z=>R(Z.target.value),placeholder:"Kowalski"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:y,onChange:Z=>v(Z.target.value)}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Zmiana emaila jest symulowana w UI (bez backendu)."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Telefon"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:W,onChange:Z=>$(Z.target.value),placeholder:"600000000"})]})]}),!o&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Firma"}),n.jsxs("div",{className:"relative",children:[n.jsx("select",{className:M,value:H,onChange:Z=>I(Z.target.value),children:p.map(Z=>n.jsx("option",{value:Z,children:Z},Z))}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Uwaga: to nadpisanie jest tylko w UI (bez backendu)."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Adres"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:Y,onChange:Z=>T(Z.target.value),placeholder:"ul. Przykadowa 1, 99-300 Kutno"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Dowd osobisty"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:ee,onChange:Z=>J(Z.target.value),placeholder:"ABC123456"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PESEL"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:xe,onChange:Z=>be(Z.target.value),placeholder:"00000000000"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Zdjcie / miniatura (URL)"}),n.jsx("div",{className:"text-[11px] text-slate-500 -mt-1 mb-2",children:"Rekomendowane: WEBP  Alternatywnie: PNG/JPG"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:ae,onChange:Z=>P(Z.target.value),placeholder:"https://..."}),ae&&n.jsx("img",{src:ae,alt:"Podgld",className:"mt-3 h-16 w-16 rounded-full object-cover border border-slate-200"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>{s(t,{email:y,name:D||y,company:H,phone:W,address:Y,idNumber:ee,pesel:xe,avatarUrl:ae}),a()},className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition font-semibold",children:[n.jsx(Ti,{size:16})," Zapisz zmiany"]})})]})]})},fu="w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary bg-white appearance-none pr-10 text-sm",wr="__new_company__",ow=t=>t.trim().replace(/\s+/g,"").replace(/[-_]/g,"").replace(/[]/g,e=>({:"a",:"c",:"e",:"l",:"o",:"s",:"z",:"z"})[e]||e),QO=t=>{let e=!1,s=0,a=0;for(let i=0;i<t.length;i++){const o=t[i];o==='"'&&(e&&t[i+1]==='"'?i++:e=!e),e||(o===","&&s++,o===";"&&a++)}return a>=s?";":","},eR=(t,e)=>{const s=[];let a=[],i="",o=!1;const c=()=>{a.push(i),i=""},u=()=>{for(;a.length&&a[a.length-1]==="";)a.pop();a.every(p=>!p.trim())||s.push(a.map(p=>p.trim())),a=[]},h=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`);for(let m=0;m<h.length;m++){const p=h[m];if(p==='"'){o&&h[m+1]==='"'?(i+='"',m++):o=!o;continue}if(!o&&p===e){c();continue}if(!o&&p===`
`){c(),u();continue}i+=p}return c(),u(),s},cw=t=>{const e=(t||"").trim();if(!e)return;const s=e.replace(/\s+/g,"");return s.startsWith("+48")?s.slice(3)||void 0:s.startsWith("0048")?s.slice(4)||void 0:/^48\d{9}$/.test(s)?s.slice(2):s},Ep=({title:t,subtitle:e,courses:s,students:a,forcedCompany:i,onBack:o,onCreateUser:c,onCreateUsersBulk:u})=>{var Tt,$t;const[h,m]=O.useState("single"),[p,g]=O.useState(null),[y,v]=O.useState(null),[w,N]=O.useState(""),[k,z]=O.useState(""),[E,R]=O.useState(""),[H,I]=O.useState(i||"Indywidualny"),[W,$]=O.useState("existing"),[Y,T]=O.useState(""),[ee,J]=O.useState(((Tt=s[0])==null?void 0:Tt.id)||"c1"),[xe,be]=O.useState(""),[ae,P]=O.useState(""),[M,D]=O.useState(""),[Z,ce]=O.useState(""),[Te,C]=O.useState(""),[K,L]=O.useState((($t=s[0])==null?void 0:$t.id)||"c1"),X=O.useMemo(()=>{const oe=new Map;return s.forEach(ge=>oe.set(ge.id,ge.title)),oe},[s]),de=O.useMemo(()=>t.toLowerCase().includes("pracownik")?"Dodani pracownicy":"Dodane osoby",[t]);O.useEffect(()=>{I(i||"Indywidualny"),$("existing"),T("")},[i]);const ve=O.useMemo(()=>{const ge=["Indywidualny",...Array.from(new Set(a.map(Ct=>(Ct.company||"Indywidualny").trim()))).filter(Ct=>Ct&&Ct!=="Indywidualny")];return Array.from(new Set(ge))},[a]),ue=(i||(W==="new"?Y:H)).trim(),De=O.useMemo(()=>new Set(a.map(oe=>(oe.email||"").trim().toLowerCase()).filter(Boolean)),[a]),Le=`${k} ${E}`.trim().replace(/\s+/g," "),He=(()=>{const oe=w.trim().toLowerCase();return!(!oe||!/\S+@\S+\.\S+/.test(oe)||!k.trim()||!E.trim()||!ee||!i&&!ue||De.has(oe))})(),Ys=()=>{const oe=`imie;nazwisko;email;nr tel;adres;nr dowodu osobistego;nr pesel
Jan;Kowalski;jan.kowalski@firma.pl;600000000;ul. Przykladowa 1, 99-300 Kutno;ABC123456;90010112345
Anna;Nowak;anna.nowak@firma.pl;;;;
`,ge=new Blob([oe],{type:"text/csv;charset=utf-8"}),Ct=URL.createObjectURL(ge),Mt=document.createElement("a");Mt.href=Ct,Mt.download="import-pracownicy.csv",document.body.appendChild(Mt),Mt.click(),Mt.remove(),URL.revokeObjectURL(Ct)},ot=oe=>{const ge=oe.trim();if(!ge)return{ok:!1,error:"Wklej lub wczytaj dane CSV."};const Ct=ge.split(/\r?\n/).find(As=>As.trim());if(!Ct)return{ok:!1,error:"Brak danych CSV."};const Mt=QO(Ct),Js=eR(ge,Mt);if(Js.length<2)return{ok:!1,error:"CSV musi zawiera nagwek i co najmniej 1 wiersz danych."};const Ge=Js[0].map(ow),es=As=>{for(const Li of As){const Ps=Ge.indexOf(ow(Li));if(Ps>=0)return Ps}return-1},ia=es(["imie","firstname","first name"]),ra=es(["nazwisko","lastname","last name"]),yt=es(["email","e-mail","mail"]),oa=es(["nrtel","nr tel","nr_tel","telefon","phone"]),ca=es(["adres","address"]),Il=es(["nrdowoduosobistego","nr dowodu osobistego","nr_dowodu_osobistego","idnumber","dowod","nrdowodu"]),Xs=es(["nrpesel","nr pesel","nr_pesel","pesel"]);if(yt<0||ia<0||ra<0)return{ok:!1,error:"Brakuje wymaganych kolumn: imie, nazwisko oraz email."};if(!i&&!ue)return{ok:!1,error:"Wybierz firm dla importu (lub dodaj now)."};const Ka=[],An=[];return Js.slice(1).forEach((As,Li)=>{const Ps=Li+2,Kt=(As[yt]||"").trim(),dn=(As[ia]||"").trim(),ms=(As[ra]||"").trim(),zc=`${dn} ${ms}`.trim();if(!Kt){An.push({row:Ps,reason:"Brak emaila."});return}if(!/\S+@\S+\.\S+/.test(Kt)){An.push({row:Ps,email:Kt,reason:"Niepoprawny email."});return}if(!dn||!ms){An.push({row:Ps,email:Kt,reason:"Brak danych: imi lub nazwisko."});return}Ka.push({email:Kt,name:zc,company:ue||"Indywidualny",courseId:K,phone:oa>=0?cw(As[oa]||""):void 0,address:ca>=0&&(As[ca]||"").trim()||void 0,idNumber:Il>=0&&(As[Il]||"").trim()||void 0,pesel:Xs>=0&&(As[Xs]||"").trim()||void 0,avatarUrl:void 0,__rowNumber:Ps})}),Ka.length?{ok:!0,payloads:Ka,parseErrors:An}:{ok:!1,error:`Nie znaleziono poprawnych rekordw. ${An[0]?`Przykad: wiersz ${An[0].row}  ${An[0].reason}`:""}`.trim()}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:e})]}),n.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 text-sm font-semibold",onClick:o,children:"Wr"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[y&&n.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:y}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{className:`px-3 py-2 rounded-lg text-sm font-semibold border transition ${h==="single"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"}`,onClick:()=>{v(null),g(null),m("single")},children:"Pojedynczo"}),n.jsx("button",{className:`px-3 py-2 rounded-lg text-sm font-semibold border transition ${h==="csv"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"}`,onClick:()=>{v(null),g(null),m("csv")},children:"Import CSV (wiele osb)"})]}),h==="csv"&&p&&n.jsxs("div",{className:"mt-6 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Podsumowanie importu"}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 px-4 py-3",children:[n.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-green-800",children:"Dodano"}),n.jsx("div",{className:"mt-1 text-2xl font-bold text-green-900 leading-none",children:p.created}),n.jsx("div",{className:"mt-1 text-xs text-green-800",children:"Nowe rekordy w systemie"})]}),n.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3",children:[n.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-amber-800",children:"Pominito"}),n.jsx("div",{className:"mt-1 text-2xl font-bold text-amber-900 leading-none",children:p.skipped.length}),n.jsx("div",{className:"mt-1 text-xs text-amber-800",children:"Np. duplikaty lub bdy danych"})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 text-sm font-semibold",onClick:()=>{g(null)},children:"Ukryj podsumowanie"}),n.jsx("button",{className:"px-4 py-2 rounded-lg font-semibold text-white shadow transition bg-brand-accent hover:bg-brand-accentHover",onClick:o,children:"Wr do listy"})]})]}),p.skipped.length>0&&n.jsxs("details",{className:"mt-4 rounded-lg border border-slate-200 bg-white px-4 py-3",children:[n.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-slate-800",children:["Poka pominite wiersze (",p.skipped.length,")"]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"Wiersz"}),n.jsx("th",{className:"py-2 pr-3",children:"Email"}),n.jsx("th",{className:"py-2",children:"Powd"})]})}),n.jsx("tbody",{children:p.skipped.slice().sort((oe,ge)=>oe.row-ge.row).map((oe,ge)=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2 pr-3 font-semibold text-slate-700",children:oe.row}),n.jsx("td",{className:"py-2 pr-3 text-slate-700",children:oe.email||""}),n.jsx("td",{className:"py-2 text-slate-700",children:oe.reason})]},`${oe.row}-${oe.email||""}-${ge}`))})]})})]}),p.createdUsers.length>0&&n.jsxs("div",{className:"mt-4 rounded-lg border border-slate-200 bg-white px-4 py-3",children:[n.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[de," ",n.jsxs("span",{className:"text-slate-500 font-semibold",children:["(",p.createdUsers.length,")"]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"Imi i nazwisko"}),n.jsx("th",{className:"py-2 pr-3",children:"Email"}),n.jsx("th",{className:"py-2",children:"Szkolenie"})]})}),n.jsx("tbody",{children:p.createdUsers.map((oe,ge)=>n.jsxs("tr",{className:"border-t border-slate-100",children:[n.jsx("td",{className:"py-2 pr-3 font-semibold text-slate-800",children:oe.name}),n.jsx("td",{className:"py-2 pr-3 text-slate-700",children:oe.email}),n.jsx("td",{className:"py-2 text-slate-700",children:oe.courseTitle})]},`${oe.email}-${ge}`))})]})})]})]}),h==="csv"?n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsxs("details",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700",children:[n.jsx("summary",{className:"cursor-pointer font-semibold",children:"Jak przygotowa plik CSV?"}),n.jsxs("div",{className:"mt-3 space-y-2 leading-relaxed",children:[n.jsxs("div",{children:["Kolumny wymagane: ",n.jsx("span",{className:"font-semibold",children:"imie"}),", ",n.jsx("span",{className:"font-semibold",children:"nazwisko"}),", ",n.jsx("span",{className:"font-semibold",children:"email"}),". Opcjonalnie: nr tel, adres, nr dowodu osobistego, nr pesel."]}),n.jsxs("div",{children:["Nagwki mog zawiera spacje lub podkrelenia (np. ",n.jsx("span",{className:"font-semibold",children:"nr tel"})," albo ",n.jsx("span",{className:"font-semibold",children:"nr_tel"}),")."]}),n.jsxs("div",{children:["Format adresu: ",n.jsx("span",{className:"font-semibold",children:"ul. Przykadowa 1, 99-300 Kutno"}),". Telefon bez prefiksu ",n.jsx("span",{className:"font-semibold",children:"+48"}),"(jeli wkleisz +48, importer go usunie)."]}),n.jsxs("div",{children:["Jeli Excel/LibreOffice pokazuje okno Potwierd format pliku przy zapisie  to normalne. Wybierz zapis jako ",n.jsx("span",{className:"font-semibold",children:"Tekst CSV"}),"."]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Szkolenie (dla caej importowanej listy)"}),n.jsxs("div",{className:"relative",children:[n.jsx("select",{className:fu,value:K,onChange:oe=>L(oe.target.value),children:s.map(oe=>n.jsx("option",{value:oe.id,children:oe.title},oe.id))}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]})]}),!i&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Firma (dla caej importowanej listy)"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:fu,value:W==="new"?wr:H,onChange:oe=>{const ge=oe.target.value;if(ge===wr){$("new"),T(""),I("");return}$("existing"),T(""),I(ge)},children:[ve.map(oe=>n.jsx("option",{value:oe,children:oe},oe)),n.jsx("option",{value:wr,children:"+ Dodaj now firm"})]}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]}),W==="new"&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Nazwa nowej firmy"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:Y,onChange:oe=>T(oe.target.value),placeholder:"np. ABC Transport Sp. z o.o."})]})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 text-sm font-semibold",onClick:Ys,children:"Pobierz szablon CSV"}),n.jsxs("label",{className:"px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 text-sm font-semibold cursor-pointer",children:["Wczytaj plik CSV",n.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:oe=>{var Mt;const ge=(Mt=oe.target.files)==null?void 0:Mt[0];if(!ge)return;const Ct=new FileReader;Ct.onload=()=>{C(String(Ct.result||""))},Ct.readAsText(ge)}})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Dane CSV"}),n.jsx("textarea",{className:"w-full h-56 px-4 py-3 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary font-mono text-xs",value:Te,onChange:oe=>{C(oe.target.value),g(null)},placeholder:"imie;nazwisko;email;nr tel;adres;nr dowodu osobistego;nr pesel\\nJan;Kowalski;jan@firma.pl;600000000;ul. Przykladowa 1, 99-300 Kutno;ABC123456;90010112345"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{className:"px-4 py-2 rounded-lg font-semibold text-white shadow transition bg-brand-accent hover:bg-brand-accentHover",onClick:()=>{v(null),g(null);const oe=ot(Te);if(!oe.ok){v(oe.error);return}const ge=u(oe.payloads);if(ge.ok===!1){v(ge.error);return}const Ct=new Set(ge.skipped.map(Ge=>(Ge.email||"").trim().toLowerCase()).filter(Boolean)),Mt=oe.payloads.filter(Ge=>!Ct.has(Ge.email.trim().toLowerCase())).map(Ge=>({name:Ge.name,email:Ge.email,courseTitle:X.get(Ge.courseId)||Ge.courseId})),Js=[...oe.parseErrors,...ge.skipped];g({created:ge.created,createdUsers:Mt,skipped:Js})},children:"Importuj"})})]}):n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Imi"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:k,onChange:oe=>z(oe.target.value),placeholder:"Jan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Nazwisko"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:E,onChange:oe=>R(oe.target.value),placeholder:"Kowalski"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"E-mail"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:w,onChange:oe=>N(oe.target.value),placeholder:"jan@firma.pl"}),w.trim()&&De.has(w.trim().toLowerCase())&&n.jsx("div",{className:"text-xs text-red-600 mt-2",children:"Uytkownik o takim emailu ju istnieje."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Telefon"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:xe,onChange:oe=>be(oe.target.value),placeholder:"600000000"})]}),!i&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Firma"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:fu,value:W==="new"?wr:H,onChange:oe=>{const ge=oe.target.value;if(ge===wr){$("new"),T(""),I("");return}$("existing"),T(""),I(ge)},children:[ve.map(oe=>n.jsx("option",{value:oe,children:oe},oe)),n.jsx("option",{value:wr,children:"+ Dodaj now firm"})]}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]}),W==="new"&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Nazwa nowej firmy"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:Y,onChange:oe=>T(oe.target.value),placeholder:"np. ABC Transport Sp. z o.o."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Szkolenie"}),n.jsxs("div",{className:"relative",children:[n.jsx("select",{className:fu,value:ee,onChange:oe=>J(oe.target.value),children:s.map(oe=>n.jsx("option",{value:oe.id,children:oe.title},oe.id))}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Adres"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:ae,onChange:oe=>P(oe.target.value),placeholder:"ul. Przykadowa 1, 99-300 Kutno"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Dowd osobisty"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:M,onChange:oe=>D(oe.target.value),placeholder:"ABC123456"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PESEL"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:Z,onChange:oe=>ce(oe.target.value),placeholder:"90010112345"})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{className:`px-4 py-2 rounded-lg font-semibold text-white shadow transition ${He?"bg-brand-accent hover:bg-brand-accentHover":"bg-slate-300 cursor-not-allowed"}`,disabled:!He,onClick:()=>{if(!He)return;v(null);const oe={email:w.trim(),name:Le,company:ue||"Indywidualny",courseId:ee,phone:cw(xe)||void 0,address:ae.trim()||void 0,idNumber:M.trim()||void 0,pesel:Z.trim()||void 0,avatarUrl:void 0},ge=c(oe);if(ge.ok===!1){v(ge.error);return}o()},children:"Dodaj"})})]})]})]})},tR=t=>{var s,a,i;const e=t.trim().split(/\s+/).filter(Boolean);return(((s=e[0])==null?void 0:s[0])||"F")+(((a=e[1])==null?void 0:a[0])||((i=e[0])==null?void 0:i[1])||"")},dw=({companyName:t,courses:e,overrides:s,userOverrides:a,onBack:i,onEdit:o})=>{var H,I,W,$,Y;const c=kt.filter(T=>(T.company||"Indywidualny")===t),u=Array.from(new Set(c.map(T=>T.email))),h=Array.from(new Set(c.map(T=>T.course))),m=c.length?Math.round(c.reduce((T,ee)=>T+ee.progress,0)/c.length):0,p=((H=c[0])==null?void 0:H.email)||"",g=((I=s==null?void 0:s[t])==null?void 0:I.contactUserEmail)||p,y=kt.find(T=>T.email===g),v=a==null?void 0:a[g],w=(v==null?void 0:v.name)||(y==null?void 0:y.name)||g||"",N=(v==null?void 0:v.phone)||"",k=(v==null?void 0:v.email)||g||"",z=(W=s==null?void 0:s[t])==null?void 0:W.logoUrl,E=($=s==null?void 0:s[t])==null?void 0:$.nip,R=((Y=s==null?void 0:s[t])==null?void 0:Y.name)||t;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Profil firmy"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-700 font-semibold",children:[n.jsx(Ai,{size:16})," Edytuj"]}),n.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[n.jsx(Bl,{size:16})," Wr"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[z?n.jsx("img",{src:z,alt:R,className:"h-12 w-12 rounded-lg object-cover border border-slate-100",loading:"lazy"}):n.jsx("div",{className:"h-12 w-12 rounded-lg bg-slate-200 border border-slate-100 flex items-center justify-center font-bold text-slate-700",children:tR(R).toUpperCase()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-lg font-bold text-slate-900",children:R}),n.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2 mt-1",children:[n.jsx(Va,{size:14})," ",w]}),n.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2 mt-1",children:[n.jsx(qa,{size:14})," ",k]}),n.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2 mt-1",children:[n.jsx(Rr,{size:14})," ",N]}),E&&n.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["NIP: ",E]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Uytkownicy"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-1",children:u.length})]}),n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Szkolenia"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-1",children:h.length})]}),n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase",children:"redni postp"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900 mt-1",children:[m,"%"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"p-6 border-b border-slate-100",children:[n.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Wykupione szkolenia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Lista szkole przypisanych do pracownikw firmy."})]}),n.jsx("div",{className:"p-6 space-y-3",children:h.length===0?n.jsx("div",{className:"text-sm text-slate-500",children:"Brak szkole."}):h.map(T=>{const ee=e.find(J=>J.id===T);return n.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:n.jsx("div",{className:"font-semibold text-slate-800",children:(ee==null?void 0:ee.title)||T})},T)})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Uytkownicy firmy"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Lista pracownikw z przypisanymi szkoleniami."})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-semibold",children:[n.jsx(Zs,{size:14})," ",u.length]})]}),n.jsx("div",{className:"p-6 space-y-2",children:u.map(T=>n.jsx("div",{className:"border border-slate-200 rounded-lg p-4 text-sm text-slate-700",children:T},T))})]})]})},uw=({companyName:t,overrides:e,userOverrides:s,onSaveOverrides:a,onSaveUserOverrides:i,onBack:o})=>{var M;const c=((M=kt.find(D=>(D.company||"Indywidualny")===t))==null?void 0:M.email)||"",u=e==null?void 0:e[t],[h,m]=O.useState((u==null?void 0:u.name)||t),[p,g]=O.useState((u==null?void 0:u.contactUserEmail)||c),[y,v]=O.useState((u==null?void 0:u.nip)||""),[w,N]=O.useState((u==null?void 0:u.logoUrl)||""),[k,z]=O.useState(""),[E,R]=O.useState(""),[H,I]=O.useState(""),[W,$]=O.useState(!1);O.useEffect(()=>{const D=e==null?void 0:e[t];m((D==null?void 0:D.name)||t),g((D==null?void 0:D.contactUserEmail)||c),v((D==null?void 0:D.nip)||""),N((D==null?void 0:D.logoUrl)||"")},[t,e,c]);const Y=Array.from(new Map(kt.map(D=>[D.email,D])).values()),T=Y.find(D=>D.email===p),ee=s==null?void 0:s[p],J=(ee==null?void 0:ee.name)||(T==null?void 0:T.name)||p,xe=(ee==null?void 0:ee.phone)||"",be=(ee==null?void 0:ee.email)||p||"";O.useEffect(()=>{z(be||""),R(xe||"")},[be,xe]);const ae="w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary bg-white appearance-none pr-10",P=Y.map(D=>{const Z=s==null?void 0:s[D.email],ce=(Z==null?void 0:Z.name)||D.name||D.email;return{email:D.email,name:ce}}).filter(D=>`${D.name} ${D.email}`.toLowerCase().includes(H.trim().toLowerCase())).slice(0,10);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Edycja firmy"})}),n.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[n.jsx(Bl,{size:16})," Wr"]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Nazwa firmy"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:h,onChange:D=>m(D.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Osoba kontaktowa"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{type:"button",onClick:()=>$(D=>!D),className:`${ae} text-left`,children:J||"Wybierz osob"}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""}),W&&n.jsxs("div",{className:"absolute left-0 right-0 mt-2 bg-white border border-slate-200 rounded-lg shadow-xl z-50",children:[n.jsx("div",{className:"p-3 border-b border-slate-100",children:n.jsx("input",{value:H,onChange:D=>I(D.target.value),placeholder:"Wyszukaj osob...",className:"w-full px-3 py-2 border border-slate-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary"})}),n.jsx("div",{className:"max-h-64 overflow-y-auto",children:P.length===0?n.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Brak wynikw."}):P.map(D=>n.jsxs("button",{type:"button",onClick:()=>{g(D.email),$(!1)},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[n.jsx("div",{className:"font-semibold text-slate-800",children:D.name}),n.jsx("div",{className:"text-xs text-slate-500",children:D.email})]},D.email))})]})]}),n.jsxs("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-2",children:[n.jsx(Va,{size:12})," Opiekun: ",J||""," (dane kontaktowe firmy s powizane)."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email firmy"}),n.jsxs("div",{className:"relative",children:[n.jsx(qa,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:k,onChange:D=>z(D.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"kontakt@firma.pl"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Telefon firmy"}),n.jsxs("div",{className:"relative",children:[n.jsx(Rr,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:E,onChange:D=>R(D.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"+48 000 000 000"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"NIP"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:y,onChange:D=>v(D.target.value),placeholder:"0000000000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Zdjcie / miniatura firmy (URL)"}),n.jsx("div",{className:"text-[11px] text-slate-500 -mt-1 mb-2",children:"Rekomendowane: WEBP  Alternatywnie: PNG/JPG"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:w,onChange:D=>N(D.target.value),placeholder:"https://..."}),w&&n.jsx("img",{src:w,alt:"Logo firmy",className:"mt-3 h-16 w-16 rounded-lg object-cover border border-slate-200"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>{if(a(t,{name:h,contactUserEmail:p,nip:y,logoUrl:w}),i&&p){const D=(s==null?void 0:s[p])||{};i(p,{...D,email:k||D.email,phone:E||D.phone})}o()},className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition font-semibold",children:[n.jsx(Ti,{size:16})," Zapisz zmiany"]})})]})]})},hw=({overrides:t,userOverrides:e,onCreate:s,onSaveUserOverrides:a,onCancel:i,onCreated:o})=>{const[c,u]=O.useState(""),[h,m]=O.useState(""),[p,g]=O.useState(""),[y,v]=O.useState(""),[w,N]=O.useState(""),[k,z]=O.useState(""),[E,R]=O.useState(""),[H,I]=O.useState(""),[W,$]=O.useState(!1),Y=Array.from(new Map(kt.map(M=>[M.email,M])).values()),T=Y.map(M=>{const D=e==null?void 0:e[M.email],Z=(D==null?void 0:D.name)||M.name||M.email;return{email:M.email,name:Z}}).filter(M=>`${M.name} ${M.email}`.toLowerCase().includes(H.trim().toLowerCase())).slice(0,10),ee=Y.find(M=>M.email===p),J=e==null?void 0:e[p],xe=(J==null?void 0:J.name)||(ee==null?void 0:ee.name)||p,be=(J==null?void 0:J.phone)||"",ae=(J==null?void 0:J.email)||p||"";return O.useEffect(()=>{z(ae||""),R(be||"")},[ae,be]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Dodawanie firmy"})}),n.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[n.jsx(Bl,{size:16})," Wr"]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Nazwa firmy (klucz)"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:c,onChange:M=>{const D=M.target.value;u(D),h||m(D)},placeholder:"Np. MultiSerwis Kutno Sp. z o.o."}),n.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"To identyfikator firmy uywany w panelu (bez backendu)."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Nazwa wywietlana"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:h,onChange:M=>m(M.target.value),placeholder:"Np. MultiSerwis Kutno"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Osoba kontaktowa"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{type:"button",onClick:()=>$(M=>!M),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary bg-white appearance-none pr-10 text-left",children:xe||"Wybierz osob"}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""}),W&&n.jsxs("div",{className:"absolute left-0 right-0 mt-2 bg-white border border-slate-200 rounded-lg shadow-xl z-50",children:[n.jsx("div",{className:"p-3 border-b border-slate-100",children:n.jsx("input",{value:H,onChange:M=>I(M.target.value),placeholder:"Wyszukaj osob...",className:"w-full px-3 py-2 border border-slate-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary"})}),n.jsx("div",{className:"max-h-64 overflow-y-auto",children:T.length===0?n.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Brak wynikw."}):T.map(M=>n.jsxs("button",{type:"button",onClick:()=>{g(M.email),$(!1)},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[n.jsx("div",{className:"font-semibold text-slate-800",children:M.name}),n.jsx("div",{className:"text-xs text-slate-500",children:M.email})]},M.email))})]})]}),n.jsxs("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-2",children:[n.jsx(Va,{size:12})," Opiekun: ",xe||""," (dane kontaktowe firmy s powizane)."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email firmy"}),n.jsxs("div",{className:"relative",children:[n.jsx(qa,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:k,onChange:M=>z(M.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"kontakt@firma.pl"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Telefon firmy"}),n.jsxs("div",{className:"relative",children:[n.jsx(Rr,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:E,onChange:M=>R(M.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"+48 000 000 000"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"NIP"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:y,onChange:M=>v(M.target.value),placeholder:"0000000000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Zdjcie / miniatura firmy (URL)"}),n.jsx("div",{className:"text-[11px] text-slate-500 -mt-1 mb-2",children:"Rekomendowane: WEBP  Alternatywnie: PNG/JPG"}),n.jsx("input",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary",value:w,onChange:M=>N(M.target.value),placeholder:"https://..."}),w&&n.jsx("img",{src:w,alt:"Logo firmy",className:"mt-3 h-16 w-16 rounded-lg object-cover border border-slate-200"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>{const M=c.trim();if(!M){alert("Podaj nazw firmy.");return}if(t!=null&&t[M]){alert("Taka firma ju istnieje (w nadpisaniach).");return}if(s(M,{name:(h||M).trim(),contactUserEmail:p||void 0,nip:y||void 0,logoUrl:w||void 0}),a&&p){const D=(e==null?void 0:e[p])||{};a(p,{...D,email:k||D.email,phone:E||D.phone})}o(M)},className:"flex items-center gap-2 bg-brand-accent text-white px-4 py-2 rounded-lg shadow hover:bg-brand-accentHover transition font-semibold",children:[n.jsx(Ti,{size:16})," Utwrz firm"]})})]})]})},sR=[{id:"n1",title:"Nowy uytkownik zarejestrowany",message:"Krzysztof Nowak (k.nowak@example.com) doczy do platformy.",time:"14:32",status:"unread",type:"users",tag:"Uytkownicy"},{id:"n2",title:"Bd patnoci",message:"Nieudana prba obcienia karty dla subskrypcji Firmy XYZ. Kod bdu: #ERR-402.",time:"12:15",status:"unread",type:"system",tag:"Pilne"},{id:"n3",title:"Zakup kursu: BHP Wstpne",message:"Nowe zamwienie kursu od klienta indywidualnego.",time:"10:45",status:"read",type:"sales",tag:"Sprzeda"},{id:"n4",title:"Nowe zapytanie od firmy",message:"Firma Budimex S.A. dodaa 5 nowych pracownikw do szkolenia.",time:"08:10",status:"read",type:"training",tag:"Szkolenia"}],nR={system:"Systemowe",users:"Uytkownicy",sales:"Sprzeda",training:"Szkolenia"},aR={system:"border-l-red-500 bg-red-50",users:"border-l-blue-500 bg-blue-50",sales:"border-l-green-500 bg-green-50",training:"border-l-teal-500 bg-teal-50"},Tp=()=>{const[t,e]=O.useState(""),[s,a]=O.useState("all"),[i,o]=O.useState("all"),c="w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary bg-white appearance-none pr-10 text-sm",u=sR.filter(h=>{const m=h.title.toLowerCase().includes(t.toLowerCase())||h.message.toLowerCase().includes(t.toLowerCase()),p=s==="all"||h.type===s,g=i==="all"||h.status===i;return m&&p&&g});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500 font-semibold",children:"System / Powiadomienia"}),n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Centrum powiadomie"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Zarzdzaj i przegldaj histori zdarze w systemie."})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 text-sm font-semibold px-3 py-2 rounded-lg hover:bg-slate-100",children:[n.jsx(Cn,{size:16})," Ustawienia"]}),n.jsxs("button",{className:"flex items-center gap-2 bg-white text-slate-700 px-4 py-2 rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50 text-sm font-semibold",children:[n.jsx(Ls,{size:16})," Oznacz wszystkie jako przeczytane"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[n.jsxs("div",{className:"p-5 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-4 bg-slate-50/60",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"sr-only",htmlFor:"typeFilter",children:"Typ"}),n.jsxs("div",{className:"relative",children:[n.jsx(bw,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),n.jsxs("select",{id:"typeFilter",className:`${c} pl-8`,value:s,onChange:h=>a(h.target.value),children:[n.jsx("option",{value:"all",children:"Typ: Wszystkie"}),Object.entries(nR).map(([h,m])=>n.jsx("option",{value:h,children:m},h))]}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"sr-only",htmlFor:"statusFilter",children:"Status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{id:"statusFilter",className:c,value:i,onChange:h=>o(h.target.value),children:[n.jsx("option",{value:"all",children:"Status: Wszystkie"}),n.jsx("option",{value:"unread",children:"Nieprzeczytane"}),n.jsx("option",{value:"read",children:"Przeczytane"})]}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]})]}),n.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value),placeholder:"Szukaj powiadomienia...",className:"px-3 py-2 border border-slate-200 rounded-lg text-sm bg-white text-slate-700 focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),n.jsxs("button",{className:"text-xs text-red-500 hover:text-red-700 font-semibold flex items-center gap-1",children:[n.jsx(Vr,{size:14})," Usu wszystkie powiadomienia"]})]}),n.jsx("div",{className:"px-6 py-3 border-b border-slate-100 bg-white",children:n.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Dzisiaj"})}),n.jsx("div",{className:"divide-y divide-slate-100",children:u.length===0?n.jsx("div",{className:"px-6 py-10 text-center text-slate-500 text-sm",children:"Brak powiadomie dla wybranych filtrw."}):u.map(h=>n.jsx("div",{className:`px-6 py-4 flex gap-4 group hover:bg-slate-50 transition-colors border-l-4 ${aR[h.type]} ${h.status==="unread"?"font-semibold":"opacity-80"}`,children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsx("p",{className:"text-sm text-slate-900",children:h.title}),n.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:h.time})]}),n.jsx("p",{className:"text-sm text-slate-600 mt-1 line-clamp-2",children:h.message}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[h.tag&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-slate-100 text-slate-700",children:h.tag}),h.status==="unread"&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-brand-accent/10 text-brand-accent",children:"Nowe"})]})]})},h.id))})]})]})},lR=()=>{var Wl,Oc;const[t,e]=pe.useState("HOME"),[s,a]=pe.useState("PL"),[i,o]=pe.useState(null),[c,u]=pe.useState(null),[h,m]=pe.useState("Wszystkie"),[p,g]=pe.useState("l5"),[y,v]=pe.useState(!1),[w,N]=pe.useState(null),[k,z]=pe.useState(null),[E,R]=pe.useState(null),[H,I]=pe.useState("dashboard"),[W,$]=pe.useState(null),[Y,T]=pe.useState("dashboard"),[ee,J]=pe.useState("dashboard"),[xe,be]=pe.useState("dashboard"),[ae,P]=pe.useState(null),[M,D]=pe.useState(null),[Z,ce]=pe.useState(null),[Te,C]=pe.useState(null),[K,L]=pe.useState(null),[X,de]=pe.useState(null),[ve,ue]=pe.useState(null),[De,Le]=pe.useState(null),[He,Ys]=pe.useState(null),[ot,Tt]=pe.useState({}),[$t,oe]=pe.useState({}),[ge,Ct]=pe.useState(Pn),[Mt,Js]=pe.useState([]),[Ge,es]=pe.useState([]),[ia,ra]=pe.useState([]),[yt,oa]=pe.useState({}),[ca,Il]=pe.useState(!1),[Xs,Ka]=pe.useState(null),[An,As]=pe.useState(!1),[Li,Ps]=pe.useState("courses"),[Kt,dn]=pe.useState(!1),[ms,zc]=pe.useState(null),[p0,x0]=pe.useState("employees");O.useEffect(()=>{(t==="ADMIN_PANEL"||t==="ADMIN"||t==="LMS"||t==="COMPANY_GUARDIAN_PANEL")&&e("HOME")},[t]);const Ga=_=>{Js(le=>le.includes(_)?le:[...le,_])},ct=O.useMemo(()=>[...kt,...ia],[ia]),Fa=_=>{const le=_.email.trim(),he=le.toLowerCase();if(ct.some(mt=>mt.email.trim().toLowerCase()===he))return{ok:!1,error:"Uytkownik o takim emailu ju istnieje."};const tt={id:`s_custom_${Date.now()}`,name:_.name.trim()||le,email:le,company:_.company.trim()||"Indywidualny",course:_.courseId,progress:0,expirationDays:60,status:"active",completedLessons:[]};return ra(mt=>[tt,...mt]),hn(le,{email:le,name:_.name.trim()||le,company:_.company.trim()||"Indywidualny",phone:_.phone,address:_.address,idNumber:_.idNumber,pesel:_.pesel,avatarUrl:_.avatarUrl}),{ok:!0}},Dn=_=>{if(!_.length)return{ok:!1,error:"Brak rekordw do importu."};const le=new Set(ct.map(Xe=>Xe.email.trim().toLowerCase())),he=new Set,Se=[],tt=[],mt={};if(_.forEach((Xe,st)=>{const ps=typeof Xe.__rowNumber=="number"?Xe.__rowNumber:st+2,Ot=(Xe.email||"").trim(),ie=Ot.toLowerCase();if(!Ot){Se.push({row:ps,reason:"Brak emaila."});return}if(le.has(ie)){Se.push({row:ps,email:Ot,reason:"Email ju istnieje w systemie."});return}if(he.has(ie)){Se.push({row:ps,email:Ot,reason:"Duplikat emaila w pliku importu."});return}he.add(ie);const dt=(Xe.name||"").trim()||Ot,Rt=(Xe.company||"").trim()||"Indywidualny",At=(Xe.courseId||"").trim();if(!At){Se.push({row:ps,email:Ot,reason:"Brak courseId (ID szkolenia)."});return}if(!ge.some(ss=>ss.id===At)){Se.push({row:ps,email:Ot,reason:`Nieznane courseId: ${At}`});return}tt.push({id:`s_custom_${Date.now()}_${st}`,name:dt,email:Ot,company:Rt,course:At,progress:0,expirationDays:60,status:"active",completedLessons:[]}),mt[Ot]={email:Ot,name:dt,company:Rt,phone:Xe.phone,address:Xe.address,idNumber:Xe.idNumber,pesel:Xe.pesel,avatarUrl:Xe.avatarUrl}}),!tt.length){const Xe=Se[0]?`Przykad: wiersz ${Se[0].row}${Se[0].email?` (${Se[0].email})`:""}  ${Se[0].reason}`:"";return{ok:!1,error:Se.length?`Nie udao si doda adnego rekordu. Sprawd bdy w imporcie. ${Xe}`.trim():"Brak poprawnych rekordw."}}return ra(Xe=>[...tt,...Xe]),Tt(Xe=>({...Xe,...mt})),{ok:!0,created:tt.length,skipped:Se}},$l=_=>{es(le=>le.includes(_)?le:[...le,_])},[Oe,Kr]=pe.useState(null),[Za,_i]=pe.useState(!1),[ql,Gr]=pe.useState(!1),[Fr,Zr]=pe.useState(""),[Yr,Bi]=pe.useState(""),[Sc,Cc]=pe.useState(null);pe.useEffect(()=>{Ka(null)},[i]),pe.useEffect(()=>{document.title=`MultiSerwis [${s}] - ${t}`,(t==="CATALOG"||t==="HOME"&&s)&&Cc(OC[s])},[t,s]);const da=ww[s],un={"admin@test.com":{password:"admin123",user:{id:"u1",email:"admin@test.com",name:"Administrator",phone:"+48 123 456 789",role:"ADMIN"}},"manager@test.com":{password:"manager123",user:{id:"u2",email:"manager@test.com",name:"Manager Platformy",phone:"+48 234 567 890",role:"MANAGER"}},"student@test.com":{password:"student123",user:{id:"u3",email:"student@test.com",name:"Jan Kowalski",phone:"+48 730 101 000",company:"ABC Transport Sp. z o.o.",role:"STUDENT",certifications:[{id:"cert1",name:"Operator wzkw jezdniowych",courseId:"c1",courseName:"Operator Wzkw Jezdniowych UDT",issueDate:"2020-03-12",expirationDate:"2025-03-12",status:"expiring-soon",certificateUrl:"/certificates/cert1.pdf"},{id:"cert2",name:"Operator suwnic",courseId:"c2",courseName:"Operator Suwnic i Wcignikw UDT",issueDate:"2021-06-18",expirationDate:"2026-06-18",status:"expiring-soon",certificateUrl:"/certificates/cert2.pdf"},{id:"cert3",name:"Operator koparek i adowarek",courseId:"c3",courseName:"Obsuga Maszyn Budowlanych",issueDate:"2022-09-05",expirationDate:"2027-09-05",status:"active",certificateUrl:"/certificates/cert3.pdf"},{id:"cert4",name:"Uprawnienia SEP do 1kV",courseId:"c4",courseName:"Uprawnienia Elektryczne SEP",issueDate:"2019-11-22",expirationDate:"2024-11-22",status:"expired",certificateUrl:"/certificates/cert4.pdf"},{id:"cert5",name:"BHP dla pracownikw biurowych",courseId:"c5",courseName:"Szkolenie BHP Podstawowe",issueDate:"2023-01-15",expirationDate:"2026-01-15",status:"active",certificateUrl:"/certificates/cert5.pdf"}],examHistory:[{id:"exam1",courseId:"c1",courseName:"Operator Wzkw Jezdniowych UDT",examType:"final",score:14,maxScore:15,passed:!0,date:"2020-03-10",questionsAnswered:[]},{id:"exam2",courseId:"c1",courseName:"Operator Wzkw Jezdniowych UDT",examType:"module",moduleId:"m1",moduleName:"Podstawy BHP",score:19,maxScore:20,passed:!0,date:"2020-02-28",questionsAnswered:[]},{id:"exam3",courseId:"c2",courseName:"Operator Suwnic i Wcignikw UDT",examType:"final",score:13,maxScore:15,passed:!0,date:"2021-06-15",questionsAnswered:[]},{id:"exam4",courseId:"c2",courseName:"Operator Suwnic i Wcignikw UDT",examType:"module",moduleId:"m2",moduleName:"Przepisy eksploatacji",score:17,maxScore:20,passed:!0,date:"2021-06-10",questionsAnswered:[]},{id:"exam5",courseId:"c3",courseName:"Obsuga Maszyn Budowlanych",examType:"final",score:15,maxScore:15,passed:!0,date:"2022-09-01",questionsAnswered:[]},{id:"exam6",courseId:"c4",courseName:"Uprawnienia Elektryczne SEP",examType:"final",score:11,maxScore:15,passed:!1,date:"2019-11-18",questionsAnswered:[]},{id:"exam7",courseId:"c4",courseName:"Uprawnienia Elektryczne SEP",examType:"final",score:14,maxScore:15,passed:!0,date:"2019-11-20",questionsAnswered:[]},{id:"exam8",courseId:"c5",courseName:"Szkolenie BHP Podstawowe",examType:"module",moduleId:"m1",moduleName:"Przepisy BHP",score:20,maxScore:20,passed:!0,date:"2023-01-12",questionsAnswered:[]}]}},"guardian@test.com":{password:"guardian123",user:{id:"u4",email:"guardian@test.com",name:"Opiekun Firmy ABC",phone:"+48 345 678 901",role:"COMPANY_GUARDIAN",company:"ABC Sp. z o.o.",employeeLimit:10,employees:[{id:"emp1",email:"mateusz.kowalski@abc.pl",name:"Mateusz Kowalski",phone:"+48 500 111 222",status:"active",createdDate:"2025-11-15",assignedCourses:["c1"]},{id:"emp2",email:"anna.lewandowska@abc.pl",name:"Anna Lewandowska",phone:"+48 500 222 333",status:"active",createdDate:"2025-10-20",assignedCourses:["c2"]},{id:"emp3",email:"pawel.zawisza@abc.pl",name:"Pawe Zawisza",phone:"+48 500 333 444",status:"pending",inviteToken:"token123",createdDate:"2026-01-03",assignedCourses:["c1"]}]}}},ts=(Wl=un["student@test.com"])==null?void 0:Wl.user,Je=(Oc=un["guardian@test.com"])==null?void 0:Oc.user,ua=()=>{const _=un[Fr];_&&_.password===Yr?(Kr(_.user),_i(!0),Gr(!1),Zr(""),Bi(""),_.user.role==="ADMIN"?(T("dashboard"),e("NEW_ADMIN_PANEL")):_.user.role==="MANAGER"?(J("dashboard"),e("NEW_MANAGER_PANEL")):_.user.role==="STUDENT"?e("NEW_STUDENT_PANEL"):_.user.role==="COMPANY_GUARDIAN"&&(be("dashboard"),e("NEW_GUARDIAN_PANEL"))):alert("Bdny email lub haso")},ha=()=>{Kr(null),_i(!1),e("HOME")},Lh=_=>{e({admin:"NEW_ADMIN_PANEL",manager:"NEW_MANAGER_PANEL",guardian:"NEW_GUARDIAN_PANEL",student:"NEW_STUDENT_PANEL"}[_])},_h=_=>{const le=_.map(Se=>Se.id).map(Se=>{const tt=Se.match(/^c(\d+)$/);return tt?Number(tt[1]):null}).filter(Se=>Se!==null);return`c${(le.length?Math.max(...le):0)+1}`},Mc=_=>{var he;const le=((he=_[0])==null?void 0:he.image)||"";return{id:_h(_),title:"Nowe szkolenie",category:"UDT",duration:"0h",price:"0 PLN",promoPrice:"",image:le,status:"draft",description:""}},Ya=_=>{Ct(le=>{const he=Mc(le);return _==="admin"?(N(he.id),T("course-create")):(P(he.id),J("course-create")),[he,...le]})},Pi=_=>{Ct(le=>le.some(Se=>Se.id===_.id)?le.map(Se=>Se.id===_.id?_:Se):[_,...le])},Wn=_=>{Ct(le=>le.filter(he=>he.id!==_)),N(le=>le===_?null:le),P(le=>le===_?null:le)},On=_=>{var he,Se,tt;const le=(tt=(Se=(he=kn.find(mt=>mt.courseId===_))==null?void 0:he.lessons)==null?void 0:Se[0])==null?void 0:tt.id;o(_),le&&g(le),v(!1),e("LESSON_PLAYER")},Ja=_=>{D(_),T("course-preview")},fa=_=>{ce(_),J("course-preview")},Gt=_=>{C(_),be("course-preview")},hn=(_,le)=>{Tt(he=>({...he,[_]:le}))},Vl=(_,le)=>{oe(he=>({...he,[_]:le}))},ma=_=>{const le={c1:[{title:"Bezpieczestwo pracy",details:["BHP w zakresie obsugi wzkw widowych","Zasady poruszania si po placu manewrowym i w magazynie","Bezpieczne techniki podnoszenia i transportu adunkw","Procedury awaryjne i zasady postpowania w sytuacjach niebezpiecznych","rodki ochrony indywidualnej operatora"]},{title:"Obsuga maszyn",details:["Budowa i zasada dziaania wzka widowego","Codzienne czynnoci kontrolne przed rozpoczciem pracy","Prawidowa technika jazdy i manewrowania","Obsuga ukadu hydraulicznego i mechanizmu podnoszenia","Wymiana butli gazowych (dla wzkw LPG)"]},{title:"Przepisy UDT",details:["Ustawa o dozorze technicznym - zakres i interpretacja","Wymagania techniczne dla wzkw jezdniowych","Przegldy okresowe i dokumentacja eksploatacyjna","Obowizki operatora i pracodawcy wedug przepisw UDT","Odpowiedzialno prawna w przypadku wykrocze"]},{title:"Praktyka na placu manewrowym",details:["Jazda slalomem i jazda tyem","Precyzyjne ustawianie wide i manipulacja adunkiem","Ukadanie palet na rnych wysokociach","Jazda z adunkiem po pochylni i nierwnym terenie","Wykonanie parkingu i bezpieczne pozostawienie wzka","Praktyka trwa minimum 20 godzin pod okiem instruktora"]},{title:"Przygotowanie do egzaminu",details:["Omwienie struktury egzaminu pastwowego UDT","Test prbny z pyta teoretycznych (identyczny z pastwowym)","Symulacja egzaminu praktycznego","Najczstsze bdy i jak ich unika","Wskazwki dotyczce dokumentacji egzaminacyjnej"]}],c2:[{title:"Bezpieczestwo pracy",details:["BHP przy pracy z adowarkami teleskopowymi","Bezpieczna praca na wysokociach","Ocena warunkw gruntu i stabilnoci maszyny","Zasady bezpiecznej wymiany osprztu","Procedury awaryjne i ewakuacja z kabiny"]},{title:"Obsuga maszyn",details:["Budowa i elementy adowarki teleskopowej","System hydrauliczny i sterowanie proporcjonalne","Obsuga wysignika teleskopowego i mechanizmw","Monta i demonta rnych rodzajw osprztu (widelce, yka, kosz)","Codzienne kontrole i konserwacja podstawowa"]},{title:"Przepisy UDT",details:["Przepisy UDT dla wielozadaniowych nonikw osprztu","Wymagania dla operatorw adowarek teleskopowych","Dokumentacja techniczna i ksika maszyny","Przegldy i badania techniczne","Certyfikacja osprztu zamiennego"]},{title:"Praktyka na placu manewrowym",details:["Jazda z wysignikiem w rnych pozycjach","Praca na wysokociach z koszem osobowym","Zaadunek i manipulacja materiaami budowlanymi","Precyzyjna praca yk przy robotach ziemnych","Transport adunkw na terenie nierwnym i pochyym","Szkolenie trwa 40 godzin, w tym 30 godzin praktyki"]},{title:"Przygotowanie do egzaminu",details:["Testy przykadowe zgodne z wymaganiami UDT","Symulacja egzaminu praktycznego z kadym rodzajem osprztu","Przegld najwaniejszych zagadnie technicznych","Analiza typowych bdw egzaminacyjnych","Wsparcie instruktora do dnia egzaminu"]}],c3:[{title:"Bezpieczestwo pracy",details:["Podstawy BHP w energetyce","Bezpieczna praca przy urzdzeniach elektrycznych","Pierwsza pomoc przy poraeniu prdem","Zasady pracy w strefach zagroonych","rodki ochrony indywidualnej w energetyce"]},{title:"Obsuga urzdze",details:["Obsuga tablic rozdzielczych i aparatury sterowniczej","Identyfikacja i lokalizacja usterek","Podstawowe pomiary elektryczne","Zasady konserwacji urzdze elektrycznych","Protokoy eksploatacji i dokumentacja"]},{title:"Przepisy elektroenergetyczne",details:["Przepisy eksploatacji urzdze elektroenergetycznych","Normy i standardy branowe SEP","Wymagania dla personelu eksploatacyjnego","Dokumentacja techniczna i eksploatacyjna","Odpowiedzialno prawna i ubezpieczenia"]},{title:"Teoria elektrycznoci",details:["Podstawowe pojcia i prawa elektrycznoci","Rodzaje prdw i napi","Ukady jednofazowe i trjfazowe","Ochrona przeciwporaeniowa","Interpretacja schematw elektrycznych"]},{title:"Przygotowanie do egzaminu",details:["Omwienie wymaga egzaminu kwalifikacyjnego SEP","Testy prbne z zakresu G1","Analiza najczstszych pyta egzaminacyjnych","Powtrka kluczowych zagadnie","Wskazwki odnonie przebiegu egzaminu"]}],c4:[{title:"Bezpieczestwo pracy",details:["BHP przy obsudze suwnic i wcignikw","Bezpieczne techniki podnoszenia ciarw","Sygnalizacja i komunikacja z nawizywaczem","Zasady podczepiania i odczepiania adunkw","Procedury awaryjne przy uszkodzeniu urzdzenia"]},{title:"Obsuga maszyn",details:["Budowa i rodzaje suwnic (pomostowe, bramowe, obrotowe)","Obsuga wcignikw elektrycznych i rcznych","Sterowanie z poziomu roboczego i z kabiny","Obsuga mechanizmw jazdy i podnoszenia","Kontrola stanu technicznego przed rozpoczciem pracy"]},{title:"Przepisy UDT",details:["Przepisy dozoru technicznego dla dwignic","Wymagania dla operatorw suwnic kategorii II","Dokumentacja eksploatacyjna i badania techniczne","Przegldy okresowe i roczne","Obowizki operatora zgodnie z przepisami UDT"]},{title:"Praktyka na hali produkcyjnej",details:["Jazda suwnic z adunkiem i bez adunku","Precyzyjne ustawienie adunku w wyznaczonych miejscach","Obsuga rnych rodzajw zawiesi i hakw","Wsppraca z nawizywaczem - sygnay i komunikacja","Wykonanie manewrw awaryjnych","Szkolenie praktyczne trwa minimum 16 godzin"]},{title:"Przygotowanie do egzaminu",details:["Struktura egzaminu UDT dla operatorw dwignic","Testy prbne - cz teoretyczna","Symulacja czci praktycznej egzaminu","Omwienie typowych bdw na egzaminie","Dokumentacja wymagana w dniu egzaminu"]}]};return le[_]||le.c1},Ds=({title:_,subtitle:le,light:he=!1})=>n.jsxs("div",{className:"mb-12 text-center",children:[le&&n.jsx("span",{className:"text-brand-accent font-bold uppercase tracking-widest text-xs mb-2 block",children:le}),n.jsxs("h2",{className:`text-3xl md:text-4xl font-heading font-extrabold uppercase relative inline-block ${he?"text-white":"text-brand-primary"}`,children:[_,n.jsx("span",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-brand-accent"})]})]}),Bh=()=>n.jsxs("div",{className:"animate-fade-in font-body",children:[n.jsxs("div",{className:"relative h-[85vh] min-h-[600px] flex items-center bg-brand-dark overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:"/multiserwis-kutno/hero.webp",alt:"Workers with UDT Equipment",className:"w-full h-full object-cover opacity-50"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-dark via-brand-dark/80 to-transparent"})]}),n.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-8 w-full",children:n.jsxs("div",{className:"max-w-3xl",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-full mb-6",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-accent animate-pulse"}),n.jsx("span",{className:"text-white text-xs font-bold uppercase tracking-wider",children:da.hero.badge})]}),n.jsxs("h1",{className:"text-4xl md:text-6xl font-heading font-black text-white leading-[1.1] mb-6",children:[da.hero.title," ",n.jsx("br",{}),n.jsx("span",{className:"text-brand-accent",children:da.hero.subtitle})]}),n.jsx("p",{className:"text-lg md:text-xl text-slate-300 mb-10 leading-relaxed max-w-2xl",children:da.hero.desc}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("button",{onClick:()=>e("CATALOG"),className:"px-8 py-4 bg-brand-accent hover:bg-brand-accentHover text-white font-bold uppercase tracking-wider rounded-sm shadow-lg shadow-brand-accent/20 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2",children:[da.hero.cta1," ",n.jsx(a1,{size:20})]}),n.jsxs("button",{onClick:()=>e("SERVICES"),className:"px-8 py-4 border-2 border-slate-300 text-white hover:bg-white hover:text-brand-dark font-bold uppercase tracking-wider rounded-sm transition-all flex items-center justify-center gap-2",children:[n.jsx(Km,{size:20})," ",da.hero.cta2]})]})]})})]}),n.jsx("div",{className:"bg-brand-primary border-y border-brand-secondary",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-12",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left md:border-r border-brand-secondary/50 last:border-0 md:pr-8",children:[n.jsx(Zs,{size:40,className:"text-brand-accent mb-4"}),n.jsx("div",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-1",children:"5000+"}),n.jsx("div",{className:"text-sm uppercase tracking-widest text-slate-300 font-semibold",children:"Przeszkolonych Osb"})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left md:border-r border-brand-secondary/50 last:border-0 md:pr-8",children:[n.jsx(Id,{size:40,className:"text-brand-accent mb-4"}),n.jsx("div",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-1",children:"40+"}),n.jsx("div",{className:"text-sm uppercase tracking-widest text-slate-300 font-semibold",children:"Dostpnych Szkole"})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left md:border-r border-brand-secondary/50 last:border-0 md:pr-8",children:[n.jsx(ci,{size:40,className:"text-brand-accent mb-4"}),n.jsx("div",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-1",children:"15 Lat"}),n.jsx("div",{className:"text-sm uppercase tracking-widest text-slate-300 font-semibold",children:"Dowiadczenia"})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left",children:[n.jsx(Ap,{size:40,className:"text-brand-accent mb-4"}),n.jsx("div",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-1",children:"98%"}),n.jsx("div",{className:"text-sm uppercase tracking-widest text-slate-300 font-semibold",children:"Zdawalno Egzaminw"})]})]})})}),n.jsx("div",{className:"py-24 bg-brand-surface",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[n.jsx(Ds,{title:"Najpopularniejsze Szkolenia",subtitle:"Rozwi swoj karier"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{onClick:()=>{o("c1"),e("COURSE_DETAIL")},className:"group bg-white rounded-sm shadow-sm hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer flex flex-col",children:[n.jsxs("div",{className:"relative h-64 overflow-hidden",children:[n.jsxs("div",{className:"absolute top-4 right-4 z-20 bg-green-600 text-white text-[10px] font-bold px-3 py-1.5 rounded-full uppercase tracking-wide flex items-center gap-1 shadow-lg",children:[n.jsx(o1,{size:12})," Dostpna Teoria Online"]}),n.jsx("div",{className:"absolute inset-0 bg-brand-dark/10 group-hover:bg-brand-dark/0 transition-colors z-10"}),n.jsx("img",{src:"/multiserwis-kutno/operator-wozki-widlowe.webp",alt:"Wzki Widowe",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"})]}),n.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[n.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-3 group-hover:text-brand-accent transition-colors",children:"Wzki Widowe (I WJO)"}),n.jsxs("p",{className:"text-slate-600 text-base mb-6 leading-relaxed flex-grow",children:[n.jsx("span",{className:"font-bold text-brand-primary block mb-2",children:"Ucz si teorii w domu, przyjed tylko na egzamin praktyczny!"}),"Oszczd czas i pienidze. Dziki platformie e-learningowej przyswoisz wiedz w domowym zaciszu. 100% wsparcia instruktora."]}),n.jsxs("div",{className:"flex items-center text-brand-accent font-bold text-sm uppercase tracking-wider group-hover:translate-x-2 transition-transform",children:["Zobacz szczegy ",n.jsx(Dt,{size:16,className:"ml-1"})]})]})]}),n.jsxs("div",{onClick:()=>{o("c2"),e("COURSE_DETAIL")},className:"group bg-white rounded-sm shadow-sm hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer flex flex-col",children:[n.jsxs("div",{className:"relative h-64 overflow-hidden",children:[n.jsxs("div",{className:"absolute top-4 right-4 z-20 bg-green-600 text-white text-[10px] font-bold px-3 py-1.5 rounded-full uppercase tracking-wide flex items-center gap-1 shadow-lg",children:[n.jsx(o1,{size:12})," Dostpna Teoria Online"]}),n.jsx("div",{className:"absolute inset-0 bg-brand-dark/10 group-hover:bg-brand-dark/0 transition-colors z-10"}),n.jsx("img",{src:"/multiserwis-kutno/ladowarki-teleskopowe.webp",alt:"adowarki Teleskopowe",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"})]}),n.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[n.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-3 group-hover:text-brand-accent transition-colors",children:"adowarki Teleskopowe"}),n.jsx("p",{className:"text-slate-600 text-base mb-6 leading-relaxed flex-grow",children:"Szkolenie na wielozadaniowe noniki osprztu. Najbardziej poszukiwane uprawnienia w budownictwie."}),n.jsxs("div",{className:"flex items-center text-brand-accent font-bold text-sm uppercase tracking-wider group-hover:translate-x-2 transition-transform",children:["Zobacz szczegy ",n.jsx(Dt,{size:16,className:"ml-1"})]})]})]}),n.jsxs("div",{onClick:()=>{o("c3"),e("COURSE_DETAIL")},className:"group bg-white rounded-sm shadow-sm hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer flex flex-col",children:[n.jsxs("div",{className:"relative h-64 overflow-hidden",children:[n.jsx("div",{className:"absolute top-4 right-4 z-20 bg-brand-accent text-white text-[10px] font-bold px-3 py-1.5 rounded-full uppercase tracking-wide flex items-center gap-1 shadow-lg",children:"Stacjonarnie"}),n.jsx("div",{className:"absolute inset-0 bg-brand-dark/10 group-hover:bg-brand-dark/0 transition-colors z-10"}),n.jsx("img",{src:"/multiserwis-kutno/koparki.webp",alt:"Koparki",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"})]}),n.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[n.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-3 group-hover:text-brand-accent transition-colors",children:"Koparko-adowarki"}),n.jsx("p",{className:"text-slate-600 text-base mb-6 leading-relaxed flex-grow",children:"Obsuga maszyn do robt ziemnych kl. III. Praktyka na placu manewrowym w Kutnie."}),n.jsxs("div",{className:"flex items-center text-brand-accent font-bold text-sm uppercase tracking-wider group-hover:translate-x-2 transition-transform",children:["Zobacz szczegy ",n.jsx(Dt,{size:16,className:"ml-1"})]})]})]})]})]})}),n.jsxs("div",{className:"py-24 bg-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-slate-50 rounded-bl-full -z-0"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-brand-accent/5 rounded-tr-full -z-0"}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 relative z-10",children:[n.jsx(Ds,{title:"Usugi dla Przemysu",subtitle:"Kompleksowe wsparcie"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[n.jsxs("div",{onClick:()=>e("RENTALS"),className:"flex flex-col md:flex-row bg-slate-50 rounded-sm overflow-hidden border border-slate-100 group cursor-pointer hover:shadow-xl transition-all",children:[n.jsx("div",{className:"md:w-2/5 relative min-h-[200px]",children:n.jsx("img",{src:"/multiserwis-kutno/wynajem-maszyn.webp",alt:"Wynajem",className:"absolute inset-0 w-full h-full object-cover filter grayscale group-hover:grayscale-0 transition-all duration-500"})}),n.jsxs("div",{className:"p-8 md:w-3/5 flex flex-col justify-center",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm text-brand-accent",children:n.jsx(Er,{size:24})}),n.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-2",children:"Wynajem Maszyn"}),n.jsx("p",{className:"text-slate-600 mb-6 text-base",children:"Flota adowarek teleskopowych i podnonikw koszowych dostpna od rki. Krtki i dugi termin."}),n.jsx("span",{className:"text-brand-dark font-bold text-sm uppercase underline decoration-brand-accent decoration-2 underline-offset-4 group-hover:text-brand-accent transition-colors",children:"Zobacz dostpny sprzt"})]})]}),n.jsxs("div",{onClick:()=>e("SERVICES"),className:"flex flex-col md:flex-row bg-slate-50 rounded-sm overflow-hidden border border-slate-100 group cursor-pointer hover:shadow-xl transition-all",children:[n.jsx("div",{className:"md:w-2/5 relative min-h-[200px]",children:n.jsx("img",{src:"/multiserwis-kutno/serwis-i-koserwacja.webp",alt:"Serwis",className:"absolute inset-0 w-full h-full object-cover filter grayscale group-hover:grayscale-0 transition-all duration-500"})}),n.jsxs("div",{className:"p-8 md:w-3/5 flex flex-col justify-center",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm text-brand-secondary",children:n.jsx(Cn,{size:24})}),n.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-2",children:"Serwis i Konserwacja"}),n.jsx("p",{className:"text-slate-600 mb-6 text-base",children:"Przegldy okresowe UDT, resursy, naprawy biece. Mobilny serwis z dojazdem do klienta."}),n.jsx("span",{className:"text-brand-dark font-bold text-sm uppercase underline decoration-brand-secondary decoration-2 underline-offset-4 group-hover:text-brand-secondary transition-colors",children:"Umw serwis"})]})]})]})]})]}),n.jsx("div",{className:"bg-slate-100 border-t border-slate-200 py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-heading font-bold text-brand-primary mb-6",children:"Profesjonalne Centrum Szkoleniowe MultiSerwis"}),n.jsxs("div",{className:"space-y-4 text-slate-600 text-base leading-relaxed",children:[n.jsxs("p",{children:["Jestemy liderem w brany szkoleniowej w regionie centralnej Polski. Oferujemy certyfikowane",n.jsx("strong",{className:"text-slate-800",children:" Szkolenia UDT w Kutnie"})," oraz okolicach. Nasz misj jest dostarczanie najwyszej jakoci edukacji zawodowej, czcej teori z praktyk."]}),n.jsxs("p",{children:["Szukasz szkolenia na maszyny budowlane? Nasze ",n.jsx("strong",{className:"text-slate-800",children:"szkolenie operatora koparki"})," oraz adowarki teleskopowej przygotuje Ci do egzaminu pastwowego z najwysz skutecznoci. Posiadamy wasny plac manewrowy oraz nowoczesne sale wykadowe."]}),n.jsx("p",{children:"Dla wygody naszych klientw wprowadzilimy rwnie szkolenia hybrydowe. Teoria odbywa si online, a zajcia praktyczne realizujemy na naszym sprzcie. Sprawd rwnie nasz ofert wynajmu podnonikw."})]}),n.jsxs("div",{className:"mt-8 flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase",children:[n.jsx(XS,{size:16,className:"text-brand-accent"})," Kutno i okolice"]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase",children:[n.jsx(fh,{size:16,className:"text-brand-accent"})," Terminy co tydzie"]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-4 bg-brand-accent/10 rounded-full blur-xl"}),n.jsxs("div",{className:"relative bg-white p-8 rounded-sm shadow-lg border-l-4 border-brand-accent",children:[n.jsx("h3",{className:"font-heading font-bold text-lg mb-4 text-brand-dark",children:"Dlaczego warto wybra MultiSerwis?"}),n.jsx("ul",{className:"space-y-3",children:["Wasny park maszynowy i hala szkoleniowa","Zaatwiamy wszelkie formalnoci z UDT","Materiay dydaktyczne w cenie kursu","Elastyczne godziny zaj praktycznych","Certyfikat w jzyku angielskim (opcja)"].map((_,le)=>n.jsxs("li",{className:"flex items-center gap-3 text-base text-slate-700",children:[n.jsx(Ls,{size:16,className:"text-green-500 flex-shrink-0"})," ",_]},le))})]})]})]})})})]}),Ec=()=>{const _={Wszystkie:"ALL","Urzdzenia UDT":"UDT","Uprawnienia SEP":"SEP","BHP i PPO":"BHP","Maszyny Budowlane":"Inne"},le=h==="Wszystkie"?Pn:Pn.filter(he=>he.category===_[h]);return n.jsx("div",{className:"py-12 bg-brand-surface animate-fade-in",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[n.jsx(Ds,{title:"Katalog Szkole",subtitle:"Podnie swoje kwalifikacje"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"col-span-1 hidden lg:block space-y-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-sm shadow-sm",children:[n.jsx("h3",{className:"font-heading font-bold text-lg mb-4 text-brand-dark",children:"Kategorie"}),n.jsx("ul",{className:"space-y-2 text-base text-slate-600",children:["Wszystkie","Urzdzenia UDT","Uprawnienia SEP","BHP i PPO","Maszyny Budowlane"].map((he,Se)=>n.jsx("li",{onClick:()=>m(he),className:`cursor-pointer hover:text-brand-accent transition-colors ${h===he?"text-brand-accent font-bold":""}`,children:he},Se))})]}),n.jsxs("div",{className:"bg-brand-primary p-6 rounded-sm text-white",children:[n.jsx("h3",{className:"font-heading font-bold text-lg mb-2",children:"Potrzebujesz szkolenia dla firmy?"}),n.jsx("p",{className:"text-base text-slate-300 mb-4",children:"Przygotujemy indywidualn ofert dla Twoich pracownikw."}),n.jsx("button",{onClick:()=>setCurrentView("contact"),className:"w-full py-2 bg-brand-accent text-white text-sm font-bold uppercase rounded-sm hover:bg-brand-accentHover transition-colors",children:"Zapytaj o ofert"})]})]}),n.jsx("div",{className:"col-span-1 lg:col-span-3",children:le.length===0?n.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-12 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(rs,{size:40,className:"text-slate-400"})}),n.jsx("h3",{className:"text-2xl font-heading font-bold text-brand-dark mb-3",children:"Brak szkole w tej kategorii"}),n.jsxs("p",{className:"text-slate-600 mb-6",children:['W tym momencie nie mamy dostpnych szkole w kategorii "',h,'".']}),n.jsx("button",{onClick:()=>m("Wszystkie"),className:"px-6 py-3 bg-brand-accent text-white font-bold uppercase text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:"Zobacz wszystkie szkolenia"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:le.map(he=>n.jsxs("div",{onClick:()=>{o(he.id),e("COURSE_DETAIL")},className:"bg-white rounded-sm shadow-sm overflow-hidden hover:shadow-xl transition-all duration-300 flex flex-col group border border-slate-100 cursor-pointer",children:[n.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-brand-dark/20 group-hover:bg-brand-dark/0 transition-colors z-10"}),n.jsx("img",{src:he.image,alt:he.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),he.isPopular&&n.jsx("span",{className:"absolute top-4 right-4 z-20 bg-brand-accent text-white text-xs font-bold px-3 py-1 uppercase rounded-sm shadow-md",children:"Popularny"})]}),n.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[n.jsx("div",{className:"text-xs font-bold text-brand-secondary uppercase mb-2",children:he.category}),n.jsx("h3",{className:"text-lg font-heading font-bold text-brand-dark mb-4 leading-snug group-hover:text-brand-accent transition-colors",children:he.title}),he.description&&n.jsx("p",{className:"text-base text-slate-600 mb-4 line-clamp-3",children:he.description}),n.jsx("div",{className:"mt-auto flex items-center justify-between border-t border-slate-100 pt-4",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Cena"}),n.jsx("span",{className:"text-lg font-bold text-brand-primary",children:he.price})]})}),n.jsx("button",{className:"mt-4 w-full py-3 border border-brand-primary text-brand-primary font-bold uppercase text-sm hover:bg-brand-primary hover:text-white transition-all rounded-sm",children:"Szczegy Kursu"})]})]},he.id))})})]})]})})},Tc=()=>n.jsx("div",{className:"py-12 bg-brand-surface animate-fade-in",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[n.jsx(Ds,{title:"Wynajem Maszyn",subtitle:"Flota Heavy Duty"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d1.map(_=>n.jsxs("div",{onClick:()=>{u(_.id),e("MACHINE_DETAIL")},className:"bg-white rounded-sm shadow-sm hover:shadow-lg transition-shadow border border-slate-200 overflow-hidden flex flex-col group cursor-pointer",children:[n.jsxs("div",{className:"h-56 bg-slate-100 overflow-hidden relative",children:[n.jsx("div",{className:"absolute inset-0 bg-brand-dark/20 group-hover:bg-brand-dark/0 transition-colors z-10"}),n.jsx("img",{src:_.image,alt:_.name,className:"w-full h-full object-cover mix-blend-multiply transform group-hover:scale-105 transition-transform duration-500"})]}),n.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[n.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark",children:_.name}),n.jsx("p",{className:"text-brand-accent font-medium text-sm mb-4 uppercase",children:_.type}),n.jsx("div",{className:"space-y-2 mb-6",children:Object.entries(_.specs).map(([le,he])=>n.jsxs("div",{className:"flex justify-between text-base border-b border-slate-100 pb-1",children:[n.jsx("span",{className:"text-slate-500 capitalize",children:le}),n.jsx("span",{className:"font-bold text-slate-700",children:he})]},le))}),n.jsx("button",{className:"w-full bg-brand-primary text-white py-3 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors mt-auto",children:"Rezerwuj Maszyn"})]})]},_.id))})]})}),Ph=()=>{const _=Pn.find(le=>le.id===i);return _?n.jsxs("div",{className:"animate-fade-in font-body",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-brand-primary via-brand-primary/95 to-brand-secondary min-h-[500px] flex items-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:_.image,alt:_.title,className:"w-full h-full object-cover opacity-50"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary via-brand-primary/80 to-transparent"})]}),n.jsx("div",{className:"absolute inset-0 opacity-10 z-0",children:n.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-accent rounded-full blur-3xl"})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 w-full relative z-10 py-20",children:[n.jsxs("button",{onClick:()=>e("CATALOG"),className:"flex items-center gap-1 text-white/80 hover:text-white mb-8 text-sm font-bold uppercase tracking-wider transition-colors",children:[n.jsx(Dt,{size:16,className:"rotate-180"})," Wr do katalogu"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 items-start",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full mb-6",children:_.category}),n.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-white mb-6 leading-tight",children:_.title}),n.jsx("p",{className:"text-lg text-white/90 mb-8 leading-relaxed max-w-2xl",children:_.description||"Kompleksowe szkolenie przygotowujce do egzaminu pastwowego z najwysz skutecznoci."}),n.jsx("div",{className:"flex flex-wrap gap-8",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ap,{size:24,className:"text-brand-accent"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-white/70",children:"Certyfikat UDT"}),n.jsx("div",{className:"font-bold text-white",children:"Uznawany zawodowo"})]})]})})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-sm shadow-2xl p-8 sticky top-24",children:[n.jsx("div",{className:"text-4xl font-heading font-black text-brand-primary mb-2",children:_.price}),n.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"na osob / kursu penego"}),n.jsx("button",{className:"w-full bg-brand-primary text-white py-4 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors mb-4",children:"Zapisz si teraz"}),n.jsx("button",{className:"w-full border-2 border-brand-primary text-brand-primary py-3 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Dowiedz si wicej"}),n.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ls,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-slate-700",children:"Teoria online + praktyka"})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ls,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-slate-700",children:"Materiay dydaktyczne w cenie"})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ls,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-slate-700",children:"Wsparcie instruktora"})]})]})]})})]})]})]}),n.jsx("div",{className:"bg-brand-surface py-24",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"O szkoleniu"}),n.jsxs("p",{className:"text-base text-slate-600 leading-relaxed mb-4",children:["Szkolenie ",_.title.toLowerCase()," to kompleksowy program, ktry przygotowuje operatorw do pracy z maszynami budowlanymi. Program obejmuje zarwno wiedz teoretyczn, jak i praktyczne umiejtnoci niezbdne do bezpiecznej eksploatacji sprztu."]}),n.jsx("p",{className:"text-base text-slate-600 leading-relaxed",children:"Szkolenie koczy si egzaminem pastwowym UDT, ktrego zdanie uprawnia do pracy zawodowej na terenie caej Polski."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Program szkolenia"}),n.jsx("div",{className:"space-y-3",children:ma(_.id).map((le,he)=>n.jsxs("div",{className:"bg-white rounded-sm border border-slate-200",children:[n.jsxs("button",{onClick:()=>Ka(Xs===he?null:he),className:"w-full flex items-center justify-between gap-4 p-5 hover:bg-slate-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-accent text-white flex items-center justify-center font-bold text-sm flex-shrink-0",children:he+1}),n.jsx("span",{className:"text-slate-700 font-bold text-left",children:le.title})]}),n.jsx(Ei,{style:{transform:Xs===he?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.5s ease-in-out"},className:`flex-shrink-0 ${Xs===he?"text-brand-accent":"text-slate-400"}`,size:24})]}),n.jsx("div",{style:{maxHeight:Xs===he?"500px":"0px",opacity:Xs===he?1:0,transition:"max-height 0.5s ease-in-out, opacity 0.5s ease-in-out",overflow:"hidden"},children:n.jsx("div",{className:"px-5 pb-5 pt-3 bg-slate-50 border-t border-slate-200",children:n.jsx("ul",{className:"space-y-2.5 ml-14",children:le.details.map((Se,tt)=>n.jsxs("li",{className:"flex items-start gap-3 text-slate-600",children:[n.jsx(Ls,{size:18,className:"text-green-600 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-sm leading-relaxed",children:Se})]},tt))})})})]},he))})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Wymagania wstpne"}),n.jsx("ul",{className:"space-y-3",children:["Ukoczone 18 lat","Stan zdrowia pozwalajcy na prac na wysokociach","Zawiadczenie lekarskie","Dokument tosamoci"].map((le,he)=>n.jsxs("li",{className:"flex items-center gap-3 text-slate-600",children:[n.jsx(Ls,{size:20,className:"text-green-600 flex-shrink-0"}),le]},he))})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-8 sticky top-24 space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Kategoria"}),n.jsx("p",{className:"text-lg font-bold text-brand-primary",children:_.category})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Cena"}),n.jsx("p",{className:"text-2xl font-heading font-black text-brand-primary",children:_.price})]}),n.jsx("button",{className:"w-full bg-brand-primary text-white py-3 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors",children:"Zapisz si"}),n.jsxs("div",{className:"bg-brand-accent/10 p-4 rounded-sm border-l-4 border-brand-accent",children:[n.jsx("p",{className:"text-sm font-bold text-brand-primary mb-2",children:" Masz pytania?"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Skontaktuj si z nami - chtnie pomoemy!"})]})]})})]})})})]}):null},Ui=()=>{const _=d1.find(le=>le.id===c);return _?n.jsxs("div",{className:"animate-fade-in font-body",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-brand-primary via-brand-primary/95 to-brand-secondary min-h-[500px] flex items-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:_.image,alt:_.name,className:"w-full h-full object-cover opacity-50"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary via-brand-primary/80 to-transparent"})]}),n.jsx("div",{className:"absolute inset-0 opacity-10 z-0",children:n.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-accent rounded-full blur-3xl"})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 w-full relative z-10 py-20",children:[n.jsxs("button",{onClick:()=>e("RENTALS"),className:"flex items-center gap-1 text-white/80 hover:text-white mb-8 text-sm font-bold uppercase tracking-wider transition-colors",children:[n.jsx(Dt,{size:16,className:"rotate-180"})," Wr do wynajmu"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 items-start",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full mb-6",children:_.type}),n.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-white mb-6 leading-tight",children:_.name}),n.jsx("p",{className:"text-lg text-white/90 mb-8 leading-relaxed max-w-2xl",children:"Profesjonalna maszyna budowlana dostpna do wynajmu. Idealna do prac na wysokoci i w trudno dostpnych miejscach."}),n.jsx("div",{className:"flex flex-wrap gap-8",children:Object.entries(_.specs).map(([le,he])=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-accent/20 backdrop-blur-sm flex items-center justify-center",children:n.jsx(Er,{size:24,className:"text-brand-accent"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-white/70 capitalize",children:le}),n.jsx("div",{className:"font-bold text-white",children:he})]})]},le))})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-sm shadow-2xl p-8 sticky top-24",children:[n.jsx("div",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Od"}),n.jsx("div",{className:"text-4xl font-heading font-black text-brand-primary mb-2",children:"250 PLN"}),n.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"za dob / netto"}),n.jsx("button",{className:"w-full bg-brand-primary text-white py-4 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors mb-4",children:"Zapytaj o dostpno"}),n.jsx("button",{className:"w-full border-2 border-brand-primary text-brand-primary py-3 font-bold uppercase text-sm rounded-sm hover:bg-slate-50 transition-colors",children:"Pobierz ofert PDF"}),n.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ls,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-slate-700",children:"Moliwo transportu"})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ls,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-slate-700",children:"Ubezpieczenie w cenie"})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ls,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-slate-700",children:"Obsuga operatora opcjonalnie"})]})]})]})})]})]})]}),n.jsx("div",{className:"bg-brand-surface py-24",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Opis maszyny"}),n.jsxs("p",{className:"text-base text-slate-600 leading-relaxed mb-4",children:[_.name," to profesjonalna maszyna budowlana z najwyszej pki. Zapewnia maksymalne bezpieczestwo pracy oraz komfort obsugi dziki nowoczesnym systemom sterowania."]}),n.jsx("p",{className:"text-base text-slate-600 leading-relaxed",children:"Idealna do prac budowlanych, instalacyjnych i konserwacyjnych na wysokoci. Kompaktowa konstrukcja pozwala na prac w trudno dostpnych miejscach."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Specyfikacja techniczna"}),n.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-6 space-y-4",children:[Object.entries(_.specs).map(([le,he])=>n.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-4 last:border-0 last:pb-0",children:[n.jsx("span",{className:"text-slate-600 capitalize font-medium",children:le}),n.jsx("span",{className:"font-bold text-brand-dark text-lg",children:he})]},le)),n.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-4",children:[n.jsx("span",{className:"text-slate-600 font-medium",children:"Typ napdu"}),n.jsx("span",{className:"font-bold text-brand-dark text-lg",children:"Elektryczny"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-slate-600 font-medium",children:"Certyfikaty"}),n.jsx("span",{className:"font-bold text-brand-dark text-lg",children:"CE, UDT"})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-heading font-bold text-brand-primary mb-6",children:"Zastosowanie"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["Prace budowlane","Instalacje elektryczne","Konserwacja budynkw","Prace magazynowe","Monta konstrukcji","Prace wykoczeniowe"].map((le,he)=>n.jsxs("div",{className:"flex items-center gap-3 bg-white p-4 rounded-sm border-l-4 border-brand-accent",children:[n.jsx(Km,{size:20,className:"text-brand-accent flex-shrink-0"}),n.jsx("span",{className:"text-slate-700 font-medium",children:le})]},he))})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-sm shadow-sm p-8 sticky top-24 space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Maszyna"}),n.jsx("p",{className:"text-lg font-bold text-brand-primary",children:_.name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Typ"}),n.jsx("p",{className:"text-lg font-bold text-brand-primary",children:_.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-2",children:"Cena najmu"}),n.jsx("p",{className:"text-2xl font-heading font-black text-brand-primary",children:"250 PLN/doba"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Rabat przy duszym najmie"})]}),n.jsx("button",{className:"w-full bg-brand-primary text-white py-3 font-bold uppercase text-sm rounded-sm hover:bg-brand-dark transition-colors",children:"Zarezerwuj"}),n.jsxs("div",{className:"bg-brand-accent/10 p-4 rounded-sm border-l-4 border-brand-accent",children:[n.jsx("p",{className:"text-sm font-bold text-brand-primary mb-2",children:" Potrzebujesz pomocy?"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Zadzwo: +48 730 101 000"})]})]})})]})})})]}):null},Hi=()=>n.jsxs("div",{className:"animate-fade-in font-body",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-brand-primary via-brand-primary/95 to-brand-secondary min-h-[500px] flex items-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:"/multiserwis-kutno/serwis-i-koserwacja.webp",alt:"Usugi serwisowe",className:"w-full h-full object-cover opacity-50"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary via-brand-primary/80 to-transparent"})]}),n.jsx("div",{className:"absolute inset-0 opacity-10 z-0",children:n.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-accent rounded-full blur-3xl"})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 w-full relative z-10 py-20",children:[n.jsxs("button",{onClick:()=>e("HOME"),className:"flex items-center gap-1 text-white/80 hover:text-white mb-8 text-sm font-bold uppercase tracking-wider transition-colors",children:[n.jsx(Dt,{size:16,className:"rotate-180"})," Wr do strony gwnej"]}),n.jsxs("div",{className:"max-w-3xl",children:[n.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full mb-6",children:"Kompleksowa obsuga"}),n.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-white mb-6 leading-tight",children:"Usugi Serwisowe"}),n.jsx("p",{className:"text-lg text-white/90 mb-8 leading-relaxed",children:"Profesjonalny serwis i konserwacja maszyn budowlanych. Przegldy okresowe UDT, naprawy, modernizacje oraz mobilny serwis z dojazdem do klienta na terenie caej Polski."}),n.jsxs("div",{className:"flex flex-wrap gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-accent/20 backdrop-blur-sm flex items-center justify-center",children:n.jsx(Ls,{size:24,className:"text-brand-accent"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-white/70",children:"Dowiadczenie"}),n.jsx("div",{className:"font-bold text-white",children:"15+ lat"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-accent/20 backdrop-blur-sm flex items-center justify-center",children:n.jsx(Cn,{size:24,className:"text-brand-accent"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-white/70",children:"Zrealizowanych"}),n.jsx("div",{className:"font-bold text-white",children:"2000+ serwisw"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-accent/20 backdrop-blur-sm flex items-center justify-center",children:n.jsx(ci,{size:24,className:"text-brand-accent"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-white/70",children:"Czas reakcji"}),n.jsx("div",{className:"font-bold text-white",children:"24h"})]})]})]})]})]})]}),n.jsx("div",{className:"bg-brand-surface py-24",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[n.jsx(Ds,{subtitle:"Zakres usug",title:"Czym si zajmujemy?"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[{icon:n.jsx(Cn,{size:32}),title:"Przegldy UDT",desc:"Kompleksowe przegldy okresowe zgodne z wymogami UDT. Dokumentacja i certyfikaty."},{icon:n.jsx(Km,{size:32}),title:"Naprawy biece",desc:"Szybkie reakcje na awarie. Diagnostyka i naprawa ukadw hydraulicznych, elektrycznych i mechanicznych."},{icon:n.jsx(Er,{size:32}),title:"Mobilny serwis",desc:"Dojazd do klienta na terenie caej Polski. Serwis w miejscu uytkowania maszyny."},{icon:n.jsx(ea,{size:32}),title:"Resursy i modernizacje",desc:"Kompleksowe remonty kapitalne. Modernizacja starszych maszyn do aktualnych norm."},{icon:n.jsx(wx,{size:32}),title:"Certyfikacja",desc:"Pomoc w uzyskaniu certyfikatw UDT. Kompletowanie dokumentacji technicznej."},{icon:n.jsx(ci,{size:32}),title:"Serwis gwarancyjny",desc:"Obsuga gwarancyjna maszyn. Wsppraca z producentami i autoryzowanymi serwisami."}].map((_,le)=>n.jsxs("div",{className:"bg-white p-8 rounded-sm shadow-sm hover:shadow-xl transition-shadow group",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-accent/10 flex items-center justify-center mb-6 text-brand-accent group-hover:bg-brand-accent group-hover:text-white transition-colors",children:_.icon}),n.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark mb-3",children:_.title}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:_.desc})]},le))})]})}),n.jsx("div",{className:"bg-white py-24",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[n.jsx(Ds,{subtitle:"Jak to dziaa?",title:"Proces realizacji"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Kontakt",desc:"Zgoszenie telefoniczne lub mailowe"},{step:"02",title:"Diagnostyka",desc:"Wstpna ocena zakresu prac"},{step:"03",title:"Wycena",desc:"Przygotowanie szczegowej oferty"},{step:"04",title:"Realizacja",desc:"Wykonanie serwisu i dokumentacja"}].map((_,le)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-brand-primary text-white font-heading font-black text-3xl flex items-center justify-center mx-auto mb-6",children:_.step}),n.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark mb-3",children:_.title}),n.jsx("p",{className:"text-slate-600",children:_.desc})]},le))})]})}),n.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-secondary py-20",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8 text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-black text-white mb-6",children:"Potrzebujesz serwisu swojej maszyny?"}),n.jsx("p",{className:"text-lg text-white/90 mb-8",children:"Skontaktuj si z nami  odpowiemy na wszystkie pytania i przygotujemy ofert dopasowan do Twoich potrzeb."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs("button",{onClick:()=>e("CONTACT"),className:"px-8 py-4 bg-brand-accent hover:bg-brand-accentHover text-white font-bold uppercase tracking-wider rounded-sm shadow-lg transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2",children:["Skontaktuj si ",n.jsx(a1,{size:20})]}),n.jsxs("a",{href:"tel:+48730101000",className:"px-8 py-4 border-2 border-white text-white hover:bg-white hover:text-brand-primary font-bold uppercase tracking-wider rounded-sm transition-all flex items-center justify-center gap-2",children:[n.jsx(Rr,{size:20})," +48 730 101 000"]})]})]})}),n.jsx("div",{className:"bg-brand-surface py-24",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8",children:[n.jsx(Ds,{subtitle:"Pytania i odpowiedzi",title:"Najczciej zadawane pytania"}),n.jsx("div",{className:"space-y-4",children:[{q:"Jak czsto naley wykonywa przegldy UDT?",a:"Czstotliwo przegldw zaley od typu maszyny i intensywnoci uytkowania. Zazwyczaj przegldy wykonuje si raz w roku lub co okrelon liczb motogodzin."},{q:"Czy wykonujecie serwis na miejscu u klienta?",a:"Tak, dysponujemy mobilnym serwisem, ktry moe dojecha do klienta na terenie caej Polski. Wikszo napraw i przegldw wykonujemy bezporednio w miejscu uytkowania maszyny."},{q:"Jakie maszyny serwisujecie?",a:"Serwisujemy szeroki zakres maszyn: wzki widowe, podnoniki koszowe, adowarki teleskopowe, koparki, zwyki i inne maszyny budowlane wymagajce przegldw UDT."},{q:"Czy otrzymam dokumentacj po przegldzie?",a:"Tak, po kadym przegldzie wydajemy komplet dokumentacji zgodnej z wymogami UDT, w tym protokoy z bada i certyfikaty."}].map((_,le)=>n.jsxs("details",{className:"bg-white rounded-sm shadow-sm group",children:[n.jsxs("summary",{className:"p-6 cursor-pointer font-bold text-brand-dark hover:text-brand-primary transition-colors flex items-center justify-between",children:[_.q,n.jsx(Dt,{size:20,className:"transform group-open:rotate-90 transition-transform text-brand-accent"})]}),n.jsx("div",{className:"px-6 pb-6 text-slate-600 leading-relaxed",children:_.a})]},le))})]})})]}),Rn=()=>{var zs,xs,Ie;const _=p,le=i?kn.filter(je=>je.courseId===i):kn,he=i&&(((zs=ge.find(je=>je.id===i))==null?void 0:zs.title)||((xs=Pn.find(je=>je.id===i))==null?void 0:xs.title))||"Szkolenie",Se=[];le.forEach(je=>{je.lessons.forEach(Ue=>{Se.push(Ue)})});const tt=Se.findIndex(je=>je.id===_),mt=tt===-1?0:tt,Xe=mt>0,st=mt<Se.length-1,ps=()=>{Xe&&g(Se[mt-1].id)},Ot=()=>{st&&g(Se[mt+1].id)},ie=Se[mt],[dt,Rt]=pe.useState(!0),At=Se.filter(je=>je.isCompleted).length,ss=Se.length?Math.round(At/Se.length*100):0,Ye=(ie==null?void 0:ie.id)||_,qt=()=>{e(Za?"NEW_STUDENT_PANEL":"CATALOG")};return n.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"min-w-0 flex-1 flex flex-col gap-6 font-body animate-fade-in order-2 md:order-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("button",{onClick:qt,className:"inline-flex items-center gap-2 text-sm font-bold text-slate-600 hover:text-brand-dark transition-colors",children:[n.jsx(Dt,{size:16,className:"rotate-180"})," Powrt"]}),n.jsxs("div",{className:"mt-2 text-xs text-slate-500 font-semibold flex items-center gap-1",children:[n.jsx("span",{children:"Moje szkolenia"}),n.jsx(Dt,{size:12}),n.jsx("span",{children:he})]}),n.jsx("h1",{className:"mt-1 text-2xl font-heading font-bold text-slate-900",children:(ie==null?void 0:ie.title)||"Lekcja"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>Rt(!dt),className:"md:hidden p-2 rounded-sm border border-slate-200 bg-white hover:bg-slate-50 transition-colors","aria-label":dt?"Ukryj spis lekcji":"Poka spis lekcji",children:n.jsx(qr,{size:20,className:"text-slate-600"})}),y&&w?n.jsxs("button",{onClick:()=>{localStorage.setItem("returnToEditCourseId",w),v(!1),N(null),e("NEW_ADMIN_PANEL")},className:"hidden md:flex items-center gap-2 px-4 py-2 bg-brand-accent text-white font-bold text-sm rounded-sm hover:bg-brand-accentHover transition-colors",children:[n.jsx(Dt,{size:16,className:"rotate-180"})," Powrt do edycji"]}):null]})]}),(ie==null?void 0:ie.type)==="video"&&n.jsxs("div",{className:"w-full aspect-video bg-black rounded-sm shadow-xl overflow-hidden relative group",children:[n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-accent/90 flex items-center justify-center cursor-pointer hover:scale-110 transition-transform shadow-lg z-10",children:n.jsx(nC,{size:32,className:"text-white ml-1"})})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/20",children:n.jsx("div",{className:"h-full w-1/3 bg-brand-accent"})}),n.jsx("div",{className:"absolute bottom-4 left-4 text-white text-sm font-bold bg-black/50 px-2 py-1 rounded",children:"04:20 / 25:00"}),n.jsx("img",{src:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?q=80&w=1200&auto=format&fit=crop",className:"w-full h-full object-cover opacity-60",alt:"Lesson Cover"})]}),(ie==null?void 0:ie.type)==="text"&&n.jsx("div",{className:"w-full bg-white rounded-sm shadow-sm border border-slate-200 p-8",children:n.jsxs("div",{className:"prose max-w-none text-base text-slate-700 leading-relaxed",children:[n.jsx("h2",{className:"text-2xl font-heading font-bold text-brand-dark mb-6",children:ie==null?void 0:ie.title}),ie.id==="c1l6a"&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-lg mb-4",children:"Przepisy BHP (Bezpieczestwa i Higieny Pracy) oraz normy bezpieczestwa stanowi fundament bezpiecznej pracy na wzkach widowych."}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Podstawowe zasady BHP"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[n.jsx("li",{children:"Operator musi posiada aktualne uprawnienia do obsugi wzka widowego kategorii I, II lub III"}),n.jsx("li",{children:"Przed rozpoczciem pracy naley przeprowadzi przegld techniczny wzka"}),n.jsx("li",{children:"Zabrania si jazdy z uniesionymi widami bez adunku"}),n.jsx("li",{children:"Maksymalna prdko jazdy w pomieszczeniach: 10 km/h"}),n.jsx("li",{children:"Operator musi uywa rodkw ochrony indywidualnej (kask, obuwie, kamizelka)"})]}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Normy europejskie i polskie"}),n.jsx("p",{className:"mb-4",children:"Obsuga wzkw widowych w Polsce regulowana jest przez:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Rozporzdzenie Ministra Gospodarki"})," w sprawie warunkw technicznych dozoru technicznego w zakresie eksploatacji niektrych urzdze transportu bliskiego"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Norma PN-EN 16307-1"})," - wzki jezdniowe - wymagania bezpieczestwa i weryfikacja"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ustawa o Transporcie Drogowym"})," - w zakresie transportu wewntrzzakadowego"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Kodeks Pracy"})," - obowizki pracodawcy i pracownika w zakresie BHP"]})]}),n.jsxs("div",{className:"bg-brand-accent/10 border-l-4 border-brand-accent p-4 my-6",children:[n.jsx("p",{className:"font-bold text-brand-dark mb-2",children:" Wane!"}),n.jsx("p",{children:"Niestosowanie si do przepisw BHP moe skutkowa odpowiedzialnoci karn lub cywiln, a take utrat uprawnie do obsugi wzkw widowych."})]})]}),ie.id==="c1l6b"&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-lg mb-4",children:"Dokumentacja techniczna wzka widowego zawiera wszystkie informacje niezbdne do jego bezpiecznej i prawidowej eksploatacji."}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Podstawowe dokumenty"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Instrukcja obsugi"})," - zawiera szczegowy opis obsugi, konserwacji i napraw"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Karta charakterystyki"})," - parametry techniczne, udwig, wysoko podnoszenia"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Deklaracja zgodnoci CE"})," - potwierdzenie zgodnoci z normami UE"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ksika UDT"})," - dziennik przegldw technicznych i napraw"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Certyfikat dopuszczenia"})," - wydawany przez UDT dla wzkw objtych dozorem"]})]}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Tabela znamionowa"}),n.jsx("p",{className:"mb-4",children:"Na kadym wzku widowym musi znajdowa si trwale przymocowana tabela znamionowa zawierajca:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[n.jsx("li",{children:"Nazwa producenta i typ wzka"}),n.jsx("li",{children:"Numer seryjny i rok produkcji"}),n.jsx("li",{children:"Udwig nominalny (Q) - maksymalny adunek"}),n.jsx("li",{children:"Odlego rodka cikoci adunku (c)"}),n.jsx("li",{children:"Maksymalna wysoko podnoszenia"}),n.jsx("li",{children:"Masa wasna wzka"})]}),n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-6",children:[n.jsx("p",{className:"font-bold text-brand-dark mb-2",children:" Wskazwka"}),n.jsx("p",{children:"Przed kad zmian zapoznaj si z tablic obcie wzka - przekroczenie udwigu moe prowadzi do przewrcenia si wzka!"})]}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Przechowywanie dokumentacji"}),n.jsx("p",{className:"mb-4",children:"Dokumentacja techniczna powinna by przechowywana w miejscu atwo dostpnym dla operatora i pracownikw dziau BHP. Zaleca si posiadanie kopii cyfrowych wszystkich dokumentw."})]}),ie.id==="c1l8a"&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-lg mb-4",children:"Urzd Dozoru Technicznego (UDT) jest organem nadzorujcym bezpieczestwo eksploatacji urzdze technicznych, w tym niektrych typw wzkw widowych."}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Ktre wzki podlegaj dozorowi UDT?"}),n.jsx("p",{className:"mb-4",children:"Dozorowi technicznemu podlegaj wzki jezdniowe podnonikowe z wysignikiem (WJO) oraz wzki z mechanizmem podnoszenia masztu przekraczajcym:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[n.jsxs("li",{children:["Wzki z wysignikiem (reach truck) - ",n.jsx("strong",{children:"wszystkie"})]}),n.jsxs("li",{children:["Wzki widowe z masztem powyej ",n.jsx("strong",{children:"1,8 metra"})," wysokoci podnoszenia"]}),n.jsx("li",{children:"Wzki z kabin operatora podnoszon razem z adunkiem"})]}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Obowizkowe badania i przegldy"}),n.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded p-4 mb-6",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-slate-300",children:[n.jsx("th",{className:"text-left py-2 px-2 font-bold",children:"Rodzaj przegldu"}),n.jsx("th",{className:"text-left py-2 px-2 font-bold",children:"Czstotliwo"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{className:"border-b border-slate-200",children:[n.jsx("td",{className:"py-2 px-2",children:"Badanie UDT przed dopuszczeniem do eksploatacji"}),n.jsx("td",{className:"py-2 px-2",children:"Jednorazowo"})]}),n.jsxs("tr",{className:"border-b border-slate-200",children:[n.jsx("td",{className:"py-2 px-2",children:"Okresowe badanie UDT"}),n.jsx("td",{className:"py-2 px-2",children:"Co 12 miesicy"})]}),n.jsxs("tr",{className:"border-b border-slate-200",children:[n.jsx("td",{className:"py-2 px-2",children:"Przegld konserwacyjny"}),n.jsx("td",{className:"py-2 px-2",children:"Co 250 motogodzin"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-2 px-2",children:"Przegld codzienny przez operatora"}),n.jsx("td",{className:"py-2 px-2",children:"Przed kad zmian"})]})]})]})}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Uprawnienia operatora"}),n.jsx("p",{className:"mb-4",children:"Operator wzka widowego musi posiada:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Zawiadczenie kwalifikacyjne UDT"})," - dla wzkw objtych dozorem (kategoria II i III)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"wiadectwo kwalifikacji"})," - dla wzkw nieobjtych dozorem (kategoria I)"]}),n.jsx("li",{children:"Minimum 18 lat (21 lat dla niektrych kategorii)"}),n.jsx("li",{children:"Wane badania lekarskie (kategoria 1 lub 2)"}),n.jsx("li",{children:"Wane badania psychologiczne"})]}),n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-6",children:[n.jsx("p",{className:"font-bold text-brand-dark mb-2",children:" Uwaga!"}),n.jsx("p",{children:"Obsuga wzka widowego bez wymaganych uprawnie jest wykroczeniem zagroonym kar grzywny do 5000 z. Pracodawca dopuszczajcy do pracy osob bez uprawnie moe zosta ukarany grzywn do 30 000 z."})]}),n.jsx("h3",{className:"text-xl font-bold text-brand-dark mt-6 mb-3",children:"Dokumentacja eksploatacyjna"}),n.jsx("p",{className:"mb-4",children:"Dla kadego wzka objtego dozorem UDT prowadzi si Ksik Rewizyjn, w ktrej odnotowywane s:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Wyniki bada okresowych UDT"}),n.jsx("li",{children:"Przeprowadzone naprawy gwne i wymiany elementw nonych"}),n.jsx("li",{children:"Wypadki i awarie zwizane z eksploatacj"}),n.jsx("li",{children:"Zmiany waciciela lub miejsca eksploatacji"})]})]})]})}),(ie==null?void 0:ie.type)==="test"&&n.jsxs("div",{className:"w-full bg-white rounded-sm shadow-sm border border-slate-200 p-6",children:[n.jsx("h2",{className:"text-2xl font-heading font-bold text-brand-dark mb-6",children:ie==null?void 0:ie.title}),n.jsx("div",{className:"space-y-6",children:(Ie=ie==null?void 0:ie.questions)==null?void 0:Ie.map((je,Ue)=>{var vt,at;return n.jsxs("div",{className:"border border-slate-200 rounded p-6 bg-slate-50",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold text-brand-dark flex-1",children:[Ue+1,". ",je.question]}),n.jsx("span",{className:"text-xs font-bold bg-brand-primary text-white px-3 py-1 rounded ml-4 whitespace-nowrap",children:je.type==="single"?"Jednokrotny wybr":je.type==="multiple"?"Wielokrotny wybr":"Pytanie otwarte"})]}),je.type==="single"&&n.jsx("div",{className:"space-y-3",children:(vt=je.options)==null?void 0:vt.map((ns,Os)=>n.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-300 rounded cursor-pointer hover:bg-white transition-colors",children:[n.jsx("input",{type:"radio",name:je.id,value:Os,checked:yt[je.id]===Os,onChange:fn=>oa({...yt,[je.id]:parseInt(fn.target.value)}),className:"w-4 h-4 rounded-full border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),n.jsx("span",{className:"text-slate-700",children:ns})]},Os))}),je.type==="multiple"&&n.jsx("div",{className:"space-y-3",children:(at=je.options)==null?void 0:at.map((ns,Os)=>{var fn;return n.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-300 rounded cursor-pointer hover:bg-white transition-colors",children:[n.jsx("input",{type:"checkbox",checked:((fn=yt[je.id])==null?void 0:fn.includes(Os))||!1,onChange:Kn=>{const Ii=yt[je.id]||[];Kn.target.checked?oa({...yt,[je.id]:[...Ii,Os]}):oa({...yt,[je.id]:Ii.filter($i=>$i!==Os)})},className:"w-4 h-4 rounded-sm border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),n.jsx("span",{className:"text-slate-700",children:ns})]},Os)})}),je.type==="open"&&n.jsx("textarea",{value:yt[je.id]||"",onChange:ns=>oa({...yt,[je.id]:ns.target.value}),placeholder:"Wpisz swoj odpowied tutaj...",className:"w-full p-4 border border-slate-300 rounded focus:outline-none focus:border-brand-accent focus:ring-2 focus:ring-brand-accent/20",rows:4}),ca&&n.jsxs("div",{className:`mt-4 p-4 rounded ${je.type==="open"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[n.jsx("p",{className:"text-sm font-bold text-slate-700 mb-2",children:"Wyjanienie:"}),n.jsx("p",{className:"text-sm text-slate-600",children:je.explanation})]})]},je.id)})}),n.jsx("button",{onClick:()=>Il(!ca),className:"mt-6 px-6 py-3 bg-brand-primary text-white font-bold rounded hover:bg-brand-dark transition-colors",children:ca?"Ukryj wyjanienia":"Przelij odpowiedzi i zobacz wyjanienia"})]}),(ie==null?void 0:ie.type)==="video"&&n.jsxs("div",{className:"bg-white rounded-sm shadow-sm border border-slate-200 p-6",children:[n.jsxs("div",{className:"flex border-b border-slate-200 mb-6",children:[n.jsx("button",{className:"px-6 py-3 text-sm font-bold text-brand-accent border-b-2 border-brand-accent",children:"Opis Lekcji"}),n.jsx("button",{className:"px-6 py-3 text-sm font-bold text-slate-500 hover:text-brand-dark transition-colors",children:"Materiay (1)"})]}),n.jsxs("div",{className:"prose max-w-none text-base text-slate-600 leading-relaxed mb-8",children:[n.jsx("p",{children:"W tej lekcji omwimy procedur bezpiecznej wymiany butli z gazem propan-butan w wzkach jezdniowych. Jest to jedna z kluczowych czynnoci eksploatacyjnych, ktra nieprawidowo wykonana moe prowadzi do powanych wypadkw."}),n.jsx("h4",{className:"font-bold text-brand-dark mt-4 mb-2",children:"Czego si nauczysz?"}),n.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[n.jsx("li",{children:"Zasad BHP przy kontakcie z gazem pynnym."}),n.jsx("li",{children:"Kolejnoci odczania i podczania przewodw."}),n.jsx("li",{children:"Sprawdzania szczelnoci instalacji po wymianie."})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsxs("div",{className:"border border-slate-200 rounded p-4 flex items-start gap-3 hover:bg-slate-50 transition-colors cursor-pointer group",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded text-red-600",children:n.jsx(ea,{size:20})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-brand-dark text-sm group-hover:text-brand-accent transition-colors",children:"Instrukcja Wymiany Butli.pdf"}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"PDF  2.4 MB"})]}),n.jsx($r,{size:16,className:"ml-auto text-slate-400 group-hover:text-brand-primary"})]})})]}),(ie==null?void 0:ie.type)!=="quiz"&&n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mt-6 md:justify-between",children:[n.jsx("button",{onClick:ps,disabled:!Xe,className:`px-6 py-3 border border-slate-300 font-bold uppercase text-xs rounded-sm transition-colors ${Xe?"text-slate-600 hover:bg-white hover:text-brand-dark cursor-pointer":"text-slate-300 cursor-not-allowed opacity-50"}`,children:"Poprzednia lekcja"}),ie!=null&&ie.isCompleted?n.jsxs("div",{className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-50 text-green-700 font-bold uppercase text-xs rounded-sm md:order-2",children:[n.jsx(Ls,{size:16})," Lekcja ukoczona"]}):n.jsxs("button",{onClick:()=>{const je=kn.findIndex(Ue=>Ue.lessons.some(vt=>vt.id===(ie==null?void 0:ie.id)));if(je!==-1){const Ue=kn[je].lessons.findIndex(vt=>vt.id===(ie==null?void 0:ie.id));Ue!==-1&&(kn[je].lessons[Ue].isCompleted=!0,g((ie==null?void 0:ie.id)||""))}},className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white font-bold uppercase text-xs rounded-sm hover:bg-green-700 transition-colors md:order-2",children:[n.jsx(Ls,{size:16})," Oznacz jako ukoczona"]}),n.jsxs("button",{onClick:Ot,disabled:!st,className:`px-6 py-3 bg-brand-accent font-bold uppercase text-xs rounded-sm transition-colors flex items-center justify-center gap-2 md:order-3 ${st?"text-white hover:bg-brand-accentHover cursor-pointer":"bg-slate-300 text-slate-400 cursor-not-allowed"}`,children:["Nastpna lekcja ",n.jsx(Dt,{size:14})]})]})]}),n.jsxs("div",{className:`
             w-full md:w-1/4 flex-shrink-0 bg-white border border-slate-200 shadow-sm rounded-sm order-1 md:order-2
             md:sticky md:top-20 md:max-h-[calc(100vh-6rem)] md:overflow-hidden md:flex md:flex-col
             ${dt?"block":"hidden md:flex"}
          `,children:[n.jsxs("div",{className:"p-4 bg-brand-primary text-white rounded-t-sm flex-shrink-0",children:[n.jsx("div",{className:"text-xs font-bold uppercase text-brand-accent tracking-widest mb-1",children:"Twj postp"}),n.jsxs("div",{className:"flex justify-between items-end mb-2",children:[n.jsxs("span",{className:"text-2xl font-heading font-bold",children:[ss,"%"]}),n.jsx("span",{className:"text-xs text-slate-300 mb-1",children:"ukoczono"})]}),n.jsx("div",{className:"w-full bg-brand-dark/50 rounded-full h-1.5",children:n.jsx("div",{className:"bg-brand-accent h-1.5 rounded-full",style:{width:`${ss}%`}})})]}),n.jsx("div",{className:"overflow-y-auto flex-1",children:le.map(je=>n.jsxs("div",{className:"border-b border-slate-100 last:border-0",children:[n.jsx("div",{className:"bg-slate-50 px-4 py-3 text-xs font-bold uppercase text-slate-600 tracking-wider flex justify-between items-center sticky top-0 z-10 border-b border-slate-200",children:je.title}),n.jsx("div",{children:je.lessons.map(Ue=>{var at;const vt=Ue.id===Ye;return n.jsxs("div",{onClick:()=>!Ue.isLocked&&g(Ue.id),className:`
                            flex items-start gap-3 p-4 cursor-pointer transition-colors relative
                            ${Ue.isCompleted?"bg-green-50 hover:bg-green-100":""}
                            ${vt&&!Ue.isCompleted?"bg-brand-surface":""}
                            ${!vt&&!Ue.isCompleted?"hover:bg-slate-50":""}
                            ${Ue.isLocked?"opacity-50 pointer-events-none":""}
                          `,children:[vt&&n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-brand-accent"}),n.jsx("div",{className:"mt-0.5 flex-shrink-0",children:Ue.isCompleted?n.jsx(Ls,{size:16,className:"text-green-500"}):Ue.isLocked?n.jsx(FS,{size:16,className:"text-slate-400"}):n.jsxs(n.Fragment,{children:[Ue.type==="video"&&n.jsx(nc,{size:16,className:`${vt?"text-brand-accent":"text-slate-400"}`}),Ue.type==="text"&&n.jsx(Id,{size:16,className:`${vt?"text-brand-accent":"text-slate-400"}`}),Ue.type==="test"&&n.jsx(i1,{size:16,className:`${vt?"text-brand-accent":"text-slate-400"}`})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:`text-sm font-medium leading-tight mb-1 ${Ue.isCompleted?"text-green-700":""} ${vt?"text-brand-dark font-bold":"text-slate-600"}`,children:Ue.title}),n.jsxs("div",{className:`text-xs flex items-center gap-2 ${Ue.isCompleted?"text-green-600":"text-slate-400"}`,children:[n.jsx(ci,{size:10}),Ue.duration,Ue.type==="test"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-1",children:""}),n.jsx(i1,{size:10}),((at=Ue.questions)==null?void 0:at.length)||0," pyta"]})]})]})]},Ue.id)})})]},je.id))})]})]})},Us=()=>n.jsx("div",{className:"py-12 bg-brand-surface animate-fade-in",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8",children:[n.jsx(Ds,{title:"Skontaktuj si",subtitle:"Jestemy do dyspozycji"}),n.jsxs("div",{className:"bg-white shadow-xl rounded-sm overflow-hidden flex flex-col md:flex-row",children:[n.jsxs("div",{className:"md:w-1/3 bg-brand-dark p-8 text-white flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-heading font-bold mb-6",children:"Dane kontaktowe"}),n.jsxs("div",{className:"space-y-6 text-base",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-brand-accent block text-xs uppercase font-bold mb-1",children:"Infolinia"}),n.jsx("span",{className:"text-lg",children:"+48 730 101 000"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-brand-accent block text-xs uppercase font-bold mb-1",children:"Email"}),n.jsx("span",{children:"biuro@multiserwis.pl"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-brand-accent block text-xs uppercase font-bold mb-1",children:"Adres"}),n.jsxs("span",{children:["ul. Siemieradzkiego 18",n.jsx("br",{}),"99-300 Kutno"]})]})]})]}),n.jsx("div",{className:"mt-8",children:n.jsx("div",{className:"w-full h-32 bg-slate-700 rounded opacity-50 flex items-center justify-center text-xs",children:"[Mapa Google]"})})]}),n.jsxs("div",{className:"md:w-2/3 p-8",children:[n.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark mb-6",children:"Napisz do nas"}),n.jsxs("form",{className:"space-y-4",onSubmit:_=>_.preventDefault(),children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Imi"}),n.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 p-3 rounded-sm focus:outline-none focus:border-brand-accent transition-colors text-base"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Nazwisko"}),n.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 p-3 rounded-sm focus:outline-none focus:border-brand-accent transition-colors text-base"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Email"}),n.jsx("input",{type:"email",className:"w-full bg-slate-50 border border-slate-200 p-3 rounded-sm focus:outline-none focus:border-brand-accent transition-colors text-base"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Wiadomo"}),n.jsx("textarea",{rows:4,className:"w-full bg-slate-50 border border-slate-200 p-3 rounded-sm focus:outline-none focus:border-brand-accent transition-colors text-base"})]}),n.jsx("button",{className:"px-8 py-3 bg-brand-primary text-white font-bold uppercase tracking-wider rounded-sm hover:bg-brand-secondary transition-colors",children:"Wylij wiadomo"})]})]})]})]})}),Ac=()=>{if(!k)return null;const _=kt.find(ie=>ie.id===k);if(!_)return null;const[le,he]=pe.useState(null),[Se,tt]=pe.useState("add"),[mt,Xe]=pe.useState(30),[st,ps]=pe.useState(""),Ot=kt.filter(ie=>ie.name===_.name&&ie.email===_.email);return Pn.find(ie=>ie.id===_.course),n.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[n.jsxs("button",{onClick:()=>{E?(e("ADMIN"),z(null),I("students")):(e("ADMIN"),z(null))},className:"mb-6 flex items-center gap-2 text-brand-primary hover:text-brand-accent transition-colors font-bold",children:[n.jsx(Dt,{className:"rotate-180",size:20}),E?"Powrt do listy kursantw":"Powrt do panelu"]}),n.jsxs("div",{className:"bg-white rounded-sm shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-dark text-white p-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-heading font-bold mb-2",children:_.name}),n.jsx("p",{className:"text-white/80 flex items-center gap-2 mb-2",children:n.jsx("span",{children:_.email})}),_.company&&n.jsx("p",{className:"text-white/70 flex items-center gap-2 text-sm",children:n.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-sm font-bold",children:_.company})})]})}),n.jsxs("div",{className:"p-8",children:[n.jsxs("h2",{className:"text-2xl font-heading font-bold text-brand-dark mb-6",children:["Przypisane szkolenia (",Ot.length,")"]}),n.jsx("div",{className:"space-y-4",children:Ot.map(ie=>{const dt=Pn.find(Ye=>Ye.id===ie.course);if(!dt)return null;const Rt=kn.filter(Ye=>Ye.courseId===dt.id),At=Rt.reduce((Ye,qt)=>Ye+qt.lessons.length,0),ss=ie.completedLessons.length;return n.jsx("div",{className:"border border-slate-200 rounded-sm overflow-hidden",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-32 h-48 bg-slate-200 flex-shrink-0",children:n.jsx("img",{src:dt.image,alt:dt.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark mb-2",children:dt.title}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[n.jsx("span",{className:"px-2 py-0.5 bg-brand-secondary/10 text-brand-secondary rounded font-bold uppercase text-xs",children:dt.category}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ci,{size:14})," ",dt.duration]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{children:ie.expirationDays>5?n.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 font-bold text-sm bg-green-50 px-3 py-1.5 rounded",children:["Wane przez ",ie.expirationDays," dni"]}):ie.expirationDays>0?n.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-600 font-bold text-sm bg-yellow-50 px-3 py-1.5 rounded",children:[n.jsx(gw,{size:14})," Wygasa za ",ie.expirationDays," dni"]}):n.jsx("span",{className:"inline-flex items-center gap-1 text-red-600 font-bold text-sm bg-red-50 px-3 py-1.5 rounded",children:"Wygas"})}),n.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),he(ie.id);const qt=new Date;qt.setDate(qt.getDate()+30),ps(qt.toISOString().split("T")[0])},className:"p-2 text-slate-400 hover:text-brand-accent hover:bg-slate-50 rounded transition-colors",title:"Edytuj czas dostpu",children:n.jsx(Ai,{size:16})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Postp w szkoleniu"}),n.jsxs("span",{className:"text-sm font-bold text-brand-primary",children:[ie.progress,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-100 h-3 rounded-full overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-accent h-3 rounded-full transition-all duration-300",style:{width:`${ie.progress}%`}})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-slate-100 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-heading font-black text-brand-primary",children:[ie.progress,"%"]}),n.jsx("p",{className:"text-xs text-slate-500 font-bold",children:"Ukoczone"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-heading font-black text-slate-600",children:ie.expirationDays>0?ie.expirationDays:0}),n.jsx("p",{className:"text-xs text-slate-500 font-bold",children:"Dni dostpu"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-heading font-black text-teal-600",children:[ss,"/",At]}),n.jsx("p",{className:"text-xs text-slate-500 font-bold",children:"Lekcji ukoczono"})]})]}),n.jsxs("details",{className:"group",children:[n.jsxs("summary",{className:"cursor-pointer list-none flex items-center justify-between py-2 px-3 bg-slate-50 hover:bg-slate-100 rounded transition-colors",children:[n.jsxs("span",{className:"font-bold text-sm text-brand-dark flex items-center gap-2",children:[n.jsx(Id,{size:16}),"Szczegowe postpy (",ss,"/",At," lekcji)"]}),n.jsx(Dt,{size:16,className:"text-slate-400 group-open:rotate-90 transition-transform"})]}),n.jsx("div",{className:"mt-3 space-y-3",children:Rt.map((Ye,qt)=>n.jsxs("div",{className:"border border-slate-200 rounded-sm overflow-hidden",children:[n.jsxs("div",{className:"bg-slate-50 px-4 py-2 font-bold text-sm text-brand-dark",children:["Modu ",qt+1,": ",Ye.title]}),n.jsx("div",{className:"p-3 space-y-2",children:Ye.lessons.map((zs,xs)=>{const Ie=ie.completedLessons.includes(zs.id);return n.jsxs("div",{className:"flex items-center gap-3 text-sm py-1",children:[n.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${Ie?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:Ie?"":""}),n.jsx("span",{className:`flex-grow ${Ie?"text-slate-700":"text-slate-400"}`,children:zs.title}),n.jsx("span",{className:"text-xs text-slate-400",children:zs.duration})]},zs.id)})})]},Ye.id))})]}),n.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-slate-100",children:n.jsxs("button",{onClick:()=>{console.log("Generowanie raportu dla:",{student:ie.id,course:ie.course}),alert(`Generowanie raportu PDF dla:
Kursant: ${_.name}
Szkolenie: ${dt.title}
Postp: ${ie.progress}%
W penej wersji zostanie wygenerowany i pobrany plik PDF`)},className:"flex-1 px-4 py-2 bg-brand-primary text-white font-bold text-sm rounded hover:bg-brand-dark transition-colors flex items-center justify-center gap-2",children:[n.jsx(yw,{size:16}),"Generuj raport PDF"]})})]})]})},`${ie.id}-${ie.course}`)})}),kt.filter(ie=>ie.id===k).length===0&&n.jsxs("div",{className:"text-center py-12 text-slate-500",children:[n.jsx(Id,{size:48,className:"mx-auto mb-3 text-slate-300"}),n.jsx("p",{children:"Brak przypisanych szkole"})]})]})]}),le&&(()=>{const ie=Ot.find(Rt=>Rt.id===le);if(!ie)return null;const dt=Pn.find(Rt=>Rt.id===ie.course);return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[n.jsxs("div",{className:"p-6 border-b border-slate-200",children:[n.jsx("h3",{className:"text-xl font-heading font-bold text-brand-dark",children:"Edytuj czas dostpu"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:dt==null?void 0:dt.title}),n.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Aktualnie: ",ie.expirationDays," dni"]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Wybierz sposb edycji:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-slate-50",style:{borderColor:Se==="add"?"#003d4d":"#e2e8f0"},children:[n.jsx("input",{type:"radio",name:"editMode",checked:Se==="add",onChange:()=>tt("add"),className:"w-4 h-4 rounded-full border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-slate-800",children:"Dodaj dni"}),n.jsx("div",{className:"text-xs text-slate-500",children:"Dodaj okrelon liczb dni do obecnego czasu dostpu"})]})]}),n.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-slate-50",style:{borderColor:Se==="set"?"#003d4d":"#e2e8f0"},children:[n.jsx("input",{type:"radio",name:"editMode",checked:Se==="set",onChange:()=>tt("set"),className:"w-4 h-4 rounded-full border-2 border-brand-accent accent-brand-accent focus:ring-brand-accent"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-slate-800",children:"Ustaw dat kocow"}),n.jsx("div",{className:"text-xs text-slate-500",children:"Wybierz konkretn dat, do ktrej kurs bdzie wany"})]})]})]})]}),Se==="add"?n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Liczba dni do dodania:"}),n.jsx("input",{type:"number",min:"1",max:"3650",value:mt,onChange:Rt=>Xe(parseInt(Rt.target.value)||0),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-brand-primary transition-colors",placeholder:"Wpisz liczb dni"}),n.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Nowy czas dostpu: ",ie.expirationDays+mt," dni"]})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Data wanoci (do koca dnia):"}),(()=>{const Rt=["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],At=new Date,[ss,Ye,qt]=st?st.split("-").map(Number):[At.getDate(),At.getMonth()+1,At.getFullYear()],zs=new Date(qt||At.getFullYear(),Ye||At.getMonth()+1,0).getDate(),xs=(Ie,je)=>{const Ue=st?new Date(st):At;let vt=Ue.getDate(),at=Ue.getMonth()+1,ns=Ue.getFullYear();Ie==="day"&&(vt=parseInt(je)),Ie==="month"&&(at=parseInt(je)),Ie==="year"&&(ns=parseInt(je));const Os=new Date(ns,at,0).getDate();vt>Os&&(vt=Os);const fn=`${ns}-${String(at).padStart(2,"0")}-${String(vt).padStart(2,"0")}`;ps(fn)};return n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dzie"}),n.jsx("select",{value:ss,onChange:Ie=>xs("day",Ie.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-brand-primary transition-colors bg-white",children:Array.from({length:zs},(Ie,je)=>je+1).map(Ie=>n.jsx("option",{value:Ie,children:Ie},Ie))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Miesic"}),n.jsx("select",{value:Ye,onChange:Ie=>xs("month",Ie.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-brand-primary transition-colors bg-white",children:Rt.map((Ie,je)=>n.jsx("option",{value:je+1,children:Ie},je+1))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Rok"}),n.jsx("select",{value:qt,onChange:Ie=>xs("year",Ie.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-brand-primary transition-colors bg-white",children:Array.from({length:11},(Ie,je)=>At.getFullYear()+je).map(Ie=>n.jsx("option",{value:Ie,children:Ie},Ie))})]})]})})(),st&&n.jsxs("p",{className:"text-xs text-slate-500 mt-3",children:["Kurs bdzie wany do koca dnia: ",new Date(st+"T23:59:59").toLocaleDateString("pl-PL",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-slate-200 flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>{he(null),Xe(30),tt("add")},className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-bold transition-colors",children:"Anuluj"}),n.jsx("button",{onClick:()=>{if(Se==="add")console.log("Dodaj dni:",{studentId:ie.id,courseId:ie.course,currentDays:ie.expirationDays,daysToAdd:mt,newTotal:ie.expirationDays+mt}),alert(`W penej wersji dodano by ${mt} dni. Nowy czas dostpu: ${ie.expirationDays+mt} dni.`);else{const Rt=new Date;Rt.setHours(0,0,0,0);const ss=new Date(st+"T23:59:59").getTime()-Rt.getTime(),Ye=Math.ceil(ss/(1e3*60*60*24));console.log("Ustaw dat:",{studentId:ie.id,courseId:ie.course,targetDate:st,calculatedDays:Ye}),alert(`W penej wersji ustawiono by dat wanoci do ${new Date(st+"T23:59:59").toLocaleDateString("pl-PL")} (${Ye} dni).`)}he(null),Xe(30),tt("add")},className:"px-6 py-2 bg-brand-primary text-white rounded-lg font-bold hover:bg-brand-secondary transition-colors",children:"Zapisz"})]})]})})})()]})})},Uh=()=>{const _=Oe??ts,[le,he]=O.useState("dashboard"),[Se,tt]=O.useState(null),mt=st=>{tt(st),he("course-preview")},Xe=st=>{var xs,Ie,je,Ue,vt;const ps=at=>(at||"").trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," "),Ot=((_==null?void 0:_.email)||"").trim().toLowerCase(),ie=Ot?ct.find(at=>at.email.trim().toLowerCase()===Ot):void 0,dt=((xs=kn.find(at=>at.courseId===st))==null?void 0:xs.lessons)||[],Rt=new Set((ie==null?void 0:ie.completedLessons)||[]),At=(Ie=dt.find(at=>!Rt.has(at.id)))==null?void 0:Ie.id,ss=(je=dt[0])==null?void 0:je.id,Ye=Gm.find(at=>at.courseId===st),qt=Ye!=null&&Ye.nextLesson?ps(Ye.nextLesson):"",zs=qt?((Ue=dt.find(at=>ps(at.title)===qt))==null?void 0:Ue.id)||((vt=dt.find(at=>ps(at.title).includes(qt)||qt.includes(ps(at.title))))==null?void 0:vt.id):void 0;o(st),zs?g(zs):At?g(At):ss&&g(ss),v(!1),e("LESSON_PLAYER")};return n.jsxs(IO,{activeSection:le,onSectionChange:he,userName:(_==null?void 0:_.name)||"Kursant",userRole:"Kursant",onLogoClick:()=>e("HOME"),onLogout:()=>{Kr(null),e("HOME")},children:[le==="dashboard"&&_&&n.jsx(qO,{studentUser:_,courses:ge,myCourses:Gm,onContinueLearning:()=>he("my-courses"),onGoToCatalog:()=>he("catalog"),onGoToCertifications:()=>he("certifications")}),le==="catalog"&&n.jsx(cu,{title:"Katalog szkole",subtitle:"Przegldaj szkolenia dostpne w systemie.",courses:ge,onPreviewCourse:mt}),le==="course-preview"&&n.jsx(du,{training:ge.find(st=>st.id===Se)||null,onBack:()=>he("catalog"),onStart:On}),le==="profile-view"&&(_==null?void 0:_.email)&&n.jsx(uu,{email:_.email,courses:ge,students:ct,overrides:ot,onBack:()=>he("dashboard"),onEdit:()=>he("profile-edit")}),le==="profile-edit"&&(_==null?void 0:_.email)&&n.jsx(hu,{email:_.email,students:ct,overrides:ot,onSaveOverrides:hn,hideCompanyField:!0,onBack:()=>he("profile-view")}),le==="my-courses"&&n.jsx(KO,{courses:ge,myCourses:Gm,onPreviewCourse:mt,onContinueCourse:Xe}),le==="certifications"&&n.jsx(ZO,{studentUser:_}),le==="exams"&&n.jsx(YO,{studentUser:_}),le==="settings"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Ustawienia"}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Ustawienia konta (do wdroenia)."})]})]})},Jr=w&&ge.find(_=>_.id===w)||null,Dc=ae&&ge.find(_=>_.id===ae)||null;return n.jsxs(n.Fragment,{children:[ql&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-sm shadow-lg p-8 w-full max-w-md",children:[n.jsx("h2",{className:"text-2xl font-heading font-bold text-brand-dark mb-6",children:"Zaloguj si"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:Fr,onChange:_=>Zr(_.target.value),placeholder:"admin@test.com",className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-primary"}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Dostpne konta testowe:"}),n.jsxs("ul",{className:"text-xs text-slate-500 space-y-1 mt-2",children:[n.jsx("li",{children:" admin@test.com / admin123"}),n.jsx("li",{children:" manager@test.com / manager123"}),n.jsx("li",{children:" student@test.com / student123"}),n.jsx("li",{children:" guardian@test.com / guardian123"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Haso"}),n.jsx("input",{type:"password",value:Yr,onChange:_=>Bi(_.target.value),onKeyPress:_=>_.key==="Enter"&&ua(),placeholder:"",className:"w-full px-4 py-2 border border-slate-300 rounded-sm focus:outline-none focus:border-brand-primary"})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>Gr(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-600 font-bold rounded-sm hover:bg-slate-50 transition-colors",children:"Anuluj"}),n.jsx("button",{onClick:ua,className:"flex-1 px-4 py-2 bg-brand-primary text-white font-bold rounded-sm hover:bg-brand-dark transition-colors",children:"Zaloguj"})]})]})]})}),t==="NEW_ADMIN_PANEL"?n.jsxs(ID,{activeSection:Y,onSectionChange:T,onLogoClick:()=>e("HOME"),userName:(Oe==null?void 0:Oe.name)||"Administrator",userRole:"Superadministrator",onLogout:ha,children:[Y==="dashboard"&&n.jsx(VD,{onNavigate:T}),Y==="courses"&&n.jsx(cu,{courses:ge,onCreateCourse:()=>Ya("admin"),onEditCourse:_=>{N(_),T("course-edit")},onPreviewCourse:Ja,onDeleteCourse:_=>{Wn(_)}}),Y==="course-preview"&&n.jsx(du,{training:ge.find(_=>_.id===M)||null,onBack:()=>T("courses"),onEdit:()=>{M&&(N(M),T("course-edit"))},onStart:On}),(Y==="course-edit"||Y==="course-create")&&n.jsx(KD,{course:Jr,onBack:()=>T("courses"),onSave:Pi,onPreview:Ja,intent:Y==="course-create"?"create":"edit"}),Y==="users"&&n.jsx(Cp,{students:ct,overrides:ot,hiddenEmails:Mt,onAddClick:()=>T("user-create"),onViewUser:_=>{L(_),T("user-view")},onEditUser:_=>{L(_),T("user-edit")},onDeleteUser:Ga}),Y==="user-create"&&n.jsx(Ep,{title:"Dodawanie uytkownika",subtitle:"Dodaj pojedyncz osob lub zaimportuj wiele osb z CSV.",courses:ge,students:ct,onBack:()=>T("users"),onCreateUser:Fa,onCreateUsersBulk:Dn}),Y==="user-view"&&K&&n.jsx(uu,{email:K,courses:ge,students:ct,overrides:ot,onBack:()=>T("users"),onEdit:()=>T("user-edit")}),Y==="user-edit"&&K&&n.jsx(hu,{email:K,students:ct,overrides:ot,onSaveOverrides:hn,onBack:()=>T("user-view")}),Y==="companies"&&n.jsx(sw,{overrides:$t,hiddenCompanies:Ge,onAddClick:()=>{de(null),T("company-create")},onViewCompany:_=>{de(_),T("company-view")},onEditCompany:_=>{de(_),T("company-edit")},onDeleteCompany:$l}),Y==="company-create"&&n.jsx(hw,{overrides:$t,userOverrides:ot,onCreate:Vl,onSaveUserOverrides:hn,onCancel:()=>T("companies"),onCreated:_=>{de(_),T("company-view")}}),Y==="company-view"&&X&&n.jsx(dw,{companyName:X,courses:ge,overrides:$t,userOverrides:ot,onBack:()=>T("companies"),onEdit:()=>T("company-edit")}),Y==="company-edit"&&X&&n.jsx(uw,{companyName:X,overrides:$t,userOverrides:ot,onSaveOverrides:Vl,onSaveUserOverrides:hn,onBack:()=>T("company-view")}),Y==="notifications"&&n.jsx(Tp,{}),Y==="finance"&&n.jsx(pO,{courses:ge,students:ct}),Y==="reports"&&n.jsx(zO,{courses:ge,students:ct}),Y==="settings"&&n.jsx(SO,{}),Y==="permissions"&&n.jsx(MO,{})]}):t==="NEW_MANAGER_PANEL"?n.jsxs(EO,{activeSection:ee,onSectionChange:J,onLogoClick:()=>e("HOME"),userName:(Oe==null?void 0:Oe.name)||"Meneder",userRole:"Meneder platformy",onLogout:ha,children:[ee==="dashboard"&&n.jsx(DO,{courses:ge,onNavigate:J}),ee==="courses"&&n.jsx(cu,{courses:ge,onCreateCourse:()=>Ya("manager"),onEditCourse:_=>{P(_),J("course-edit")},onPreviewCourse:fa,onDeleteCourse:_=>{Wn(_)}}),ee==="course-preview"&&n.jsx(du,{training:ge.find(_=>_.id===Z)||null,onBack:()=>J("courses"),onEdit:()=>{Z&&(P(Z),J("course-edit"))},onStart:On}),(ee==="course-edit"||ee==="course-create")&&n.jsx(OO,{course:Dc,onBack:()=>J("courses"),onSave:Pi,onDelete:Wn,onPreview:fa,intent:ee==="course-create"?"create":"edit"}),ee==="users"&&n.jsx(Cp,{students:ct,overrides:ot,hiddenEmails:Mt,onAddClick:()=>J("user-create"),onViewUser:_=>{ue(_),J("user-view")},onEditUser:_=>{ue(_),J("user-edit")},onDeleteUser:Ga}),ee==="user-create"&&n.jsx(Ep,{title:"Dodawanie uytkownika",subtitle:"Dodaj pojedyncz osob lub zaimportuj wiele osb z CSV.",courses:ge,students:ct,onBack:()=>J("users"),onCreateUser:Fa,onCreateUsersBulk:Dn}),ee==="user-view"&&ve&&n.jsx(uu,{email:ve,courses:ge,students:ct,overrides:ot,onBack:()=>J("users"),onEdit:()=>J("user-edit")}),ee==="user-edit"&&ve&&n.jsx(hu,{email:ve,students:ct,overrides:ot,onSaveOverrides:hn,onBack:()=>J("user-view")}),ee==="companies"&&n.jsx(sw,{overrides:$t,hiddenCompanies:Ge,onAddClick:()=>{Le(null),J("company-create")},onViewCompany:_=>{Le(_),J("company-view")},onEditCompany:_=>{Le(_),J("company-edit")},onDeleteCompany:$l}),ee==="company-create"&&n.jsx(hw,{overrides:$t,userOverrides:ot,onCreate:Vl,onSaveUserOverrides:hn,onCancel:()=>J("companies"),onCreated:_=>{Le(_),J("company-view")}}),ee==="company-view"&&De&&n.jsx(dw,{companyName:De,courses:ge,overrides:$t,userOverrides:ot,onBack:()=>J("companies"),onEdit:()=>J("company-edit")}),ee==="company-edit"&&De&&n.jsx(uw,{companyName:De,overrides:$t,userOverrides:ot,onSaveOverrides:Vl,onSaveUserOverrides:hn,onBack:()=>J("company-view")}),ee==="notifications"&&n.jsx(Tp,{}),ee==="finance"&&n.jsx(RO,{courses:ge,students:ct}),ee==="reports"&&n.jsx(LO,{courses:ge,students:ct}),ee==="settings"&&n.jsx(_O,{})]}):t==="NEW_GUARDIAN_PANEL"?n.jsxs(BO,{activeSection:xe,onSectionChange:be,onLogoClick:()=>e("HOME"),userName:(Oe==null?void 0:Oe.name)||"Opiekun firmy",userRole:Oe!=null&&Oe.company?`Opiekun: ${Oe.company}`:"Opiekun firmy",onLogout:ha,children:[xe==="dashboard"&&n.jsx(PO,{companyName:(Oe==null?void 0:Oe.company)||(Je==null?void 0:Je.company)||"Demo Sp. z o.o.",employeesCount:new Set(ct.filter(_=>(_.company||"Indywidualny")===((Oe==null?void 0:Oe.company)||(Je==null?void 0:Je.company)||"Demo Sp. z o.o.")).map(_=>_.email)).size,trainingsCount:ge.length}),xe==="courses"&&n.jsx(cu,{title:"Szkolenia",subtitle:"Katalog szkole dostpnych dla firmy (podgld).",courses:ge,onPreviewCourse:Gt}),xe==="course-preview"&&n.jsx(du,{training:ge.find(_=>_.id===Te)||null,onBack:()=>be("courses"),onStart:On}),xe==="employees"&&n.jsx(Cp,{title:"Pracownicy",subtitle:"Lista pracownikw firmy przypisanych do kursw.",addButtonLabel:"Dodaj pracownika",searchPlaceholder:"Szukaj pracownika...",countLabel:"PRACOWNIKW",forcedCompany:(Oe==null?void 0:Oe.company)||(Je==null?void 0:Je.company)||"Demo Sp. z o.o.",hideCompanyColumn:!0,students:ct,overrides:ot,hiddenEmails:Mt,onAddClick:()=>be("employee-create"),onViewUser:_=>{Ys(_),be("employee-view")},onEditUser:_=>{Ys(_),be("employee-edit")},onDeleteUser:Ga}),xe==="employee-create"&&n.jsx(Ep,{title:"Dodawanie pracownika",subtitle:"Dodaj pojedyncz osob lub zaimportuj wiele osb z CSV.",courses:ge,students:ct,forcedCompany:(Oe==null?void 0:Oe.company)||(Je==null?void 0:Je.company)||"Demo Sp. z o.o.",onBack:()=>be("employees"),onCreateUser:Fa,onCreateUsersBulk:Dn}),xe==="employee-view"&&He&&n.jsx(uu,{email:He,entityLabel:"pracownika",courses:ge,students:ct,overrides:ot,onBack:()=>be("employees"),onEdit:()=>be("employee-edit")}),xe==="employee-edit"&&He&&n.jsx(hu,{email:He,entityLabel:"pracownika",students:ct,overrides:ot,onSaveOverrides:hn,hideCompanyField:!0,forcedCompany:(Oe==null?void 0:Oe.company)||(Je==null?void 0:Je.company)||"Demo Sp. z o.o.",onBack:()=>be("employee-view")}),xe==="reports"&&n.jsx(UO,{courses:ge,students:ct,forcedCompany:(Oe==null?void 0:Oe.company)||(Je==null?void 0:Je.company)||"Demo Sp. z o.o."}),xe==="notifications"&&n.jsx(Tp,{}),xe==="settings"&&n.jsx(HO,{})]}):t==="NEW_STUDENT_PANEL"?n.jsx(Uh,{}):t==="LESSON_PLAYER"?n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx(HD,{variant:"sidebar",logo:n.jsx(ta,{onClick:()=>e(Za?"NEW_STUDENT_PANEL":"CATALOG")}),sections:[{label:"Moje szkolenia",onClick:()=>e(Za?"NEW_STUDENT_PANEL":"CATALOG")},...y&&w?[{label:"Powrt do edycji",onClick:()=>{localStorage.setItem("returnToEditCourseId",w),v(!1),N(null),e("NEW_ADMIN_PANEL")}}]:[],...Za?[{label:"Wyloguj",onClick:ha}]:[]],profileEmail:Oe==null?void 0:Oe.email}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-8",children:[n.jsx(Rn,{}),n.jsx(Nc,{})]})]}):n.jsx(LC,{currentView:t,setView:e,language:s,setLanguage:a,setCatalogCategory:m,onShowLoginModal:()=>Gr(!0),isLoggedIn:Za,userName:Oe==null?void 0:Oe.name,onLogout:ha,onShowNewPanel:Lh,children:n.jsxs(n.Fragment,{children:[t==="HOME"&&n.jsx(Bh,{}),t==="CATALOG"&&n.jsx(Ec,{}),t==="COURSE_DETAIL"&&n.jsx(Ph,{}),t==="RENTALS"&&n.jsx(Tc,{}),t==="MACHINE_DETAIL"&&n.jsx(Ui,{}),t==="SERVICES"&&n.jsx(Hi,{}),t==="CONTACT"&&n.jsx(Us,{}),t==="STUDENT_DETAIL"&&n.jsx(Ac,{})]})})]})},Nk=document.getElementById("root");if(!Nk)throw new Error("Could not find root element to mount to");const iR=Lz.createRoot(Nk);iR.render(n.jsx(O.StrictMode,{children:n.jsx(lR,{})}));
